<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Taro æ–‡æ¡£ Blog</title>
        <link>https://nervjs.github.io/taro-docs/blog</link>
        <description>Taro æ–‡æ¡£ Blog</description>
        <lastBuildDate>Tue, 26 Jul 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-cn</language>
        <item>
            <title><![CDATA[Taro v3.5 æ­£å¼å‘å¸ƒï¼šå¼€å‘ä½“éªŒæå‡]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2022/07/26/Taro-3.5</link>
            <guid>/2022/07/26/Taro-3.5</guid>
            <pubDate>Tue, 26 Jul 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Taro v3.5 æ­£å¼ç‰ˆæœ¬å‘å¸ƒ ğŸš€]]></description>
            <content:encoded><![CDATA[<p>è·ç¦» Taro 3.5 çš„ Beta ç‰ˆæœ¬å‘å¸ƒå·²æœ‰ä¸¤ä¸ªæœˆçš„æ—¶é—´ï¼ŒæœŸé—´æˆ‘ä»¬åœ¨ä¸æ–­åœ°å¯¹åŸºäº Webpack5 çš„ç¼–è¯‘ç³»ç»Ÿã€åŸºäº Next.js çš„ SSR ç­‰åŠŸèƒ½è¿›è¡Œæ‰“ç£¨çš„åŒæ—¶ï¼Œæ–°å¢äº†å¯¹ pnpm çš„æ”¯æŒç­‰æ–°åŠŸèƒ½ã€‚æ­¤å¤– Taro ç¤¾åŒºä¹Ÿæœ‰å¾ˆå¤šåŒå­¦å‚ä¸å…±å»ºï¼Œå¦‚ Taro åˆä½œè€… <a href="https://github.com/biorz" target="_blank" rel="noopener noreferrer">@biorz</a> ä¸º ReactNative ä¾§è´¡çŒ®äº†é‡è¦ç‰¹æ€§ï¼šæ”¯æŒæŠŠ Taro ç»„ä»¶ç¼–è¯‘ä¸º RN ç»„ä»¶ã€‚</p><p>æ—¥å‰ Taro v3.5 å·²æ­£å¼å‘å¸ƒï¼Œä¸‹æ–‡å°†ä»‹ç»å…³äº 3.5 çš„ä¸»è¦ç‰¹æ€§ä¸é‡è¦ä¿®å¤ï¼Œä»¥åŠåç»­çš„ç‰ˆæœ¬è§„åˆ’ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€ç¼–è¯‘æé€Ÿ">ä¸€ã€ç¼–è¯‘æé€Ÿ<a class="hash-link" href="#ä¸€ç¼–è¯‘æé€Ÿ" title="Direct link to heading">â€‹</a></h2><p>Taro v3.5 åŸºäº Webpack5 æ„å»ºäº†æ–°çš„ç¼–è¯‘ç³»ç»Ÿï¼Œåˆ©ç”¨æŒä¹…åŒ–ç¼“å­˜ã€ä¾èµ–é¢„ç¼–è¯‘ã€SWC ç­‰æ–¹æ³•ä¸å·¥å…·ï¼Œå¤§å¹…é™ä½äº†ç¼–è¯‘æ‰€éœ€è€—æ—¶ã€‚å¼€å‘è€…å¯ä»¥è‡ªç”±é€‰æ‹©åˆ‡æ¢ä½¿ç”¨ Webpack5 è¿›è¡Œç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥ç»§ç»­ä¿æŒä½¿ç”¨ Webpack4ï¼Œå¦å¤–åœ¨ v3.6 ä¸­ Taro è¿˜å°†æ”¯æŒä½¿ç”¨ Vite è¿›è¡Œç¼–è¯‘ã€‚</p><blockquote><p>ä¾èµ–é¢„ç¼–è¯‘å¯ä»¥é¢„å…ˆæŠŠé¡¹ç›®çš„ç¬¬ä¸‰æ–¹ä¾èµ–æ‰“åŒ…ä¸ºä¸€ä¸ªæ¨¡å—è”é‚¦ remote åº”ç”¨ï¼Œå†æ¬¡ç¼–è¯‘æ—¶ Webpack æ— éœ€å†å¯¹è¿™äº›ä¾èµ–è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œæå‡ç¼–è¯‘é€Ÿåº¦ã€‚å…³äº Webpack5 ç¼–è¯‘ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œè¯·æµè§ˆ ã€ŠTaro v3.5 beta ç¼–è¯‘æé€Ÿã€‹</p></blockquote><p>v3.5 Beta å‘å¸ƒåï¼Œæˆ‘ä»¬è¡¥å…¨äº† H5 ç«¯çš„ä¾èµ–é¢„ç¼–è¯‘åŠŸèƒ½ï¼Œå¹¶ä¸”æŠŠä¾èµ–é¢„ç¼–è¯‘ä½œä¸ºä¸€ä¸ªé€šç”¨èƒ½åŠ›æå–äº†å‡ºæ¥ã€‚å¯ä¾› Taro ä»¥å¤–çš„ä½¿ç”¨ Webpack5 çš„ H5 é¡¹ç›®ä½¿ç”¨ï¼Œé€šè¿‡ <code>@tarojs/webpack5-prebundle</code> è¿›è¡Œç¼–è¯‘æé€Ÿï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¯å‚è€ƒ<a href="/taro-docs/docs/next/prebundle#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8E%A5%E5%85%A5">ç›¸å…³æ–‡æ¡£</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æé€Ÿæ•ˆæœ">æé€Ÿæ•ˆæœ<a class="hash-link" href="#æé€Ÿæ•ˆæœ" title="Direct link to heading">â€‹</a></h3><p>ä»¥ <a href="https://github.com/jdf2e/nutui/tree/next/src/sites/mobile-taro/vue" target="_blank" rel="noopener noreferrer">NutUI ç»„ä»¶ç¤ºä¾‹åº“</a> ä¸ºä¾‹ï¼Œå°ç¨‹åºã€H5 ç«¯çš„ç¼–è¯‘é€Ÿåº¦æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><p><strong>å°ç¨‹åºï¼š</strong></p><p><img loading="lazy" src="https://storage.360buyimg.com/cjj-pub-images/mini-speed.jpeg" alt="GroupBar-20220725.jpeg" class="img_ROth"></p><p><strong>H5ï¼š</strong></p><p><img loading="lazy" src="https://storage.360buyimg.com/cjj-pub-images/web-speed.jpeg" alt="GroupBar-20220725 (1).jpeg" class="img_ROth"></p><p>ä½¿ç”¨æ–¹æ³•</p><p>ç®€å•ä¿®æ”¹ Taro çš„ç¼–è¯‘é…ç½®å³å¯åˆ‡æ¢ä½¿ç”¨ Webpack4 æˆ– Webpack5 è¿›è¡Œç¼–è¯‘ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** config/index.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// è‡ªå®šä¹‰ç¼–è¯‘å·¥å…·ï¼Œå¯é€‰ 'Webpack4' æˆ– 'Webpack5'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">compiler</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'webpack4'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'webpack5'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒrn">äºŒã€RN<a class="hash-link" href="#äºŒrn" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-react-native-068-ç‰ˆæœ¬æ”¯æŒ">1. React Native 0.68 ç‰ˆæœ¬æ”¯æŒ<a class="hash-link" href="#1-react-native-068-ç‰ˆæœ¬æ”¯æŒ" title="Direct link to heading">â€‹</a></h3><p><a href="https://reactnative.dev/blog/2022/03/30/version-068" target="_blank" rel="noopener noreferrer">React Native 0.68 ç‰ˆæœ¬å·²äº 2022-3-30 æ­£å¼å‘å¸ƒ</a>ã€‚0.68 æ˜¯é¦–ä¸ªå¯é€‰æ¥å…¥ New Architecture çš„ç‰ˆæœ¬ï¼Œæ–°æ¶æ„æœ‰æœ›ä¸º RN å¸¦æ¥æ€§èƒ½å’Œä½“éªŒä¸Šçš„é£è·ƒã€‚Taro é»˜è®¤é€‰æ‹©çš„ RN ç‰ˆæœ¬ï¼Œæ­£å¼åˆ‡æ¢åˆ°äº† 0.68ï¼Œå¼€å‘è€…é€šè¿‡ <code>taro init</code> é€‰æ‹© <code>react-native</code> æ¨¡æ¿å³å¯ã€‚</p><p>å¦å¤– 0.69 ç‰ˆæœ¬çš„é€‚é…ï¼Œä¹Ÿåœ¨è¿›å±•ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-rn-ç›¸å…³ä¾èµ–åº“ç”±-unimodules-å‡çº§è‡³-expo">2. RN <strong>ç›¸å…³ä¾èµ–åº“ç”± unimodules å‡çº§è‡³ expo</strong><a class="hash-link" href="#2-rn-ç›¸å…³ä¾èµ–åº“ç”±-unimodules-å‡çº§è‡³-expo" title="Direct link to heading">â€‹</a></h3><p>Expo æ˜¯ React Native ç”Ÿæ€ä¸­çš„é‡è¦è§’è‰²ï¼Œæä¾›äº†éå¸¸å¤šä¼˜ç§€çš„æ¨¡å—ï¼Œåœ¨ Taro ä¸­æœ‰è¾ƒä¸ºå¹¿æ³›çš„ä½¿ç”¨ï¼Œå¦‚ expo-avã€expo-camera ç­‰ï¼Œå°†æ¥æˆ‘ä»¬è¿˜ä¼šæŒç»­æ¥å…¥æ–°çš„æ¨¡å—ã€‚Expo çš„æ¨¡å—ç³»ç»Ÿï¼Œç”± unimodules å˜æ›´ä¸º expo å·²æœ‰ä¸€æ®µæ—¶æ—¥ï¼Œå…¶æ¶æ„å˜æ›´åŸå› å¯å‚è€ƒæ–‡ç« ï¼š&nbsp;<a href="https://blog.expo.dev/whats-new-in-expo-modules-infrastructure-7a7cdda81ebc" target="_blank" rel="noopener noreferrer">Whatâ€™s new in Expo modules infrastructure</a>ã€‚</p><p>Taro v3.5 åŠä»¥åå°†ä½¿ç”¨æ–°çš„æ¨¡å—ç³»ç»Ÿï¼Œåç»­å£³å·¥ç¨‹ä¸å†åŒ…å« unimodules ç‰ˆæœ¬ã€‚æ—§ç‰ˆæœ¬å‡çº§å¯å‚è€ƒæ­¤ <a href="https://github.com/NervJS/taro-native-shell/pull/72" target="_blank" rel="noopener noreferrer">PR</a>ï¼Œå‡çº§è¿‡ç¨‹è¾ƒä¸ºç¹çï¼Œå»ºè®®é‡æ–° init ä¸€ä¸ªä»“åº“ï¼Œå†å°†ä¸šåŠ¡æ”¹åŠ¨åŒæ­¥ã€‚å‡çº§ä¸º expo åï¼Œä¸å†æ”¯æŒ iOS 11ï¼Œè¯¦ç»†å†…å®¹è¯·å‚è€ƒ <a href="https://github.com/NervJS/taro/discussions/11565" target="_blank" rel="noopener noreferrer">discussions</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-æ”¯æŒæŠŠ-taro-ç»„ä»¶ç¼–è¯‘ä¸º-react-native-ç»„ä»¶">3. <strong>æ”¯æŒæŠŠ Taro ç»„ä»¶ç¼–è¯‘ä¸º React Native ç»„ä»¶</strong><a class="hash-link" href="#3-æ”¯æŒæŠŠ-taro-ç»„ä»¶ç¼–è¯‘ä¸º-react-native-ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>å¦‚æœæ‚¨æƒ³åœ¨ç°å­˜çš„ React Native é¡¹ç›®ä¸­(é Taro RN )ï¼Œå¤ç”¨æ‚¨çš„ Taro ç»„ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°åŠŸèƒ½æˆ–è®¸é€‚åˆæ‚¨ã€‚</p><p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘ç»„ä»¶ï¼Œç¼–è¯‘åçš„ç»„ä»¶äº§ç‰©å¯ä»¥ç›´æ¥åœ¨ React Native é¡¹ç›®ä¸­ä½¿ç”¨ã€‚ è¯¦ç»†å†…å®¹è¯·å‚è€ƒ  <a href="https://github.com/NervJS/taro/discussions/11860" target="_blank" rel="noopener noreferrer">discussions</a>ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">taro build native-components --type rn</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-ç¼–è¯‘æ‰“åŒ…æ–¹æ¡ˆä¼˜åŒ–">4. ç¼–è¯‘æ‰“åŒ…æ–¹æ¡ˆä¼˜åŒ–<a class="hash-link" href="#4-ç¼–è¯‘æ‰“åŒ…æ–¹æ¡ˆä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>Android çš„æ‰“åŒ…è¿‡ç¨‹ï¼Œä»è°ƒç”¨ gradlew æ”¹ä¸ºä½¿ç”¨&nbsp;<a href="https://docs.fastlane.tools/" target="_blank" rel="noopener noreferrer">fastlane</a>ï¼Œå°†æ‰“åŒ…è¿‡ç¨‹é…ç½®åŒ–ï¼Œå°½å¯èƒ½åœ°å‡å°‘å¯¹ RN åˆå§‹åŒ–ååŸç”Ÿä»£ç çš„å…¥ä¾µã€‚ç›¸å…³é…ç½®ä½äº&nbsp;<code>android/fastlane</code>ï¼Œç›®å‰ä»…åšäº†åŸºç¡€é…ç½®ï¼Œå¼€å‘è€…å¯è¿›ä¸€æ­¥è‡ªå®šä¹‰ã€‚</p><p>åˆšæ¥è§¦ Taro å¼€å‘ APP çš„å¼€å‘è€…ï¼Œç»å¸¸åœ¨å¼€å‘ç¯å¢ƒçš„é…ç½®ä¸Šï¼Œæ¶ˆè€—å¤§é‡æ—¶é—´ã€‚å†æ¬¡å»ºè®®å¤§å®¶å…ˆå­¦ä¹ åˆ©ç”¨ GitHub Action è¿›è¡Œæ‰“åŒ…ç¼–è¯‘ï¼Œç›¸å…³ä»£ç ä½äº <code>.github</code> ç›®å½•ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="5-è°ƒè¯•å·¥å…·-taro-playground-å‡çº§è‡³-taro-35-ç‰ˆæœ¬åŠ-react-native-068">5. è°ƒè¯•å·¥å…· Taro Playground å‡çº§è‡³ Taro 3.5 ç‰ˆæœ¬åŠ React Native 0.68<a class="hash-link" href="#5-è°ƒè¯•å·¥å…·-taro-playground-å‡çº§è‡³-taro-35-ç‰ˆæœ¬åŠ-react-native-068" title="Direct link to heading">â€‹</a></h3><p><a href="https://github.com/wuba/taro-playground" target="_blank" rel="noopener noreferrer">Taro Playground</a> ä½œä¸º Taro RN ç«¯çš„è°ƒè¯•å·¥å…·åŠè·¨ç«¯ Demoï¼Œè¿›è¡Œäº†åŒæ­¥æ›´æ–°ã€‚æ­¤æ¬¡æ›´æ–°æ— æ³•ä¿è¯å‘ä¸‹å…¼å®¹ï¼Œä½¿ç”¨æ—§ç‰ˆæœ¬ Taro çš„å¼€å‘è€…ï¼Œå¦‚éœ€è°ƒè¯• Androidï¼Œå¯åœ¨ <a href="https://github.com/wuba/taro-playground/releases" target="_blank" rel="noopener noreferrer">releases</a> ä¸­ä¸‹è½½æ—§åŒ…è¿›è¡Œè°ƒè¯•ã€‚åœ¨ App Store ä¸­ï¼Œæˆ‘ä»¬åªä¸Šæ¶æœ€æ–°ç‰ˆæœ¬ï¼Œéœ€è¦æ—§ç‰ˆæœ¬çš„å¼€å‘è€…è¯·ä¸è¦å¼€å¯åº”ç”¨è‡ªåŠ¨æ›´æ–°ã€‚å¦‚ä¸æ…å‡çº§ï¼Œéœ€è‡ªè¡Œæ‰“åŒ…ç¼–è¯‘ï¼Œæˆ–è”ç³»æˆ‘ä»¬åŠ å…¥æµ‹è¯•ç»„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="6-å£³å·¥ç¨‹ä»£ç æ•´ç†">6. å£³å·¥ç¨‹ä»£ç æ•´ç†<a class="hash-link" href="#6-å£³å·¥ç¨‹ä»£ç æ•´ç†" title="Direct link to heading">â€‹</a></h3><p>å¯¹äº 0.68 ç‰ˆæœ¬çš„<a href="https://github.com/NervJS/taro-native-shell/tree/0.68.0" target="_blank" rel="noopener noreferrer">å£³å·¥ç¨‹</a>ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä»£ç çš„é‡æ–°æ•´ç†ã€‚å°†åˆå§‹åŒ– RNã€å®‰è£… expoã€å…¼å®¹ Taroã€å®‰è£…ä¾èµ–ã€æ·»åŠ Github Actionï¼Œæ¯ä¸€ä¸ªæ­¥éª¤ä¸€ä¸€åˆ—å‡ºï¼Œæ–¹ä¾¿å¼€å‘è€…åœ¨å®šåˆ¶å£³å·¥ç¨‹æ—¶è¿›è¡Œå‚è€ƒã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰pnpm">ä¸‰ã€pnpm<a class="hash-link" href="#ä¸‰pnpm" title="Direct link to heading">â€‹</a></h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œpnpm åœ¨å½“ä¸‹è¢«èª‰ä¸ºâ€œæœ€å…ˆè¿›çš„åŒ…ç®¡ç†å·¥å…·â€ï¼Œå®ƒæ˜¯ç”± npm/yarn è¡ç”Ÿè€Œæ¥ï¼Œè§£å†³äº† npm/yarn å†…éƒ¨æ½œåœ¨çš„ bugï¼Œæå¤§çš„ä¼˜åŒ–äº†æ€§èƒ½ï¼Œæ‰©å±•äº†ä½¿ç”¨åœºæ™¯ã€‚åœ¨ç¤¾åŒºå†…å¾ˆé«˜çš„å‘¼å£°ä¸‹ï¼ŒTaro ä¹Ÿåœ¨æä¾›äº†è¿™ä¸€çƒ­é—¨çš„åŒ…ç®¡ç†å·¥å…·é€‰é¡¹ã€‚</p><p>åœ¨ Taro v3.5 ç‰ˆæœ¬ä»¥åï¼Œåœ¨è„šæ‰‹æ¶å†…ç½®åŒ…ç®¡ç†å·¥å…·ä¸å†è‡ªåŠ¨è¯†åˆ«æœ¬åœ°ç¯å¢ƒå†…å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ï¼Œè€Œæ˜¯éœ€è¦å¼€å‘è€…è‡ªè¡Œé€‰æ‹©éœ€è¦çš„åŒ…ç®¡ç†å·¥å…·ï¼Œä¾›å¼€å‘è€…æ›´æ–¹ä¾¿ä½¿ç”¨å’Œæ“ä½œã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">? è¯·é€‰æ‹©åŒ…ç®¡ç†å·¥å…· </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Use arrow keys</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â¯ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">pnpm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cnpm</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¦‚æœæ˜¯åœ¨è¾ƒæ—§çš„ Taro é¡¹ç›®ä¸­ï¼Œæƒ³ä½¿ç”¨ pnpm ç®¡ç†å·¥å…·ï¼Œç”±äº<strong>å¹½çµä¾èµ–</strong>çš„å­˜åœ¨ï¼Œå¼€å‘è€…éœ€è¦åœ¨é¡¹ç›®ä¸­æ‰‹åŠ¨å®‰è£…å¹¶å‡çº§ä¾èµ–æ¥ä¿®å¤è¯¥é—®é¢˜ï¼Œå…·ä½“æ“ä½œå¯å‚è€ƒæ–‡ä¸­<code>å‡çº§æŒ‡å—</code>ç¬¬ 5 é¡¹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››å…¶å®ƒç‰¹æ€§">å››ã€å…¶å®ƒç‰¹æ€§<a class="hash-link" href="#å››å…¶å®ƒç‰¹æ€§" title="Direct link to heading">â€‹</a></h2><p>é™¤äº†ä»¥ä¸Šæ–°ç‰¹æ€§å¤–ï¼Œv3.5 è¿˜åŒ…æ‹¬å¾ˆå¤šé‡è¦çš„æ›´æ–°ï¼š</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-é€‚é…-react-18">1. é€‚é… React 18<a class="hash-link" href="#1-é€‚é…-react-18" title="Direct link to heading">â€‹</a></h3><p>ä» Taro v3.5 å¼€å§‹ï¼ŒTaro å°†é»˜è®¤ä½¿ç”¨ React 18 ç‰ˆæœ¬ã€‚ä½ å¯ä»¥åœ¨ Taro ä½¿ç”¨ React18 ä¸­æ¿€åŠ¨äººå¿ƒçš„æ–°ç‰¹æ€§äº†ã€‚ä»æ–°å»ºé¡¹ç›®å¼€å§‹æ¢ç´¢å§ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># @tarojs/cli å‡çº§åˆ° v3.5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro init myProject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># é€‰æ‹©ã€Œreactã€æ¡†æ¶</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå—å°ç¨‹åºç¯å¢ƒé™åˆ¶ï¼Œè¯¸å¦‚æ–° Suspense ç‰¹æ€§å°†ä¸èƒ½åœ¨å°ç¨‹åºä¸­ä½¿ç”¨ï¼Œè¯¦æƒ…è¯·<a href="/taro-docs/docs/react-18">æµè§ˆæ–‡æ¡£</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-h5-æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“">2. H5 æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“<a class="hash-link" href="#2-h5-æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“" title="Direct link to heading">â€‹</a></h3><p>é€šè¿‡ <a href="https://github.com/SyMind/tarojs-plugin-platform-nextjs" target="_blank" rel="noopener noreferrer">tarojs-plugin-platform-nextjs</a> æ’ä»¶é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å°† Taro å’Œ nextjs ç¤¾åŒºç”Ÿæ€æ‰“é€šï¼Œè®© Taro H5 æ”¯æŒ Pre-renderingï¼ˆé¢„æ¸²æŸ“ï¼‰ã€SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰å’Œ ISRï¼ˆå¢é‡é™æ€ç”Ÿæˆï¼‰å„ç§ç‰¹æ€§ï¼Œæå‡é¡µé¢é¦–å±æ¸²æŸ“é€Ÿåº¦ğŸš€ï¼Œä¹Ÿåˆ©äº SEO ä¼˜åŒ–ğŸ”ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** config/index.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'tarojs-plugin-platform-nextjs'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ’ä»¶æ¥è‡ªç¤¾åŒºå¤§ä½¬ <a href="https://github.com/SyMind" target="_blank" rel="noopener noreferrer">@SyMind</a> è´¡çŒ®ï¼Œè¯¦ç»†ç”¨æ³•å¯ä»¥å‚è€ƒ<a href="https://github.com/SyMind/tarojs-plugin-platform-nextjs" target="_blank" rel="noopener noreferrer">æ’ä»¶æ–‡æ¡£</a>ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> tarojs-plugin-platform-nextjs next</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ Taro é¡¹ç›®çš„&nbsp;<code>config/index.js</code> ä¸­æ·»åŠ æ’ä»¶ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">'tarojs-plugin-platform-nextjs'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¯åŠ¨é¡¹ç›®ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">npx taro build --type nextjs --watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-h5-æ”¯æŒå¤šé¡µåº”ç”¨æ¨¡å¼">3. H5 æ”¯æŒå¤šé¡µåº”ç”¨æ¨¡å¼<a class="hash-link" href="#3-h5-æ”¯æŒå¤šé¡µåº”ç”¨æ¨¡å¼" title="Direct link to heading">â€‹</a></h3><p>H5 ç«¯çš„å¤šé¡µåº”ç”¨æ¨¡å¼æ˜¯ç¤¾åŒºå‘¼å£°æœ€é«˜çš„è‹¥å¹²ç‰¹æ€§ä¹‹ä¸€ï¼Œåœ¨æ–°ç‰ˆæœ¬ä¸­å°†å¾—åˆ°æ”¯æŒï¼Œè¯¦ç»†ç”¨æ³•åŠæ³¨æ„äº‹é¡¹è¯·<a href="/taro-docs/docs/next/config-detail#h5routermode">å‚è€ƒæ–‡æ¡£</a>ã€‚</p><p>é…ç½®å¼€å¯å¤šé¡µåº”ç”¨æ¨¡å¼ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** config/index.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">h5</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">router</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">mode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'multi'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-è¡¥å…¨å¯¹å°ç¨‹åºç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„æ”¯æŒ">4. è¡¥å…¨å¯¹å°ç¨‹åºç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„æ”¯æŒ<a class="hash-link" href="#4-è¡¥å…¨å¯¹å°ç¨‹åºç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„æ”¯æŒ" title="Direct link to heading">â€‹</a></h3><p>è¿‡å» Taro å¯¹äºå°ç¨‹åºå¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ”¯æŒå¾—ä¸å¤Ÿå®Œæ•´ï¼Œæ–°ç‰ˆæœ¬ä¸­å°†è¡¥å…¨å¯¹åº”çš„æ–¹æ³•ä¸é’©å­ã€‚</p><p><strong>æ–°å¢ App ç”Ÿå‘½å‘¨æœŸï¼š</strong></p><ul><li>onErrorï¼ˆReact &amp; Vue3ï¼‰</li></ul><p><strong>æ–°å¢é’©å­ï¼š</strong></p><ul><li>useLaunchï¼ˆReactï¼‰</li><li>useErrorï¼ˆReactï¼‰</li><li>usePageNotFoundï¼ˆReactï¼‰</li><li>useLoadï¼ˆReact &amp; Vue3ï¼‰</li><li>useUnloadï¼ˆReact &amp; Vue3ï¼‰</li><li>useSaveExitStateï¼ˆReact &amp; Vue3ï¼‰</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="5-å°ç¨‹åºå†…éƒ¨å®ç°ä¼˜åŒ–">5. å°ç¨‹åºå†…éƒ¨å®ç°ä¼˜åŒ–<a class="hash-link" href="#5-å°ç¨‹åºå†…éƒ¨å®ç°ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>å¯¹å°ç¨‹åºçš„å†…éƒ¨å®ç°è¿›è¡Œä¼˜åŒ–ï¼Œå‡å°‘çº¦ 50k åŒ…ä½“ç§¯ï¼ŒåŒæ—¶é™ä½å†…å­˜å ç”¨ï¼Œå‡å°‘ setData å‘é€çš„æ•°æ®é‡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äº”å‡çº§æŒ‡å—">äº”ã€å‡çº§æŒ‡å—<a class="hash-link" href="#äº”å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-å‡çº§-taro-cli">1. å‡çº§ Taro CLI<a class="hash-link" href="#1-å‡çº§-taro-cli" title="Direct link to heading">â€‹</a></h3><p>å‡çº§å…¨å±€çš„ Taro CLIï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æˆ–å‡çº§æœ¬åœ°çš„ Taro CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ›´æ–°é¡¹ç›®ä¾èµ–">2. æ›´æ–°é¡¹ç›®ä¾èµ–<a class="hash-link" href="#2-æ›´æ–°é¡¹ç›®ä¾èµ–" title="Direct link to heading">â€‹</a></h3><blockquote><p>å¦‚æœä¾èµ–å®‰è£…å¤±è´¥æˆ–å®‰è£…æˆåŠŸå´è¿è¡ŒæŠ¥é”™ï¼Œå¯ä»¥å°è¯•åˆ é™¤ node_modulesã€yarn.lockã€package-lock.jsonã€pnpm-lock.yaml åé‡æ–°å®‰è£…ä¾èµ–ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="21-æ›´æ–°é¡¹ç›®å†…çš„-taro-ç›¸å…³ä¾èµ–">2.1 æ›´æ–°é¡¹ç›®å†…çš„ Taro ç›¸å…³ä¾èµ–<a class="hash-link" href="#21-æ›´æ–°é¡¹ç›®å†…çš„-taro-ç›¸å…³ä¾èµ–" title="Direct link to heading">â€‹</a></h3><p>æŠŠ <code>package.json</code> ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>3.5.0</code> åé‡æ–°å®‰è£…ä¾èµ–ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="22-ä½¿ç”¨-react-çš„é¡¹ç›®">2.2 ä½¿ç”¨ React çš„é¡¹ç›®<a class="hash-link" href="#22-ä½¿ç”¨-react-çš„é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><ul><li>*ã€Breakingã€‘**ä½¿ç”¨ React çš„é¡¹ç›®éœ€è¦é¢å¤–å®‰è£… <code>@pmmmwh/react-refresh-webpack-plugin</code> å’Œ <code>react-refresh</code>ï¼š</li></ul><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @pmmmwh/react-refresh-webpack-plugin react-refresh --save-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="23-ä½¿ç”¨-preact-çš„é¡¹ç›®">2.3 ä½¿ç”¨ PReact çš„é¡¹ç›®<a class="hash-link" href="#23-ä½¿ç”¨-preact-çš„é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><ul><li>*ã€Breakingã€‘**ä½¿ç”¨ PReact çš„é¡¹ç›®éœ€è¦é¢å¤–å®‰è£… <code>@prefresh/webpack</code> å’Œ <code>@prefresh/babel-plugin</code>ï¼š</li></ul><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @prefresh/webpack @prefresh/babel-plugin --save-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="24-ä½¿ç”¨-vue2-çš„é¡¹ç›®">2.4 ä½¿ç”¨ Vue2 çš„é¡¹ç›®<a class="hash-link" href="#24-ä½¿ç”¨-vue2-çš„é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><ul><li>*ã€Breakingã€‘**ä½¿ç”¨ Vue2 çš„é¡¹ç›®éœ€è¦é¢å¤–å®‰è£… <code>@vue/babel-preset-jsx</code>ï¼š</li></ul><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @vue/babel-preset-jsx --save-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="25-ä½¿ç”¨-vue3çš„é¡¹ç›®">2.5 ä½¿ç”¨ Vue3çš„é¡¹ç›®<a class="hash-link" href="#25-ä½¿ç”¨-vue3çš„é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><ul><li>*ã€Breakingã€‘**ä½¿ç”¨ Vue3 çš„é¡¹ç›®éœ€è¦é¢å¤–å®‰è£… <code>@vue/babel-plugin-jsx</code>ï¼š</li></ul><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @vue/babel-plugin-jsx --save-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-ä½¿ç”¨-webpack5">3. ä½¿ç”¨ Webpack5<a class="hash-link" href="#3-ä½¿ç”¨-webpack5" title="Direct link to heading">â€‹</a></h3><p>å¼€å‘è€…éœ€è¦å…ˆå¸è½½ <code>@tarojs/mini-runner</code> å’Œ <code>@tarojs/webpack-runner</code>ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> uninstall @tarojs/mini-runner @tarojs/webpack-runner</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åå®‰è£… <code>@tarojs/webpack5-runner</code>ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @tarojs/webpack5-runner</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æœ€åä¿®æ”¹ Taro ç¼–è¯‘é…ç½®å³å¯ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** config/index.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">compiler</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'webpack5'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-ä½¿ç”¨-react-18">4. ä½¿ç”¨ React 18<a class="hash-link" href="#4-ä½¿ç”¨-react-18" title="Direct link to heading">â€‹</a></h3><p>éœ€è¦æ›´æ–° <code>react</code>ã€<code>react-dom</code>ã€<code>@types/react</code> çš„ç‰ˆæœ¬ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i react react-dom</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @types/react --save-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="5-ä½¿ç”¨-pnpm">5. ä½¿ç”¨ pnpm<a class="hash-link" href="#5-ä½¿ç”¨-pnpm" title="Direct link to heading">â€‹</a></h3><p>å› ä¸º pnpm ä¸å…è®¸<strong>å¹½çµä¾èµ–</strong>çš„å­˜åœ¨ï¼Œå› æ­¤å¼€å‘è€…éœ€è¦åœ¨é¡¹ç›®ä¸­æ‰‹åŠ¨å®‰è£…ä¸‹åˆ—ä¾èµ–ï¼š</p><p><code>dependencies</code> è¡¥å……ä¾èµ–ï¼š</p><div class="codeBlockContainer_H5s7 language-json theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">"@tarojs/helper"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/plugin-platform-weapp"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/plugin-platform-alipay"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/plugin-platform-tt"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/plugin-platform-swan"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/plugin-platform-jd"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/plugin-platform-qq"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/router"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/shared"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">"@tarojs/taro-h5"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.5.0"</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>devDependencies</code> è¡¥å……ä¾èµ–ï¼š</p><p>å®‰è£…é¡¹ç›®å¯¹åº”çš„ Webpack ç‰ˆæœ¬ï¼Œå¦‚ Webpack5ï¼š</p><div class="codeBlockContainer_H5s7 language-json theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-json codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">"webpack"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"^5.73.0"</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…­æœ€å">å…­ã€æœ€å<a class="hash-link" href="#å…­æœ€å" title="Direct link to heading">â€‹</a></h2><p>ä¸‹åŠå¹´ Taro å›¢é˜Ÿçš„æ ¸å¿ƒå°†å›´ç»•ä»¥ä¸‹å„æ–¹å‘å±•å¼€ï¼š</p><ul><li>æ”¯æŒä½¿ç”¨ Vite è¿›è¡Œç¼–è¯‘ï¼ˆé¢„è®¡ Q3 æ¨å‡º alpha ç‰ˆæœ¬ï¼‰</li><li>å°ç¨‹åºæ–¹é¢å°†æŒç»­å¯¹æ€§èƒ½è¿›è¡Œä¼˜åŒ–ã€æ”¯æŒæ›´å¤šçš„ React/Vue ç‰¹æ€§ï¼ˆå¦‚ Portalï¼‰å’Œç”Ÿæ€åº“ï¼ˆå¦‚ React/Vue Routerï¼‰ã€‚</li><li>H5 æ–¹é¢å°†è¾“å‡ºé€‚é… Vue3 çš„ SSR æ–¹æ¡ˆã€‚</li><li>RN æ–¹é¢å°†æ·±å…¥æ¢ç´¢é«˜é˜¶åŠŸèƒ½ï¼Œå¦‚åœ°å›¾ã€åŠ¨ç”»ã€2DåŠ3Då›¾å½¢æ–¹æ¡ˆï¼Œå¹¶æ¨å‡ºè·¨ç«¯å¯è§†åŒ–åº“ï¼Œæå‡ Taro è·¨ç«¯èƒ½åŠ›ã€‚</li><li>æ­¤å¤–è¿˜ä¼šæ¢ç´¢å¯¹äº Flutter çš„é€‚é…ã€‚</li></ul><p>æœ€åçš„æœ€åï¼Œè¡·å¿ƒæ„Ÿè°¢å‚ä¸ç¤¾åŒºå…±å»ºä¸äº¤æµçš„å„ä½åŒå­¦ï¼ä¸ŠåŠå¹´æˆ‘ä»¬åˆ¶å®šäº†å¼€å‘è€…è´¡çŒ®åˆ¶åº¦ï¼Œå»ºç«‹èµ·è§„èŒƒçš„é¡¹ç›®åˆ†å·¥ä¸æœ‰æ•ˆçš„è£èª‰æ¿€åŠ±æœºåˆ¶ã€‚æœªæ¥ Taro å°†ç§¯ææ¢å¯»æ›´ä¸­ç«‹ä¸å¼€æ”¾çš„å¼€æºæ²»ç†æœºåˆ¶ï¼Œæ¬¢è¿å„ä½å¼€å‘è€…å‚ä¸åˆ° Taro ç¤¾åŒºçš„å»ºè®¾ä¸­~</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro v3.5 beta ç¼–è¯‘æé€Ÿï¼Œæ”¯æŒ Webpack5ã€React 18...]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2022/05/19/Taro-3.5-beta</link>
            <guid>/2022/05/19/Taro-3.5-beta</guid>
            <pubDate>Thu, 19 May 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Taro v3.5 beta ç‰ˆæœ¬å‘å¸ƒ ğŸš€]]></description>
            <content:encoded><![CDATA[<p>ç¼–è¯‘é€Ÿåº¦ä¸€ç›´æ˜¯å›°æ‰°å¼€å‘è€…çš„å¤´ç­‰é—®é¢˜ï¼Œç°é˜¶æ®µå¤§å‹ Taro é¡¹ç›®å³ä½¿åœ¨å¢åŠ äº† <code>cache-loader</code>ã€<code>thread-loader</code> ç­‰ä¼˜åŒ–æ‰‹æ®µåï¼Œç¼–è¯‘è€—æ—¶ä»é«˜å±…ä¸ä¸‹ã€‚å› æ­¤åœ¨ v3.5 ç‰ˆæœ¬ä¸­ Taro é‡ç‚¹å¯¹ç¼–è¯‘ç³»ç»Ÿè¿›è¡Œäº†é‡æ„ï¼Œå¼•å…¥å¯¹ Webpack5 çš„æ”¯æŒï¼Œæ”¹å–„å°ç¨‹åº &amp; H5 ç¼–è¯‘æ—¶çš„æ€§èƒ½ä¸ä½“éªŒã€‚ï¼ˆé™¤æ­¤ä¹‹å¤–ï¼ŒTaro ä¹Ÿæ­£åœ¨è½åœ°å¯¹äº Vite çš„æ”¯æŒï¼Œå±Šæ—¶å¼€å‘è€…å°†å¯ä»¥è‡ªç”±åœ°é€‰æ‹©ç¼–è¯‘å·¥å…·ã€‚ï¼‰</p><p>åŒæ—¶ï¼ŒTaro v3.5 è¿˜å¸¦æ¥äº†å…¼å®¹ React 18ã€H5 MPA ç­‰æ–°ç‰¹æ€§ï¼Œæ¬¢è¿å„ä½åŒå­¦å‡çº§è¯•ç”¨~</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€ç¼–è¯‘æé€Ÿ">ä¸€ã€ç¼–è¯‘æé€Ÿ<a class="hash-link" href="#ä¸€ç¼–è¯‘æé€Ÿ" title="Direct link to heading">â€‹</a></h2><p>ä¸ºäº†æ”¹å–„ç¼–è¯‘æ€§èƒ½ï¼ŒTaro ä¸»è¦åšäº†ä»¥ä¸‹äº‹æƒ…ï¼š</p><ul><li>æ”¯æŒ Webpack5</li><li>åŸºäºæ¨¡å—è”é‚¦çš„ä¾èµ–é¢„ç¼–è¯‘</li><li>æ”¯æŒä½¿ç”¨ <code>esbuild</code> å‹ç¼© JSï¼Œä½¿ç”¨ <code>esbuild</code> æˆ– <code>@parcel/css</code> å‹ç¼© CSS</li><li>ä½¿ç”¨ <code>@swc/register</code> ä»£æ›¿ <code>@babel/register</code></li></ul><p>æ¥ä¸‹æ¥å°†ç®€å•èŠèŠ Webpack5 ä¸ä¾èµ–é¢„ç¼–è¯‘ï¼Œå…³äºç¼–è¯‘æé€Ÿçš„å®Œæ•´å®ç°ç»†èŠ‚è¯·å‚é˜… <a href="https://github.com/NervJS/taro/discussions/11533" target="_blank" rel="noopener noreferrer">RFC æ–‡æ¡£</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-webpack5">1. Webpack5<a class="hash-link" href="#1-webpack5" title="Direct link to heading">â€‹</a></h3><p>Webpack5 å‘å¸ƒå·²æœ‰ä¸¤å¹´æ—¶é—´ï¼ŒåŠŸèƒ½è¶³å¤Ÿç¨³å®šï¼ŒåŒæ—¶å…¶æŒä¹…åŒ–ç¼“å­˜ã€æ¨¡å—è”é‚¦ã€æ›´ä¼˜çš„ Tree Shaking ç­‰ç‰¹æ€§éƒ½ä¸ºé¡¹ç›®çš„ç¼–è¯‘æµç¨‹æä¾›äº†æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>å…¶ä¸­çš„<strong>æŒä¹…åŒ–ç¼“å­˜åŠŸèƒ½</strong>æ˜¯æœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œèƒ½æå¤§æå‡å†æ¬¡ç¼–è¯‘æ—¶çš„é€Ÿåº¦ã€‚ä½†åŒæ—¶ä¹Ÿå¼•å…¥äº†å¦‚ä½•ä½¿ç¼“å­˜å¤±æ•ˆçš„é—®é¢˜ã€‚</p><p>Taro éµå¾ª Webpack <strong>â€œç¼–è¯‘å®‰å…¨æ¯”ç¼–è¯‘é€Ÿåº¦é‡è¦â€</strong> çš„ç†å¿µï¼Œé»˜è®¤ä¸å¼€å¯æŒä¹…åŒ–ç¼“å­˜ã€‚å½“å¼€å‘è€…è®¾è®¡å¥½ç¼“å­˜ç­–ç•¥åï¼Œå¼ºçƒˆå»ºè®®å¼€å¯æŒä¹…åŒ–ç¼“å­˜ã€‚è¯¦ç»†é…ç½®è¯·å‚è€ƒ <a href="/taro-docs/docs/next/config-detail#cache">mini.cache</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-ä¾èµ–é¢„ç¼–è¯‘">2. ä¾èµ–é¢„ç¼–è¯‘<a class="hash-link" href="#2-ä¾èµ–é¢„ç¼–è¯‘" title="Direct link to heading">â€‹</a></h3><p>Webpack5 å¦ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§è¦æ•°<strong>æ¨¡å—è”é‚¦ï¼ˆModule Federationï¼‰</strong>ã€‚å— <a href="https://umijs.org/zh-CN/docs/mfsu" target="_blank" rel="noopener noreferrer">UmiJS mfsu</a> ç‰¹æ€§çš„å¯å‘ï¼Œå¯ä»¥é¢„å…ˆæŠŠé¡¹ç›®çš„ node_modules ä¾èµ–æ‰“åŒ…ä¸ºä¸€ä¸ªæ¨¡å—è”é‚¦ remote åº”ç”¨ï¼Œå†æ¬¡ç¼–è¯‘æ—¶ Webpack åˆ™æ— éœ€å†å¯¹ä¾èµ–è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œæå‡ç¼–è¯‘é€Ÿåº¦ã€‚</p><p>ä¾èµ–é¢„ç¼–è¯‘å¯ä»¥åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ol><li>æ”¶é›†ä¾èµ–</li><li>æ‰“åŒ…ä¾èµ–</li><li>æ‰“åŒ… Module Federation Remote åº”ç”¨</li></ol><p>Taro å‚è€ƒ <a href="https://cn.vitejs.dev/" target="_blank" rel="noopener noreferrer">Vite</a> ä½¿ç”¨äº† esbuild æ”¶é›†ç”¨æˆ·ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œå¹¶åˆ†åˆ«è¿›è¡Œæ‰“åŒ…ã€‚æ‰“åŒ…åçš„æ¨¡å—ä¼šä½œä¸º Webpack çš„ entryï¼Œæœ€ç»ˆæ‰“åŒ…ä¸ºæ¨¡å—è”é‚¦ Remote åº”ç”¨ï¼Œä¾›ä¸»åº”ç”¨ï¼ˆHostï¼‰æ¶ˆè´¹ã€‚å®ç°ç»†èŠ‚è¯·å‚è€ƒ <a href="https://github.com/NervJS/taro/discussions/11533" target="_blank" rel="noopener noreferrer">RFC æ–‡æ¡£</a>ã€‚</p><p>Taro ä¼šåœ¨å°ç¨‹åºç¯å¢ƒçš„ dev æ¨¡å¼ä¸‹é»˜è®¤å¼€å¯ä¾èµ–é¢„ç¼–è¯‘åŠŸèƒ½ã€‚é¦–æ¬¡ç¼–è¯‘æ—¶ï¼Œå› ä¸ºä½¿ç”¨äº† esbuild æ‰“åŒ…ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæ‰€ä»¥ä¼šæ¯”æ™®é€šç¼–è¯‘ç¨å¿«ã€‚äºŒæ¬¡ç¼–è¯‘æ—¶ï¼ŒTaro èƒ½ç›´æ¥å¤ç”¨ Remote Appï¼ŒWebpack åªéœ€ç¼–è¯‘ä¸šåŠ¡ä»£ç ï¼Œå› æ­¤æ ¹æ®ä¸åŒé¡¹ç›®ä¼šæœ‰ä¸åŒçš„ç¼–è¯‘æé€Ÿæ•ˆæœã€‚</p><p>ä¾èµ–é¢„ç¼–è¯‘çš„æµç¨‹å›¾ï¼š</p><p><img loading="lazy" src="https://storage.360buyimg.com/cjj-pub-images/prebundle.png" alt="https://storage.360buyimg.com/cjj-pub-images/prebundle.png" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-æé€Ÿæ•ˆæœ">3. æé€Ÿæ•ˆæœ<a class="hash-link" href="#3-æé€Ÿæ•ˆæœ" title="Direct link to heading">â€‹</a></h3><p>ä»¥ <a href="https://github.com/jdf2e/nutui/tree/next/src/sites/mobile-taro/vue" target="_blank" rel="noopener noreferrer">NutUI ç»„ä»¶ç¤ºä¾‹åº“</a>ä¸ºä¾‹ï¼Œåˆ†åˆ«æµ‹è¯• dev ä¸ prod ç¯å¢ƒä¸‹ç¼–è¯‘å¾®ä¿¡å°ç¨‹åºçš„ç¼–è¯‘æé€Ÿæ•ˆæœï¼š</p><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/compile-speed_dev.png" alt="https://storage.jd.com/cjj-pub-images/compile-speed_dev.png" class="img_ROth"></p><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/compile-speed_prod.png" alt="https://storage.jd.com/cjj-pub-images/compile-speed_prod.png" class="img_ROth"></p><p>å¯ä»¥çœ‹å‡ºï¼š</p><ol><li>åœ¨ dev ç¯å¢ƒä¸‹å› ä¸º Taro é»˜è®¤å¼€å¯äº†ä¾èµ–é¢„ç¼–è¯‘ï¼Œå› æ­¤ Webpack5 é¦–æ¬¡ç¼–è¯‘é€Ÿåº¦æ¯” Webpack4 ç¨å¿«ã€‚è€Œ prod ç¯å¢ƒæ²¡æœ‰é»˜è®¤å¼€å¯ä¾èµ–é¢„ç¼–è¯‘ï¼Œå› æ­¤ä¸¤è€…é€Ÿåº¦ç›¸å½“ï¼ˆè€Œä¸” Webpack5 éœ€è¦å†™å…¥ç¼“å­˜ï¼Œå¯èƒ½ä¼šæ¯” Webpack4 ç¨æ…¢ï¼‰ã€‚</li><li>æ— è®ºæ˜¯ dev è¿˜æ˜¯ prod ç¯å¢ƒï¼Œåœ¨å®Œå…¨å‘½ä¸­ç¼“å­˜çš„æœ€ä¼˜æƒ…å†µä¸‹ï¼ŒWebpack5 çš„ç¼–è¯‘é€Ÿåº¦éƒ½èƒ½å¾—åˆ°æå¤§æå‡ã€‚å³ä½¿æ˜¯ä¿®æ”¹æºç å¯¼è‡´äº†éƒ¨åˆ†ç¼“å­˜å¤±æ•ˆæ—¶ï¼Œç¼–è¯‘é€Ÿåº¦ä»ç„¶æ¯”é¦–æ¬¡ç¼–è¯‘å¿«å¾—å¤šã€‚</li></ol><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-ä½¿ç”¨">4. ä½¿ç”¨<a class="hash-link" href="#4-ä½¿ç”¨" title="Direct link to heading">â€‹</a></h3><blockquote><p>æ—§é¡¹ç›®å‡çº§åéœ€è¦å®‰è£… Webpack5 çš„ç›¸å…³ä¾èµ–æ‰èƒ½æ­£å¸¸ç¼–è¯‘ï¼Œè¯¦æƒ…è¯·å‚è€ƒä¸‹æ–‡çš„ã€å‡çº§æŒ‡å—ã€‘éƒ¨åˆ†ã€‚</p></blockquote><p>ç®€å•ä¿®æ”¹ Taro çš„ç¼–è¯‘é…ç½®å³å¯å¼€å¯ Webpack5ã€æŒä¹…åŒ–ç¼“å­˜ã€ä¾èµ–é¢„ç¼–è¯‘ç­‰åŠŸèƒ½ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** config/index.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è‡ªå®šä¹‰ç¼–è¯‘å·¥å…·ï¼Œå¯é€‰ 'Webpack4' æˆ– 'Webpack5' </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">compiler</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'webpack5'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ä¾èµ–é¢„ç¼–è¯‘é…ç½®     </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">prebundle</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">enable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æŒä¹…åŒ–ç¼“å­˜é…ç½®  </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">cache</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">enable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒå…¼å®¹-react18">äºŒã€å…¼å®¹ React18<a class="hash-link" href="#äºŒå…¼å®¹-react18" title="Direct link to heading">â€‹</a></h2><p>React å®˜æ–¹æ­£å¼å‘å¸ƒäº† react v18ç‰ˆæœ¬ï¼Œå¸¦æ¥äº† Automatic Batchingã€Transitions å’Œ Concurrent ç­‰è¯¸å¤šæ–°ç‰¹æ€§ï¼Œæå‡äº†Reactæ€§èƒ½ã€‚Taro ä¹Ÿåœ¨ç¬¬ä¸€æ—¶é—´å®Œæˆäº†å¯¹ React18 çš„å…¼å®¹ã€‚</p><p>Reactç›®å‰å­˜åœ¨ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼š<code>legacy</code> å’Œ <code>concurrent</code> ã€‚åœ¨ concurrent æ¨¡å¼ä¸‹ï¼Œä¼šä½¿ç”¨ New Client API æ¥æ¸²æŸ“ç»„ä»¶ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒTaro react ä»ä¼šåœ¨ <code>legacy</code> æ¨¡å¼ä¸‹è¿è¡Œã€‚ç®€å•ä¿®æ”¹ <code>@tarojs/plugin-framework-react</code> æ’ä»¶çš„é…ç½®å³å¯å¯ç”¨ <code>concurrent</code> æ¨¡å¼ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** config/index.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'@tarojs/plugin-framework-react'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">reactMode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'concurrent'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>ä¸è¦å¿˜è®°å°†é¡¹ç›®çš„ react ç‰ˆæœ¬å‡çº§åˆ° v18 å“¦</p></blockquote><p>è¯¦ç»†å†…å®¹è¯·å‚è€ƒ <a href="https://github.com/NervJS/taro/discussions/11610" target="_blank" rel="noopener noreferrer">discussions</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ssr">ä¸‰ã€æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰<a class="hash-link" href="#ä¸‰æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ssr" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-åŠ¨æœº">1. åŠ¨æœº<a class="hash-link" href="#1-åŠ¨æœº" title="Direct link to heading">â€‹</a></h3><p>ä¸ SPAï¼ˆå•é¡µåº”ç”¨ç¨‹åºï¼ŒSingle-Page Applicationï¼‰ç›¸æ¯”ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰èƒ½å¸¦æ¥å¸¦æ¥<strong>æ›´å¿«çš„é¦–å±æ¸²æŸ“é€Ÿåº¦</strong>å’Œ<strong>æ›´å¥½çš„ SEO</strong>ï¼Œå› æ­¤ SSR åŠŸèƒ½æ˜¯å¤§å®¶æœŸæœ› Taro æ”¯æŒçš„ç‰¹æ€§ä¹‹ä¸€ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-å®ç°åŸç†">2. å®ç°åŸç†<a class="hash-link" href="#2-å®ç°åŸç†" title="Direct link to heading">â€‹</a></h3><p>Taro åœ¨ 3.1 ç‰ˆæœ¬æå‡ºäº†<strong>å¼€æ”¾å¼æ¶æ„</strong>çš„æ€æƒ³ï¼Œè®©å¼€å‘è€…å¯ä»¥é€šè¿‡ç¼–å†™æ’ä»¶æ¥è®© Taro æ”¯æŒä¸€ä¸ªæ–°çš„å¹³å°ã€‚</p><p>é€šè¿‡ Taro æ’ä»¶ï¼Œå°† React ç”Ÿæ€ä¸­çŸ¥åçš„ Next.js æ¡†æ¶ä½œä¸º Taro çš„ä¸€ä¸ªæ–°çš„ç›®æ ‡å¹³å°ï¼Œä»¥æ­¤è®© Taro èƒ½å¤Ÿæ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ã€‚</p><p>ç›®å‰è¿™ä¸ªæ’ä»¶é¡¹ç›®çš„åœ°å€ä½äºï¼š<a href="https://github.com/SyMind/tarojs-plugin-platform-nextjs" target="_blank" rel="noopener noreferrer">SyMind/tarojs-plugin-platform-nextjs</a></p><blockquote><p><strong>âš ï¸&nbsp; æ’ä»¶ç›®å‰å¤„äºæ—©æœŸå»ºè®¾ä¸­ï¼Œä¸å»ºè®®ç”¨äºç”Ÿäº§ç¯å¢ƒï¼</strong></p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-å®‰è£…ä¸ä½¿ç”¨">3. å®‰è£…ä¸ä½¿ç”¨<a class="hash-link" href="#3-å®‰è£…ä¸ä½¿ç”¨" title="Direct link to heading">â€‹</a></h3><p>å®‰è£…æ’ä»¶å’Œ Next.js æ¡†æ¶ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ npm å®‰è£…æ’ä»¶ä¸ next.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> tarojs-plugin-platform-nextjs next</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä½¿ç”¨ pnpm å®‰è£…æ’ä»¶ä¸ next.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">pnpm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> tarojs-plugin-platform-nextjs next</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ Taro é¡¹ç›®çš„<a href="/taro-docs/docs/config">ç¼–è¯‘é…ç½®</a>ä¸­æ·»åŠ æœ¬æ’ä»¶ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">const config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'tarojs-plugin-platform-nextjs'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¼€å§‹å°è¯•å®ƒå§ï¼</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">npx taro build --type nextjs --watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››æ”¯æŒå¤šé¡µåº”ç”¨mpa">å››ã€æ”¯æŒå¤šé¡µåº”ç”¨ï¼ˆMPAï¼‰<a class="hash-link" href="#å››æ”¯æŒå¤šé¡µåº”ç”¨mpa" title="Direct link to heading">â€‹</a></h2><p>å¾ˆå¤šåŒå­¦é€šè¿‡é˜…è¯» Taro çš„æºç å‘ç°ï¼ŒTaro æ›¾åœ¨ 1.x æ”¯æŒè¿‡å¤šé¡µé¢åº”ç”¨ï¼Œé€šè¿‡é…ç½® <code>multi</code> æ¨¡å¼å°±å¯ä»¥å¼€å¯è¯¥ç‰¹æ€§ï¼Œä½†æ˜¯ç”±äºå¹¶æ²¡æœ‰å¾ˆå¥½æ”¯æŒï¼Œä¹Ÿæ²¡æœ‰ç›¸åº”çš„ä¸šåŠ¡åœºæ™¯æµ‹è¯•ï¼Œæœ€ç»ˆå¹¶æ²¡æœ‰åœ¨æ–‡æ¡£ä¸­å‘ˆç°ã€‚</p><p>åœ¨ 2.x å‘å¸ƒæ—¶ï¼Œç”±äºå„ç§åŸå› æˆ‘ä»¬å›æ»šäº†è¯¥ç‰¹æ€§ï¼Œå°½ç®¡å¼€å‘è€…ä»¬ä¾æ—§å¯ä»¥é€šè¿‡æ’ä»¶æˆ–è€…åœ¨é¡¹ç›®å†…è‡ªå®šä¹‰ webpack é…ç½®å®ç°ç±»ä¼¼çš„éœ€æ±‚ï¼Œä¸è¿‡è¿™ä¾æ—§ä¼šåœ¨ä¸€äº›ç»†èŠ‚ä¸Šéš¾ä»¥å¤„ç†å¾—å°½å–„å°½ç¾ã€‚æ¯”å¦‚éœ€è¦é¢å¤–é…ç½®æ–‡ä»¶æ‹†åˆ†è§„åˆ™é¿å…å†—ä½™çš„ä»£ç ï¼Œå¯¹äº MPA ä¹Ÿå¹¶ä¸éœ€è¦<code>taro-router</code>æä¾›å¯¹äºè·¯ç”±ç›¸å…³çš„äº‹ä»¶æ–¹æ³•çš„æ”¯æŒâ€¦â€¦</p><p>MPA æ˜¯ä¸å°‘ç¤¾åŒºå¼€å‘è€…æ‰€è¿½æ±‚çš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œä¸ºæ­¤æˆ‘ä»¬æ”¹å†™äº† <code>taro-loader</code> å’Œ <code>taro-router</code> ä»¥é€‚åº”è¯¥æ¨¡å¼çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œåº”ç”¨è¯¥æ¨¡å¼ä¹Ÿåªéœ€è¦å¦‚ä¸‹é…ç½®ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">h5</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">router</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">mode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'multi'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰å¾ˆå¤šå°ç¨‹åºäº‹ä»¶å’Œæ–¹æ³•éƒ½æ˜¯åŸºäº SPA æ¨¡å¼è®¾è®¡ä½¿ç”¨çš„ï¼Œåœ¨ MPA æ¨¡å¼å¹¶ä¸é€‚ç”¨ï¼Œæ‰€ä»¥ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚ç”±äºå¤šé¡µé¢å¯¼è‡´ TabBar ä¼šé‡å¤åŠ è½½ï¼ŒApp çº§çš„ç”Ÿå‘½å‘¨æœŸä¼šé‡å¤è§¦å‘ï¼Œä¸æ”¯æŒè·¯ç”±åŠ¨ç”»ï¼Œç”Ÿäº§ç¯ä¹Ÿéœ€è¦é¢å¤–é…ç½®è·¯ç”±æ˜ å°„ç­‰ç­‰ï¼Œå¼€å¯è¯¥æ¨¡å¼å‰éœ€è¦è®¤çœŸè€ƒé‡é€‚ç”¨åœºæ™¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äº”rn-ç›¸å…³ä¾èµ–åº“ç”±-unimodules-å‡çº§è‡³-expo">äº”ã€RN <strong>ç›¸å…³ä¾èµ–åº“ç”± unimodules å‡çº§è‡³ expo</strong><a class="hash-link" href="#äº”rn-ç›¸å…³ä¾èµ–åº“ç”±-unimodules-å‡çº§è‡³-expo" title="Direct link to heading">â€‹</a></h2><p>Expo æ˜¯ React Native ç”Ÿæ€ä¸­çš„é‡è¦è§’è‰²ï¼Œæä¾›äº†éå¸¸å¤šä¼˜ç§€çš„æ¨¡å—ï¼Œåœ¨ Taro ä¸­æœ‰è¾ƒä¸ºå¹¿æ³›çš„ä½¿ç”¨ï¼Œå¦‚ expo-avã€expo-camera ç­‰ï¼Œå°†æ¥æˆ‘ä»¬è¿˜ä¼šæŒç»­æ¥å…¥æ–°çš„æ¨¡å—ã€‚Expo çš„æ¨¡å—ç³»ç»Ÿï¼Œç”± unimodules å˜æ›´ä¸º expo å·²æœ‰ä¸€æ®µæ—¶æ—¥ï¼Œå…¶æ¶æ„å˜æ›´åŸå› å¯å‚è€ƒæ–‡ç« ï¼š&nbsp;<a href="https://blog.expo.dev/whats-new-in-expo-modules-infrastructure-7a7cdda81ebc" target="_blank" rel="noopener noreferrer">Whatâ€™s new in Expo modules infrastructure</a>ã€‚</p><p>Taro v3.5 åŠä»¥åå°†ä½¿ç”¨æ–°çš„æ¨¡å—ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡ taro init é€‰æ‹© react-native æ¨¡æ¿ä½“éªŒã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Taro å£³å·¥ç¨‹ï¼Œå¯åˆ‡æ¢åˆ° <a href="https://github.com/NervJS/taro-native-shell/tree/0.67.0-expo" target="_blank" rel="noopener noreferrer">0.67.0-expo</a> åˆ†æ”¯ä½“éªŒã€‚</p><p>æ–°è€ç‰ˆæœ¬çš„ Taro åŠå£³å·¥ç¨‹ä¹‹é—´æ··ç”¨çš„è¯ï¼Œå°†å­˜åœ¨ä¸å…¼å®¹æƒ…å†µï¼Œä¸»è¦åŸå› æ˜¯å­˜åœ¨å¤šä¸ªç‰ˆæœ¬åŸç”Ÿä¾èµ–å¯¼è‡´ï¼Œå¯é€šè¿‡ resolution è¿›è¡Œç‰ˆæœ¬é”å®šè§£å†³ï¼Œç›¸åº”ç‰ˆæœ¬å‚è€ƒ<a href="https://github.com/NervJS/taro/discussions/11565#discussioncomment-2552958" target="_blank" rel="noopener noreferrer">æ­¤å¤„</a>ã€‚</p><p>åç»­å£³çš„å·¥ç¨‹å°†ä¸å†åŒ…å« unimodules ç‰ˆæœ¬ã€‚æ—§ç‰ˆæœ¬å‡çº§å¯å‚è€ƒæ­¤<a href="https://github.com/NervJS/taro-native-shell/pull/72" target="_blank" rel="noopener noreferrer">PR</a>ã€‚</p><p>æ³¨æ„ï¼šå‡çº§ä¸º expo å°†ä¸å†æ”¯æŒ iOS 11ï¼Œè¯¦ç»†å†…å®¹è¯·å‚è€ƒ <a href="https://github.com/NervJS/taro/discussions/11565" target="_blank" rel="noopener noreferrer">discussions</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…­å‡çº§æŒ‡å—">å…­ã€å‡çº§æŒ‡å—<a class="hash-link" href="#å…­å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><p>1<strong>. å®‰è£… v3.5.0-beta çš„ CLI å·¥å…·ï¼š</strong></p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli@beta</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>2. æ›´æ–°é¡¹ç›®ä¾èµ–</strong></p><blockquote><p>å¦‚æœå®‰è£…å¤±è´¥æˆ–æ‰“å¼€é¡¹ç›®å¤±è´¥ï¼Œå¯ä»¥åˆ é™¤ node_modulesã€yarn.lockã€package-lock.json åé‡æ–°å®‰è£…ä¾èµ–å†å°è¯•ã€‚</p></blockquote><p>2.1 æŠŠ package.json æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>3.5.0@beta</code></p><p>2.2 Breakings</p><ul><li>Vue2 é¡¹ç›®éœ€è¦æ·»åŠ  devDenpendenciesï¼š<code>"@vue/babel-preset-jsx": "^1.2.4â€</code></li><li>Vue3 é¡¹ç›®éœ€è¦æ·»åŠ  devDenpendenciesï¼š<code>"@vue/babel-plugin-jsx": "^1.0.6"</code></li><li>React é¡¹ç›®éœ€è¦æ·»åŠ  devDenpendenciesï¼š<div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token string-property property" style="color:#36acaa">"@pmmmwh/react-refresh-webpack-plugin"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.5.4"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">"react-refresh"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"0.11.0"</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li>PReact é¡¹ç›®éœ€è¦æ·»åŠ   devDenpendenciesï¼š<div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token string-property property" style="color:#36acaa">"@prefresh/webpack"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"^3.2.3"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string-property property" style="color:#36acaa">"@prefresh/babel-plugin"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"^0.4.1"</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><p>2.3 é‡æ–°å®‰è£…ä¾èµ–</p><p><strong>3. ä½¿ç”¨ Webpack5</strong></p><p>æ–°é¡¹ç›®åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œé€‰æ‹©ç¼–è¯‘å·¥å…·ä¸º <code>"webpack5"</code> å³å¯ã€‚</p><p>æ—§é¡¹ç›®å‡çº§åéœ€è¦æ›´æ–°ä¾èµ–ï¼š</p><ul><li>å»ºè®®é¦–å…ˆåˆ é™¤ <code>node_modules</code>ã€<code>yarn.lock</code>ã€<code>package-lock.json</code>ã€‚</li><li><code>package.json</code> ä¸­åˆ é™¤ <code>@tarojs/mini-runner</code> å’Œ <code>@tarojs/webpack-runner</code> ä¾èµ–ï¼Œæ·»åŠ  <code>@tarojs/webpack5-runner</code> ä¾èµ–ã€‚</li><li>é‡æ–°å®‰è£…ä¾èµ–ã€‚</li><li>Taro ç¼–è¯‘é…ç½®æ·»åŠ  <code>compiler: 'webpack5'</code>ï¼Œæœ€åå¼€å¯ç¼–è¯‘ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœ€å">æœ€å<a class="hash-link" href="#æœ€å" title="Direct link to heading">â€‹</a></h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šç»§ç»­å¯¹ <code>v3.5</code> ç‰ˆæœ¬è¿›è¡Œè¿­ä»£ï¼ŒåŒ…æ‹¬å®ç° H5 çš„ä¾èµ–é¢„ç¼–è¯‘ç­‰ã€‚è€Œåœ¨ <code>v3.6</code> ç‰ˆæœ¬åˆ™ä¼šè½åœ°å¯¹ Vite çš„æ”¯æŒï¼ŒåŒæ—¶ä¼˜åŒ–è¿è¡Œæ—¶çš„æ€§èƒ½ã€‚</p><p>æœ€åçš„æœ€åï¼Œè¡·å¿ƒå„ä½æ„Ÿè°¢å‚ä¸ Taro å¼€æºå…±å»ºçš„åŒå­¦ï¼ä¸ºäº†å»ºç«‹æ›´åŠ å®Œå–„ã€æ›´åŠ å¯æŒç»­çš„ Taro å¼€æºç”Ÿæ€ï¼Œçªå‡ºè´¡çŒ®è€…ä»·å€¼ï¼ŒTaro æ¨å‡ºäº†<a href="/taro-docs/blog/2022/03/29/Taro-community">æ›´æ¸…æ™°çš„å‚ä¸æœºåˆ¶å’Œè£èª‰æ¿€åŠ±æœºåˆ¶</a>ï¼Œæ¬¢è¿æ›´å¤šçš„åŒå­¦å‚ä¸è¿›æ¥~</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[æˆä¸º Taro ç¤¾åŒºçš„ä¸€å‘˜ - è´¡çŒ®è€…æ™‹çº§æŒ‡å—]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2022/03/29/Taro-community</link>
            <guid>/2022/03/29/Taro-community</guid>
            <pubDate>Tue, 29 Mar 2022 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>ä¸ºäº†å»ºç«‹æ›´åŠ å®Œå–„ã€æ›´åŠ å¯æŒç»­çš„ Taro å¼€æºç”Ÿæ€ï¼Œçªå‡ºè´¡çŒ®è€…ä»·å€¼ï¼Œæˆ‘ä»¬å‚ç…§æˆç†Ÿå¼€æºç¤¾åŒºè¿è¡Œæœºåˆ¶åˆ¶å®šäº†ã€Š Taro è´¡çŒ®è€…æ™‹çº§åˆ¶åº¦ã€‹ï¼Œä¸ºçƒ­çˆ±å’Œå–œæ¬¢ Taro æŠ€æœ¯çš„å¼€å‘è€…å’Œè´¡çŒ®è€…æä¾›æ›´æ¸…æ™°çš„å‚ä¸æœºåˆ¶å’Œè£èª‰æ¿€åŠ±æœºåˆ¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ™‹å‡è§’è‰²">æ™‹å‡è§’è‰²<a class="hash-link" href="#æ™‹å‡è§’è‰²" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-29-Taro-community/RoadMap.png" alt="æ™‹å‡è§’è‰²è·¯çº¿å›¾" class="img_ROth"></p><p>å¦‚å›¾åŒ…å«4ä¸ªæ™‹å‡è§’è‰²ï¼šä¸ªäººè´¡çŒ®è€…&amp;ç”Ÿæ€ä¸ªäººè´¡çŒ®è€…ã€åŠ©æ‰‹ã€åˆä½œè€…&amp;ç”Ÿæ€åˆä½œè€…ã€æŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜ï¼Œæ™‹å‡æœºåˆ¶é€šè¿‡æå+æŠ•ç¥¨çš„æ–¹å¼è¿›è¡Œå…±è¯†å†³ç­–ï¼Œæ™‹å‡è·¯å¾„å¦‚ä¸‹ï¼š</p><ul><li>ä¸ªäººè´¡çŒ®è€… â†’ åŠ©æ‰‹ â†’ åˆä½œè€… â†’ æŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜</li><li>ä¸ªäººè´¡çŒ®è€… â†’ åˆä½œè€… â†’ æŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜</li><li>ç”Ÿæ€ä¸ªäººè´¡çŒ®è€… â†’ ç”Ÿæ€åˆä½œè€… â†’ æŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜</li></ul><p>å¯¹äºä¸€å¹´å†…ä¸æ´»è·ƒè€…ï¼Œä¼šè¿›è¡Œè‡ªåŠ¨è¿›è¡Œé™çº§ï¼Œè´¡çŒ®çªå‡ºè€…å¯ç”³è¯·è£ä¼‘ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸ªäººè´¡çŒ®è€…ç”Ÿæ€ä¸ªäººè´¡çŒ®è€…individual-committer">ä¸ªäººè´¡çŒ®è€…&amp;ç”Ÿæ€ä¸ªäººè´¡çŒ®è€…ï¼ˆIndividual Committerï¼‰<a class="hash-link" href="#ä¸ªäººè´¡çŒ®è€…ç”Ÿæ€ä¸ªäººè´¡çŒ®è€…individual-committer" title="Direct link to heading">â€‹</a></h3><p>ä»»ä½•åŒæ„ã€Š Taro è¡Œä¸ºå‡†åˆ™ã€‹çš„ä¸ªäººå¼€å‘è€…ï¼Œéƒ½å¯ä»¥åŸºäº<a href="https://github.com/NervJS/taro/blob/next/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">ã€Šè´¡çŒ®è€…æŒ‡å—ã€‹</a>è¿›è¡Œ pull request æäº¤ï¼Œ bug åé¦ˆ &amp; ä¿®å¤ã€æ–°ç‰¹æ€§æè®®æˆ– PR å‡å¯ï¼Œä¼šåœ¨ <a href="/taro-docs/docs/team/">Taro å®˜æ–¹æ–‡æ¡£</a>ä¸­åˆ—ä¸ºä¸ªäººè´¡çŒ®è€…ã€‚å½“è´¡çŒ®è€…çš„æœ‰ä»·å€¼å·¥ä½œè¢«å…¶ä»–åˆä½œè€…æ³¨æ„åˆ°åï¼Œå¯ä»¥è¢«æåä¸ºåˆä½œè€…ã€‚</p><p>ä»»ä½•åŸºäºæˆ–å›´ç»• Taro ç”Ÿæ€è¿›è¡Œçš„å·¥å…·ã€æ’ä»¶ã€åŸ¹è®­ã€æ•™ç¨‹ç­‰ä¸ªäººéƒ½ä¼šåœ¨ <a href="/taro-docs/docs/team/">Taro å®˜æ–¹æ–‡æ¡£</a>ä¸­åˆ—ä¸ºç”Ÿæ€ä¸ªäººè´¡çŒ®è€…ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åŠ©æ‰‹triage">åŠ©æ‰‹ï¼ˆTriageï¼‰<a class="hash-link" href="#åŠ©æ‰‹triage" title="Direct link to heading">â€‹</a></h3><p>è´Ÿè´£ <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">NervJS/taro</a>ã€<a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">NervJS/taro-ui</a> ä»“åº“æ–° issues çš„ç»´æŠ¤ï¼Œè´Ÿè´£ç»™ issues æˆ– pull requests æ‰“æ ‡ç­¾ï¼Œä»¥åŠè´Ÿè´£è¯„è®ºã€å…³é—­å’Œé‡æ–°å¼€å¯ issue æˆ– pull requestï¼Œè´Ÿè´£å°† bug æˆ– feature åˆ†æµç»™å…·ä½“å·¥ä½œç»„ã€‚</p><ul><li><p>ç›®çš„</p><p>  æ—¨åœ¨å‡å°‘ issue åˆ—è¡¨ï¼Œä¿æŒ issue åŠæ—¶è·Ÿè¸ªï¼Œä¿ƒè¿›æ–°äººå‚ä¸åŠè´¡çŒ® pull requestã€‚</p></li><li><p>æƒç›Š</p><p>  Github NervJS ç»„ Member æƒé™ï¼Œç›¸å…³é¡¹ç›® Triage æƒé™ï¼Œå¯ä»¥ç®¡ç† issues å’Œ pull requestsï¼ˆæ²¡æœ‰å†™æƒé™ï¼‰ã€‚</p></li><li><p>ç”³è¯·æ–¹æ³•</p><p>  å¯¹ Taro é¡¹ç›®æœ‰å…¨é¢äº†è§£å’Œæ·±åº¦å¼€å‘ç»éªŒçš„ä»»ä½•äººï¼Œå¯ä»¥åœ¨ NervJS/taro README.md ä¸­æäº¤ä¸€ä¸ª pull requestï¼Œè¯´æ˜ç”³è¯·æˆä¸ºåŠ©æ‰‹çš„åŠ¨æœºå¹¶åŒæ„æœ¬é¡¹ç›®çš„è¡Œä¸ºå®ˆåˆ™ï¼Œç» 2 ååˆä½œè€…åŒæ„å³å¯é€šè¿‡ã€‚</p><p>  ç”³è¯· pull request å‚è€ƒæ¨¡ç‰ˆå¦‚ä¸‹ï¼š</p><p>  <img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-29-Taro-community/PR-Triage.png" alt="PR æ¨¡æ¿" class="img_ROth"></p></li><li><p>é€€å‡ºæœºåˆ¶</p><p>  å¯¹ 6 ä¸ªæœˆä¸æ´»è·ƒçš„å°åŠ©æ‰‹è¿›è¡Œå®šæœŸç§»é™¤ã€‚</p></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åˆä½œè€…--ç”Ÿæ€åˆä½œè€…collaborator">åˆä½œè€… &amp; ç”Ÿæ€åˆä½œè€…ï¼ˆCollaboratorï¼‰<a class="hash-link" href="#åˆä½œè€…--ç”Ÿæ€åˆä½œè€…collaborator" title="Direct link to heading">â€‹</a></h3><p>è´Ÿè´£ç»´æŠ¤ <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">NervJS/taro</a>ã€<a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">NervJS/taro-ui</a> ä»“åº“ï¼Œå¸®åŠ©ç”¨æˆ·å’Œåˆçº§è´¡çŒ®è€…ï¼Œå‚åŠ å…·ä½“å·¥ä½œç»„ä¸ºå½“å‰é¡¹ç›®è´¡çŒ®ä»£ç å’Œæ–‡æ¡£ï¼Œè¯„å®¡å’Œè¯„è®º issues å’Œ pull requestsã€‚</p><ul><li><p>ç›®çš„</p><p>  æ—¨åœ¨ä¸æ–­ä¸°å¯Œ Taro ç‰¹æ€§ã€æ€§èƒ½ã€å®‰å…¨ç­‰ã€‚</p></li><li><p>æƒç›Š</p><p>  Github NervJS ç»„ Member æƒé™ï¼ŒGithub Write æƒé™ï¼Œå¯ä»¥æäº¤ commit åˆ° <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">NervJS/taro</a> ä»“åº“ï¼Œå¯ä»¥é…ç½®æŒç»­é›†æˆä»»åŠ¡ï¼Œè´Ÿè´£ pull request è¯„å®¡åŠåˆå¹¶ï¼Œ1ä¸ª PR åˆå¹¶éœ€è‡³å°‘2ååˆä½œè€…æˆ–1åæŠ€æœ¯å§”å‘˜ä¼šæˆå‘˜åŒæ„å³å¯è¿›å…¥è§‚å¯ŸæœŸï¼Œè§‚å¯ŸæœŸ3ä¸ªæœˆå³å¯æ­£å¼æˆä¸ºåˆä½œè€…ã€‚</p></li><li><p>ç”³è¯·æ–¹æ³•</p><p>  åˆä½œè€…æåæœ‰çªå‡ºè´¡çŒ®çš„ä¸ªäººè´¡çŒ®è€…ï¼Œé€šè¿‡æŠ•ç¥¨æœºåˆ¶å†³å®šæ˜¯å¦å¯ä»¥æˆä¸ºåˆä½œè€…ã€‚ä¸€ååˆæ ¼çš„åˆä½œè€…éœ€å…·å¤‡ï¼šæŠ€æœ¯ç²¾è¿›ï¼Œä¸šåŠ¡ç²¾æ¹›ï¼›æ²Ÿé€šæ— éšœç¢ï¼Œè‡³å°‘è¯»å†™æ— é˜»ç¢ï¼›äººå“ä¼˜è‰¯ï¼Œèƒ½é’»ç ”ï¼Œä¸è½»æ˜“åŠé€”è€ŒåºŸï¼›æ€åº¦è°¦é€Šï¼Œèƒ½æ¥å—ä»–äººæ„è§ï¼›Owner å¿ƒæ€ï¼Œç§¯æä¸»åŠ¨ã€‚</p><p>  ç”³è¯· pull request å‚è€ƒæ¨¡ç‰ˆå¦‚ä¸‹ï¼š</p><p>  <img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-29-Taro-community/PR-Collaborator.png" alt="PR æ¨¡æ¿" class="img_ROth"></p></li><li><p>é€€å‡ºæœºåˆ¶</p><p>  å¯¹ä¸æ´»è·ƒçš„åˆä½œè€…ï¼ŒæŠ€æœ¯å§”å‘˜ä¼šæœ‰æƒè¿›è¡Œç§»é™¤æˆ–è®¾ç½®ä¸ºè£ä¼‘çŠ¶æ€ï¼Œè£ä¼‘æˆå‘˜å¯ä»¥é‡æ–°å‘æŠ€æœ¯å§”å‘˜ä¼šç”³è¯·ä¸ºæ´»è·ƒçŠ¶æ€ã€‚å¦‚æœä¸€ä¸ªåˆä½œè€…è¶…è¿‡6ä¸ªæœˆæ— ä»»ä½•è´¡çŒ®ï¼Œä¼šè‡ªåŠ¨è®¾ç½®æˆè£ä¼‘çŠ¶æ€ã€‚</p></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æŠ€æœ¯å§”å‘˜ä¼šæˆå‘˜technical-steering-committee">æŠ€æœ¯å§”å‘˜ä¼šæˆå‘˜ï¼ˆTechnical Steering Committeeï¼‰<a class="hash-link" href="#æŠ€æœ¯å§”å‘˜ä¼šæˆå‘˜technical-steering-committee" title="Direct link to heading">â€‹</a></h3><p>è´Ÿè´£æŠ€æœ¯æ–¹å‘ã€é¡¹ç›®ç®¡ç†ã€é¡¹ç›®å‘å¸ƒã€è´¡çŒ®æ”¿ç­–ã€ä»“åº“æ‰˜ç®¡ã€è¡Œä¸ºå‡†åˆ™ã€ç»´æŠ¤åˆä½œè€…åˆ—è¡¨ï¼Œå®šæœŸå‚åŠ  TSC æ´»åŠ¨ï¼Œä¸»å¸­ï¼ˆä¸»æŒäººï¼‰ä¼šåœ¨çº¿ä¸Šä¸»æŒæ´»åŠ¨ï¼Œå¹¶åšå¥½æ´»åŠ¨è®°å½•å¹¶å…¬å¸ƒã€‚</p><ul><li><p>ç›®çš„</p><p>  è§£å†³éš¾ä»¥è¾¾æˆå…±è¯†çš„æŠ€æœ¯éš¾é¢˜ã€æ–°æ–¹å‘ç­‰ã€‚</p></li><li><p>æƒç›Š</p><p>  Github NervJS ç»„ Owner æƒé™ã€‚</p></li><li><p>ç”³è¯·æ–¹æ³•</p><p>  æ–°å¢ TSC æˆå‘˜éœ€è¦ç”±å…¶ä»– TSC æˆå‘˜æåå¹¶è®¨è®ºæŠ•ç¥¨ã€‚</p><p>  ç”³è¯· pull request å‚è€ƒæ¨¡ç‰ˆå¦‚ä¸‹ï¼š</p><p>  <img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-29-Taro-community/PR-Committee.png" alt="PR æ¨¡æ¿" class="img_ROth"></p></li><li><p>é€€å‡ºæœºåˆ¶</p><p>  åœ¨ä¸€å­£åº¦å†…ï¼Œç¼ºå¸­75%çš„æ´»åŠ¨ï¼Œä¸”æœªå‚ä¸ä»»ä½•ä¸€æ¬¡æŠ•ç¥¨ï¼Œè‡ªåŠ¨é™¤åã€‚æˆå‘˜å¯æå‡ºæš‚æ—¶â€è£ä¼‘â€œã€‚</p></li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è¿è¡Œæœºåˆ¶">è¿è¡Œæœºåˆ¶<a class="hash-link" href="#è¿è¡Œæœºåˆ¶" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-29-Taro-community/structure.png" alt="æŠ€æœ¯å§”å‘˜ä¼šç»„æˆ" class="img_ROth"></p><p>å¦‚å›¾è¿è¡Œæœºåˆ¶åŒ…å«æŠ€æœ¯å§”å‘˜ä¼šä»¥åŠä¸‹è®¾çš„ 5 ä¸ªå›¢é˜Ÿï¼ˆCore å›¢é˜Ÿã€Plugins å›¢é˜Ÿã€Platform å›¢é˜Ÿã€<strong>åˆ›æ–°å›¢é˜Ÿ</strong>ã€ç¤¾åŒºå›¢é˜Ÿï¼‰ã€‚æŠ€æœ¯å§”å‘˜ä¼šç”±æŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜ç»„æˆï¼Œè´Ÿè´£æŠ€æœ¯æ–¹å‘ã€é¡¹ç›®ç®¡ç†ã€è´¡çŒ®æ”¿ç­–ã€ä»“åº“æ‰˜ç®¡ã€è¡Œä¸ºå‡†åˆ™ã€ç»´æŠ¤åˆä½œè€…åˆ—è¡¨ç­‰ï¼ŒæŠ€æœ¯å§”å‘˜ä¼šä¸»å¸­è´Ÿè´£å®šæœŸç»„ç»‡ä¼šè®®ã€‚å·¥ä½œç»„ç”±åˆä½œè€…æˆå‘˜ç»„æˆï¼Œæ¯ä¸ªæ–¹å‘æœ‰ä¸€ä¸ª Ownerï¼Œè´Ÿè´£ç›¸å…³å·¥ä½œç»„çš„å¼€å‘è¿›å±•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å›¢é˜Ÿ">å›¢é˜Ÿ<a class="hash-link" href="#å›¢é˜Ÿ" title="Direct link to heading">â€‹</a></h3><ul><li><p>Core å›¢é˜Ÿ</p><ul><li><p>Cli å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">ä¸»è¦è´Ÿè´£ Taro å‘½ä»¤è¡Œå·¥å…·çš„å¼€å‘å’Œç»´æŠ¤å·¥ä½œã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>Compile å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£ç»´æŠ¤ã€ä¼˜åŒ–å°ç¨‹åºå’Œ H5 çš„ç¼–è¯‘ç³»ç»Ÿã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>Runtime å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£ç»´æŠ¤å°ç¨‹åºè¿è¡Œæ—¶ç³»ç»Ÿã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li><li><p><strong>Plugin</strong> å›¢é˜Ÿ</p><p>  è´Ÿè´£ç»´æŠ¤å„ Taro æ’ä»¶ï¼ŒåŒ…æ‹¬ç«¯å¹³å°æ’ä»¶ï¼ŒReactã€Vue DevTools ç­‰ã€‚</p><ul><li><p>ç«¯å¹³å°æ’ä»¶å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£ç»´æŠ¤å„ç«¯å¹³å°æ’ä»¶ï¼ŒåŒ…æ‹¬å¯¹å¾®ä¿¡ã€æ”¯ä»˜å®ã€ç™¾åº¦ã€å­—èŠ‚è·³åŠ¨ã€QQã€äº¬ä¸œã€ä¼ä¸šå¾®ä¿¡ã€é£ä¹¦ã€å¿«æ‰‹ã€é’‰é’‰ã€å°çº¢ä¹¦ç­‰å‚å•†å°ç¨‹åºçš„é€‚é…ç­‰ã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>æ··åˆå¼€å‘ç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£ç»´æŠ¤ Taro ä¸åŸç”Ÿå°ç¨‹åºçš„ç›¸äº’è°ƒç”¨åŠŸèƒ½ã€Taro å¼€å‘åŸç”Ÿæ’ä»¶ç­‰ã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li><li><p>Platform å›¢é˜Ÿ</p><p>  è´Ÿè´£ Appã€Webã€Open Harmony ç­‰è·¨å¹³å°å¼€å‘ã€‚</p><ul><li><p>H5 å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£ç»´æŠ¤ H5 çš„å„æ¨¡å—ï¼ŒåŒ…æ‹¬è·¯ç”±ã€ç»„ä»¶åº“ã€API åº“ç­‰ã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>React Native å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£React Nativeé€‚é…æ ¸å¿ƒã€ç»„ä»¶åº“ã€API åº“ç­‰éƒ¨åˆ†çš„å¼€å‘ã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>Open Harmony å·¥ä½œç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">è´Ÿè´£é¸¿è’™é€‚é…æ ¸å¿ƒã€ç»„ä»¶åº“ã€API åº“ç­‰éƒ¨åˆ†çš„å¼€å‘ã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>å¿«åº”ç”¨å·¥ä½œç»„</p></li></ul></li><li><p><strong>åˆ›æ–°å›¢é˜Ÿ</strong></p><p>  Taro åˆ›æ–°ç‰¹æ–°ã€æ–°æ–¹å‘æ¢ç´¢ï¼Œå¦‚ wasmã€rustã€viteã€flutterã€electron ç­‰ã€‚</p><ul><li><p>UI æ¡†æ¶å…´è¶£ç»„</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">TaroUIã€NutUI ç­‰ UI åº“å’Œå…¶ä»–ç±»å‹ç”Ÿæ€å·¥å…·çš„ç ”å‘ä¸ç®¡ç†ã€‚</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul></li><li><p>ç¤¾åŒºå›¢é˜Ÿ</p><p>  è´Ÿè´£ Taro ç”Ÿæ€ä¸è¿è¥ï¼Œå’Œ Taro ç¤¾åŒºçš„è¿è¥æ¨å¹¿å·¥ä½œã€‚</p></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æŠ€æœ¯å§”å‘˜ä¼šåŒå‘¨ä¼š">æŠ€æœ¯å§”å‘˜ä¼šåŒå‘¨ä¼š<a class="hash-link" href="#æŠ€æœ¯å§”å‘˜ä¼šåŒå‘¨ä¼š" title="Direct link to heading">â€‹</a></h3><ul><li>æ—¶é—´ï¼šæ¯åŒå‘¨å‘¨å››å‰ï¼Œåœ¨ TSC issue ä¸­é¢„å‘Šä¸‹æ¬¡ä¼šè®®çš„å†…å®¹å’Œæ—¥æœŸã€‚</li><li>è®®é¢˜ï¼šæ¥è‡ª Taro ä¸‹å„é¡¹ç›®ä¸­æ ‡æ³¨äº† tsc-agenda æ ‡ç­¾çš„äº‹å®œã€‚ä¼šè®®ç»“æŸåæäº¤ä¼šè®®çºªè¦ pull requestã€‚æ¯æ¬¡ä¼šè®®å¯é‚€è¯·éå§”ä¼šå‚åŠ ï¼Œä½†æ— æŠ•ç¥¨æƒã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åŸºäºå…±è¯†å†³ç­–çš„æŠ•ç¥¨æœºåˆ¶">åŸºäºå…±è¯†å†³ç­–çš„æŠ•ç¥¨æœºåˆ¶<a class="hash-link" href="#åŸºäºå…±è¯†å†³ç­–çš„æŠ•ç¥¨æœºåˆ¶" title="Direct link to heading">â€‹</a></h3><p>å„ä¸ªæ™‹å‡æŠ•ç¥¨ç¯èŠ‚ï¼ŒåŸºäºå…±è¯†å†³ç­–åŸåˆ™ï¼ŒåŸåˆ™ä¸Šè¾¾æˆå¤šæ•°ä¸€è‡´ã€‚</p><ul><li>å¾…æŠ•ç¥¨çš„è®®é¢˜éœ€è¦åœ¨ä¼šè®®å‰å‘¨çŸ¥å„æˆå‘˜ï¼Œç»™äºˆæˆå‘˜è¶³å¤Ÿè°ƒç ”æ€è€ƒæ—¶é—´</li><li>è®®é¢˜åœ¨å³å°†è¾¾æˆä¸€è‡´æ—¶ï¼Œåœ¨ç»“é¢˜å‰å¿…é¡»è¯¢é—®â€œæœ‰äººåå¯¹å—ï¼Ÿâ€ï¼Œä»¥å‘¨çŸ¥æœ€ååå¯¹çš„æœºä¼š</li><li>è®®é¢˜æ— æ³•è¾¾æˆä¸€è‡´æ—¶ï¼Œå¯ä»¥æŠ•ç¥¨å¤šæ•°æ”¯æŒæ˜¯å¦å»¶æœŸåˆ°ä¸‹ä¸€ä¸ªä¼šè®®ï¼Œå¦åˆ™å¿…é¡»ç»§ç»­è®¨è®º</li><li>è®®é¢˜æ»¡è¶³â€œå¤šæ•°èƒœåˆ©â€åå³å¯é€šè¿‡ï¼Œæˆå‘˜å¯ä»¥å¼ƒç¥¨</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼•å¯¼--åŸ¹è®­æœºåˆ¶">å¼•å¯¼ / åŸ¹è®­æœºåˆ¶<a class="hash-link" href="#å¼•å¯¼--åŸ¹è®­æœºåˆ¶" title="Direct link to heading">â€‹</a></h3><p>åŠ©æ‰‹ã€åˆä½œè€…å’ŒæŠ€æœ¯å§”å‘˜ä¼šæˆå‘˜æ¯ä¸ªé˜¶æ®µï¼Œå‡æä¾›ç›¸åº”çš„å¼•å¯¼å’ŒåŸ¹è®­ï¼Œè®©æ–°æ™‹å‡è€…å¯ä»¥å¿«é€Ÿå¼€å±•å·¥ä½œã€‚</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[é€Ÿæ¥å›´è§‚ï¼Œä½ æœ€æœŸå¾…çš„ Taro ç‰¹æ€§æ­£åœ¨å‘å¸ƒ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2022/03/24/Taro-feature</link>
            <guid>/2022/03/24/Taro-feature</guid>
            <pubDate>Thu, 24 Mar 2022 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>å…³æ³¨ Taro è¿‘æœŸåŠ¨æ€çš„æœ‹å‹ä»¬å¯èƒ½éƒ½å·²ç»æ³¨æ„åˆ°ï¼Œç¤¾åŒºæ¨é€äº†<a href="https://wj.qq.com/s2/9739035/9abd/" target="_blank" rel="noopener noreferrer">ä¸€ä»½é—®å·</a>ï¼Œå‘å„ä½å¼€å‘è€…å¾é›†å¯¹äº Taro å°šåœ¨è°ƒç ”ä¸­ï¼Œæˆ–æœªå‘å¸ƒå„ç±»æ–°ç‰¹æ€§çš„å»ºè®®ï¼ŒçŸ­æ—¶é—´å†…å°±æ”¶è·éå¸¸å¤šåé¦ˆï¼Œè¿œè¶…é¢„æœŸã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¡†æ¶ç‰¹æ€§">æ¡†æ¶ç‰¹æ€§<a class="hash-link" href="#æ¡†æ¶ç‰¹æ€§" title="Direct link to heading">â€‹</a></h2><p>ä¾æ‰˜äºå¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶æ¶æ„ï¼ŒTaro æ¡†æ¶å’Œç”Ÿæ€éƒ½èšé›†äº†å¤§é‡ç‰¹æ€§ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œä¸è®ºæ˜¯ä½¿ç”¨ Vueã€Preact å¼€å‘å¤šç«¯åº”ç”¨ï¼Œè¿˜æ˜¯å„ç§æ‹“å±•æ’ä»¶éƒ½æ˜¯åŸºäºè¿™æ ·çš„æ¶æ„å¼€å‘çš„ç‰¹æ€§ã€‚ç›®å‰æˆ‘ä»¬å‡†å¤‡äº†å¾ˆå¤šæ–°ç‰¹æ€§çš„ç ”å‘æ–¹å‘ï¼Œä¾æ—§æ‰“ç®—é€šè¿‡æäº¤ <a href="https://github.com/NervJS/taro-rfcs" target="_blank" rel="noopener noreferrer">RFC</a> ææ¡ˆæ¥è¾¾æˆç¤¾åŒºå…±è¯†ï¼Œå¸Œæœ›è¿™äº›ç‰¹æ€§æ˜¯å¼€å‘è€…åœ¨å¤šç«¯é¡¹ç›®ä¸­çœŸæ­£éœ€è¦çš„ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-feature.jpeg" alt="taro-feature.jpeg" class="img_ROth"></p><p>ä»æŠ•ç¥¨ç»“æœæ¥çœ‹ï¼Œå¤§å®¶å¯¹äº Vite å’Œ Flutter æœ‰å¾ˆé«˜çš„æœŸå¾…ï¼ŒåŒæ—¶å¯¹äº pnpm çš„æ”¯æŒä¹Ÿæœ‰å¾ˆé«˜çš„éœ€æ±‚ã€‚åŒæ—¶ä¹Ÿæœ‰å¾ˆå¤šå¼€å‘è€…æåˆ°çš„äº†æ›´å¤šçš„éœ€æ±‚ï¼Œæ¯”æ–¹è¯´æ”¯æŒ WebComponent APIã€å°ç¨‹åº SSR æ–¹æ¡ˆï¼ŒWebpack5ã€Windiã€Tailwindï¼Œç”šè‡³æ˜¯ Angular ç­‰ç­‰ï¼Œè¿™äº›ç‰¹æ€§æœ‰çš„å·²ç»åœ¨æœ€åçš„éªŒè¯é˜¶æ®µï¼Œæœ‰çš„åˆ™è¿˜åœ¨è°ƒç ”å½“ä¸­ï¼Œä¼šåœ¨åˆé€‚çš„æ—¶å€™å‘å¸ƒåˆ°ç¤¾åŒºä¸­ï¼Œå¯ä»¥è€å¿ƒç­‰å¾…ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="web-ç«¯">Web ç«¯<a class="hash-link" href="#web-ç«¯" title="Direct link to heading">â€‹</a></h3><p>ä½œä¸º Taro æœ€æ—©æ”¯æŒçš„éå°ç¨‹åºç«¯ï¼ŒTaro H5 ä¸€ç›´åœ¨ç¨³æ­¥çš„è¿­ä»£å½“ä¸­ï¼Œåœ¨åŒæ­¥å°ç¨‹åºèƒ½åŠ›çš„åŒæ—¶ï¼Œä¹Ÿåœ¨ä¸æ–­è¡¥å…… Web ç«¯ç”Ÿæ€çš„èƒ½åŠ›ï¼Œç±»ä¼¼è·¯ç”±åŠ¨ç”»ã€å¤šé¡µé¢åº”ç”¨ç­‰ç­‰ï¼Œéƒ½åœ¨ä¸æ–­è¿­ä»£çš„è¿‡ç¨‹ä¸­ä¸€ä¸€è¡¥é½ï¼Œå…¶ä»–çš„ç‰¹æ€§æ¯”å¦‚ SSRã€äº‘å¼€å‘ç­‰æ–¹æ¡ˆï¼Œæˆ–è€…å¤‡å—æœŸå¾…çš„è‡ªå®šä¹‰ TabBar ä¹Ÿéƒ½ä¼šåœ¨åç»­çš„æ›´æ–°è¿‡ç¨‹ä¸­ä¸æ–­è¡¥å……ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-web.jpeg" alt="taro-web.jpeg" class="img_ROth"></p><p>å½“ç„¶å¯¹äºå¾ˆå¤š Taro H5 ä¸­æœªèƒ½åŒæ­¥çš„ç»„ä»¶ã€API ç­‰ç­‰ï¼Œä¹Ÿå°†é€ä¸€å¯¹é½ï¼Œä½†çŸ­æœŸå†…å®Œæˆä¹Ÿå¹¶ä¸ç°å®ï¼Œå› æ­¤æˆ‘ä»¬ä¼šä¾æ®ç¤¾åŒºåé¦ˆçš„éœ€æ±‚æŒ‰ç…§ä¼˜å…ˆçº§æä¾›ç›¸åº”çš„èƒ½åŠ›ï¼Œæ¯”æ–¹è¯´ CoverViewã€CoverImage ç­‰ç­‰ç‰¹æ€§å·²ç»ä¸Šçº¿ï¼Œå‰©ä¸‹çš„è¯¸å¦‚ MovableAreaã€MovableView ã€PickerViewã€æ”¯ä»˜èƒ½åŠ›ç­‰ç­‰ä¹Ÿæ˜¯åœ¨æ’æœŸä¸­ï¼Œæœ‰çš„åˆ™æ˜¯å·²ç»æœ‰ PR ç­‰å¾…åˆå¹¶â€¦â€¦åŒæ—¶ä¹Ÿæ¬¢è¿å¤§å®¶å‚ä¸ç›¸å…³èƒ½åŠ›çš„å…±å»ºï¼Œæå‡ Web ç«¯èƒ½åŠ›çš„è¾¹ç•Œå’Œå¼€å‘ä½“éªŒï½</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="app-ç«¯">App ç«¯<a class="hash-link" href="#app-ç«¯" title="Direct link to heading">â€‹</a></h3><p>App ç«¯å½“å‰ä½¿ç”¨çš„æ˜¯ RN æ–¹æ¡ˆï¼Œé—®å·æå‡ºçš„ç‰¹æ€§ä¹Ÿæ˜¯åŸºäºè¿™ä¸€æ–¹æ¡ˆè€ƒé‡çš„ï¼Œç›®å‰ RN å’Œ H5ã€Open Harmonyã€å¿«åº”ç”¨éƒ½æ˜¯ç”± Taro æŠ€æœ¯å§”å‘˜ä¼š Hybrid å·¥ä½œç»„è´Ÿè´£ï¼ŒTaro RN ä¸»è¦ç”±è¯¥å·¥ä½œç»„çš„ Owner <a href="https://avatars1.githubusercontent.com/u/1876158?s=88&amp;u=0305430cab9f7a516c720e7fc7f8680df1c835b9&amp;v=4" target="_blank" rel="noopener noreferrer">zhiqingchen</a> ï¼Œå…¶ä¸ 58 åŒåŸçš„å°ä¼™ä¼´ä¸»è¦è´Ÿè´£ç›¸å…³èƒ½åŠ›çš„æ¶æ„ä¸ç ”å‘å·¥ä½œã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-rn.jpeg" alt="taro-rn.jpeg" class="img_ROth"></p><p>Taro RN ç›®å‰ä¹Ÿåœ¨é«˜é€Ÿè¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ—¥ç›¸å…³çš„ Issue å’Œ PR éƒ½ååˆ†æ´»è·ƒï¼Œç¤¾åŒºæäº¤çš„éœ€æ±‚åœ¨è¯„ä¼°è¿‡åï¼Œä¹Ÿèƒ½å¿«é€Ÿç›¸åº”ã€‚ç›®å‰æå‡ºçš„è¿™äº›ç‰¹æ€§ï¼Œåœ¨å®Œæˆç›¸å…³çš„è¯„å®¡ä¹‹åï¼Œä¹Ÿä¼šæŒ‰ç…§ä¼˜å…ˆçº§é€ä¸€åœ¨åç»­ç‰ˆæœ¬ä¸­å‘ˆç°ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åº">å°ç¨‹åº<a class="hash-link" href="#å°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>å¯¹äºå°ç¨‹åºç”Ÿæ€çš„æŒç»­æ€§æ¢ç´¢ï¼Œä¸€ç›´ä»¥æ¥éƒ½æ˜¯æˆ‘ä»¬å‰è¡Œçš„æ–¹å‘ï¼Œè‡ª Taro è¯ç”Ÿè‡³ä»Šä»æœªåœæ­¢è¿‡ç›¸å…³çš„æ¢ç´¢ï¼Œå½“å‰çš„è·¨ç«¯æ–¹æ¡ˆï¼Œå„ç§æ··åˆå¼€å‘çš„èƒ½åŠ›ç­‰ç­‰éƒ½æ˜¯åœ¨è¿™æ¡è·¯ä¸Šå¯»è§…æ‰€å¾—ã€‚æ—¶è‡³ 2022 å¹´ï¼Œåœ¨è¿™æ¡è·¯ä¸Šä¾æ—§æœªèƒ½ç©·å°½ï¼Œä¹Ÿæœ‰å¾ˆå¤šå¼€å‘è€…ä»¬ç¿˜é¦–ä»¥ç›¼çš„æ–°ç‰¹æ€§æ­£åœ¨åŠªåŠ›ç ”å‘çš„è¿‡ç¨‹ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ¢ç´¢æ–°ç‰¹æ€§">æ¢ç´¢æ–°ç‰¹æ€§<a class="hash-link" href="#æ¢ç´¢æ–°ç‰¹æ€§" title="Direct link to heading">â€‹</a></h3><p>æœ€å—å¼€å‘è€…ä»¬æœŸå¾…çš„æ˜¯é¢„æ¸²æŸ“éª¨æ¶å±æ–¹æ¡ˆï¼›å…¶æ¬¡åˆ™æ˜¯ Web Component å’Œ History è¿™äº›æ‰“é€š Web ç«¯èƒ½åŠ›çš„ç‰¹æ€§ï¼›åŒæ ·ä¹Ÿæœ‰ä¸åœ¨å°‘æ•°çš„å¼€å‘è€…å¸Œæœ›èƒ½å¤Ÿæ”¯æŒå°ç¨‹åºçš„ wxs è¯­æ³•â€¦â€¦</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-mini.jpeg" alt="taro-mini.jpeg" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ··åˆå¼€å‘èƒ½åŠ›">æ··åˆå¼€å‘èƒ½åŠ›<a class="hash-link" href="#æ··åˆå¼€å‘èƒ½åŠ›" title="Direct link to heading">â€‹</a></h3><p>ä½¿ç”¨æ··åˆå¼€å‘èƒ½åŠ›æ¥æ‹“å±•èƒ½åŠ›è¾¹ç•Œï¼Œä¸°å¯Œå°ç¨‹åºç”Ÿæ€é€æ¸æˆä¸ºå¾ˆå¤šå¼€å‘è€…çš„é€‰æ‹©ã€‚Taro ä¹Ÿåœ¨å¤šç«¯ç”Ÿæ€èåˆä¸­ï¼Œæœ‰å¾ˆå¤šåŠªåŠ›ä¸å°è¯•ï¼Œæ¯”æ–¹è¯´ taro-convert å’Œ taro-blended ç­‰ç­‰éƒ½åœ¨å°è¯•æ‰“ç ´å¤šç«¯ç”Ÿæ€çš„è¾¹ç•Œï¼Œä½†æ˜¯åœ¨æ··åˆå¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¾æ—§æœ‰ä¸å°‘æœ‰å¾…å®Œå–„ã€‚</p><p>å¾ˆå¤šå¼€å‘è€…æœ‹å‹å¯¹äº Vue ç”Ÿæ€æœ‰ç€å¾ˆé«˜çš„éœ€æ±‚ï¼Œä¸è®ºæ˜¯å¾®ä¿¡ã€æ”¯ä»˜å®å°ç¨‹åºæ’ä»¶ï¼Œè¿˜æ˜¯å¼€å‘ç‹¬ç«‹åˆ†åŒ…ï¼Œéƒ½æœ‰è¶…è¿‡äº”æˆçš„æŠ•ç¥¨ï¼Œåœ¨ä¹‹åçš„ç ”å‘ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä¼šä¸Šè°ƒç›¸å…³ç‰¹æ€§çš„ä¼˜å…ˆçº§ï¼Œæ•¬è¯·æœŸå¾…ï½</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-mini-plugin.jpeg" alt="taro-mini-plugin.jpeg" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘ä¸­æœ€å¸¸ç”¨çš„-taro-ç‰ˆæœ¬æ˜¯">å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ Taro ç‰ˆæœ¬æ˜¯ï¼Ÿ<a class="hash-link" href="#å¼€å‘ä¸­æœ€å¸¸ç”¨çš„-taro-ç‰ˆæœ¬æ˜¯" title="Direct link to heading">â€‹</a></h2><p>ä» Taro æ­£å¼å¼€æºç®—èµ·ï¼ŒæŒ‰ç…§ç‰ˆæœ¬å·å¯ä»¥åˆ†æˆå››ç±»ï¼Œç›®å‰æœ€å—æ¬¢è¿çš„æ˜¯ Taro 3.xï¼Œä¹Ÿå°±æ˜¯ 20 å¹´å›¢é˜Ÿæå‡ºçš„å¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶æ–¹æ¡ˆï¼Œæœ‰è¶…è¿‡ 90 % çš„å¼€å‘è€…æ­£åœ¨åŸºäºè¿™ä¸ªç‰ˆæœ¬å¼€å‘é¡¹ç›®ï¼Œå…¶ä¸­è¶…è¿‡äº”æˆå¼€å‘è€…æ­£åœ¨ä½¿ç”¨æœ€æ–°çš„ 3.4 ç‰ˆæœ¬ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-version.jpeg" alt="taro-version.jpeg" class="img_ROth"></p><p>Taro 3 æ–¹æ¡ˆå—åˆ°ç¤¾åŒºçš„å¹¿æ³›æ¥å—è¿™ä»¶äº‹ï¼Œè®©å›¢é˜Ÿå†…å¤‡å—é¼“èˆï¼Œå¯¹äºæ–¹æ¡ˆèƒ½åŠ›ä¼˜åŒ–ä¸è¾¹ç•Œæ‹“å±•ä¹Ÿä¸€ç›´æ˜¯æˆ‘ä»¬ä¸‹è‹¦åŠŸçš„åœ°æ–¹ã€‚å½“ç„¶ä¹Ÿæœ‰ä¸å°‘å¼€å‘è€…åœ¨é—®å·ä¸­è¡¨ç¤ºè‡ªå·±è¿˜æœ‰ä¸€äº›é¡¹ç›®æ­£åœ¨ä¾èµ– Taro çš„å†å²ç‰ˆæœ¬ï¼Œä¹Ÿä¸å¿…å¤ªè¿‡æ‹…å¿ƒï¼Œå°½ç®¡ Taro å›¢é˜Ÿå·²ç»å…¬å‘Šè¿‡æš‚åœç»´æŠ¤ç›¸å…³ç‰ˆæœ¬ï¼Œä½†æ˜¯å¯¹äºä¸€äº›é‡å¤§çš„é—®é¢˜ï¼Œä¾æ—§ä¼šå‘æ–°ç‰ˆæœ¬ä¿®å¤ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¸è¿›å¼æ–‡æ¡£ä¸æ•™ç¨‹">æ¸è¿›å¼æ–‡æ¡£ä¸æ•™ç¨‹<a class="hash-link" href="#æ¸è¿›å¼æ–‡æ¡£ä¸æ•™ç¨‹" title="Direct link to heading">â€‹</a></h2><blockquote><p>æ–‡æ¡£ &amp; è§†é¢‘ &amp; ç›´æ’­</p></blockquote><p>ç¤¾åŒºåŒ–è¿è¥æ˜¯ Taro å¾ˆé•¿æ—¶é—´ä»¥æ¥è¿½æ±‚çš„ç›®æ ‡ï¼ŒTaro RFCã€Task List è¿˜æœ‰è´¡çŒ®è€…ç­‰æœºåˆ¶éƒ½æ˜¯åŸºäºè¿™ä¸€è¯‰æ±‚é€æ­¥è®¾è®¡å®Œå–„çš„è®¾è®¡çš„ã€‚ä¸ºäº†èƒ½å¤Ÿè¾¾æˆè¿™ä¸€ç›®çš„ï¼Œåœ¨å„ç±»æŠ€æœ¯æ–‡ç« å’Œæ¸è¿›å¼æ–‡æ¡£ç­‰ç­‰ä¹Ÿæœ‰å†…å®¹æŒç»­æ€§è¾“å‡ºã€‚è¿™æ¬¡è°ƒç ”çš„å››ä¸ªæ–¹å‘ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´éƒ½æœ‰æ–‡ç« è¾“å‡ºçš„é¢†åŸŸï¼Œåœ¨é—®å·ä¸­ä¹Ÿæœ‰å¾ˆå¤šæœ‹å‹æåˆ°äº†æœ€ä½³å®è·µã€ä½“ç§¯ä¼˜åŒ–ç­‰ç­‰ç›¸å…³çš„å†…å®¹ä¹Ÿä¼šæ•´ç†æˆæ–‡ç« æˆ–æ•™ç¨‹è¾“å‡ºï¼Œå¤§å®¶å¦‚æœæœ‰æ›´å¤šæƒ³æ³•ä¹Ÿå¯ä»¥æå‡ºï¼Œå’Œ Taro ç›¸å…³çš„æ–‡ç« ä¹Ÿå¯ä»¥åœ¨ <strong>Taro ç¤¾åŒº</strong>ä¸­æŠ•ç¨¿ï¼Œä¸°å¯Œç¤¾åŒºçš„åŠ¨æ€èµ„è®¯ã€‚</p><p>2022 å¹´ï¼Œè‡ª Taro å¼€æºä»¥æ¥å·²ç»å¿«è¶³è¶³å››å¹´ï¼Œç›´æ’­è¯¾ç¨‹ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´æƒ³åšä½†æ²¡æœ‰è¶³å¤ŸäººåŠ›å»å®Œæˆçš„å†…å®¹ï¼Œä»Šå¹´æˆ‘ä»¬ä¼šè€ƒè™‘åœ¨é‡å¤§ç‰ˆæœ¬æˆ–å…¶ä»–åˆé€‚çš„æ—¶æœºå»å®ç°è¿™ä»¶äº‹æƒ…ï¼Œä¾§é‡çš„ä¸»é¢˜è¿˜ä¼šå†æ–Ÿé…Œæ€é‡ï¼Œå¦‚æœæ„Ÿå…´è¶£å¯ä»¥ç»§ç»­å…³æ³¨è¿™æ–¹é¢çš„åŠ¨æ€ï¼Œæˆ–è€…åœ¨è¯„è®ºåŒºè¯´è¯´ä½ ä»¬çš„çœ‹æ³•ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/aotu-team/zakary-blog/2022-03-24-Taro-feature/taro-edu.jpeg" alt="taro-edu.jpeg" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p>åœ¨é—®å·æœ‰ä¸€é“å¼€æ”¾é¢˜ä¸­ï¼Œæˆ‘ä»¬è¯¢é—®äº†å¤§å®¶å¯¹äº Taro çš„å‘å±•æœ‰ä»€ä¹ˆçœ‹æ³•å’Œæ„è§ï¼Œç›¸å½“å¤šæœ‹å‹éƒ½åœ¨è¿™ä¸€é¢˜ä¸­ç•™è¨€ï¼Œå…¶ä¸­ä¸ä¹è§è§£æ·±åˆ»çš„é•¿æ–‡è§£è¯»ã€‚æ­£æ˜¯è¿™äº›æ¥è‡ªå„ä½å¼€å‘è€…æœ‹å‹ä»¬çš„çœ‹æ³•ï¼Œè®©æˆ‘ä»¬å¯¹äºç¤¾åŒºæœ‰äº†æ›´æ·±åˆ»çš„è®¤çŸ¥ï¼ŒåŒæ—¶ä¹Ÿæ„è¯†åˆ°äº†å¯¹äºç›®å‰çš„ Taro æ¥è¯´ï¼Œåœ¨å¾ˆå¤šæ–¹é¢éƒ½æœ‰è¶³å¤Ÿçš„æå‡ç©ºé—´ï¼Œè¿™ä¹Ÿè®©æˆ‘ä»¬ç¡®ä¿¡ç›®å‰ç¤¾åŒºå‰è¡Œçš„æ–¹å‘æ˜¯å¯¹çš„ï¼Œæ­£æœ‰è¶³å¤Ÿå¤šçš„åŒä¼´å’Œæˆ‘ä»¬æºæ‰‹å…±è¿›ã€‚</p><p>æœ‰å¾ˆå¤šæœ‹å‹éƒ½æåˆ°äº† Taro å¯¹äº Vue ç”Ÿæ€æ”¯æŒåŠ›åº¦çš„ä¸è¶³ï¼Œå¸Œæœ›åœ¨ä½¿ç”¨ Vue æ—¶èƒ½è·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒï¼›æˆ‘ä»¬åŒæ ·æ³¨æ„åˆ°ï¼Œå¾ˆå¤šæœ‹å‹å¸Œæœ›æ–‡æ¡£å¯ä»¥æ›´åŠ å®Œå–„ï¼Œå¯¹äºæ¡†æ¶åŸç†å’Œå„ä¸ªç‰ˆæœ¬åŠŸèƒ½æœ‰æ›´å…¨é¢çš„æŒ‡å¼•ï¼Œå¯¹äºè´¡çŒ®è€…å’Œå¼€å‘è€…éƒ½æœ‰æ›´å¥½çš„ä½“éªŒï¼›ç”Ÿæ€ä¸å¤Ÿå¥å£®ï¼Œç¼ºå°‘å¼ºæœ‰åŠ›çš„ç ”å‘å·¥å…·è¾…åŠ©å¼€å‘ï¼ŒåŒ…æ‹¬å¯é çš„ UI åº“ç­‰ç­‰â€¦â€¦è¿™äº›é—®é¢˜ä¸­ï¼Œæœ‰å¾ˆå¤šéƒ½æ˜¯æˆ‘ä»¬æ­£åœ¨åŠªåŠ›æ¢ç´¢å¹¶è§£å†³çš„ï¼Œæœ‰äº›åšå¾—ä¸å¤Ÿçš„åœ°æ–¹ä¹Ÿå¸Œæœ›å¤§å®¶å¯ä»¥å‚ä¸è¿›æ¥ï¼Œå…±åŒä¸ºç¤¾åŒºç”Ÿæ€å»ºè®¾å‡ºä¸€ä»½åŠ›ã€‚</p><p>å½“ç„¶ä¹Ÿæœ‰äº›è®¸æ„ŸåŠ¨ï¼Œå¾ˆå¤šå°ä¼™ä¼´é€å‡ºäº†å¤§é‡çš„ç¥ç¦å’Œé¼“åŠ±ï¼Œå¾ˆæ„Ÿè°¢å¤§å®¶å¯¹äº Taro ç¤¾åŒºçš„æ”¯æŒï¼Œä¹Ÿæ­£æ˜¯å› æ­¤ï¼Œè¿˜æœ‰å¤§é‡è´¡çŒ®è€…ä¸º Taro å¼€æºåšå‡ºçš„åŠªåŠ›ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥èµ°åˆ°ä»Šå¤©ã€‚</p><p>ä»Šåï¼ŒTaro ä¹Ÿä¼šä»¥æ›´åŠ åšå®šçš„å§¿æ€å‘å‰è¿ˆè¿›ï¼Œå¤§å®¶æœ‰ä»»ä½•æ„è§æˆ–é—®é¢˜éƒ½å¯ä»¥åœ¨è¯„è®ºåŒºç•™ä¸‹è‡ªå·±çš„çœ‹æ³•ï¼Œæ¯ä¸€æ¡åé¦ˆæˆ‘ä»¬éƒ½ä¼šä»”ç»†é˜…è¯»ï¼Œå¸Œæœ›å¯ä»¥å’Œå¤§å®¶ä¸€åŒè§è¯ Taro ç¤¾åŒºçš„ç¹è£ã€‚</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro æ­£å¼å‘å¸ƒ 3.4 ç‰ˆæœ¬ â€”â€” å…¨é¢æ”¯æŒ Preact å’Œ Vue3.2]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2022-01-20-Taro-3.4</link>
            <guid>2022-01-20-Taro-3.4</guid>
            <pubDate>Thu, 20 Jan 2022 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>è· Taro v3.4 beta ç‰ˆæœ¬çš„å‘å¸ƒå·²æœ‰ä¸€æ®µæ—¶é—´ï¼ŒæœŸé—´æˆ‘ä»¬å®Œå–„äº†å¯¹ Preact å’Œ Vue3 çš„æ”¯æŒï¼ŒåŠ å…¥äº†ä¸€äº›æœ‰è¶£çš„ç‰¹æ€§ï¼Œæ›´æ˜¯å¯¹ H5 ä½œäº†å¤§å¹…åº¦çš„ä¼˜åŒ–ä¸è°ƒæ•´ï¼Œå¹¶äºè¿‘æœŸå‘å¸ƒäº† v3.4 çš„æ­£å¼ç‰ˆæœ¬ã€‚</p><blockquote><p>ä¸Šæœˆæˆ‘ä»¬è¿˜æ¨å‡ºäº†æ”¯æŒå¼€å‘é¸¿è’™åº”ç”¨çš„ v3.5.0 canary ç‰ˆæœ¬ï¼Œæ¬¢è¿å„ä½åŒå­¦å…³æ³¨~</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€æ”¯æŒä½¿ç”¨-preact"><strong>ä¸€ã€æ”¯æŒä½¿ç”¨ Preact</strong><a class="hash-link" href="#ä¸€æ”¯æŒä½¿ç”¨-preact" title="Direct link to heading">â€‹</a></h2><p>å¼€å‘å°ç¨‹åºåº”ç”¨æ—¶æˆ‘ä»¬ç»å¸¸ä¼šå—åˆ°åŒ…ä½“ç§¯çš„æ£è‚˜ï¼Œå¤§å‹åº”ç”¨å¸¸å¸¸ä¸ºäº†â€œå°ºåœŸå¯¸é‡‘â€çš„åŒ…ä½“ç§¯å¼€å±•ç˜¦èº«è¡ŒåŠ¨ã€‚åœ¨æ­¤èƒŒæ™¯ä¸‹ React å°†è¿‘ 100k çš„ä½“ç§¯åˆ™æ˜¾å¾—æœ‰ç‚¹è¿‡äºå¥¢ä¾ˆã€‚å› æ­¤ Taro v3.4 å®ç°äº†å¯¹ Preact çš„æ”¯æŒï¼Œä»…éœ€å°‘é‡é…ç½®å³å¯ä» React åˆ‡æ¢åˆ° Preactï¼Œæœ‰æ•ˆåœ°é™ä½äº†åŒ…ä½“ç§¯ã€‚</p><blockquote><p><a href="https://preactjs.com/" target="_blank" rel="noopener noreferrer">Preact</a> æ˜¯ä¸€æ¬¾ä½“ç§¯è¶…å°çš„ç±» React æ¡†æ¶ï¼Œæä¾›å’Œ React å‡ ä¹ä¸€è‡´çš„ APIï¼Œå…¼å®¹ React ç”Ÿæ€ï¼Œè€Œä½“ç§¯åªæœ‰ 5k å·¦å³ã€‚</p></blockquote><p>é€‚é…æ€è·¯ä¸å…·ä½“ç”¨æ³•è¯·å‚é˜…  <a href="/taro-docs/blog/2021-11-24-Taro-3.4-beta#%E6%94%AF%E6%8C%81%E4%BD%BF%E7%94%A8-preact">ã€ŠTaro v3.4 å‘å¸ƒ beta ç‰ˆæœ¬ â€”â€” æ”¯æŒä½¿ç”¨ Preact è¿›è¡Œå¼€å‘ã€‹</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒæ›´å¥½åœ°æ”¯æŒ-vue-32"><strong>äºŒã€æ›´å¥½åœ°æ”¯æŒ Vue 3.2</strong><a class="hash-link" href="#äºŒæ›´å¥½åœ°æ”¯æŒ-vue-32" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-æ”¯æŒ-composition-api-ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­"><strong>1. æ”¯æŒ Composition API ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­</strong><a class="hash-link" href="#1-æ”¯æŒ-composition-api-ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­" title="Direct link to heading">â€‹</a></h3><blockquote><p><a href="/taro-docs/docs/next/composition-api">æ–‡æ¡£åœ°å€</a></p></blockquote><p>Vue 3.2 æ­£å¼æ¨å‡ºäº† <a href="https://v3.vuejs.org/api/sfc-script-setup.html#basic-syntax" target="_blank" rel="noopener noreferrer">script setup</a> è¯­æ³•ï¼Œè¿‡å» Taro çš„ Options å¼å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­éš¾ä»¥é…åˆ script setup è¯­æ³•è¿›è¡Œä½¿ç”¨ã€‚å› æ­¤ Taro v3.4 æä¾›äº† Composition API ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œæ–¹ä¾¿å¼€å‘è€…é…åˆ setup è¯­æ³•ç»„ç»‡å’Œå¤ç”¨ä»£ç é€»è¾‘ã€‚</p><p>ä¾‹å­ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">setup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#00009f">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:#393A34">{</span><span class="token script language-javascript imports"> useDidShow </span><span class="token script language-javascript imports punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#00009f">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">'@tarojs/taro'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:#d73a49">useDidShow</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">'onShow'</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ”¯æŒ-style-v-bind-è¯­æ³•"><strong>2. æ”¯æŒ <code>&lt;style&gt; v-bind</code> è¯­æ³•</strong><a class="hash-link" href="#2-æ”¯æŒ-style-v-bind-è¯­æ³•" title="Direct link to heading">â€‹</a></h3><p>Vue 3.2 çš„ <code>&lt;style&gt; v-bind</code> è¯­æ³•è®©æˆ‘ä»¬å¯ä»¥å¯¹æ ·å¼è¿›è¡Œæ•°æ®ç»‘å®šã€‚å®ƒçš„å®ç°ä½¿ç”¨äº† DOM çš„ MutationObserver APIï¼Œä½†ä¹‹å‰ Taro DOM æ²¡æœ‰æ¨¡æ‹Ÿå®ç°æ­¤ APIï¼Œå› æ­¤ä½¿ç”¨ <code>&lt;style&gt; v-bind</code> æ—¶ä¼šæŠ¥é”™ã€‚</p><p>æ„Ÿè°¢ <a href="https://github.com/b2nil" target="_blank" rel="noopener noreferrer">@b2nil</a> åŒå­¦ï¼Œå‚ç…§ <a href="https://github.com/ampproject/worker-dom" target="_blank" rel="noopener noreferrer">worker-dom</a> ä¸º Taro DOM å®ç°äº† <code>MutationObserver</code> APIï¼Œè®©æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>&lt;style&gt; v-bind</code>  è¯­æ³•ã€‚</p><blockquote><p>Taro DOM åªé’ˆå¯¹ Vue3 æš´éœ²äº† <code>MutationObserver</code> APIï¼Œä½¿ç”¨ React æˆ– Vue2 çš„åŒå­¦ä¸éœ€è¦æ‹…å¿ƒä¼šå¢å¤§ä»£ç ä½“ç§¯ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-æš´éœ²-vueloader-çš„é…ç½®"><strong>3. æš´éœ² VueLoader çš„é…ç½®</strong><a class="hash-link" href="#3-æš´éœ²-vueloader-çš„é…ç½®" title="Direct link to heading">â€‹</a></h3><blockquote><p><a href="/taro-docs/docs/next/vue3#compileroptions">æ–‡æ¡£åœ°å€</a></p></blockquote><p>å¼€å‘è€…æœ‰æ—¶éœ€è¦ä¿®æ”¹ VueLoader çš„é…ç½®ï¼Œä¾‹å¦‚ä½¿ç”¨å°ç¨‹åºåŸç”Ÿç»„ä»¶æ—¶éœ€è¦é…ç½® <code>compilerOptions.isCustomElement</code>ã€‚ä»¥å¾€å¼€å‘è€…åªèƒ½é€šè¿‡ <code>WebpackChain</code> å»ä¿®æ”¹ï¼ŒTaro v3.4 æš´éœ²äº† VueLoader çš„é…ç½®ï¼Œè®©å¼€å‘è€…å¯ä»¥æ›´æ–¹ä¾¿åœ°è¿›è¡Œä¿®æ”¹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰h5"><strong>ä¸‰ã€H5</strong><a class="hash-link" href="#ä¸‰h5" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-è‡ªå®šä¹‰å¤šè·¯ç”±é…ç½®"><strong>1. è‡ªå®šä¹‰å¤šè·¯ç”±é…ç½®</strong><a class="hash-link" href="#1-è‡ªå®šä¹‰å¤šè·¯ç”±é…ç½®" title="Direct link to heading">â€‹</a></h3><p>Taro-H5 è¿‡å»å¹¶ä¸æ”¯æŒå¤šè·¯ç”±è®¿é—®åŒä¸€ä¸ªé¡µé¢å®ä¾‹çš„æ“ä½œï¼Œå³ä¾¿é€šè¿‡è‡ªå®šä¹‰è·¯ç”±é…ç½®ä¹Ÿå¹¶ä¸èƒ½åœ¨å¤šä¸ªè·¯ç”±ä¸­è®¿é—®åŒä¸€ä¸ªé¡µé¢ã€‚</p><p>å› æ­¤ Taro-H5 æä¾›äº†è‡ªå®šä¹‰å¤šè·¯ç”±é…ç½®çš„å‚æ•°ï¼Œä¾›å¼€å‘è€…æ ¹æ®éœ€æ±‚è‡ªè¡Œé…ç½®ã€‚</p><blockquote><p><a href="/taro-docs/docs/next/config-detail#h5routercustomroutes">æ–‡æ¡£åœ°å€</a></p></blockquote><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;h5</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;router</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp;customRoutes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// "é¡µé¢è·¯å¾„": "è‡ªå®šä¹‰è·¯ç”±"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="token string" style="color:#e3116c">'/pages/index/index'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/index'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="token string" style="color:#e3116c">'/pages/detail/index'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'/detail'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¯ä»¥é€šè¿‡æ•°ç»„ä¸ºé¡µé¢é…ç½®å¤šä¸ªè‡ªå®šä¹‰è·¯ç”±</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-è·¯ç”±åŠ¨ç”»-by-shaogongbra"><strong>2. è·¯ç”±åŠ¨ç”» by <a href="https://github.com/ShaoGongBra" target="_blank" rel="noopener noreferrer">@ShaoGongBra</a></strong><a class="hash-link" href="#2-è·¯ç”±åŠ¨ç”»-by-shaogongbra" title="Direct link to heading">â€‹</a></h3><p>Taro-H5 æ”¯æŒäº†è·¯ç”±åŠ¨ç”»ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡é…ç½® <code>app.config.js</code> æ¥æ§åˆ¶é¡µé¢çš„åŠ¨ç”»æ•ˆæœï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¦†ç›– CSS æ ·å¼æ¥è°ƒæ•´åŠ¨ç”»ã€‚å½“ç„¶ä¸€äº›åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚é¡µé¢éœ€è¦ä½¿ç”¨ <code>position: fixed;</code> ä¼šå› ä¸º <code>translate3d</code> å½±å“å®é™…æ•ˆæœï¼Œå¯ä»¥å°†åŠ¨ç”»ç¦ç”¨ã€‚</p><blockquote><p><a href="/taro-docs/docs/next/app-config#animation">æ–‡æ¡£åœ°å€</a></p></blockquote><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;animation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// åŠ¨ç”»åˆ‡æ¢æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;duration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// åŠ¨ç”»åˆ‡æ¢æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;delay</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-dynamic-import-node"><strong>3. dynamic-import-node</strong><a class="hash-link" href="#3-dynamic-import-node" title="Direct link to heading">â€‹</a></h3><p>Taro-H5 æ‰“åŒ…æ—¶ä¼šå°†é¡µé¢å’Œç»„ä»¶æ‹†åˆ†æˆç‹¬ç«‹çš„æ–‡ä»¶æŒ‰éœ€åŠ è½½ï¼Œä½†è¿™ä¹ˆåšä¼šå¯¼è‡´æ²¡æœ‰ç”¨åˆ°çš„é¡µé¢å’Œç»„ä»¶ä¾æ—§ä¼šè¢«æ‰“åŒ…ï¼Œå¯¼è‡´ç¼–è¯‘ä½“ç§¯å˜å¤§ï¼Œåœ¨ä¸€äº›ç‰¹æ®Šåœºæ™¯ä¸­ï¼ˆæ¯”å¦‚ PWA ç­‰éœ€è¦ä¸¥æ ¼é™åˆ¶åŒ…ä½“å¤§å°æ—¶ï¼‰ä¼šå› æ­¤å—åˆ°ä¸å°çš„å›°æ‰°ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬é€šè¿‡ babel æ’ä»¶æä¾›äº†ç§»é™¤æ‡’åŠ è½½çš„æ–¹æ³•ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exports </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'taro'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp;framework</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'react'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp;hot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp; &nbsp;</span><span class="token string" style="color:#e3116c">'dynamic-import-node'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››æ–°å¢-defineappconfig-ä¸-definepageconfig-ç¼–è¯‘å®"><strong>å››ã€æ–°å¢ defineAppConfig ä¸ definePageConfig ç¼–è¯‘å®</strong><a class="hash-link" href="#å››æ–°å¢-defineappconfig-ä¸-definepageconfig-ç¼–è¯‘å®" title="Direct link to heading">â€‹</a></h2><blockquote><p>å†æ¬¡æ„Ÿè°¢ <a href="https://github.com/b2nil" target="_blank" rel="noopener noreferrer">@b2nil</a> åŒå­¦ä¸º Taro æ–°å¢äº†æ­¤ç‰¹æ€§ã€‚ æ–‡æ¡£åœ°å€ï¼š<a href="/taro-docs/docs/next/app-config#defineappconfig-%E5%AE%8F%E5%87%BD%E6%95%B0">defineAppConfig</a>ã€<a href="/taro-docs/docs/next/page-config#definepageconfig-%E5%AE%8F%E5%87%BD%E6%95%B0">definePageConfig</a></p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="defineappconfig"><strong>defineAppConfig</strong><a class="hash-link" href="#defineappconfig" title="Direct link to heading">â€‹</a></h3><p>å¼€å‘è€…å¯ä»¥ä½¿ç”¨ <code>defineAppConfig</code> åŒ…è£¹ App é…ç½®å¯¹è±¡ï¼Œä»¥è·å¾—å…¨å±€é…ç½®çš„<strong>ç±»å‹æç¤º</strong>å’Œ<strong>è‡ªåŠ¨è¡¥å…¨</strong>ï¼Œå¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-tsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-tsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// app.config.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineAppConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;pages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'pages/index/index'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;</span><span class="token dom variable" style="color:#36acaa">window</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp; &nbsp;navigationBarTitleText</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'WeChat'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="definepageconfig"><strong>definePageConfig</strong><a class="hash-link" href="#definepageconfig" title="Direct link to heading">â€‹</a></h3><p>ä½¿ç”¨ <code>definePageConfig</code> åŒ…è£¹ Page é…ç½®å¯¹è±¡ï¼ŒåŒæ ·å¯ä»¥è·å¾—é¡µé¢é…ç½®çš„<strong>ç±»å‹æç¤º</strong>å’Œ<strong>è‡ªåŠ¨è¡¥å…¨</strong>ï¼Œå¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-tsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-tsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// page.config.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">definePageConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;navigationBarTitleText</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'é¦–é¡µ'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é™¤æ­¤ä¹‹å¤–ï¼Œ<strong>å¼€å‘è€…å¯ä»¥ä¸æä¾›é¡µé¢çš„é…ç½®æ–‡ä»¶ï¼Œç›´æ¥åœ¨é¡µé¢é€»è¾‘æ–‡ä»¶ä¸­ä½¿ç”¨ <code>definePageConfig</code> å®šä¹‰é¡µé¢é…ç½®</strong>ã€‚</p><p>å¦‚åœ¨ React ä¸­ï¼š</p><div class="codeBlockContainer_H5s7 language-tsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-tsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// page.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">definePageConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &nbsp;navigationBarTitleText</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'é¦–é¡µ'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Index</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ Vue ä¸­ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:#d73a49">definePageConfig</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"> &nbsp;navigationBarTitleText</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">'é¦–é¡µ'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#00009f">export</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#00009f">default</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äº”å…¶å®ƒé‡è¦ç‰¹æ€§ä¸ä¼˜åŒ–"><strong>äº”ã€å…¶å®ƒé‡è¦ç‰¹æ€§ä¸ä¼˜åŒ–</strong><a class="hash-link" href="#äº”å…¶å®ƒé‡è¦ç‰¹æ€§ä¸ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ€§èƒ½"><strong>æ€§èƒ½</strong><a class="hash-link" href="#æ€§èƒ½" title="Direct link to heading">â€‹</a></h3><ul><li>ä¿®å¤ <code>eventSource</code> å¯¼è‡´çš„å†…å­˜æ³„æ¼çš„é—®é¢˜ï¼Œç›¸å…³ <a href="https://github.com/NervJS/taro/commit/41c7cef9b0832306e096121b84a26947b896416e" target="_blank" rel="noopener noreferrer">commit</a>ã€‚</li><li>ä¿®å¤ <code>CustomWrapper</code> åµŒå¥—ä½¿ç”¨åå¤±æ•ˆçš„é—®é¢˜ï¼Œæ„Ÿè°¢ <a href="https://github.com/CS-Tao" target="_blank" rel="noopener noreferrer">@CS-Tao</a> çš„è´¡çŒ®ã€‚</li><li>è¿è¡Œæ—¶ä½“ç§¯ä¼˜åŒ–ï¼Œç›¸æ¯” Taro v3.3 ç‰ˆæœ¬å¤§çº¦å‡å°‘äº† <strong>30k</strong> ç©ºé—´ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç‰¹æ€§"><strong>ç‰¹æ€§</strong><a class="hash-link" href="#ç‰¹æ€§" title="Direct link to heading">â€‹</a></h3><ul><li>æ”¯æŒå¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·çš„<strong>çƒ­é‡è½½</strong>åŠŸèƒ½ï¼Œ<a href="/taro-docs/docs/next/mini-troubleshooting#%E7%83%AD%E9%87%8D%E8%BD%BD">æ–‡æ¡£åœ°å€</a>ã€‚</li><li>æ”¯æŒæ”¯ä»˜å®å°ç¨‹åº <strong>2.0 æ„å»º</strong>ã€‚</li><li>H5 ç«¯æ”¯æŒé…ç½®æ¸²æŸ“é¡µé¢çš„å®¹å™¨ idï¼Œ<a href="/taro-docs/docs/next/app-config#appid">æ–‡æ¡£åœ°å€</a></li><li>H5 ç«¯è·¯ç”±è§„åˆ™è°ƒæ•´ï¼ŒQuery å‚æ•°ä¸å†æ·»åŠ åˆ° <code>pageId</code> ä¸­ï¼ŒåŒæ—¶ <code>TabBar</code> é¡µé¢ä¸ä¼šé‡æ–°åˆ›å»ºé‡å¤èŠ‚ç‚¹ã€‚</li><li>H5 ç«¯æ”¯æŒ <code>entryPagePath</code> å‚æ•°ï¼Œby <a href="https://github.com/liuchuzhang" target="_blank" rel="noopener noreferrer">@liuchuzhang</a></li><li>H5 ç«¯æ”¯æŒ <code>CoverView</code> &amp; <code>CoverImage</code> ç»„ä»¶ï¼Œby <a href="https://github.com/jiaozitang" target="_blank" rel="noopener noreferrer">@jiaozitang</a></li><li>H5 ç«¯æ”¯æŒ <code>NodesRef.context</code> &amp; <code>NodesRef.node</code> æ–¹æ³•</li><li>H5 ç«¯æ”¯æŒé€šè¿‡ <code>useResize</code> æ–¹æ³•ç›‘å¬ <code>resize</code> äº‹ä»¶</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä¿®å¤"><strong>ä¿®å¤</strong><a class="hash-link" href="#ä¿®å¤" title="Direct link to heading">â€‹</a></h3><ul><li>ä¿®å¤é¢„æ¸²æŸ“å¤±è´¥çš„é—®é¢˜ã€‚</li><li>ä¿®å¤å¤šä¸ªé¡µé¢ä½¿ç”¨åŒä¸€ä¸ªç»„ä»¶æ—¶ï¼Œå› ä¸ºç»„ä»¶å®šä¹‰äº† <code>id</code> è€Œå¯¼è‡´äº‹ä»¶è§¦å‘å¤±æ•ˆçš„é—®é¢˜ã€‚</li><li>ä¿®å¤ H5 ç«¯å¤šé¡µé¢æ»šåŠ¨äº‹ä»¶å¶å‘æ€§è§¦å‘é”™è¯¯é—®é¢˜ã€‚</li><li>ä¿®å¤ 3.x ä¸­ H5 ç«¯ API å¤±æ•ˆçš„ Shaking èƒ½åŠ›ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…­breaking-changes"><strong>å…­ã€Breaking Changes</strong><a class="hash-link" href="#å…­breaking-changes" title="Direct link to heading">â€‹</a></h2><ul><li>æ—§é¡¹ç›®å‡çº§åˆ° Taro v3.4 éœ€è¦å®‰è£…å¯¹åº”çš„<strong>æ¡†æ¶é€‚é…æ’ä»¶</strong>ï¼Œè¯¦æƒ…æµè§ˆå‡çº§æŒ‡å—ã€‚</li><li>ç™¾åº¦å°ç¨‹åºä½¿ç”¨ <code>onInit</code> ä»£æ›¿ <code>onLoad</code> ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ä¼˜åŒ–é¦–æ¬¡å¯åŠ¨æ—¶é—´ã€‚</li><li>H5 ç«¯è°ƒæ•´äº† showModal è¿”å›çš„ errMsg å‚æ•°ï¼Œå’Œå°ç¨‹åºæ¥å£å¯¹é½ï¼Œå¦‚æœé¡¹ç›®å†…é’ˆå¯¹è¿™ä¸ªå·®å¼‚åšè¿‡é€‚é…ï¼Œå¯ä»¥åœ¨å‡çº§åç§»é™¤ã€‚ <a href="https://github.com/NervJS/taro/issues/11040" target="_blank" rel="noopener noreferrer">#11040</a></li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‡çº§æŒ‡å—"><strong>å‡çº§æŒ‡å—</strong><a class="hash-link" href="#å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-æŠŠ-taro-cli-æ›´æ–°åˆ°-v340"><strong>1. æŠŠ Taro CLI æ›´æ–°åˆ° <code>v3.4.0</code>ï¼š</strong><a class="hash-link" href="#1-æŠŠ-taro-cli-æ›´æ–°åˆ°-v340" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ›´æ–°é¡¹ç›®ä¾èµ–"><strong>2. æ›´æ–°é¡¹ç›®ä¾èµ–</strong><a class="hash-link" href="#2-æ›´æ–°é¡¹ç›®ä¾èµ–" title="Direct link to heading">â€‹</a></h3><blockquote><p>å¦‚æœå®‰è£…å¤±è´¥æˆ–æ‰“å¼€é¡¹ç›®å¤±è´¥ï¼Œå¯ä»¥åˆ é™¤ <strong>node_modules</strong>ã€<strong>yarn.lock</strong>ã€<strong>package-lock.json</strong> åé‡æ–°å®‰è£…ä¾èµ–å†å°è¯•ã€‚</p></blockquote><p>ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>3.4.0</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3breaking-changeså®‰è£…å¯¹åº”çš„æ¡†æ¶é€‚é…æ’ä»¶"><strong>3.ã€Breaking Changesã€‘å®‰è£…å¯¹åº”çš„æ¡†æ¶é€‚é…æ’ä»¶</strong><a class="hash-link" href="#3breaking-changeså®‰è£…å¯¹åº”çš„æ¡†æ¶é€‚é…æ’ä»¶" title="Direct link to heading">â€‹</a></h3><p>å› ä¸º Taro v3.4 æŠŠå„å‰ç«¯æ¡†æ¶çš„é€‚é…é€»è¾‘æ‹†åˆ†åˆ°å¯¹åº”çš„æ’ä»¶ä¸­ï¼Œå› æ­¤æ—§é¡¹ç›®å‡çº§æ—¶éœ€è¦å®‰è£…å¯¹åº”æ¡†æ¶çš„é€‚é…æ’ä»¶ï¼š</p><ul><li>ä½¿ç”¨ Reactï¼Œè¯·å®‰è£… <code>@tarojs/plugin-framework-react</code></li><li>ä½¿ç”¨ Vue2ï¼Œè¯·å®‰è£… <code>@tarojs/plugin-framework-vue2</code></li><li>ä½¿ç”¨ Vue3ï¼Œè¯·å®‰è£… <code>@tarojs/plugin-framework-vue3</code></li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœ€å"><strong>æœ€å</strong><a class="hash-link" href="#æœ€å" title="Direct link to heading">â€‹</a></h2><p>æ¥ä¸‹æ¥ Taro v3.6 çš„å·¥ä½œé‡å¿ƒå°†ä¼šæ”¾åœ¨å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–ã€ç¼–è¯‘ç³»ç»Ÿå‡çº§ï¼ˆå¦‚å‡çº§ Webpack5ï¼‰å’Œä¼˜åŒ– H5 èƒ½åŠ›ï¼ˆå¦‚è¾“å‡º SSR æ–¹æ¡ˆã€ä¼˜åŒ–è·¯ç”±ç³»ç»Ÿç­‰ï¼‰ä¸Šã€‚</p><p>Taro è¿­ä»£çš„å¦ä¸€æ¡ä¸»çº¿æ˜¯å¯¹ <strong>é¸¿è’™åº”ç”¨ &amp;&amp; OpenHarmony</strong> çš„é€‚é…ï¼ŒTaro ä¸ OpenHarmony å›¢é˜Ÿæˆç«‹äº†<a href="https://gitee.com/NervJS/community/blob/master/sig/sig-crossplatformui/sig_crossplatformui_cn.md" target="_blank" rel="noopener noreferrer">è·¨å¹³å° UI å…´è¶£ç»„</a>ï¼Œå°†è”åˆç¤¾åŒºå…±åŒå±•å¼€é€‚é…å·¥ä½œã€‚ç›®å‰ç¬¬ä¸€é˜¶æ®µçš„å¼€å‘å·¥ä½œå·²å®Œæˆï¼Œå¹¶å‘å¸ƒäº† Taro v3.5-canary ç‰ˆæœ¬ã€‚</p><p>ç›¸å…³å’¨è¯¢ï¼š</p><ul><li><a href="https://github.com/NervJS/taro/discussions/categories/%E9%B8%BF%E8%92%99-openharmony-%E9%80%82%E9%85%8D%E5%B0%8F%E7%BB%84" target="_blank" rel="noopener noreferrer">é¸¿è’™ &amp;&amp; OpenHarmony é€‚é…å°ç»„</a></li><li><a href="https://github.com/NervJS/taro/projects/2" target="_blank" rel="noopener noreferrer">é€‚é…è¿›åº¦</a></li></ul><p>é¸¿è’™ &amp; OpenHarmony äº¤æµç¾¤ï¼š</p><p><img loading="lazy" src="http://storage.360buyimg.com/taro-jd-com/static/contact_taro_harmony_qr.png" alt="Taro X Harmony äº¤æµç¾¤" class="img_ROth"></p><p>æœ€åï¼Œè¡·å¿ƒæ„Ÿè°¢å‚ä¸äº† Taro å¼€æºå…±å»ºçš„å„ä½åŒå­¦ï¼Œä¹Ÿæ¬¢è¿æ›´å¤šçš„åŒå­¦å‚ä¸è¿›æ¥ï¼</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[å¦‚ä½•å‚ä¸å¤§å‹å¼€æºé¡¹ç›®-Taro å…±å»º]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2022-01-19-how-to-join-Taro</link>
            <guid>2022-01-19-how-to-join-Taro</guid>
            <pubDate>Wed, 19 Jan 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[æœ¬æ–‡è®²è¿°äº†å‚ä¸å¤§å‹å¼€æºé¡¹ç›®-Taro çš„æµç¨‹ï¼Œå…¶ä¸­ä»¥ä¸º Taro è§£å†³ issue çš„è§†è§’ï¼Œä»‹ç»äº†ä»è®¤é¢† issueã€è§£å†³ issueã€è´¡çŒ®ä»£ç çš„å®Œæ•´è¿‡ç¨‹ã€‚]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€èƒŒæ™¯">ä¸€ã€èƒŒæ™¯<a class="hash-link" href="#ä¸€èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>åœ¨å¼€å‘çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬éƒ½å¼•ç”¨è¿‡å¤§é‡çš„ç¤¾åŒºä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œä½†æ€ä¹ˆæ‰èƒ½æ›´å¥½çš„äº†è§£è¿™äº›å¼€æºé¡¹ç›®å‘¢ï¼Œç­”æ¡ˆæ˜¯ <strong>Join it</strong>ã€‚</p><p>å‚ä¸å¼€æºé¡¹ç›®ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ‹“å®½å¯¹ç ”å‘é¡¹ç›®çš„è®¤è¯†ï¼Œæ›´å¥½çš„ç†è§£å¼€æºé¡¹ç›®çš„åŸç†ï¼Œä»¥åŠæé«˜ä¸ªäººå½±å“åŠ›ã€ç«äº‰åŠ›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒé€‰æ‹©é¡¹ç›®">äºŒã€é€‰æ‹©é¡¹ç›®<a class="hash-link" href="#äºŒé€‰æ‹©é¡¹ç›®" title="Direct link to heading">â€‹</a></h2><p>äººå¯¹äºä¸ç†Ÿæ‚‰çš„ä¸œè¥¿æ€»æ˜¯è§‰å¾—é«˜æ·±è«æµ‹çš„ï¼Œæ²¡æœ‰å‚ä¸å¼€æºé¡¹ç›®çš„ç»éªŒçš„æ—¶å€™ï¼Œä¼šå¯¹å‚ä¸å¼€æºé¡¹ç›®ä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ã€‚</p><p>å…¶å®ä¸ç„¶ï¼Œåœ¨æˆ‘ä»¬å¼€å‘æ—¥å¸¸éœ€æ±‚æ—¶å°±å¯ä»¥å‚ä¸åˆ°å¼€æºé¡¹ç›®ä¸­æ¥ï¼Œå¼€å‘æ—¶ç”¨åˆ°çš„æŠ€æœ¯æ ˆï¼Œå°±æ˜¯æˆ‘ä»¬æœ€å€¼å¾—å…¥æ‰‹çš„å¼€æºé¡¹ç›®äº†ã€‚</p><p>åƒæˆ‘è‡ªå·±æ—¥å¸¸æœ‰å¼€å‘å¾®ä¿¡å°ç¨‹åºã€äº¬ä¸œå°ç¨‹åºç­‰è·¨å¹³å°çš„éœ€æ±‚ï¼Œè¿™ç±»å‹éœ€æ±‚ä¸»è¦æŠ€æœ¯æ ˆæ˜¯ <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a>ï¼Œ<a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a> æœ¬èº«å°±æ˜¯ github star è¿‘ 30 k çš„ä¼˜ç§€å¼€æºé¡¹ç›®äº†ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ä» Taro ç€æ‰‹ï¼Œå‚ä¸åˆ°å¼€æºé¡¹ç›®çš„å»ºè®¾å·¥ä½œä¸­ã€‚</p><p><img loading="lazy" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a28ef429b4047ea838208d14143f1f5~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰å¿«é€Ÿå¼€å§‹">ä¸‰ã€å¿«é€Ÿå¼€å§‹<a class="hash-link" href="#ä¸‰å¿«é€Ÿå¼€å§‹" title="Direct link to heading">â€‹</a></h2><p>é¦–å…ˆè¦äº†è§£ã€éµå®ˆå¼€æºé¡¹ç›®çš„è´¡çŒ®è§„èŒƒï¼Œä¸€èˆ¬å¯ä»¥åœ¨å®˜ç½‘æ‰¾åˆ°è´¡çŒ®è§„èŒƒæ–‡æ¡£ï¼Œå¦‚ <a href="/taro-docs/docs/CONTRIBUTING">Taro è´¡çŒ®æŒ‡å—</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-ç¡®å®šè´¡çŒ®å½¢å¼">1. ç¡®å®šè´¡çŒ®å½¢å¼<a class="hash-link" href="#1-ç¡®å®šè´¡çŒ®å½¢å¼" title="Direct link to heading">â€‹</a></h3><p>è´¡çŒ®å½¢å¼å¤šç§å¤šæ ·ï¼Œä¸‹é¢æˆ‘ä»¥ <strong>â€œæäº¤ä»£ç â€</strong> ç±»å‹å¿«é€Ÿå¼€å§‹è´¡çŒ®æµç¨‹ã€‚</p><p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b01d363357f24181835ac08d43196231~tplv-k3u1fbpfcp-zoom-1.image" alt="s17110101222022" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ‰¾åˆ°æ„Ÿå…´è¶£çš„-issue">2. æ‰¾åˆ°æ„Ÿå…´è¶£çš„ issue<a class="hash-link" href="#2-æ‰¾åˆ°æ„Ÿå…´è¶£çš„-issue" title="Direct link to heading">â€‹</a></h3><blockquote><p>Taro å®˜ç½‘ï¼šissue ä¸­ä¼šåˆ—å‡ºæ‰€æœ‰è¢«æ ‡è®°ä¸º Help Wanted çš„ Issuesï¼Œå¹¶ä¸”ä¼šè¢«åˆ†ä¸º Easyã€ Mediumã€ Hard ä¸‰ç§éš¾æ˜“ç¨‹åº¦ã€‚</p></blockquote><p>é€šè¿‡ issue æ ‡ç­¾ç­›é€‰ï¼Œé€‰æ‹©è‡ªå·±æ„Ÿå…´è¶£çš„ issueï¼Œå¯ä»¥å…ˆä» <strong>"Easy"</strong> çš„å¼€å§‹ï¼š</p><p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70b054166ff542e7be25584fde5f6de8~tplv-k3u1fbpfcp-zoom-1.image" alt="s17454801222022" class="img_ROth"></p><p>åœ¨ issue ä¸­ Assignees è‡³è‡ªå·±ï¼š</p><p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f1b088680d34783ac2712106b77cf4e~tplv-k3u1fbpfcp-zoom-1.image" alt="s17463701222022" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-fork--clone">3. fork &amp; clone<a class="hash-link" href="#3-fork--clone" title="Direct link to heading">â€‹</a></h3><p>fork Taro æºç è‡³è‡ªå·±ä»“åº“ï¼š</p><p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d23dd5050964d1ea3aa0b2f75c1d0c9~tplv-k3u1fbpfcp-zoom-1.image" alt="s17280901222022" class="img_ROth"></p><p>clone ä¸ªäººä»“åº“çš„ Taro æºç è‡³æœ¬åœ°ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/jiaozitang/taro</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-æœ¬åœ°å¼€å‘ç¯å¢ƒ">4. æœ¬åœ°å¼€å‘ç¯å¢ƒ<a class="hash-link" href="#4-æœ¬åœ°å¼€å‘ç¯å¢ƒ" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro æºç é¡¹ç›®ä¸­å®‰è£…ä¾èµ–å¹¶ç¼–è¯‘ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># å®‰è£…ä¾èµ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ç¼–è¯‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn build</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æŸ¥çœ‹è¯¥ issue æ¶‰åŠå“ªäº› packageï¼Œä¸ºè¿™äº› package è®¾ç½® yarn linkï¼Œå¹¶åœ¨æœ¬åœ°ç¼–è¯‘ï¼Œä½¿å¾—è°ƒè¯•é¡¹ç›®èƒ½å¤Ÿ link åˆ°å¼€å‘ä¸­çš„æºç ï¼š</p><blockquote><p>Taro package è¯´æ˜è§æ–‡æ¡£ï¼š<a href="/taro-docs/docs/codebase-overview">Taro ä»“åº“æ¦‚è§ˆ</a></p></blockquote><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># yarn link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd packages/taro-components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æœ¬åœ°ç¼–è¯‘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ–°å»º Taro é¡¹ç›®ç”¨äºè°ƒè¯• Taro æºç ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># ä½¿ç”¨ npm å®‰è£… CLI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npm install -g @tarojs/cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆå§‹åŒ–é¡¹ç›®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro init myApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># yarn link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn link "@tarojs/components"</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="5-å¼€å§‹å¼€å‘">5. å¼€å§‹å¼€å‘<a class="hash-link" href="#5-å¼€å§‹å¼€å‘" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="51-åŠŸèƒ½å¼€å‘">5.1 åŠŸèƒ½å¼€å‘<a class="hash-link" href="#51-åŠŸèƒ½å¼€å‘" title="Direct link to heading">â€‹</a></h4><p>é€šè¿‡ä»¥ä¸‹æ­¥éª¤è§£å†³ä¸Šè¿° <strong><a href="https://github.com/NervJS/taro/issues/8003" target="_blank" rel="noopener noreferrer">â€œtextarea ç»„ä»¶ onLineChange æ—¶é—´è°ƒç”¨æ— æ•ˆâ€</a></strong> issueï¼š</p><blockquote><p>æºç è·¯å¾„ï¼špackages/taro-components/src/components/textarea/textarea.tsx</p></blockquote><p>onLineChange äº‹ä»¶ï¼š</p><ul><li>æ–°å¢ onLineChange äº‹ä»¶</li><li>ç›‘å¬è¾“å…¥äº‹ä»¶ï¼Œè¾“å…¥æ—¶é€šè¿‡è¡Œé«˜è®¡ç®—è¡Œæ•°</li><li>è¡Œæ•°æ”¹å˜æ—¶è§¦å‘ onLineChange</li></ul><p>auto-height å±æ€§ï¼š</p><ul><li>æ–°å¢ auto-height å±æ€§</li><li>æ–°å¢ auto-height æ ·å¼</li></ul><p>å…·ä½“ä»£ç è§ï¼š<a href="https://github.com/NervJS/taro/pull/10681/files" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro/pull/10681/files</a></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="52-æ›´æ–°æµ‹è¯•ç”¨ä¾‹">5.2 æ›´æ–°æµ‹è¯•ç”¨ä¾‹<a class="hash-link" href="#52-æ›´æ–°æµ‹è¯•ç”¨ä¾‹" title="Direct link to heading">â€‹</a></h4><p>åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­æ·»åŠ å¯¹ onLineChange äº‹ä»¶ã€aotu-height å±æ€§çš„æµ‹è¯•ã€‚</p><blockquote><p>æºç è·¯å¾„ï¼špackages/taro-components/<!-- -->_<!-- -->_<!-- -->tests<!-- -->_<!-- -->_<!-- -->/textarea.spec.js</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="53-æ›´æ–°æ–‡æ¡£">5.3 æ›´æ–°æ–‡æ¡£<a class="hash-link" href="#53-æ›´æ–°æ–‡æ¡£" title="Direct link to heading">â€‹</a></h4><p>åœ¨ README ä¸­æ›´æ–°å¯¹ onLineChangeã€auto-height çš„æè¿°ã€‚</p><blockquote><p>æºç åœ°å€ï¼špackages/taro-components/src/components/textarea/index.md</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="54-è‡ªæµ‹">5.4 è‡ªæµ‹<a class="hash-link" href="#54-è‡ªæµ‹" title="Direct link to heading">â€‹</a></h4><p>åœ¨æœ¬åœ°æµ‹è¯•é¡¹ç›® myApp ä¸­ï¼Œè‡ªæµ‹ onLineChange äº‹ä»¶ã€auto-height å±æ€§åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œè‡ªæµ‹é€šè¿‡åï¼Œåœ¨ Taro æºç é¡¹ç›®ä¸­è·‘è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># è‡ªåŠ¨åŒ–æµ‹è¯•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npm run test</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="6-æäº¤-pull-request">6. æäº¤ pull request<a class="hash-link" href="#6-æäº¤-pull-request" title="Direct link to heading">â€‹</a></h3><p>æµ‹è¯•é€šè¿‡åï¼Œåœ¨ github ä¸­æäº¤ pull requrstã€‚</p><p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/711361ce7a3b4e8bb21920c717693e6e~tplv-k3u1fbpfcp-zoom-1.image" alt="s18260601222022" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="7-code-review-æµç¨‹">7. code review æµç¨‹<a class="hash-link" href="#7-code-review-æµç¨‹" title="Direct link to heading">â€‹</a></h3><p>æäº¤ pull request åç­‰å¾…ç¤¾åŒº code reviewï¼Œå¹¶åŠæ—¶è·Ÿè¿› code review åé¦ˆè¿›è¡Œä¿®æ”¹ã€‚</p><p><img loading="lazy" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ddab0a662824ad78e63b9ee2232d7c3~tplv-k3u1fbpfcp-zoom-1.image" alt="s09142901242022" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››æ€»ç»“">å››ã€æ€»ç»“<a class="hash-link" href="#å››æ€»ç»“" title="Direct link to heading">â€‹</a></h2><p>æœ¬æ–‡è®²è¿°äº†å‚ä¸å¤§å‹å¼€æºé¡¹ç›®-Taro çš„æµç¨‹ï¼Œå…¶ä¸­ä»¥ä¸º Taro è§£å†³ issue çš„è§†è§’ï¼Œä»‹ç»äº†ä»è®¤é¢† issueã€è§£å†³ issueã€è´¡çŒ®ä»£ç çš„å®Œæ•´è¿‡ç¨‹ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°å¦‚ä½•å‚ä¸å¼€æºé¡¹ç›®å¹¶å¸®åŠ©å¼€æºé¡¹ç›®è§£å†³é—®é¢˜ï¼Œåœ¨å¼€å‘å·¥ä½œä¸­é‡åˆ°å¼€æºé¡¹ç›®çš„é—®é¢˜æ—¶ï¼Œå°±å¯ä»¥æ„‰å¿«çš„å‚ä¸è¿›æ¥äº†ï¼Œä¸ç”¨å› ä¸ºä¸€ä¸ªå°é—®é¢˜è€½æé¡¹ç›®è¿›åº¦ã€‚</p><p>æ˜Ÿæ˜Ÿä¹‹ç«ï¼Œå¯ä»¥ç‡åŸï¼Œåœ¨è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…çš„å‚ä¸ä¸‹ï¼Œå¼€æºç¤¾åŒºçš„å‘å±•æœªæ¥å¯æœŸã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://juejin.cn/post/6844903918749614087" target="_blank" rel="noopener noreferrer">å¦‚ä½•å‚ä¸ä¸€ä¸ªé¡¶çº§å¼€æºé¡¹ç›®</a></li></ul>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro v3.5 å‘å¸ƒ canary ç‰ˆæœ¬ â€”â€” æ”¯æŒé€‚é… é¸¿è’™]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-12-08-Taro-3.5-canary</link>
            <guid>2021-12-08-Taro-3.5-canary</guid>
            <pubDate>Wed, 08 Dec 2021 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€èƒŒæ™¯">ä¸€ã€èƒŒæ™¯<a class="hash-link" href="#ä¸€èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>é¸¿è’™ä½œä¸ºåä¸ºè‡ªç ”å¼€å‘çš„ä¸€æ¬¾å¯ä»¥å®ç°ä¸‡ç‰©äº’è”çš„æ“ä½œç³»ç»Ÿï¼Œä¸€ç»æ¨å‡ºå°±å—åˆ°äº†å¾ˆå¤§çš„å…³æ³¨ï¼Œè¢«å›½äººå¯„äºˆäº†åšæœ›ã€‚è€Œé¸¿è’™ä¹Ÿæ²¡è®©äººå¤±æœ›ï¼Œä»Šå¹´ Harmony2.0 æ­£å¼æ¨å‡ºä¾›ç”¨æˆ·è¿›è¡Œå‡çº§ä¹‹åï¼Œåœ¨çŸ­çŸ­çš„ä¸‰ä¸ªæœˆå†…å®ç°äº† 1.2 äº¿çš„è£…æœºé‡ï¼Œå¹¶ä¸”åœ¨å‰ä¸ä¹…çš„åä¸ºå¼€å‘è€…å¤§ä¼šä¸Šï¼Œåä¸ºå®£å¸ƒ Harmony2.0 çš„è£…æœºé‡å·²ç»çªç ´äº† 1.5 äº¿ã€‚</p><p>ä¼—å¤šåº”ç”¨å‚å•†éƒ½é€æ­¥æ¨å‡ºäº†é€‚é…çš„é¸¿è’™åº”ç”¨ï¼ŒTaro ä½œä¸ºä¸€ä¸ªå¼€æ”¾å¼çš„ è·¨ç«¯è·¨æ¡†æ¶ è§£å†³æ–¹æ¡ˆï¼Œä¸å°‘å¼€å‘è€…æœŸå¾…å°†å°ç¨‹åºçš„èƒ½åŠ›ç§»æ¤åˆ°é¸¿è’™ OS ä¸Šï¼Œå¯ä»¥ä½¿ç”¨ Taro å¼€å‘é¸¿è’™ &amp;&amp; OpenHarmony åº”ç”¨ã€‚</p><p>é¸¿è’™çš„æ–¹èˆŸå¼€å‘æ¡†æ¶æä¾›ç±» Web èŒƒå¼ç¼–ç¨‹ï¼Œæ”¯æŒä½¿ç”¨ JS å¼€å‘ UI å±‚ï¼Œå…¶è¯­æ³•ä¸å°ç¨‹åºç›¸æ¥è¿‘ã€‚ç»è¿‡å‰æœŸè°ƒç ”ï¼Œå¯ä»¥æ²¿ç”¨ Taro ç°æœ‰çš„æ¶æ„é€‚é…é¸¿è’™</p><p>ä»Šå¹´ 6 æœˆä»½æˆ‘ä»¬æ–°å»ºäº†æ”¯æŒé¸¿è’™çš„ææ¡ˆï¼Œå¸Œæœ›èƒ½è¾¾æˆä¸‰å¤§ç›®æ ‡ï¼š</p><ul><li>å¼€å‘è€…å¯ä»¥ä½¿ç”¨ Taro å¼€å‘é¸¿è’™åº”ç”¨ã€‚</li><li>å¼€å‘è€…å¯ä»¥æŠŠç°æœ‰çš„ Taro åº”ç”¨é€‚é…åˆ°é¸¿è’™å¹³å°ã€‚</li><li>å¼€å‘è€…å¯ä»¥ä½¿ç”¨ Taro çš„åå‘è½¬æ¢å·¥å…·ï¼ŒæŠŠåŸç”Ÿå¼€å‘çš„å°ç¨‹åºè½¬æ¢ä¸º Taro åº”ç”¨ï¼Œå†é€‚é…åˆ°é¸¿è’™å¹³å°ã€‚</li></ul><p>ç›®å‰ Taro å’Œ OpenHarmony å»ºç«‹äº†å®˜æ–¹åˆä½œå…³ç³»ï¼Œå—é‚€å¹¶æˆç«‹äº†<a href="https://gitee.com/tangjiao11/community/blob/master/sig/sig-crossplatformui/sig_crossplatformui_cn.md" target="_blank" rel="noopener noreferrer">è·¨å¹³å°å‰ç«¯æ¡†æ¶å…´è¶£å°ç»„ï¼ˆSIG-CROSS-PLATFORM-UIï¼‰</a>ï¼ŒåŒæ—¶ Taro ä¸åä¸ºé¸¿è’™&amp;&amp;OpenHarmayä¿æŒç€å†…éƒ¨æ²Ÿé€šä¸åˆ†äº«ï¼ŒTaro æ‹¥æœ‰çš„æµ·é‡å¼€å‘è€…å’Œä¼˜ç§€æ¡ˆä¾‹ï¼Œèƒ½æœ‰æ•ˆè¡¥å……åä¸ºé¸¿è’™&amp;&amp;OpenHarmayç”Ÿæ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒå®ç°ç»†èŠ‚">äºŒã€å®ç°ç»†èŠ‚<a class="hash-link" href="#äºŒå®ç°ç»†èŠ‚" title="Direct link to heading">â€‹</a></h2><p>é¸¿è’™çš„ JS UI è¯­æ³•ä¸å°ç¨‹åºç±»ä¼¼ï¼Œä½†æ¯•ç«Ÿä¸¤è€…åº•å±‚åŸç†ä¸ä¸€æ ·ï¼Œä¸å¯é¿å…åœ°å­˜åœ¨è®¸å¤šå·®å¼‚ã€‚æ¥ä¸‹æ¥å°†ç®€å•ä»‹ç»é¸¿è’™ä¸å°ç¨‹åºçš„ä¸»è¦å·®å¼‚ï¼Œå’Œ Taro åˆæ˜¯å¦‚ä½•å¤„ç†è¿™äº›å·®å¼‚çš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-é¸¿è’™ä¸å°ç¨‹åºçš„å¼‚åŒ">1. é¸¿è’™ä¸å°ç¨‹åºçš„å¼‚åŒ<a class="hash-link" href="#1-é¸¿è’™ä¸å°ç¨‹åºçš„å¼‚åŒ" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="11-é¡¹ç›®ç»„ç»‡">1.1 é¡¹ç›®ç»„ç»‡<a class="hash-link" href="#11-é¡¹ç›®ç»„ç»‡" title="Direct link to heading">â€‹</a></h4><p>é¸¿è’™çš„é¡¹ç›®ç»„ç»‡å’Œå°ç¨‹åºç±»ä¼¼ï¼Œæœ‰å…¥å£æ–‡ä»¶ <code>app.js</code> ã€é¡µé¢ã€è‡ªå®šä¹‰ç»„ä»¶ã€‚</p><p>å…¶ä¸­é¡µé¢ã€è‡ªå®šä¹‰ç»„ä»¶å‡ç”±ä¸‰ç±»æ–‡ä»¶ç»„æˆï¼š</p><ul><li><code>.hml</code> ç”¨æ¥æè¿°å¸ƒå±€ç»“æ„ã€‚ä¸å°ç¨‹åºçš„æ¨¡æ¿æ–‡ä»¶ç›¸æ¯”ï¼Œè¯­æ³•ã€æ”¯æŒçš„èƒ½åŠ›æœ‰å°‘è®¸åŒºåˆ«ã€‚</li><li><code>.css</code> ç”¨æ¥æè¿°é¡µé¢æ ·å¼ã€‚</li><li><code>.js</code> ç”¨äºå¤„ç†é¡µé¢å’Œç”¨æˆ·çš„äº¤äº’ï¼Œé»˜è®¤æ”¯æŒ ES6 è¯­æ³•ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="12-é…ç½®æ–‡ä»¶">1.2 é…ç½®æ–‡ä»¶<a class="hash-link" href="#12-é…ç½®æ–‡ä»¶" title="Direct link to heading">â€‹</a></h4><p>å’Œå°ç¨‹åºè§„å®šçš„å…¥å£æ–‡ä»¶ã€é¡µé¢æ–‡ä»¶ã€è‡ªå®šä¹‰ç»„ä»¶å„è‡ªå¯¹åº”ä¸€ä»½é…ç½®æ–‡ä»¶ä¸ä¸€æ ·ï¼Œé¸¿è’™ JS UI çš„é…ç½®æ–‡ä»¶åªæœ‰ä¸€ä»½ã€‚</p><p>é¸¿è’™çš„<strong>è·¯ç”±</strong>å’Œå°ç¨‹åºä¸€æ ·æ˜¯é…ç½®å¼çš„ï¼Œéœ€è¦åœ¨ JS UI çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="13-æ ·å¼">1.3 æ ·å¼<a class="hash-link" href="#13-æ ·å¼" title="Direct link to heading">â€‹</a></h4><p>CSS æ–¹é¢ï¼Œé¸¿è’™å’Œ RN ä¸€æ ·æœ‰ç€è¯¸å¤šé™åˆ¶ã€‚ä¾‹å¦‚ä¸æ”¯æŒç›’å­æ¨¡å‹ã€å„ç»„ä»¶åªæ”¯æŒéƒ¨åˆ† CSS å±æ€§ç­‰ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="14-ç»„ä»¶--api">1.4 ç»„ä»¶ &amp; API<a class="hash-link" href="#14-ç»„ä»¶--api" title="Direct link to heading">â€‹</a></h4><p>é¸¿è’™æä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½ä¸°å¯Œçš„ç»„ä»¶ï¼Œä¸å°ç¨‹åºçš„ç»„ä»¶ç›¸æ¯”ï¼Œå‘½åã€åŠŸèƒ½ä¸Šç•¥æœ‰å·®åˆ«ã€‚</p><p>API ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸¤è€…çš„ API é›†åˆæœ‰éƒ¨åˆ†äº¤é›†ï¼Œç”¨æ³•ã€åŠŸèƒ½ä¸Šæœ‰å·®åˆ«ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-å…¼å®¹ç»†èŠ‚">2. å…¼å®¹ç»†èŠ‚<a class="hash-link" href="#2-å…¼å®¹ç»†èŠ‚" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="21-taro-å¯ä»¥è§£å†³ä»€ä¹ˆ">2.1 Taro å¯ä»¥è§£å†³ä»€ä¹ˆï¼Ÿ<a class="hash-link" href="#21-taro-å¯ä»¥è§£å†³ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h4><p>Taro é€‚é…é¸¿è’™è‡´åŠ›äºå°½å¯èƒ½åœ°æŠ¹å¹³å·®å¼‚ï¼Œä½†ä½œä¸ºä¸€ä¸ªæ¡†æ¶ï¼Œæ³¨å®šæœ‰å®ƒèƒ½å¤Ÿè§£å†³å’Œä¸èƒ½è§£å†³çš„é—®é¢˜ã€‚</p><p>è¯­æ³•å·®å¼‚å¯ä»¥é€šè¿‡ç¼–å†™è¿è¡Œæ—¶æ¡†æ¶å»å¤„ç†ï¼›ä½¿ç”¨é¸¿è’™çš„ç»„ä»¶ã€API å»å°½å¯èƒ½åœ°å®ç°å¾®ä¿¡å°ç¨‹åºè§„èŒƒçš„ç»„ä»¶å’Œ APIï¼Œä»¥æŠ¹å¹³ä¸¤è€…ä¹‹é—´çš„ä½¿ç”¨å·®åˆ«ã€‚</p><p>è€Œ CSS çš„å·®å¼‚ã€ç»„ä»¶å’Œ API èƒ½åŠ›ä¸Šçš„å·®å¼‚ç­‰ä¾èµ–ç€é¸¿è’™åº•å±‚å®ç°ï¼ŒTaro æ˜¯æ— æ³•è§£å†³çš„ã€‚</p><p><img loading="lazy" src="https://img11.360buyimg.com/imagetools/jfs/t1/207457/5/11670/466511/61b05b41E43730965/de2d1029083cc60d.png" alt="é€‚é…æ–¹æ¡ˆ" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="22-é¸¿è’™æ’ä»¶">2.2 é¸¿è’™æ’ä»¶<a class="hash-link" href="#22-é¸¿è’™æ’ä»¶" title="Direct link to heading">â€‹</a></h4><p>Taro åœ¨é¸¿è’™æ–¹é¢çš„å…¼å®¹å·¥ä½œä¸»è¦ç”± <code>@tarojs/plugin-platform-harmony</code> æ’ä»¶æ¥å®Œæˆï¼Œå¼€å‘è€…å¼•å…¥è¯¥æ’ä»¶å³å¯ç¼–è¯‘ä¸ºé¸¿è’™åº”ç”¨ã€‚å®ƒä¸»è¦åšäº†è¿™äº›é€‚é…å·¥ä½œï¼š</p><p><strong>a) æ¨¡æ¿</strong></p><p>ç†Ÿæ‚‰ Taro çš„åŒå­¦éƒ½åº”è¯¥æ¸…æ¥šï¼ŒTaro åœ¨å°ç¨‹åºç«¯åˆ©ç”¨ <code>&lt;template&gt;</code> æ ‡ç­¾çš„é€’å½’æ¥æ¸²æŸ“é¡µé¢åŠ¨æ€çš„ DOM æ ‘ã€‚è€Œé¸¿è’™ä¸­å¹¶æ²¡æœ‰ <code>&lt;template&gt;</code> ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶è¿›è¡Œé€’å½’ã€‚</p><p><strong>b) è¿è¡Œæ—¶</strong></p><p>è¿è¡Œæ—¶ä¸»è¦åœ¨é¸¿è’™ç«¯å…¼å®¹äº†å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œæ•°æ®æ›´æ–°æ–¹æ³• <code>setData</code> ã€‚</p><p><strong>c) ç»„ä»¶ &amp; API</strong></p><p>æˆ‘ä»¬ä½¿ç”¨é¸¿è’™çš„åŸç”Ÿè¯­æ³•å°è£…äº†ç¬¦åˆå¾®ä¿¡å°ç¨‹åºè§„èŒƒçš„ç»„ä»¶åº“å’Œ API åº“ã€‚åœ¨å…¼å®¹å¾®ä¿¡å°ç¨‹åºçš„å±æ€§çš„åŒæ—¶ï¼Œä¹Ÿä¿ç•™äº†é¸¿è’™ç‹¬æœ‰çš„æ”¯æŒå±æ€§ã€‚</p><p>ç›®å‰å…±é€‚é…äº† 29 ä¸ªç»„ä»¶ï¼Œ16 ç±»APIã€‚ç»„ä»¶ç¤ºä¾‹åº“å¯å‚è€ƒï¼š<a href="https://github.com/NervJS/taro-components-sample/tree/harmony" target="_blank" rel="noopener noreferrer">taro-components-sample</a></p><p><img loading="lazy" src="https://img14.360buyimg.com/imagetools/jfs/t1/137976/7/22742/2461697/61b17384Ebbb815c0/4949c696d9a49283.jpg" alt="ç»„ä»¶ç¤ºä¾‹å›¾" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-æ¶æ„å›¾">3. æ¶æ„å›¾<a class="hash-link" href="#3-æ¶æ„å›¾" title="Direct link to heading">â€‹</a></h3><p><img loading="lazy" src="https://img14.360buyimg.com/imagetools/jfs/t1/215443/28/7034/1135729/61b05b42E21c6230a/5e8fc76941f98920.png" alt="æ¶æ„å›¾" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰ä½¿ç”¨æ–¹æ³•">ä¸‰ã€ä½¿ç”¨æ–¹æ³•<a class="hash-link" href="#ä¸‰ä½¿ç”¨æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><p>å¦‚æ‚¨æ˜¯æ–°é¡¹ç›®ï¼Œ å‡çº§ Taro é€‰æ‹©é¸¿è’™æ¨¡æ¿å³å¯ï¼›</p><p>æ—§é¡¹ç›®éœ€è¦æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•è¿›è¡Œæ‰‹åŠ¨é…ç½®ï¼š</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-æŠŠ-taro-å‡çº§åˆ°-v350-canary0-ç‰ˆæœ¬">1. æŠŠ Taro å‡çº§åˆ° v3.5.0-canary.0 ç‰ˆæœ¬<a class="hash-link" href="#1-æŠŠ-taro-å‡çº§åˆ°-v350-canary0-ç‰ˆæœ¬" title="Direct link to heading">â€‹</a></h3><p>é¦–å…ˆéœ€è¦å®‰è£… <code>v3.5.0-canary.0</code> çš„ CLI å·¥å…·</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">npm i </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">g @tarojs</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">cli@canary</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åæ›´æ–°é¡¹ç›®æœ¬åœ°çš„ Taro ç›¸å…³ä¾èµ–ï¼šæŠŠ&nbsp;<code>package.json</code>&nbsp;æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º&nbsp;<code>~3.5.0-canary.0</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ã€‚</p><blockquote><p>å¦‚æœå®‰è£…å¤±è´¥æˆ–æ‰“å¼€é¡¹ç›®å¤±è´¥ï¼Œå¯ä»¥åˆ é™¤&nbsp;<strong>node_modules</strong>ã€<strong>yarn.lock</strong>ã€<strong>package-lock.json</strong>&nbsp;åé‡æ–°å®‰è£…ä¾èµ–å†å°è¯•ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-å®‰è£…-taro-é€‚é…é¸¿è’™æ’ä»¶">2. å®‰è£… taro é€‚é…é¸¿è’™æ’ä»¶<a class="hash-link" href="#2-å®‰è£…-taro-é€‚é…é¸¿è’™æ’ä»¶" title="Direct link to heading">â€‹</a></h3><p>ï¼ˆ1ï¼‰Taro é¡¹ç›®ä¸­å®‰è£…é¸¿è’™æ’ä»¶ <code>@tarojs/plugin-platform-harmony</code></p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn add </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">dev @tarojs</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">plugin</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">platform</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">harmony</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ï¼ˆ2ï¼‰åœ¨ config/index.js ä¸­å¢åŠ ç¼–è¯‘é…ç½®</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_fwIZ">config/index.js</div><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// é…ç½®ä½¿ç”¨æ’ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'@tarojs/plugin-platform-harmony'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mini</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœä½¿ç”¨å¼€å‘è€…å·¥å…·çš„é¢„è§ˆå™¨ï¼ˆpreviewerï¼‰è¿›è¡Œé¢„è§ˆçš„è¯ï¼Œéœ€è¦ä½¿ç”¨ development ç‰ˆæœ¬çš„ react-reconcilerã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å› ä¸º previewer å¯¹é•¿ä¸²çš„å‹ç¼©æ–‡æœ¬è§£ææœ‰é—®é¢˜ã€‚ï¼ˆçœŸæœº/è¿œç¨‹çœŸæœºæ²¡æœ‰æ­¤é—®é¢˜ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">debugReact</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœéœ€è¦çœŸæœºæ–­ç‚¹è°ƒè¯•ï¼Œéœ€è¦å…³é—­ sourcemap çš„ç”Ÿæˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">enableSourceMap</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// harmony ç›¸å…³é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">harmony</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ã€å¿…å¡«ã€‘é¸¿è’™åº”ç”¨çš„ç»å¯¹è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">projectPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../MyApplication'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ã€å¯é€‰ã€‘HAP çš„åç§°ï¼Œé»˜è®¤ä¸º 'entry'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">hapName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'entry'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ã€å¯é€‰ã€‘JS FA çš„åç§°ï¼Œé»˜è®¤ä¸º 'default'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">jsFAName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'default'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-å‡†å¤‡é¸¿è’™è¿è¡Œç¯å¢ƒ">3. å‡†å¤‡é¸¿è’™è¿è¡Œç¯å¢ƒ<a class="hash-link" href="#3-å‡†å¤‡é¸¿è’™è¿è¡Œç¯å¢ƒ" title="Direct link to heading">â€‹</a></h3><blockquote><p>å¼€å‘é¸¿è’™è½¯ä»¶éœ€è¦ç”¨åˆ° HUAWEI DevEco Studioï¼Œå®ƒæä¾›äº†æ¨¡æ¿åˆ›å»ºã€å¼€å‘ã€ç¼–è¯‘ã€è°ƒè¯•ã€å‘å¸ƒç­‰æœåŠ¡ã€‚</p></blockquote><p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><p>ï¼ˆ1ï¼‰æ³¨å†Œå¼€å‘è€…è´¦å·</p><p>ï¼ˆ2ï¼‰ä¸‹è½½ DevEco Studio å®‰è£…åŒ…</p><p>ï¼ˆ3ï¼‰å¯åŠ¨ DevEco Studioï¼Œæ ¹æ®å·¥å…·å¼•å¯¼ä¸‹è½½ HarmonyOS SDK</p><p>ï¼ˆ4ï¼‰æ–°å»º MyApplication JSé¡¹ç›®</p><p>ï¼ˆ5ï¼‰ä½¿ç”¨é¢„è§ˆå™¨æˆ–çœŸæœºæŸ¥çœ‹åº”ç”¨æ•ˆæœ</p><blockquote><p><a href="https://juejin.cn/post/6972109475347955749" target="_blank" rel="noopener noreferrer">ã€Šåˆçª¥é¸¿è’™ã€‹</a> <a href="https://developer.harmonyos.com/cn/develop/deveco-studio" target="_blank" rel="noopener noreferrer">ã€Šåä¸ºå¼€å‘è€…å·¥å…·ã€‹</a><a href="https://developer.harmonyos.com/cn/documentation" target="_blank" rel="noopener noreferrer">ã€Šé¸¿è’™å¼€å‘æ–‡æ¡£ã€‹</a></p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-é¡¹ç›®è¿è¡Œ">4. é¡¹ç›®è¿è¡Œ<a class="hash-link" href="#4-é¡¹ç›®è¿è¡Œ" title="Direct link to heading">â€‹</a></h3><p>è¿è¡Œå‘½ä»¤</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build â€”</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">type harmony â€”</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è‹¥æ‚¨åœ¨æ­¥éª¤ 2(2) è®¾ç½®å¥½äº†æ‰“åŒ…è¾“å‡ºåˆ°é¸¿è’™é¡¹ç›®çš„è·¯å¾„ï¼Œå³å¯æŸ¥çœ‹ Taro é€‚é…é¸¿è’™çš„åº”ç”¨æ•ˆæœã€‚</p><blockquote><p>testHarmony ä¸ºæ‚¨é€šè¿‡ DevEco Studio åˆ›å»ºçš„ JS é¡¹ç›®ã€‚</p></blockquote><p><img loading="lazy" src="https://img13.360buyimg.com/imagetools/jfs/t1/218013/26/7034/2593615/61b05b43Ec927d51c/f2990eef38343eca.png" alt="è¿è¡Œæ•ˆæœå›¾" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››æœ€å">å››ã€æœ€å<a class="hash-link" href="#å››æœ€å" title="Direct link to heading">â€‹</a></h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šç»§ç»­å®Œå–„å¯¹é¸¿è’™çš„é€‚é…å·¥ä½œï¼Œé¢„è®¡ä¼šåœ¨ 2022 å¹´ Q1 å‘å¸ƒ v3.5 æ­£å¼ç‰ˆã€‚</p><p>åŒæ—¶ä¹Ÿå¸Œæœ›ç¤¾åŒºæœ‰æ›´å¤šçš„å¼€å‘è€…å‚ä¸å…±å»ºï¼Œæ— è®ºæ˜¯æå‡º Issuesã€åœ¨è®ºå›å‘å¸–ã€æäº¤ PR è¿˜æ˜¯å¸®åŠ©å»ºè®¾å‘¨è¾¹ç”Ÿæ€ç­‰ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´éƒ½æ˜¯å®è´µçš„è´¢å¯Œï¼Œè®©æˆ‘ä»¬ä¸€èµ·æŠŠ Taro å»ºè®¾çš„æ›´å¼ºã€‚</p><p>Taro å›¢é˜Ÿè¡·å¿ƒæ„Ÿè°¢ä¸€è·¯èµ°æ¥å¤§å®¶å¯¹æˆ‘ä»¬çš„æ”¯æŒï¼Œæ­£æ˜¯å› ä¸ºå¤§å®¶çš„æœŸå¾…ã€ä¿¡èµ–æ•¦ä¿ƒæˆ‘ä»¬èµ°å‘æ›´å¥½ã€‚</p><p>æœ€åï¼Œè¯¥ç‰ˆæœ¬é¸¿è’™çš„é€‚é…ç”±äº¬ä¸œå†…é¸¿è’™å…±å»ºå°ç»„å…±åŒå®Œæˆï¼Œæ„Ÿè°¢ä»¥ä¸‹åŒå­¦ï¼š<a href="https://github.com/AdvancedCat" target="_blank" rel="noopener noreferrer">@AdvancedCat</a>ã€<a href="https://github.com/jiaozitang" target="_blank" rel="noopener noreferrer">@jiaozitang</a>ã€<a href="https://github.com/huozhongyi123" target="_blank" rel="noopener noreferrer">@huozhongyi123</a>ã€<a href="https://github.com/troy-sxj" target="_blank" rel="noopener noreferrer">@troy-sxj</a>ã€<a href="https://github.com/JSZabc" target="_blank" rel="noopener noreferrer">@JSZabc</a>ã€<a href="https://github.com/crazyonebyone" target="_blank" rel="noopener noreferrer">@crazyonebyone</a>ã€<a href="https://github.com/evernoteHW" target="_blank" rel="noopener noreferrer">@evernoteHW</a>ã€<a href="https://github.com/soulhat" target="_blank" rel="noopener noreferrer">@soulhat</a>ã€<a href="https://github.com/xueshuai" target="_blank" rel="noopener noreferrer">@xueshuai</a>ã€<a href="https://github.com/LuMeiling" target="_blank" rel="noopener noreferrer">@LuMeiling</a></p>]]></content:encoded>
            <category>v1</category>
        </item>
        <item>
            <title><![CDATA[Taro v3.4 å‘å¸ƒ beta ç‰ˆæœ¬ â€”â€” æ”¯æŒä½¿ç”¨ Preact è¿›è¡Œå¼€å‘]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-11-24-Taro-3.4-beta</link>
            <guid>2021-11-24-Taro-3.4-beta</guid>
            <pubDate>Wed, 24 Nov 2021 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>é¡¹ç›®ä½“ç§¯æ˜¯å›°æ‰°å°ç¨‹åºå¼€å‘è€…çš„ä¸€å¤§é—®é¢˜ï¼Œå¦‚æœå¼€å‘è€…ä½¿ç”¨ Taro React è¿›è¡Œå¼€å‘ï¼Œæ›´æ˜¯ä¸å¾—ä¸å¼•å…¥æ¥è¿‘ 100K çš„ React ç›¸å…³ä¾èµ–ï¼Œè¿™è®©é¡¹ç›®ä½“ç§¯å˜å¾—æ›´åŠ æ‰è¥Ÿè§è‚˜ã€‚å› æ­¤ï¼ŒTaro v3.4 çš„ä¸»è¦æ–¹å‘ï¼Œæ˜¯æ¢ç´¢å¯¹äº Preact çš„æ”¯æŒã€‚</p><blockquote><p><a href="https://preactjs.com/" target="_blank" rel="noopener noreferrer">Preact</a> æ˜¯ä¸€æ¬¾ä½“ç§¯è¶…å°çš„ç±» React æ¡†æ¶ï¼Œæä¾›å’Œ React å‡ ä¹ä¸€è‡´çš„ APIï¼Œè€Œä½“ç§¯åªæœ‰ 5k å·¦å³ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒä½¿ç”¨-preact">æ”¯æŒä½¿ç”¨ Preact<a class="hash-link" href="#æ”¯æŒä½¿ç”¨-preact" title="Direct link to heading">â€‹</a></h2><p>Taro v3.4 æ­£å¼å®ç°äº†å¯¹ Preact çš„æ”¯æŒï¼Œä¸‹æ–‡å°†ç®€å•ä»‹ç»é€‚é…æ€è·¯åŠç”¨æ³•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é€‚é…æ€è·¯">é€‚é…æ€è·¯<a class="hash-link" href="#é€‚é…æ€è·¯" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-è¿è¡Œæ—¶æ”¹é€ ">1. è¿è¡Œæ—¶æ”¹é€ <a class="hash-link" href="#1-è¿è¡Œæ—¶æ”¹é€ " title="Direct link to heading">â€‹</a></h4><p>Taro åœ¨å°ç¨‹åºç¯å¢ƒæ¨¡æ‹Ÿå®ç°äº†<a href="/taro-docs/docs/next/implement-note#%E8%BF%90%E8%A1%8C%E6%97%B6">ç±»æµè§ˆå™¨ç¯å¢ƒ</a>ï¼Œå› æ­¤ç†è®ºä¸Šä»»æ„çš„å‰ç«¯æ¡†æ¶éƒ½å¯ä»¥åœ¨ Taro ä¸­ä½¿ç”¨ã€‚</p><p>å¯¹äº Preactï¼Œå®ƒä¸ React æœ€å¤§çš„ä¸åŒåœ¨äºæ²¡æœ‰å®ç°<a href="https://reactjs.org/docs/events.html" target="_blank" rel="noopener noreferrer">åˆæˆäº‹ä»¶ç³»ç»Ÿ</a>ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨æµè§ˆå™¨çš„äº‹ä»¶æ–¹æ³•ï¼Œæ­¤å¤–è¿˜ä½¿ç”¨äº†å°‘é‡å’Œ React ä¸ä¸€æ ·çš„ DOM APIã€‚</p><p>å¯¹äºäº‹ä»¶çš„é€‚é…ï¼ŒTaro å·²ç»æä¾›äº†æµè§ˆå™¨è§„èŒƒçš„äº‹ä»¶æ–¹æ³•ï¼Œå› æ­¤åªéœ€è¦å†å¤„ç† Preact çš„äº‹ä»¶åä¸å°ç¨‹åºäº‹ä»¶åçš„å·®å¼‚ã€‚è€Œå¯¹äº DOM æ–¹æ³•ï¼Œåˆ™éœ€è¦é¢å¤–å®ç°  Preact ä½¿ç”¨åˆ°çš„ DOM APIã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-å…¼å®¹-react-ç”Ÿæ€">2. å…¼å®¹ React ç”Ÿæ€<a class="hash-link" href="#2-å…¼å®¹-react-ç”Ÿæ€" title="Direct link to heading">â€‹</a></h4><p>Preact ä½¿ç”¨äº† <code>preact/compat</code> å»ç£¨å¹³ä¸ React çš„ API å·®å¼‚ï¼Œè®© React çš„å„ç§ç”Ÿæ€åº“å¯ä»¥ç›´æ¥è¿è¡Œåœ¨ Preact ä¸Šã€‚å¾—ç›Šäºæ­¤ï¼Œå¼€å‘æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»æ„çš„ React ç”Ÿæ€åº“ï¼Œç”šè‡³å¯¹ Reactã€ReactDOM çš„ API å¼•ç”¨ä¹Ÿä¸éœ€è¦ä¿®æ”¹ï¼Œåªéœ€è¦ç®€å•åœ°é…ç½® <a href="https://preactjs.com/guide/v10/switching-to-preact#setting-up-compat" target="_blank" rel="noopener noreferrer">alias</a> å³å¯ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Webpack config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"resolve"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">"alias"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"react"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"preact/compat"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"react-dom/test-utils"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"preact/test-utils"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"react-dom"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"preact/compat"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"react/jsx-runtime"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"preact/jsx-runtime"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç”¨æ³•ä»‹ç»">ç”¨æ³•ä»‹ç»<a class="hash-link" href="#ç”¨æ³•ä»‹ç»" title="Direct link to heading">â€‹</a></h3><blockquote><p><a href="/taro-docs/docs/next/preact">æ–‡æ¡£åœ°å€</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°é¡¹ç›®">æ–°é¡¹ç›®<a class="hash-link" href="#æ–°é¡¹ç›®" title="Direct link to heading">â€‹</a></h4><p>è¿è¡Œ <code>taro init</code> æ—¶ï¼Œæ¡†æ¶é€‰æ‹© <strong>Preact</strong> å³å¯åˆ›å»ºåŸºäº Preact çš„é¡¹ç›®ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç°æœ‰çš„-react-é¡¹ç›®">ç°æœ‰çš„ React é¡¹ç›®<a class="hash-link" href="#ç°æœ‰çš„-react-é¡¹ç›®" title="Direct link to heading">â€‹</a></h4><ol><li><p>å°† CLIã€é¡¹ç›®ä¸­ Taro ç›¸å…³çš„ä¾èµ–æ›´æ–°åˆ° <code>v3.4.0-beta</code> ç‰ˆæœ¬ã€‚</p></li><li><p>å®‰è£…ä¾èµ–ï¼š</p></li></ol><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> preact @tarojs/plugin-framework-react</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="3"><li>ä¿®æ”¹ Taro ç¼–è¯‘é…ç½®ï¼š</li></ol><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_fwIZ">config/index.js</div><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">framework</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'preact'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="4"><li>ä¿®æ”¹ Babel é…ç½®ï¼š</li></ol><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_fwIZ">babel.config.js</div><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'taro'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">framework</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'preact'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="5"><li>å¦‚æœé¡¹ç›®ä½¿ç”¨äº† TypeScriptï¼Œè¯·æ‰“å¼€ <code>skipLibCheck</code> é…ç½®ï¼Œä»¥é¿å…å’Œå…¶å®ƒ React ç”Ÿæ€åº“é…åˆä½¿ç”¨æ—¶æŠ¥ç±»å‹é”™è¯¯ï¼š</li></ol><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_fwIZ">tsconfig.json</div><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"skipLibCheck"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="vue-3-æ”¯æŒ-composition-api-ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­">Vue 3 æ”¯æŒ Composition API ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­<a class="hash-link" href="#vue-3-æ”¯æŒ-composition-api-ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­" title="Direct link to heading">â€‹</a></h2><blockquote><p><a href="/taro-docs/docs/next/composition-api">æ–‡æ¡£åœ°å€</a></p></blockquote><p>Vue3 æä¾›äº† <a href="https://v3.vuejs.org/guide/composition-api-introduction.html#why-composition-api" target="_blank" rel="noopener noreferrer">Composition APIï¼ˆç»„åˆå¼ APIï¼‰</a> ç‰¹æ€§ï¼Œå’Œä¼ ç»Ÿçš„ Options API ä¸åŒï¼ŒComposition API æä¾›äº†å…¨æ–°çš„ç¼–ç æ–¹å¼ ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´å¥½åœ°å»ç»„ç»‡å’Œå¤ç”¨ä»£ç é€»è¾‘ã€‚</p><p>è¿‡å» Taro åªæä¾›äº† Options API ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå¼€å‘è€…å¾€å¾€å¯¹äºè¿™äº›é’©å­å’Œ <code>setup</code> å‡½æ•°å†…éƒ¨è¯¥å¦‚ä½•é€šè®¯ã€å¦‚ä½•å…±äº«æ•°æ®ç­‰é—®é¢˜æ„Ÿåˆ°å›°æƒ‘ï¼Œæ›´æ˜¯ä¸èƒ½å¾ˆå¥½åœ°å…¼å®¹ <a href="https://v3.vuejs.org/api/sfc-script-setup.html#basic-syntax" target="_blank" rel="noopener noreferrer">script setup</a> è¯­æ³•ã€‚</p><p>å› æ­¤ Taro v3.4 æä¾›äº† Composition API ç‰ˆæœ¬çš„å°ç¨‹åºç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œè®©å¼€å‘è€…æ›´æ–¹ä¾¿åœ°ä½¿ç”¨ <code>setup</code> è¯­æ³•ï¼Œä¾‹å­ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">setup</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#00009f">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:#393A34">{</span><span class="token script language-javascript imports"> useDidShow </span><span class="token script language-javascript imports punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#00009f">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">'@tarojs/taro'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:#d73a49">useDidShow</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript console class-name">console</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">log</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">'onShow'</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è¿è¡Œæ—¶ä½“ç§¯ä¼˜åŒ–">è¿è¡Œæ—¶ä½“ç§¯ä¼˜åŒ–<a class="hash-link" href="#è¿è¡Œæ—¶ä½“ç§¯ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h2><p>ç›®å‰ Taro å¯¹äºå‰ç«¯æ¡†æ¶çš„é€‚é…å±‚ä»£ç éƒ½æ”¾åœ¨äº†è¿è¡Œæ—¶åº“ <code>@tarojs/runtime</code> é‡Œï¼Œæ„æ€å³å½“å¼€å‘è€…ä½¿ç”¨ React æ—¶ï¼Œè¿˜æ˜¯ä¼šåŒ…å« Vue2ã€Vue3 çš„é€‚é…å±‚ä»£ç ã€‚ï¼ˆTree Shaking å¤±è´¥çš„åŸå› æ˜¯ä½¿ç”¨äº† Webpack Provider Plugin å¯¼å‡º <code>@tarojs/runtime</code> é‡Œçš„ BOM APIï¼‰</p><p>å› æ­¤ï¼ŒTaro v3.4 ä»¥ Taro æ’ä»¶çš„å½¢å¼å»å®ç°å¯¹äºå„å‰ç«¯æ¡†æ¶çš„é€‚é…ï¼Œå…¶ä¸­ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥æŠŠä¸Šè¿°è¿è¡Œæ—¶é€‚é…å±‚çš„ä»£ç æ‹†åˆ†åˆ°å„ä¸ªæ’ä»¶å†…ã€‚åŠ ä¸Šå¯¹è¿è¡Œæ—¶ä»£ç çš„å†™æ³•ä¼˜åŒ–ï¼Œ3.4 ç‰ˆæœ¬çš„è¿è¡Œæ—¶å‡å°‘äº†çº¦ <strong>30k</strong> çš„ç©ºé—´ã€‚</p><p>å¦ä¸€ä¸ªå¥½å¤„æ˜¯ç°åœ¨å¼€å‘è€…å¯ä»¥é€šè¿‡ç¼–å†™ Taro æ’ä»¶å»æ”¯æŒä»»æ„çš„å‰ç«¯æ¡†æ¶ï¼Œè€Œå‡ ä¹ä¸éœ€è¦æ”¹åŠ¨ Taro çš„æ ¸å¿ƒä»£ç ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‡çº§æŒ‡å—">å‡çº§æŒ‡å—<a class="hash-link" href="#å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-å®‰è£…-v340-beta-çš„-cli-å·¥å…·">1. å®‰è£… <code>v3.4.0-beta</code> çš„ CLI å·¥å…·ï¼š<a class="hash-link" href="#1-å®‰è£…-v340-beta-çš„-cli-å·¥å…·" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli@beta</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ›´æ–°é¡¹ç›®ä¾èµ–">2. æ›´æ–°é¡¹ç›®ä¾èµ–<a class="hash-link" href="#2-æ›´æ–°é¡¹ç›®ä¾èµ–" title="Direct link to heading">â€‹</a></h4><blockquote><p>å¦‚æœå®‰è£…å¤±è´¥æˆ–æ‰“å¼€é¡¹ç›®å¤±è´¥ï¼Œå¯ä»¥åˆ é™¤ <strong>node_modules</strong>ã€<strong>yarn.lock</strong>ã€<strong>package-lock.json</strong> åé‡æ–°å®‰è£…ä¾èµ–å†å°è¯•ã€‚</p></blockquote><p>ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>~3.4.0-beta.0</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="3breaking-changeså®‰è£…å¯¹åº”çš„æ¡†æ¶é€‚é…æ’ä»¶">3.ã€Breaking Changesã€‘å®‰è£…å¯¹åº”çš„æ¡†æ¶é€‚é…æ’ä»¶<a class="hash-link" href="#3breaking-changeså®‰è£…å¯¹åº”çš„æ¡†æ¶é€‚é…æ’ä»¶" title="Direct link to heading">â€‹</a></h4><p>å› ä¸º Taro v3.4 æŠŠå„å‰ç«¯æ¡†æ¶çš„é€‚é…é€»è¾‘æ‹†åˆ†åˆ°å¯¹åº”çš„æ’ä»¶ä¸­ï¼Œå› æ­¤æ—§é¡¹ç›®å‡çº§æ—¶éœ€è¦å®‰è£…å¯¹åº”æ¡†æ¶çš„é€‚é…æ’ä»¶ï¼š</p><ul><li>ä½¿ç”¨ Reactï¼Œè¯·å®‰è£… <code>@tarojs/plugin-framework-react</code></li><li>ä½¿ç”¨ Vue2ï¼Œè¯·å®‰è£… <code>@tarojs/plugin-framework-vue2</code></li><li>ä½¿ç”¨ Vue3ï¼Œè¯·å®‰è£… <code>@tarojs/plugin-framework-vue3</code></li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…¶ä»–">å…¶ä»–<a class="hash-link" href="#å…¶ä»–" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="breaking-changes">Breaking Changes<a class="hash-link" href="#breaking-changes" title="Direct link to heading">â€‹</a></h3><ul><li>ç™¾åº¦å°ç¨‹åºä½¿ç”¨ <code>onInit</code> ä»£æ›¿ <code>onLoad</code> ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ä¼˜åŒ–é¦–æ¬¡å¯åŠ¨æ—¶é—´ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœ€å">æœ€å<a class="hash-link" href="#æœ€å" title="Direct link to heading">â€‹</a></h2><p>æ¥ä¸‹æ¥ Taro çš„é‡å¿ƒå°†ä¼šæ”¾åœ¨ç¼–è¯‘ç³»ç»Ÿå‡çº§ï¼ˆå¦‚å‡çº§ Webpack5ï¼‰å’Œä¼˜åŒ– H5 èƒ½åŠ›ï¼ˆå¦‚è¾“å‡º SSR æ–¹æ¡ˆã€ä¼˜åŒ–è·¯ç”±ç³»ç»Ÿç­‰ï¼‰ä¸Šã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é¸¿è’™åº”ç”¨--openharmony">é¸¿è’™åº”ç”¨ &amp;&amp; OpenHarmony<a class="hash-link" href="#é¸¿è’™åº”ç”¨--openharmony" title="Direct link to heading">â€‹</a></h3><p>Taro è¿­ä»£çš„å¦ä¸€æ¡ä¸»çº¿æ˜¯å¯¹<strong>é¸¿è’™åº”ç”¨ &amp;&amp; OpenHarmony</strong> çš„é€‚é…ï¼ŒTaro ä¸ OpenHarmony å›¢é˜Ÿæˆç«‹äº†è·¨å¹³å° UI å…´è¶£ç»„ï¼ˆSIG-CROSS-PLATFORM-UIï¼‰ï¼Œè”åˆç¤¾åŒºå…±åŒå±•å¼€é€‚é…å·¥ä½œã€‚ç›®å‰ç¬¬ä¸€é˜¶æ®µçš„å¼€å‘å·¥ä½œå³å°†å®Œæˆï¼Œ12 æœˆåˆä¼šå‘å¸ƒé¦–ä¸ªå¯ç”¨çš„ä½“éªŒç‰ˆæœ¬ã€‚</p><p>ç›¸å…³å’¨è¯¢ï¼š</p><ul><li><a href="https://github.com/NervJS/taro/discussions/categories/%E9%B8%BF%E8%92%99-openharmony-%E9%80%82%E9%85%8D%E5%B0%8F%E7%BB%84" target="_blank" rel="noopener noreferrer">é¸¿è’™ &amp;&amp; OpenHarmony é€‚é…å°ç»„</a></li><li><a href="https://github.com/NervJS/taro/projects/2" target="_blank" rel="noopener noreferrer">é€‚é…è¿›åº¦</a></li></ul><p>é¸¿è’™ &amp; OpenHarmony äº¤æµç¾¤ï¼š</p><p><img loading="lazy" src="http://storage.360buyimg.com/taro-jd-com/static/contact_taro_harmony_qr.png" class="img_ROth"></p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro React Native é‡å¤§æ›´æ–°ï¼šå¸®åŠ©å¼€å‘è€…é«˜æ•ˆå¼€å‘APP]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-10-14-Taro-React-Native-update</link>
            <guid>2021-10-14-Taro-React-Native-update</guid>
            <pubDate>Thu, 14 Oct 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[ä¸‰ä¸ªæ–¹å‘å»ä¼˜åŒ–å¼€å‘æµç¨‹ï¼Œå…¨é¢é™ä½ä¸Šæ‰‹æˆæœ¬ï¼Œè®© Taro å¼€å‘ APPï¼Œå˜å¾—æ— æ¯”è½»æ¾ã€‚]]></description>
            <content:encoded><![CDATA[<p>Taro React Native é‡å¤§æ›´æ–°æ¥äº†ï¼Œå…¨æ–¹ä½é™ä½ä¸Šæ‰‹æˆæœ¬ï¼Œæå‡å¼€å‘ä½“éªŒã€‚å…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œè®©å¼€å‘è€…æ‘†è„±åŸç”Ÿç¯å¢ƒé…ç½®ï¼Œä¸“æ³¨å‰ç«¯å¼€å‘ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>Taro 3.2.0 æ­£å¼ç‰ˆæœ¬å‘å¸ƒè‡³ä»Šï¼Œå·²è¿‡å»åŠå¹´ã€‚åœ¨æ­¤æœŸé—´ï¼Œæœ‰ä¸å°‘ç¤¾åŒºå¼€å‘è€…å·²ç»ä½¿ç”¨ä¸Š Taro æ¥å¼€å‘ APP äº†ã€‚çœ‹åˆ°ç¤¾åŒºçš„ä½¿ç”¨é‡è¶Šæ¥è¶Šå¤šï¼Œå¼€å‘å›¢é˜Ÿä¹Ÿæ˜¯æ”¶è·æ»¡æ»¡ã€‚</p><p>åŒæ—¶æˆ‘ä»¬ä¹Ÿæ”¶åˆ°äº†å¾ˆå¤šæ¥è‡ªå¼€å‘è€…çš„åé¦ˆï¼Œä¸»è¦é›†ä¸­äºå¼€å‘ç¯å¢ƒé…ç½®å¤æ‚ã€ç»„ä»¶å’Œ API çš„å®Œå–„åº¦ä¸å¤ŸåŠä½¿ç”¨ä¸Šçš„ BUG ç­‰ã€‚å¯¹äºç»„ä»¶å’Œ API çš„å®Œå–„åº¦åŠä½¿ç”¨ä¸Šçš„ BUGï¼Œæˆ‘ä»¬éƒ½æ˜¯å°½å¯èƒ½åœ°åŠæ—¶åœ°å¤„ç†å¹¶å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚ç„¶è€Œï¼Œå¯¹äºå¼€å‘è€…åé¦ˆçš„å¼€å‘ç¯å¢ƒé…ç½®çš„é—®é¢˜ï¼Œå´å¾ˆéš¾å¤ç°åŠè§£å†³ã€‚</p><p>é¦–å…ˆ Android + iOS + React Native + Taroï¼Œ4ä¸ªæŠ€æœ¯çš„å„ç§ç¯å¢ƒé…ç½®ï¼Œä¼šè®©å¾ˆå¤šå¼€å‘è€…æœ›è€Œå´æ­¥ã€‚å…¶æ¬¡å¼€å‘è€…é¢å¯¹çš„ç¯å¢ƒé—®é¢˜åƒå¥‡ç™¾æ€ªï¼Œå¾ˆå¤šé—®é¢˜éš¾ä»¥é€šè¿‡è¿œç¨‹ååŠ©è§£å†³ã€‚ä¸å°‘å¼€å‘è€…åœ¨è°ƒç ”é˜¶æ®µï¼Œå› ä¸ºæ— æ³•é¡ºåˆ©è¿è¡Œï¼Œä¾¿æ”¾å¼ƒäº†ä½¿ç”¨ã€‚å¯¹äºä¸€ä¸ªè·¨å¹³å°æ¡†æ¶æ¥è¯´ï¼Œä¸»è¦ç›®çš„æ˜¯ææ•ˆï¼Œè€Œéç»™å¼€å‘è€…å¸¦æ¥æ›´å¤šå›°éš¾ã€‚å¼€å‘ç¯å¢ƒé…ç½®é—®é¢˜çš„è§£å†³ï¼Œæ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚</p><p>è¿™æ¬¡æˆ‘ä»¬ä»ä»¥ä¸‹ä¸‰ä¸ªæ–¹å‘å»ä¼˜åŒ–æ•´ä¸ªå¼€å‘æµç¨‹ï¼Œå…¨é¢é™ä½ä¸Šæ‰‹æˆæœ¬ï¼Œè®© Taro å¼€å‘ APPï¼Œå˜å¾—æ— æ¯”è½»æ¾ã€‚</p><ol><li>ä¸º Taro æä¾› react-native æ¨¡æ¿ï¼Œé¡¹ç›®çš„åˆå§‹åŒ–ï¼Œåªéœ€è¦å‡ ä¸ªå‘½ä»¤ã€‚</li><li>ä¸ GitHub Actions è¿›è¡Œé›†æˆï¼Œä¸å†éœ€è¦æœ¬åœ°å®‰è£…åŸç”Ÿå¼€å‘ç¯å¢ƒï¼Œæ‰“åŒ…åŠå‘å¸ƒäº¤ç»™ CI å»åšã€‚</li><li>æä¾› Taro Playground APPï¼Œå¯ä»¥é€šè¿‡åº”ç”¨å•†åº—æˆ–è€… GitHub ä¸‹è½½å®‰è£…ï¼Œè¿›è¡Œé¡¹ç›®è°ƒè¯•ã€‚</li></ol><h2 class="anchor anchorWithStickyNavbar_IyCF" id="react-native-å¼€å‘æ¨¡æ¿">react-native å¼€å‘æ¨¡æ¿<a class="hash-link" href="#react-native-å¼€å‘æ¨¡æ¿" title="Direct link to heading">â€‹</a></h2><p>ç›®å‰ä½¿ç”¨ Taro å¼€å‘ React Native APP æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŸç”Ÿå£³å·¥ç¨‹ï¼Œåœ¨å¦å¤–ä¸€ä¸ªä»“åº“<!-- -->[1]<!-- -->ã€‚å¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œé€šå¸¸ä¼šé€ æˆä¸€äº›å›°æƒ‘ï¼š</p><ol><li>æ²¡æœ‰æ¥è§¦è¿‡ React Native å¼€å‘çš„å¼€å‘è€…é¦–å…ˆéœ€è¦ç†è§£ React Native çš„å¼€å‘æµç¨‹ï¼Œç„¶åå®Œæˆä¸¤ä¸ªä»“åº“çš„åˆå§‹åŒ–ã€‚</li><li>ä¸¤ä¸ªä»“åº“éƒ½éœ€è¦å®‰è£…ä¾èµ–ï¼Œå¹¶ä¸”éœ€è¦ä¿æŒæŸäº›ä¾èµ–ç‰ˆæœ¬çš„ä¸€è‡´æ€§ã€‚å½“æœ‰ä¾èµ–æ›´æ–°æ—¶ï¼Œéœ€è¦åœ¨ä¸¤ä¸ªä»“åº“ä¸­è¿›è¡Œæ“ä½œï¼Œéå¸¸å®¹æ˜“é—æ¼ã€‚</li><li>é¡¹ç›®ä¾èµ–åŸç”Ÿçš„è¿è¡Œç¯å¢ƒã€‚å¼€å‘è€…ç»å¸¸é‡åˆ°å®‰è£…è¿‡ç¨‹æŠ¥é”™ï¼Œæ— æ³•è¿è¡Œçš„åœºæ™¯ã€‚ä¸€äº›ä¾èµ–åŒ…çš„ä¸‹è½½éœ€è¦åˆ‡æ¢æºæˆ–ä¾èµ–ç‰¹å®šç½‘ç»œç¯å¢ƒã€‚</li></ol><p>è¿™äº›é—®é¢˜å¯¹æ–°æ‰‹å…¥é—¨å¾ˆä¸å‹å¥½ï¼Œä¸ºæ­¤æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåˆå§‹åŒ–æ¨¡æ¿<!-- -->[2]<!-- -->ã€‚åˆå§‹åŒ–é¡¹ç›®ä½¿ç”¨ <code>taro init [project]</code> é€‰æ‹© react-native æ¨¡æ¿ã€‚</p><p>åˆå§‹åŒ–å®Œæˆåï¼Œä¾¿å¯ä½¿ç”¨è¿›å…¥å¼€å‘ã€‚ä»¥ä¸‹ä¸ºä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š</p><div class="codeBlockContainer_H5s7 language-shell theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># æ›´æ–°ç›¸å…³ä¾èµ–ã€‚åœ¨åˆå§‹åŒ–å®Œæˆåæˆ– Taro ç‰ˆæœ¬æ›´æ–°åæ‰§è¡Œï¼Œç”¨äºåŒæ­¥ peerDependenciesã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> upgradePeerdeps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># æ‰“åŒ… js bundle åŠé™æ€èµ„æºã€‚åœ¨åˆå§‹åŒ–å®Œæˆåæ‰§è¡Œï¼Œç”¨äºæ‰“åŒ…é»˜è®¤ä½¿ç”¨çš„ bundleã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> build:rn --platform ios</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¯åŠ¨ bundle server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¯åŠ¨ iOS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> ios</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¯åŠ¨å®‰å“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> android</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å…·ä½“æ“ä½œå¯ä»¥æŸ¥çœ‹å½•å±ï¼š</p><video controls="" width="600" src="https://wos2.58cdn.com.cn/DeFazYxWvDti/frsupload/6820cfd5e0346eac050e7c3f0df78f65.mp4"></video><p>é€šè¿‡æ¨¡æ¿æ–¹å¼è¿›è¡Œåˆå§‹åŒ–çš„é¡¹ç›®ï¼Œæœ‰å‡ ä¸ªä¼˜åŠ¿ï¼š</p><ol><li>Taro ä»“åº“ä¸å£³å·¥ç¨‹ä»“åº“è¿›è¡Œæ•´åˆï¼Œä¸å†éœ€è¦ç®¡ç†åŒä»“åº“ã€‚å½“ç„¶ä¹ æƒ¯åŒä»“åº“æ¨¡å¼çš„å¼€å‘è€…ï¼Œä»ç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</li><li>å½“ Taro è¿›è¡Œå‡çº§æ—¶ï¼Œå¯ä»¥é€šè¿‡æ‰§è¡Œ <code>yarn upgradePeerdeps</code>è¿›è¡Œä¾èµ–åŒæ­¥ã€‚è¿™é‡Œæˆ‘ä»¬å°† Taro ä¾èµ–çš„ React Native ç›¸å…³åº“å†™å…¥äº† peerDependencies ä¸­ï¼Œç„¶åé€šè¿‡ install-peerdeps å»å®Œæˆä¾èµ–çš„åŒæ­¥ã€‚</li><li>é›†æˆäº† GitHub Actionsï¼Œå¯é€šè¿‡ workflow å®Œæˆ APP çš„æ‰“åŒ…ã€‚</li></ol><h2 class="anchor anchorWithStickyNavbar_IyCF" id="github-actions">GitHub Actions<a class="hash-link" href="#github-actions" title="Direct link to heading">â€‹</a></h2><p>è¦è§£å†³å¼€å‘ç¯å¢ƒçš„å„ç§é—®é¢˜ï¼Œé€šå¸¸çš„åšæ³•å°±æ˜¯æä¾›ä¸€ä¸ªç¨³å®šçš„ç¯å¢ƒç”¨äºæ‰“åŒ…å‘å¸ƒï¼Œåœ¨ä¼ä¸šé‡Œæ˜¯å„ç§ CI/CD å¹³å°ã€‚ä½†å¯¹äºå¼€æºé¡¹ç›®æ¥è®²ï¼Œå°±éœ€è¦ä¸€ä¸ªå…¬å¼€çš„å¹³å°ï¼Œæ¯ä¸ªäººéƒ½èƒ½ä½¿ç”¨ï¼Œå½“ç„¶æœ€å¥½æ˜¯å…è´¹çš„ã€‚äºæ˜¯æˆ‘ä»¬æƒ³åˆ°äº† GitHub Actionsã€‚</p><p>GitHub Actions æ˜¯ GitHub æä¾›çš„æŒç»­é›†æˆæœåŠ¡ï¼Œäº 2018 å¹´ 10 æœˆæ¨å‡ºã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¹¶ä¸”å…è´¹ï¼ˆæ¯æœˆæœ‰é™é¢ï¼‰ï¼ŒåŒæ—¶ç§æœ‰ä»“åº“ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ï¼Œéå¸¸å¥‘åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚</p><p>é€šè¿‡æ¨¡æ¿åˆå§‹åŒ–çš„é¡¹ç›®ï¼Œå¯åœ¨ <code>.github/workflows</code> ç›®å½•ä¸­çœ‹åˆ° 4 ä¸ªæ–‡ä»¶ã€‚åˆ†åˆ«ä¸º iOS å’Œ Android çš„ release åŒ…å’Œ debug åŒ…çš„æ‰“åŒ…å·¥ä½œæµã€‚æ¨¡æ¿ä¸ºäº†ç®€åŒ–è¿‡ç¨‹ï¼Œè®¾ç½®ä¸ºé€šè¿‡ <code>git push</code> å³å¯è§¦å‘æ‰“åŒ…ï¼Œå¯æ ¹æ®è‡ªèº«æƒ…å†µï¼Œé…ç½®åˆé€‚è‡ªèº«ä¸šåŠ¡åœºæ™¯çš„å·¥ä½œæµã€‚æ‰“åŒ…ç”Ÿæˆçš„äº§ç‰©å¯ä»¥åœ¨ Artifacts ä¸­æ‰¾åˆ°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>softprops/action-gh-release@v1</code> actionï¼Œå°†äº§ç‰©å‘å¸ƒåˆ°é¡¹ç›®çš„ Release ä¸­ã€‚</p><img loading="lazy" referrerpolicy="no-referrer" src="https://pic4.58cdn.com.cn/nowater/fangfe/n_v275b68e363e1d459ead128302fe0f8581.jpg" width="600px" class="img_ROth"><p>è¿™æ ·ä¸€æ¥æ–°æ‰‹ä¾¿å¯ä»¥ä¸éœ€è¦å…³æ³¨åŸç”Ÿç¯å¢ƒä»¥åŠ APP æ‰“åŒ…çš„é—®é¢˜ã€‚å¼€å‘æ—¶ï¼Œå¯ä»¥å®‰è£… debug åŒ…åŠ è½½æœ¬åœ°çš„ jsbundleï¼Œè¿›è¡Œè°ƒè¯•ã€‚å‘å¸ƒæ—¶ï¼Œäº¤ç»™ CI è¿›è¡Œæ‰“åŒ…ï¼Œäº§ç‰©å†æäº¤åˆ°åº”ç”¨å¸‚åœºï¼Œæ•´ä¸ªè¿‡ç¨‹å®Œå…¨ä¸éœ€è¦ AS ä¸ XCodeã€‚å½“ç„¶è¿™é‡Œè¿˜æœ‰ä¸€äº›å¿…è¦é…ç½®éœ€è¦åšï¼Œæ¯”å¦‚ APP çš„ç­¾åç­‰ï¼Œå°†åœ¨åé¢çš„ç« èŠ‚è®²è§£ã€‚</p><p>GitHub Actions åŠŸèƒ½éå¸¸å¼ºå¤§ï¼ŒTaro å°±ç”¨å®ƒæ¥åšæ‰“åŒ…å‘å¸ƒç­‰å·¥ä½œï¼Œå¯å‚è€ƒæ–‡æ¡£<!-- -->[3]<!-- -->æˆ–æŸ¥çœ‹èµ„æ–™åšè¿›ä¸€æ­¥æ¢ç´¢ï¼Œåšç‚¹æœ‰è¶£çš„äº‹æƒ…ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="github-actions-é…ç½®">GitHub Actions é…ç½®<a class="hash-link" href="#github-actions-é…ç½®" title="Direct link to heading">â€‹</a></h2><p>åœ¨ Taro é¡¹ç›®æ¨¡æ¿é‡Œé¢æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª CI è„šæœ¬æ¨¡æ¿ï¼Œå¼€å‘è€…ä»ç„¶éœ€è¦è¿›è¡Œä¸€äº›é…ç½®ï¼Œæ‰èƒ½å¤Ÿå¼€å§‹æ‰“åŒ…ã€‚ä¸‹é¢æ˜¯æ‰“åŒ… Android APP çš„åŸºç¡€é…ç½®è¯´æ˜ï¼ŒiOS åŒç†ï¼š</p><ul><li><p>é…ç½®æ‰“åŒ…çš„ç¯å¢ƒå˜é‡</p><div class="codeBlockContainer_H5s7 language-yml theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yml codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">APP_ID</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> com.taro.demo  </span><span class="token comment" style="color:#999988;font-style:italic"># åº”ç”¨ ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">APP_NAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Taro Demo  </span><span class="token comment" style="color:#999988;font-style:italic"># åº”ç”¨åç§°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">VERSION_NAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.0.0 </span><span class="token comment" style="color:#999988;font-style:italic"># åº”ç”¨ç‰ˆæœ¬å·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">VERSION_CODE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># ç”¨äºåº”ç”¨å¸‚åœºã€ç¨‹åºå†…éƒ¨è¯†åˆ«ç‰ˆæœ¬ï¼Œåˆ¤æ–­æ–°æ—§ç‰ˆæœ¬ï¼Œä¸€èˆ¬é€’å¢å¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">KEYSTORE_FILE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> debug.keystore </span><span class="token comment" style="color:#999988;font-style:italic"># ç­¾åæ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">KEYSTORE_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> android </span><span class="token comment" style="color:#999988;font-style:italic"># å¯†ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">KEYSTORE_KEY_ALIAS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> androiddebugkey </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ«å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">KEYSTORE_KEY_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> android </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ«åçš„å¯†ç </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>é€šè¿‡ github secrets ç®¡ç†ç§˜é’¥é…ç½®</p><img loading="lazy" referrerpolicy="no-referrer" src="https://pic8.58cdn.com.cn/nowater/fangfe/n_v257e556d325fa4ee99a96e3a46a976f18.png" width="600px" class="img_ROth"><p>  é€šå¸¸æˆ‘ä»¬ä¸åº”è¯¥æŠŠå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯ç›´æ¥å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯ç½®äºåŠ å¯†ä¿¡æ¯ä¸­ã€‚åœ¨ GitHub Actions ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åŠ å¯†æœºåˆ¶è¿›è¡Œå¤„ç†<!-- -->[4]<!-- -->ã€‚å¦‚å›¾ï¼Œåœ¨ <code>setting</code> -&gt; <code>secret</code> é…ä¸Š CI éœ€è¦çš„ secretã€‚ç„¶ååœ¨ workflow ä¸­é€šè¿‡ç›¸åº”å˜é‡è¿›è¡Œä½¿ç”¨ï¼Œå¦‚ <code>${{secrets.DEBUG_KEYSTORE_PASSWORD}}</code>ã€‚</p></li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å£³å·¥ç¨‹-github-actions-æ–¹æ¡ˆ">å£³å·¥ç¨‹ GitHub Actions æ–¹æ¡ˆ<a class="hash-link" href="#å£³å·¥ç¨‹-github-actions-æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h2><p>å¯¹äºå£³å·¥ç¨‹ä¸é¡¹ç›®å·¥ç¨‹åˆ†å¼€çš„åœºæ™¯ï¼Œåˆ©ç”¨ CI å‘½ä»¤å°†ä¸¤ä¸ªé¡¹ç›®è¿›è¡Œåˆå¹¶ä¹Ÿå¯ä»¥å®ç°æ‰“åŒ…è‡ªåŠ¨åŒ–ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p>å£³å·¥ç¨‹å’Œä¸šåŠ¡é¡¹ç›®åˆå¹¶</p><p>å› ä¸º GitHub Actions åªèƒ½åœ¨å½“å‰é¡¹ç›®ä¸‹è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥éœ€è¦å°†å£³å·¥ç¨‹ï¼ˆtaro-native-shellï¼‰åˆå¹¶åˆ°é¡¹ç›®å·¥ç¨‹ä¸‹ã€‚</p></li><li><p>åˆå¹¶é¡¹ç›®å’Œå£³å·¥ç¨‹çš„ package.json</p><p>åœ¨æœ‰åŸç”Ÿä¾èµ–çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¿è¯å£³å·¥ç¨‹å’Œä¸šåŠ¡é¡¹ç›®çš„åŸç”Ÿä¾èµ–ç‰ˆæœ¬ä¸€è‡´ï¼Œä¸ç„¶æ‰“åŒ…å¯èƒ½ä¼šæŠ¥é”™ã€‚</p></li><li><p>å®‰è£…ä¾èµ–</p><p>åœ¨ä¸šåŠ¡é¡¹ç›®å·¥ç¨‹ä¸‹å®‰è£…åˆå¹¶åçš„ package.json ä¾èµ–ã€‚</p></li><li><p>è½¯é“¾ä¾èµ–</p><p>å°†å®‰è£…åˆ°ä¸šåŠ¡é¡¹ç›®ä¸‹çš„ä¾èµ–è½¯é“¾è‡³å£³å·¥ç¨‹é¡¹ç›® node_module ä¸‹ã€‚</p><div class="codeBlockContainer_H5s7 language-sh theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-sh codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">ln -s ./node_modules ./taro-native-shell/node_modules</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>ä¸šåŠ¡é¡¹ç›®ç¼–è¯‘</p><p>æ‰§è¡Œ <code>taro/cli build:rn</code> ç¼–è¯‘å‘½ä»¤ï¼Œæ‰“åŒ…ç”Ÿæˆ jsbundle ä¸é™æ€èµ„æºã€‚</p></li><li><p>å°†ç¼–è¯‘äº§ç‰©ç§»åŠ¨åˆ°åŸç”Ÿå£³å·¥ç¨‹</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">rn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">appName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'taroDemo'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">ios</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./ios/main.jsbundle'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">iosAssetsDest</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./ios'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">android</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./android/app/src/main/assets/index.android.bundle'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">androidAssetsDest</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./android/app/src/main/res'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">iosSourcemapOutput</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./ios/main.map'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">androidSourcemapOutput</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./android/app/src/main/assets/index.android.map'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>taro ç¼–è¯‘ rn è¾“å‡ºé™æ€èµ„æºï¼Œéœ€è¦å°†èµ„æºç§»åˆ°åŸç”Ÿé¡¹ç›®ä¸­ã€‚</p></li><li><p>ç¼–è¯‘åŸç”Ÿ APP</p><p>åˆ° ios å’Œ android ç›®å½•é‡Œåˆ†åˆ«æ‰§è¡Œå¯¹åº”çš„æ‰“åŒ…å‘½ä»¤ã€‚</p></li><li><p>ä¸Šä¼  APP</p><p>å°†æ‰“åŒ…åçš„ APP è¿›è¡Œä¸Šä¼ ï¼Œæä¾›ä¸‹è½½é“¾æ¥ã€‚</p><div class="codeBlockContainer_H5s7 language-yml theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yml codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># iOS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Upload iOS Products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/upload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">artifact@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.BUILD_TYPE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      ${{ github.workspace }}/ios/taroDemo.ipa</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      ${{ github.workspace }}/ios/taroDemo.app.dSYM.zip</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-yml theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yml codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Android</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Upload Android Products</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/upload</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">artifact@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.BUILD_TYPE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> github.workspace </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/android/app/build/outputs/apk/$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.BUILD_TYPE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/app</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.BUILD_TYPE </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">.apk</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ iOS ä¾§ï¼Œrelease workflow è¿˜é›†æˆäº†ä¸Šä¼ è‡³ APP Store å‘½ä»¤ï¼š</p><div class="codeBlockContainer_H5s7 language-yml theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yml codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Upload app to App Store Connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">APP_STORE_CONNECT_USERNAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.APP_STORE_CONNECT_USERNAME </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">APP_STORE_CONNECT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.APP_STORE_CONNECT_PASSWORD </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    cd ios</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    xcrun altool --upload-app -t ios -f "taroDemo.ipa" -u "$APP_STORE_CONNECT_USERNAME" -p "$APP_STORE_CONNECT_PASSWORD"</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ol><p>ä¸Šé¢æ•´ä¸ªæµç¨‹å¯¹äºå¼€å‘è€…æ¥è¯´ç†è§£æˆæœ¬å¤ªé«˜ï¼Œé…ç½®è¿‡äºç¹çï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å‰ 6 ä¸ªæ­¥éª¤å°è£…æˆä¸€ä¸ª GitHub action<!-- -->[5]<!-- -->ï¼Œå¼€å‘è€…åªéœ€è¦æ·»åŠ ä¸€äº›é…ç½®é¡¹å°±èƒ½å®Œæˆä¸Šé¢çš„æµç¨‹ã€‚</p><div class="codeBlockContainer_H5s7 language-yml theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yml codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> taro</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">native</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">publish</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> shinken008/taro</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">native</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">publish@0.4.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">REPO</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.SHELL_REPO </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">REPO_REF</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> env.SHELL_REPO_REF </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">REPO_PATH</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> taro</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">native</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">BUILD_CMD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">rn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">IOS_BUNDLE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ios/main.jsbundle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">IOS_ASSETS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ios</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ANDROID_BUNDLE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> android/index.android.bundle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ANDROID_ASSETS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> android</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">PLATFORM</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> android</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¯¹åº”çš„éœ€è¦æ‹‰å–çš„å¦ä¸€ä¸ªä»“åº“çš„é…ç½®ï¼š</p><div class="codeBlockContainer_H5s7 language-yml theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yml codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å£³å·¥ç¨‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SHELL_REPO</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NervJS/taro</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">native</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å£³å·¥ç¨‹ref</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SHELL_REPO_REF</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0.63.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å£³å·¥ç¨‹ç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SHELL_REPO_PATH</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> taro</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">native</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">shell</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é…ç½®ä»‹ç»:</p><ul><li>REPOï¼š å£³å·¥ç¨‹åœ°å€</li><li>REPO_REFï¼š å£³å·¥ç¨‹åˆ†æ”¯</li><li>SHELL_REPO_PATHï¼š å£³å·¥ç¨‹ç›®å½•</li><li>IOS_BUNDLEï¼š ç¼–è¯‘ iOS åçš„ js bundle åœ°å€</li><li>IOS_ASSETSï¼š ç¼–è¯‘ iOS åçš„å…¶ä»–é™æ€æ–‡ä»¶ï¼ˆå›¾ç‰‡ç­‰ï¼‰åœ°å€</li><li>ANDROID_BUNDLEï¼š ç¼–è¯‘ Android åçš„ js bundle åœ°å€</li><li>ANDROID_ASSETSï¼š ç¼–è¯‘ Android åçš„å…¶ä»–é™æ€æ–‡ä»¶ï¼ˆå›¾ç‰‡ç­‰ï¼‰åœ°å€</li><li>PLATFORMï¼šç¼–è¯‘çš„ç›®æ ‡å¹³å° ios/android</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¨¡æ¿æä¾›çš„-ios-æ‰“åŒ…æ–¹æ¡ˆ">æ¨¡æ¿æä¾›çš„ iOS æ‰“åŒ…æ–¹æ¡ˆ<a class="hash-link" href="#æ¨¡æ¿æä¾›çš„-ios-æ‰“åŒ…æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h2><p>iOS APP çš„æ‰“åŒ…è¿‡ç¨‹ç›¸å¯¹ç¹çï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†ä¸€ä¸ªä¼˜ç§€çš„å·¥å…· fastlane<!-- -->[6]<!-- -->ã€‚fastlane æ˜¯ä¸€ä¸ªä¸º iOS å’Œ Android å¼€å‘è€…æä¾›çš„å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ‰§è¡Œç¹ççš„ä»»åŠ¡ï¼Œå¦‚ç”Ÿæˆå±å¹•æˆªå›¾ã€å¤„ç†é…ç½®æ–‡ä»¶å’Œå‘å¸ƒåº”ç”¨ç¨‹åºã€‚</p><p>æ‰“åŒ…è¿‡ç¨‹ä¸­çš„ info plist æ–‡ä»¶ä¿®æ”¹ã€ç‰ˆæœ¬å·ä¿®æ”¹ã€ç­¾åè®¾ç½®éƒ½å¯ä»¥äº¤ç»™ fastlane å»å¤„ç†ï¼Œç»è¿‡ fastlane çš„å°è£…ï¼Œå¼€å‘è€…å¤„ç†è¿™äº›ç¹ççš„ä»»åŠ¡ï¼Œåªéœ€è¦æ·»åŠ å‡ è¡Œé…ç½®å³å¯ã€‚</p><p>ä½†æ˜¯è¦è®© fastlane åœ¨ GitHub Actions ä½¿ç”¨ï¼Œè¿˜éœ€è¦å‡ æ­¥æ“ä½œã€‚å› ä¸ºè¯ä¹¦ï¼ˆCertificateï¼‰ä¸æè¿°æ–‡ä»¶ï¼ˆProvisioning Profilesï¼‰å¹¶ä¸å­˜å‚¨åœ¨é¡¹ç›®ä»“åº“ä¸­ï¼Œè€Œæ¯æ¬¡å·¥ä½œæµéƒ½æ˜¯å‘ç”Ÿåœ¨éšæœºçš„ä¸»æœºä¸Šçš„ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬åœ¨æ‰“åŒ…å‰ï¼Œå…ˆå°†è¯ä¹¦ä¸æè¿°æ–‡ä»¶å¯¼å…¥åˆ°å½“å‰ä¸»æœºä¸­ã€‚</p><p>Release è¯ä¹¦çš„å¯¼å…¥è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p>å°†è¯ä¹¦çš„ <code>p12</code> æ–‡ä»¶è½¬æˆ <code>base64</code> å­—ç¬¦ä¸²ã€‚</p><div class="codeBlockContainer_H5s7 language-shell theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> Certificates.p12 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> pbcopy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>å°†ç¬¬ä¸€æ­¥å†…å®¹ä¿å­˜åœ¨é¡¹ç›®çš„ <code>secret</code> ä¸­ï¼Œ<code>key</code> ä¸º <code>RELEASE_SIGNING_CERTIFICATE_P12_DATA</code></p></li><li><p>å°† <code>p12</code> æ–‡ä»¶çš„å¯†ç ä¿å­˜åœ¨é¡¹ç›®çš„ <code>secret</code> ä¸­ï¼Œ<code>key</code> ä¸º <code>RELEASE_SIGNING_CERTIFICATE_PASSWORD</code></p></li><li><p>å°† <code>secret</code> å†…é…ç½®çš„ç›¸å…³ä¿¡æ¯å¯¼å…¥åˆ°ä¸»æœºä¸­ã€‚</p><div class="codeBlockContainer_H5s7 language-shell theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">security </span><span class="token function" style="color:#d73a49">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$SIGNING_CERTIFICATE_P12_DATA</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64 --decode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -f pkcs12 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -k build.keychain </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -P </span><span class="token variable" style="color:#36acaa">$SIGNING_CERTIFICATE_PASSWORD</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -T /usr/bin/codesign</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ol><p>æè¿°æ–‡ä»¶çš„å¯¼å…¥è¿‡ç¨‹ï¼Œä¸è¯ä¹¦çš„å¯¼å…¥è¿‡ç¨‹ç±»ä¼¼ï¼Œå‡å·²å°è£…åœ¨ workflow ä¸­ã€‚</p><p>è¦å°†ç”Ÿæˆçš„ ipa æ–‡ä»¶ä¸Šä¼ è‡³ testflight æˆ–è€… APP Store ä¸Šï¼Œè¿˜éœ€è¦æä¾›ç”¨æˆ·åï¼ˆAPP_STORE_CONNECT_USERNAMEï¼‰ä¸å¯†ç ï¼ˆAPP_STORE_CONNECT_PASSWORDï¼‰ï¼Œå¯å‚è€ƒæ–‡æ¡£è¿›è¡Œç”Ÿæˆ<!-- -->[7]<!-- -->ã€‚</p><p>è‡³äºè¯ä¹¦ä¸æè¿°æ–‡ä»¶çš„ç”Ÿæˆï¼Œå¯æŸ¥é˜… iOS å¼€å‘ç›¸å…³æ–‡ç« <!-- -->[8]<!-- -->ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚fastlane é…ç½®çš„æ›´å¤šç»†èŠ‚å¯æŸ¥çœ‹ <code>ios/fastlane/Fastfile</code> æ–‡ä»¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¨¡æ¿æä¾›çš„-android-æ‰“åŒ…æ–¹æ¡ˆ">æ¨¡æ¿æä¾›çš„ Android æ‰“åŒ…æ–¹æ¡ˆ<a class="hash-link" href="#æ¨¡æ¿æä¾›çš„-android-æ‰“åŒ…æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h2><p>Android çš„æ‰“åŒ…è¿‡ç¨‹ç›¸å¯¹ç®€å•ï¼Œç›´æ¥è°ƒç”¨ <code>gradlew</code> å‘½ä»¤å³å¯ã€‚é™¤äº†é…ç½® APP çš„åŸºç¡€ä¿¡æ¯ï¼Œè¿˜éœ€è¦ä¸ºåº”ç”¨è¿›è¡Œç­¾åã€‚å¯å‚è€ƒ Android åº”ç”¨ç­¾åç›¸å…³æ–‡æ¡£<!-- -->[9]<!-- -->ï¼Œç”Ÿæˆç­¾åæ–‡ä»¶ï¼Œç½®äº <code>android/app</code> ç›®å½•ä¸­ã€‚</p><p>ç­¾åæ–‡ä»¶ä¹Ÿå¯é€šè¿‡å‘½ä»¤è¡Œå·¥å…·ç”Ÿæˆï¼š</p><div class="codeBlockContainer_H5s7 language-shell theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-shell codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">keytool -genkey -alias android -keyalg RSA -validity </span><span class="token number" style="color:#36acaa">99999</span><span class="token plain"> -keystore release.keystore</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ‰“åŒ…ç›¸å…³å‚æ•°ï¼Œé€šè¿‡ <code>gradlew</code> çš„ <code>-P, --project-prop</code> å‚æ•°è¿›è¡Œä¼ å…¥ï¼Œå¦‚ <code>./gradlew assembledebug -Papp_id=${{ env.APP_ID }}</code>ï¼Œå…¶é»˜è®¤å€¼åœ¨ <code>android/gradle.properties</code> æ–‡ä»¶ä¸­å®šä¹‰ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-playground-app">Taro Playground APP<a class="hash-link" href="#taro-playground-app" title="Direct link to heading">â€‹</a></h2><p>åŸºäº GitHub Actions ä¸ Taro æ¨¡æ¿ï¼Œæˆ‘ä»¬å®Œæˆäº†é¡¹ç›®åˆå§‹åŒ–ä¸æ‰“åŒ…è¿‡ç¨‹çš„è‡ªåŠ¨åŒ–ã€‚ä½†å¯¹äºæƒ³è¦ä½“éªŒ Taro å¼€å‘ APP çš„å¼€å‘è€…æ¥è¯´ï¼Œä»ç„¶å¤ªè¿‡ç¹çã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¼€å‘äº† Taro Playground APPï¼Œå¹¶å®Œå…¨å¼€æº<!-- -->[10]<!-- -->ã€‚ä¸€æ–¹é¢å¯ä»¥å±•ç¤ºç»„ä»¶å’Œ API çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œå¦ä¸€æ–¹é¢æä¾›äº†åŠ¨æ€åŠ è½½ jsbundle çš„åŠŸèƒ½ï¼Œä¾¿äºå¼€å‘äººå‘˜è¿›è¡Œæœ¬åœ°ä»£ç çš„è°ƒè¯•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æœ¬åœ°è°ƒè¯•">æœ¬åœ°è°ƒè¯•<a class="hash-link" href="#æœ¬åœ°è°ƒè¯•" title="Direct link to heading">â€‹</a></h3><p>å¼€å‘è€…å¯ä»¥åœ¨ Taro Playground ä»“åº“çš„ Releases é¡µé¢è¿›è¡Œå®‰è£…åŒ…ä¸‹è½½<!-- -->[11]<!-- -->ï¼Œä¹Ÿå¯æ‰«æä»¥ä¸‹äºŒç»´ç å®‰è£… APPã€‚</p><table><thead><tr><th>Android</th><th>iOS</th></tr></thead><tbody><tr><td><img loading="lazy" src="https://pic3.58cdn.com.cn/nowater/fangfe/n_v295dd481b6b2f446592350e3187716d03.png" class="img_ROth"></td><td><img loading="lazy" src="https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_d3137b5937U5d1XdWcU735Xd7b5a5a37.png" class="img_ROth"></td></tr></tbody></table><p>Taro å·¥ç¨‹ä¸­é€šè¿‡ <code>yarn dev:rn --qr</code> å¯åŠ¨ bundler serverï¼Œæ‰“å°åŒ…å« IP åŠç«¯å£ä¿¡æ¯çš„äºŒç»´ç ã€‚é€šè¿‡ Taro Playground APP æ‰«æè¯¥äºŒç»´ç ï¼Œå³å¯åŠ è½½ jsbundle è¿›è¡Œè°ƒè¯•ï¼Œéœ€è¦ä¿è¯æ‰‹æœºä¸ç”µè„‘å¤„äºåŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ã€‚</p><p>å…·ä½“æ“ä½œå¯ä»¥æŸ¥çœ‹å½•å±ï¼š</p><video controls="" width="600" src="https://wos2.58cdn.com.cn/DeFazYxWvDti/frsupload/03e7ae6c0a8de6be1f665e23404aaa38.mp4"></video><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤ºåˆ—ä»£ç ">ç¤ºåˆ—ä»£ç <a class="hash-link" href="#ç¤ºåˆ—ä»£ç " title="Direct link to heading">â€‹</a></h3><p>Taro Playground é¡¹ç›®æä¾›äº†è¾ƒå…¨é¢çš„ç¤ºä¾‹ä»£ç ï¼Œå¼€å‘è€…å¯ä»¥å‚è€ƒï¼Œé¿å…ä¸€äº›å¯èƒ½é‡åˆ°çš„å‘ï¼Œå¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿ prã€‚</p><img loading="lazy" referrerpolicy="no-referrer" src="https://pic4.58cdn.com.cn/nowater/fangfe/n_v28c80c04fd8124114b58268d187f50a21.png" width="300px" class="img_ROth"><img loading="lazy" referrerpolicy="no-referrer" src="https://pic4.58cdn.com.cn/nowater/fangfe/n_v28658913ed1aa419da53a4c36da5dc526.png" width="300px" class="img_ROth"><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ€»ç»“">æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">â€‹</a></h2><p>é€šè¿‡ä¸Šè¿°å¤šæ–¹é¢çš„ä¼˜åŒ–ï¼Œæå¤§åœ°é™ä½äº†ä½¿ç”¨ Taro å¼€å‘ APP çš„æˆæœ¬ã€‚å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œåªéœ€è¦æŒæ¡ Taro å’Œ React Nativeï¼Œå†åŠ ä¸Šä¸€äº›é…ç½®ï¼Œå³å¯å®Œæˆ APP çš„å¼€å‘ä¸å‘å¸ƒã€‚</p><p>ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚é‡ä»»ä½•é—®é¢˜ï¼Œå¯æ·»åŠ  "58æŠ€æœ¯å°ç§˜ä¹¦" æˆ– "Taro å°åŠ©æ‰‹" ä¸ºå¥½å‹ï¼Œå¤‡æ³¨ "Taro RN"ï¼ŒåŠ å…¥å®˜æ–¹äº¤æµç¾¤å¯»æ±‚å¸®åŠ©ã€‚</p><img loading="lazy" referrerpolicy="no-referrer" src="https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_13XUU513XUVaU5U7U5Wc3559U75aXUVa.jpg" width="300px" class="img_ROth"><img loading="lazy" referrerpolicy="no-referrer" src="https://pic8.58cdn.com.cn/nowater/fangfe/n_v282625210493c4a3fac202d6cf372458e.png" width="300px" class="img_ROth"><p>åç»­ï¼Œæˆ‘ä»¬è¿˜å°†å¸¦æ¥æ”¯æŒ React Native çš„ Taro UI ä»¥åŠåŒ…å«è¯¦ç»†æ•™ç¨‹çš„æŠ€æœ¯å°å†Œï¼Œå°½è¯·æœŸå¾…ã€‚</p><p>åŒæ—¶æˆ‘ä»¬ä¹Ÿåœ¨å¾é›†ç¤¾åŒºä¼˜ç§€ä½¿ç”¨æ¡ˆä¾‹ï¼Œæ¬¢è¿å¼€å‘è€…æäº¤æ¡ˆä¾‹åˆ°æ¡ˆä¾‹ä»“åº“ä¸­<!-- -->[12]<!-- -->ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç›¸å…³é“¾æ¥">ç›¸å…³é“¾æ¥<a class="hash-link" href="#ç›¸å…³é“¾æ¥" title="Direct link to heading">â€‹</a></h2><p>[1]<!-- --> å£³å·¥ç¨‹åœ°å€ï¼š<a href="https://github.com/NervJS/taro-native-shell" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-native-shell</a></p><p>[2]<!-- --> æ¨¡æ¿æºç åœ°å€ï¼š<a href="https://github.com/NervJS/taro-project-templates/tree/v3.4/react-native" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-project-templates/tree/v3.4/react-native</a></p><p>[3]<!-- --> GitHub Action æ–‡æ¡£ï¼š<a href="https://docs.github.com/cn/actions" target="_blank" rel="noopener noreferrer">https://docs.github.com/cn/actions</a></p><p>[4]<!-- --> GitHub Action åŠ å¯†æœºåˆ¶ï¼š<a href="https://docs.github.com/cn/actions/reference/encrypted-secrets" target="_blank" rel="noopener noreferrer">https://docs.github.com/cn/actions/reference/encrypted-secrets</a></p><p>[5]<!-- --> Taro React Native Publish Actionï¼š<a href="https://github.com/shinken008/taro-native-publish" target="_blank" rel="noopener noreferrer">https://github.com/shinken008/taro-native-publish</a></p><p>[6]<!-- --> fastlaneå®˜ç½‘ï¼š<a href="https://docs.fastlane.tools" target="_blank" rel="noopener noreferrer">https://docs.fastlane.tools</a></p><p>[7]<!-- --> AppleID å¯†ç ç”Ÿæˆï¼š<a href="https://support.apple.com/en-us/HT204397" target="_blank" rel="noopener noreferrer">https://support.apple.com/en-us/HT204397</a></p><p>[8]<!-- --> ä½¿ç”¨ GitHub Action å‘å¸ƒ iOS åº”ç”¨ï¼š<a href="https://betterprogramming.pub/deploy-an-ios-app-to-testflight-or-the-app-store-using-github-actions-c4d7082b1430" target="_blank" rel="noopener noreferrer">https://betterprogramming.pub/deploy-an-ios-app-to-testflight-or-the-app-store-using-github-actions-c4d7082b1430</a></p><p>[9]<!-- --> å®‰å“ç­¾åæ–‡ä»¶ç”Ÿæˆï¼š<a href="https://developer.android.com/studio/publish/app-signing#generate-key" target="_blank" rel="noopener noreferrer">https://developer.android.com/studio/publish/app-signing#generate-key</a></p><p>[10]<!-- --> Taro Playground æºç ï¼š<a href="https://github.com/wuba/taro-playground" target="_blank" rel="noopener noreferrer">https://github.com/wuba/taro-playground</a></p><p>[11]<!-- --> Taro Playground APP ä¸‹è½½ï¼š<a href="https://github.com/wuba/taro-playground/releases" target="_blank" rel="noopener noreferrer">https://github.com/wuba/taro-playground/releases</a></p><p>[12]<!-- --> Taro æ¡ˆä¾‹æäº¤ï¼š<a href="https://github.com/NervJS/taro-user-cases" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-user-cases</a></p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro æ­£å¼å‘å¸ƒ 3.3 ç‰ˆæœ¬ï¼šæ”¯æŒä½¿ç”¨ H5 æ ‡ç­¾ä¸æ¡†æ¶ DevTools]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-08-13-Taro-3.3</link>
            <guid>2021-08-13-Taro-3.3</guid>
            <pubDate>Fri, 13 Aug 2021 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>è·ç¦» Taro 3.3 ç¬¬ä¸€ä¸ª alpha ç‰ˆæœ¬çš„å‘å¸ƒï¼Œå·²è¿‡å»ä¸‰ä¸ªæœˆçš„æ—¶é—´ã€‚æœŸé—´æˆ‘ä»¬ä¸æ–­åœ°å¯¹ 3.3 ç‰ˆæœ¬è¿›è¡Œæ‰“ç£¨ï¼Œé™¤äº†ä¼˜åŒ– H5 åŒæ„æ–¹æ¡ˆå¤–ï¼Œè¿˜å¼•å…¥äº†ä¸€äº›æå‡å¼€å‘ä½“éªŒçš„æ–°ç‰¹æ€§å’Œä¿®å¤äº†è‹¥å¹²é‡è¦é—®é¢˜ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒä½¿ç”¨-h5-æ ‡ç­¾">æ”¯æŒä½¿ç”¨ H5 æ ‡ç­¾<a class="hash-link" href="#æ”¯æŒä½¿ç”¨-h5-æ ‡ç­¾" title="Direct link to heading">â€‹</a></h2><p>Taro 3.3 æœ€é‡è¦çš„ç‰¹æ€§å°±æ˜¯æ”¯æŒä½¿ç”¨ H5 æ ‡ç­¾è¿›è¡Œå¼€å‘ï¼Œè®©å¼€å‘è€…åœ¨å°ç¨‹åºç¯å¢ƒä¸­å¤ç”¨éƒ¨åˆ†çš„ Web ç”Ÿæ€ã€‚</p><p>ä¾‹å¦‚åœ¨ React ä¸­å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Index</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Hello World!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>ç›¸å…³èƒŒæ™¯åŠå®ç°æ€è·¯åœ¨ <a href="/taro-docs/blog/2021-04-22-Taro-3.3-alpha">ã€ŠTaro 3.3 alpha å‘å¸ƒã€‹</a> ä¸€æ–‡ä¸­æœ‰è¯¦ç»†è¯´æ˜ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç”¨æ³•">ç”¨æ³•<a class="hash-link" href="#ç”¨æ³•" title="Direct link to heading">â€‹</a></h3><p>é¦–å…ˆéœ€è¦å®‰è£…æ’ä»¶ <code>@tarojs/plugin-html</code>ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @tarojs/plugin-html</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åé…ç½®ä½¿ç”¨å³å¯ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// config/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'@tarojs/plugin-html'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ’ä»¶çš„è¯¦ç»†ç”¨æ³•è¯·è§<a href="/taro-docs/docs/use-h5">æ–‡æ¡£</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤ºä¾‹é¡¹ç›®">ç¤ºä¾‹é¡¹ç›®<a class="hash-link" href="#ç¤ºä¾‹é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><p>ä¸ºäº†éªŒè¯åŒæ„åŠŸèƒ½çš„å¯ç”¨æ€§å’Œæ•ˆæœï¼Œæˆ‘ä»¬å¯¹ CSS æ ·å¼åº“ WEUIã€React ç»„ä»¶åº“ Antd Design Mobileã€Vue2 ç»„ä»¶åº“ VantUI çš„æ‰€æœ‰ç»„ä»¶è¿›è¡Œäº†æµ‹è¯•ã€‚ç»“æœæ˜¾ç¤ºæœ‰ç›¸å½“ä¸€éƒ¨åˆ†çš„ç»„ä»¶èƒ½ç›´æ¥è¿è¡Œåœ¨å°ç¨‹åºç¯å¢ƒä¸­ã€‚</p><p>ç¤ºä¾‹é¡¹ç›®ä»“åº“åœ°å€ï¼š</p><ul><li><a href="https://github.com/NervJS/taro-weui" target="_blank" rel="noopener noreferrer">å…¼å®¹ WeUI çš„ä¾‹å­</a></li><li><a href="https://github.com/NervJS/taro-antd-mobile" target="_blank" rel="noopener noreferrer">å…¼å®¹ Antd Design Mobile çš„ä¾‹å­</a></li><li><a href="https://github.com/NervJS/taro-vant" target="_blank" rel="noopener noreferrer">å…¼å®¹ VantUI çš„ä¾‹å­</a></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="whats-news">What's news<a class="hash-link" href="#whats-news" title="Direct link to heading">â€‹</a></h3><p>åœ¨å¼€å‘ <code>@tarojs/plugin-html</code> æ’ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°éœ€è¦ä¸º Taro æ¨¡æ‹Ÿçš„ DOM APIs æ–°å¢ä¸€äº›æ–¹æ³•ï¼Œå¦‚ <code>getBoundingClientRect</code> ç­‰ã€‚ä½†æ˜¯å¯¹äºä¸ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„å¼€å‘è€…æ¥è¯´è¿™äº› API æ˜¯å†—ä½™çš„ï¼Œä¼šå¢å¤§åŒ…ä½“ç§¯ã€‚å› æ­¤æˆ‘ä»¬å¯¹ <code>@tarojs/runtime</code> è¿›è¡Œäº†é‡æ„ï¼ŒæŠŠ DOM APIs åšæˆå¯æ’æ‹”å¼ï¼Œè®©å¼€å‘è€…å¯ä»¥é€‰æ‹©åœ¨æœ€ç»ˆçš„ç¼–è¯‘ç»“æœé‡Œåªå­˜åœ¨å“ªäº› DOM APIsã€‚</p><p>æœ¬æ¬¡å¯¹è¿è¡Œæ—¶çš„é‡æ„ä¹Ÿæ˜¯ä¸ºäº† Taro 3.4 ç‰ˆæœ¬ä½œé“ºå«ã€‚Reactã€Vue2 å’Œ Vue3 è¿™äº›æ¡†æ¶è¿è¡Œæ—¶éœ€è¦çš„ DOM APIs æ˜¯ä¸å°½ç›¸åŒçš„ï¼Œä½†æ˜¯ç›®å‰å‡è®¾å¼€å‘è€…ä½¿ç”¨äº† Reactï¼Œç¼–è¯‘ç»“æœé‡Œä»ç„¶ä¼šå­˜åœ¨ç€åªæœ‰ Vue2 æˆ– Vue3 ä¾èµ–çš„ DOM APIsã€‚Taro 3.4 å°†ä¼šæŠŠå¯¹å„ Web å¼€å‘æ¡†æ¶çš„æ”¯æŒé€»è¾‘æŠ½ç¦»æˆä¸ºä¸€ä¸ªä¸ªæ’ä»¶ï¼Œå¦‚ï¼š<code>@tarojs/plugin-framework-react</code> ç­‰ï¼Œç›®çš„æ˜¯å‰”é™¤æ‰å†—ä½™ä»£ç ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾å¼€å‘è€…æ²¡æœ‰ä½¿ç”¨æ¸²æŸ“ HTML æ–‡æœ¬çš„ APIï¼ˆå¦‚ React çš„ <code>dangerouslySetInnerHTML</code>ï¼‰ã€‚è¿™æ—¶å¯ä»¥ä¿®æ”¹ Taro ç¼–è¯‘é…ç½®çš„ <code>mini.runtime.enableInnerHTML</code> é€‰é¡¹ï¼Œä»¤æœ€ç»ˆçš„æ‰“åŒ…ç»“æœå‰”é™¤æ‰ç›¸å…³ä»£ç ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// config/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mini</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">runtime</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">enableInnerHTML</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åºæ”¯æŒä½¿ç”¨æ¡†æ¶çš„-devtools">å°ç¨‹åºæ”¯æŒä½¿ç”¨æ¡†æ¶çš„ DevTools<a class="hash-link" href="#å°ç¨‹åºæ”¯æŒä½¿ç”¨æ¡†æ¶çš„-devtools" title="Direct link to heading">â€‹</a></h2><p>è‡ª Taro 3.x æ”¹é€ ä¸ºè¿è¡Œæ—¶æ¡†æ¶åï¼Œæœ‰ä¸å°‘åŒå­¦æŠ±æ€¨å°ç¨‹åºå¼€å‘è€…å·¥å…·çš„ <code>AppData</code> é¢æ¿çœ‹åˆ°çš„éƒ½æ˜¯ Taro è™šæ‹Ÿ DOM çš„åºåˆ—åŒ–ç»“æœï¼Œè€Œä¸æ˜¯é¡µé¢çš„ data æ•°æ®ã€‚ä¸ºäº†ç¼“è§£è¿™ä¸ªé—®é¢˜ï¼Œå¹¶è¿›ä¸€æ­¥åœ°æå‡å¼€å‘è€…çš„å¼€å‘ä½“éªŒï¼ŒTaro å¯¹ React DevTools å’Œ Vue DevTools è¿›è¡Œäº†é€‚é…ã€‚åªéœ€è¦ç®€å•åœ°é…ç½®ï¼Œå°±èƒ½å¤Ÿå’Œå¼€å‘ Web åº”ç”¨æ—¶ä¸€æ ·ä½¿ç”¨æ¡†æ¶çš„ DevToolsã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="react-devtools">React DevTools<a class="hash-link" href="#react-devtools" title="Direct link to heading">â€‹</a></h3><p>å®‰è£…å¹¶é…ç½®ä½¿ç”¨ <code>@tarojs/plugin-react-devtools</code> å³å¯ï¼Œè¯¦ç»†ç”¨æ³•è¯·è§<a href="/taro-docs/docs/react-devtools">æ–‡æ¡£</a>ã€‚</p><p>æ•ˆæœå›¾ï¼š</p><p><img loading="lazy" src="https://storage.360buyimg.com/cjj-pub-images/react-devtools.png" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="vue-devtools">Vue DevTools<a class="hash-link" href="#vue-devtools" title="Direct link to heading">â€‹</a></h3><p>å®‰è£…å¹¶é…ç½®ä½¿ç”¨ <code>@tarojs/plugin-vue-devtools</code> å³å¯ï¼Œè¯¦ç»†ç”¨æ³•è¯·è§<a href="/taro-docs/docs/vue-devtools">æ–‡æ¡£</a>ã€‚</p><p>æ•ˆæœå›¾ï¼š</p><p><img loading="lazy" src="https://storage.360buyimg.com/cjj-pub-images/vue-devtools.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¿®å¤ç™¾åº¦å°ç¨‹åº-flex-å¸ƒå±€çš„é—®é¢˜">ä¿®å¤ç™¾åº¦å°ç¨‹åº flex å¸ƒå±€çš„é—®é¢˜<a class="hash-link" href="#ä¿®å¤ç™¾åº¦å°ç¨‹åº-flex-å¸ƒå±€çš„é—®é¢˜" title="Direct link to heading">â€‹</a></h2><p>åœ¨è¿‡å»å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼ŒTaro 3 åœ¨ç™¾åº¦å°ç¨‹åºé‡Œæ˜¯ä¸æ”¯æŒä½¿ç”¨ flex å¸ƒå±€çš„ã€‚åŸå› æ˜¯é€»è¾‘å±‚çš„æ¯ä¸ª Taro DOM èŠ‚ç‚¹éƒ½åœ¨æ¸²æŸ“å±‚ä½¿ç”¨ä¸€ä¸ªå¯¹åº”çš„ <code>&lt;template&gt;</code> è¿›è¡Œæ¸²æŸ“ï¼Œè€Œç™¾åº¦å°ç¨‹åºä¼šæŠŠ <code>&lt;template&gt;</code> æ¸²æŸ“æˆä¸€ä¸ªçœŸå®èŠ‚ç‚¹ã€‚</p><p>éå¸¸æ„Ÿè°¢ <a href="https://github.com/SyMind" target="_blank" rel="noopener noreferrer">@SyMind</a> çš„ PRï¼Œå¸®åŠ© Taro ç»•è¿‡äº†æ­¤é—®é¢˜ã€‚ä» Taro 3.2 å¼€å§‹ï¼Œéƒ¨åˆ†ç»„ä»¶åœ¨ç™¾åº¦å°ç¨‹åºä¸­ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ flex å¸ƒå±€ã€‚</p><blockquote><p>ç›¸å…³çš„è®¨è®ºå’Œæäº¤å¯ä»¥æµè§ˆ <a href="https://github.com/NervJS/taro/issues/6015" target="_blank" rel="noopener noreferrer">#6015</a> <a href="https://github.com/NervJS/taro/pull/9529" target="_blank" rel="noopener noreferrer">#9529</a></p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‡çº§æŒ‡å—">å‡çº§æŒ‡å—<a class="hash-link" href="#å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><blockquote><p>ä» v2.x å‡çº§çš„åŒå­¦éœ€è¦å…ˆæŒ‰ <a href="/taro-docs/docs/next/migration">è¿ç§»æŒ‡å—</a> è¿›è¡Œæ“ä½œã€‚</p></blockquote><p>ä» v3.x å‡çº§çš„åŒå­¦ï¼Œé¦–å…ˆéœ€è¦å®‰è£… v3.3 çš„ CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åæ‰‹å·¥ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ï¼›æˆ–è€…ä½¿ç”¨ <code>taro update project</code> æ›´æ–°ä¾èµ–ã€‚</p><blockquote><p>å¦‚æœå®‰è£…å¤±è´¥æˆ–æ‰“å¼€é¡¹ç›®å¤±è´¥ï¼Œå¯ä»¥åˆ é™¤ <strong>node_modules</strong>ã€<strong>yarn.lock</strong>ã€<strong>package-lock.json</strong> åé‡æ–°å®‰è£…ä¾èµ–å†å°è¯•ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="the-end">The End<a class="hash-link" href="#the-end" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-34">Taro 3.4<a class="hash-link" href="#taro-34" title="Direct link to heading">â€‹</a></h3><p>ä¸‹ä¸€ä¸ª minor ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘æŠŠå¯¹å„ä¸ª Web å¼€å‘æ¡†æ¶çš„æ”¯æŒé€»è¾‘æ‹†åˆ†ä¸ºå¯¹åº”çš„æ’ä»¶ã€‚è®©å¼€å‘è€…å¯ä»¥ä»¥æ’ä»¶çš„å½¢å¼ä¸º Taro æ‹“å±•æ”¯æŒä¸€é—¨æ–°çš„å¼€å‘æ¡†æ¶ï¼Œæˆ‘ä»¬ä¼šè¿ç”¨æ­¤èƒ½åŠ›è¿›è¡Œå¯¹ <strong>PReact</strong> çš„æ”¯æŒï¼Œå¸Œæœ›èƒ½è¿›ä¸€æ­¥å‡å°‘ç”¨æˆ·çš„åŒ…ä½“ç§¯ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é¸¿è’™åº”ç”¨--openharmony">é¸¿è’™åº”ç”¨ &amp;&amp; OpenHarmony<a class="hash-link" href="#é¸¿è’™åº”ç”¨--openharmony" title="Direct link to heading">â€‹</a></h3><p>è¿‘æœŸæˆ‘ä»¬ä¹Ÿä¸€ç›´åœ¨æ¢ç´¢å¯¹<strong>é¸¿è’™åº”ç”¨ &amp;&amp; OpenHarmony</strong>çš„é€‚é…ï¼Œç›®å‰å·²æœ‰ä¸€ç³»åˆ—çš„è®¨è®ºå’Œå¼€å‘è®¡åˆ’ï¼Œä¹Ÿæœ‰å¯ä»¥è¿è¡Œçš„ Demoï¼Œè¯¦æƒ…è¯·è§ <a href="https://github.com/NervJS/taro/discussions/categories/%E9%B8%BF%E8%92%99-openharmony-%E9%80%82%E9%85%8D%E5%B0%8F%E7%BB%84" target="_blank" rel="noopener noreferrer">é¸¿è’™ &amp;&amp; OpenHarmony é€‚é…å°ç»„</a>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="roadmap">RoadMapï¼š<a class="hash-link" href="#roadmap" title="Direct link to heading">â€‹</a></h4><p><img loading="lazy" src="https://storage.360buyimg.com/cjj-pub-images/hos-roadmap.png" class="img_ROth"></p><p>æ¬¢è¿å„ä½å¼€å‘è€…å‚ä¸è®¨è®ºå’Œå…±å»ºï½</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¿«åº”ç”¨">å¿«åº”ç”¨<a class="hash-link" href="#å¿«åº”ç”¨" title="Direct link to heading">â€‹</a></h3><p>æ­¤å¤–ï¼Œç¤¾åŒºå¤§ä½¬ <a href="https://github.com/bgfist" target="_blank" rel="noopener noreferrer">@bgfist</a> æ­£åœ¨ä¸º Taro å¼€å‘æ”¯æŒ<strong>å¿«åº”ç”¨</strong>çš„åŠŸèƒ½ã€‚ä¹Ÿæ¬¢è¿å„ä½å¼€å‘è€…å‚ä¸è®¨è®ºå’Œå…±å»ºï¼Œç›¸å…³ <a href="https://github.com/NervJS/taro/pull/9743" target="_blank" rel="noopener noreferrer">PR</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ„Ÿæ©">æ„Ÿæ©<a class="hash-link" href="#æ„Ÿæ©" title="Direct link to heading">â€‹</a></h3><p>æ—¶å…‰é£é€ï¼Œ1 å¹´å‰ Taro 3 æ­£å¼å‘å¸ƒï¼ŒTaro é€æ¸æˆä¸ºè¢«ç¤¾åŒºå–œæ¬¢ã€ä¿¡èµ–çš„å¼€æºé¡¹ç›®ã€‚æœªæ¥æˆ‘ä»¬ä¹Ÿå°†ç»§ç»­åšå¥½ Taro çš„å¼€æºå·¥ä½œï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›ç¤¾åŒºæœ‰æ›´å¤šçš„å¼€å‘è€…å‚ä¸è¿›æ¥ï¼Œæ— è®ºæ˜¯æå‡º Issuesã€åœ¨è®ºå›å‘å¸–ã€æäº¤ PR è¿˜æ˜¯å¸®åŠ©å»ºè®¾å‘¨è¾¹ç”Ÿæ€ç­‰ã€‚è®©æˆ‘ä»¬ä¸€èµ·æŠŠ Taro åšå¥½ï¼Œåšå¼ºã€‚</p><p>æœ€åï¼Œè¡·å¿ƒæ„Ÿè°¢ä¸º Taro ä» v3.2 èµ°åˆ° v3.3 è´¡çŒ®è¿‡ä»£ç çš„å„ä½åŒå­¦ï¼</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro 3.3 alpha å‘å¸ƒï¼šç”¨ ant-design å¼€å‘å°ç¨‹åºï¼Ÿ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-04-22-Taro-3.3-alpha</link>
            <guid>2021-04-22-Taro-3.3-alpha</guid>
            <pubDate>Thu, 22 Apr 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[æœ¬æ–‡å°†ä»‹ç»åŸºäº Taro 3.0 å®ç° H5 åŒæ„çš„æ€è·¯ä¸é—®é¢˜ï¼Œä»¥åŠæˆ‘ä»¬å°è¯•é€‚é…äº†ä¸‰å¤§ç§»åŠ¨ç«¯ UI æ¡†æ¶ **WEUI**ã€**Ant Design Mobile**ã€**VantUI** çš„å®éªŒç»“æœã€‚]]></description>
            <content:encoded><![CDATA[<p>å°ç¨‹åºçš„è®¾è®¡å¹¶æ²¡æœ‰å®Œå…¨éµå¾ª Web è§„èŒƒï¼Œå¯¼è‡´å°ç¨‹åºç”Ÿæ€å’Œä¼ ç»Ÿ Web å¼€å‘ç”Ÿæ€ä¹‹é—´çš„å‰²è£‚ï¼Œæµ·é‡ä¼˜ç§€çš„ Web ç‰©æ–™å¹¶ä¸èƒ½ç›´æ¥ç”¨äºå°ç¨‹åºå¼€å‘ã€‚å› è€Œ Taro åœ¨ç›¸å½“ä¸€æ®µæ—¶é—´å†…ç”Ÿæ€éƒ½ç›¸å¯¹è–„å¼±ï¼ŒUI æ¡†æ¶é€‰æ‹©ä¸å¤šçš„é—®é¢˜æ›´æ˜¯æ·±æ·±å›°æ‰°ç€å¼€å‘è€…ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œä¸šç•Œæœ‰ç€å­˜é‡çš„ H5 åº”ç”¨ï¼Œä¸­çŸ­æœŸå†… H5 åº”ç”¨é€‚é…åˆ°å°ç¨‹åºç«¯çš„éœ€è¦è¿˜ä¼šå­˜åœ¨ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½å‡å°‘ H5 åº”ç”¨è¿ç§»åˆ°å°ç¨‹åºç«¯çš„æˆæœ¬ï¼Œç”šè‡³èƒ½å¤Ÿç›´æ¥è¿è¡Œåœ¨å°ç¨‹åºç«¯ã€‚</p><p>Taro å›¢é˜Ÿä¸€ç›´åœ¨æ€è€ƒå¦‚ä½•æœ€å¤§é™åº¦åœ°åœ¨å°ç¨‹åºç¯å¢ƒä¸­å¤ç”¨ Web ç”Ÿæ€ï¼Œç›´åˆ° Taro 3.0 è¯ç”Ÿåï¼Œè¿™ç§æƒ³æ³•æœ‰äº†è½åœ°çš„å¯èƒ½ã€‚ä¸‹æ–‡å°†ä»‹ç»åŸºäº Taro 3.0 å®ç° H5 åŒæ„çš„æ€è·¯ä¸é—®é¢˜ï¼Œä»¥åŠæˆ‘ä»¬å°è¯•é€‚é…äº†ä¸‰å¤§ç§»åŠ¨ç«¯ UI æ¡†æ¶ <strong>WEUI</strong>ã€<strong>Ant Design Mobile</strong>ã€<strong>VantUI</strong> çš„å®éªŒç»“æœã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€å®ç°æ€è·¯">ä¸€ã€å®ç°æ€è·¯<a class="hash-link" href="#ä¸€å®ç°æ€è·¯" title="Direct link to heading">â€‹</a></h2><p>Taro 3.0 æ˜¯ä¸€æ¬¾é‡è¿è¡Œæ—¶çš„è·¨ç«¯æ¡†æ¶ï¼Œå®ƒé€šè¿‡æ¨¡æ‹Ÿå®ç°æµè§ˆå™¨çš„ BOM å’Œ DOM API å®ç°äº†å¯¹ Reactã€Vue ç­‰ Web å¼€å‘æ¡†æ¶çš„å…¼å®¹ã€‚</p><p>æ—¢ç„¶å·²ç»æœ‰äº†æµè§ˆå™¨ç¯å¢ƒçš„ BOM å’Œ DOM APIï¼ŒTaro åº”ç”¨å’Œ Web åº”ç”¨ä¹‹é—´çš„é¸¿æ²Ÿåœ¨äºå°ç¨‹åºç»„ä»¶å’Œ HTML æ ‡ç­¾ä¹‹é—´çš„å·®å¼‚ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒæ¸²æŸ“-h5-æ ‡ç­¾">æ”¯æŒæ¸²æŸ“ H5 æ ‡ç­¾<a class="hash-link" href="#æ”¯æŒæ¸²æŸ“-h5-æ ‡ç­¾" title="Direct link to heading">â€‹</a></h3><p>Taro3 çš„æ¸²æŸ“æ•°æ®æµå¦‚ä¸‹ï¼š</p><p><strong>å‰ç«¯æ¡†æ¶ -&gt; Taro DOM -&gt; å°ç¨‹åº data</strong></p><p>HTML æ ‡ç­¾å’Œå°ç¨‹åºç»„ä»¶çš„æ ‡ç­¾åã€å±æ€§ã€äº‹ä»¶æ˜¯æœ‰å·®å¼‚çš„ï¼Œè€Œå‰ç«¯æ¡†æ¶æ— éœ€æ„ŸçŸ¥è¿™äº›å·®å¼‚ã€‚</p><p>å› æ­¤å‰ç«¯æ¡†æ¶é€‚é…å±‚ã€Taro DOM å±‚ä¸éœ€è¦æ”¹åŠ¨ï¼Œåªè¦åœ¨ <strong>Taro DOM åºåˆ—åŒ–ä¸ºå°ç¨‹åº data</strong> è¿™ä¸€æ­¥ä½œæ˜ å°„å³å¯ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-æ ‡ç­¾åæ˜ å°„">1. æ ‡ç­¾åæ˜ å°„<a class="hash-link" href="#1-æ ‡ç­¾åæ˜ å°„" title="Direct link to heading">â€‹</a></h4><p>HTML æ ‡ç­¾ç›¸å¯¹å°ç¨‹åºç»„ä»¶å°è£…ç¨‹åº¦æ›´ä½ã€åŠŸèƒ½æ›´ç®€å•ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å°ç¨‹åºç»„ä»¶çš„å­é›†ã€‚å› æ­¤å¯ä»¥æŒ‰ä¸€å®šçš„è§„åˆ™ï¼ŒæŠŠ HTML æ ‡ç­¾æ˜ å°„ä¸ºå°ç¨‹åºç»„ä»¶ï¼Œå¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Taro DOM çš„åºåˆ—åŒ–æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">nn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'img'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æ˜ å°„ç»“æœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">nn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'image'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å®Œæ•´çš„æ ‡ç­¾åæ˜ å°„è§„åˆ™è¯·çœ‹ï¼š<a href="https://github.com/NervJS/taro-rfcs/blob/html-support/rfcs/0004-rendering-html.md#%E4%B8%80%E6%A0%87%E7%AD%BE%E5%90%8D%E5%BD%B1%E5%B0%84" target="_blank" rel="noopener noreferrer">RFC é™„å½•ä¸€</a></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-å±æ€§æ˜ å°„">2. å±æ€§æ˜ å°„<a class="hash-link" href="#2-å±æ€§æ˜ å°„" title="Direct link to heading">â€‹</a></h4><p>å¦‚æœ HTML æ ‡ç­¾çš„å±æ€§èƒ½åœ¨å¯¹åº”å°ç¨‹åºç»„ä»¶çš„å±æ€§ä¸Šæ‰¾åˆ°å¯¹åº”ï¼Œåˆ™è¿›è¡Œæ˜ å°„ï¼Œå¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Taro DOM çš„åºåˆ—åŒ–æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">nn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'a'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">href</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'xxx'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">target</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'_blank'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æ˜ å°„ç»“æœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">nn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'navigator'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'xxx'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">openType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'navigate'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å®Œæ•´çš„å±æ€§åæ˜ å°„è§„åˆ™è¯·çœ‹ï¼š<a href="https://github.com/NervJS/taro-rfcs/blob/html-support/rfcs/0004-rendering-html.md#%E4%BA%8C%E5%B1%9E%E6%80%A7%E5%90%8D%E5%BD%B1%E5%B0%84" target="_blank" rel="noopener noreferrer">RFC é™„å½•äºŒ</a></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="3-äº‹ä»¶æ˜ å°„">3. äº‹ä»¶æ˜ å°„<a class="hash-link" href="#3-äº‹ä»¶æ˜ å°„" title="Direct link to heading">â€‹</a></h4><p>æŠŠ HTML ç‰¹æœ‰çš„äº‹ä»¶åœ¨å°ç¨‹åºç«¯æ‰¾åˆ°ç›¸ä¼¼çš„äº‹ä»¶è¿›è¡Œæ˜ å°„ï¼Œå¦‚ï¼š</p><table><thead><tr><th align="left">HTML äº‹ä»¶</th><th align="left">å°ç¨‹åºç»„ä»¶äº‹ä»¶</th></tr></thead><tbody><tr><td align="left">click</td><td align="left">tap</td></tr></tbody></table><p>å®Œæ•´çš„äº‹ä»¶æ˜ å°„è§„åˆ™è¯·çœ‹ï¼š<a href="https://github.com/NervJS/taro-rfcs/blob/html-support/rfcs/0004-rendering-html.md#%E4%B8%89%E4%BA%8B%E4%BB%B6%E5%BD%B1%E5%B0%84" target="_blank" rel="noopener noreferrer">RFC é™„å½•ä¸‰</a></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ ·å¼">æ ·å¼<a class="hash-link" href="#æ ·å¼" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-æ ‡ç­¾é€‰æ‹©å™¨">1. æ ‡ç­¾é€‰æ‹©å™¨<a class="hash-link" href="#1-æ ‡ç­¾é€‰æ‹©å™¨" title="Direct link to heading">â€‹</a></h4><p>å‰æ–‡ä»‹ç»äº†æˆ‘ä»¬ä¼šæŠŠ HTML æ ‡ç­¾æ˜ å°„ä¸ºå°ç¨‹åºç»„ä»¶ï¼Œä½†æ˜¯ H5 åº”ç”¨ä¸­ä½¿ç”¨åˆ°çš„ CSS æ ‡ç­¾é€‰æ‹©å™¨å°±ä¼šå¤±æ•ˆã€‚</p><p>å› æ­¤ Taro ä½¿ç”¨äº†ç±»åå»è¿›è¡Œæ¨¡æ‹Ÿï¼š</p><p>1) ä¸ºæ‰€æœ‰ H5 æ ‡ç­¾éƒ½åŠ ä¸Šç±»åï¼š <code>h5-${tagName}</code>ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// æºä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æ¸²æŸ“ç»“æœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">view </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"h5-div"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>2) ä½¿ç”¨ postcss æ’ä»¶å¤„ç†æ ‡ç­¾åé€‰æ‹©å™¨ï¼š</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// æ ‡ç­¾åé€‰æ‹©å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">div </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç» postcss æ’ä»¶å¤„ç†åå˜ä¸ºç±»åé€‰æ‹©å™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector" style="color:#00009f">.h5-div </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-æµè§ˆå™¨é»˜è®¤æ ·å¼">2. æµè§ˆå™¨é»˜è®¤æ ·å¼<a class="hash-link" href="#2-æµè§ˆå™¨é»˜è®¤æ ·å¼" title="Direct link to heading">â€‹</a></h4><p>Taro æä¾›ä¸¤ç§å†…ç½®çš„æµè§ˆå™¨é»˜è®¤æ ·å¼ï¼Œå¯ä»¥ç›´æ¥å¼•å…¥ç”Ÿæ•ˆï¼š</p><ul><li><code>@tarojs/taro/html.css</code>: W3C HTML4 çš„å†…ç½®æ ·å¼ã€‚åªæœ‰ HTML4 æ ‡ç­¾æ ·å¼ï¼Œä½“ç§¯è¾ƒå°ï¼Œå…¼å®¹æ€§å¼ºï¼Œèƒ½é€‚åº”å¤§å¤šæ•°æƒ…å†µã€‚</li><li><code>@tarojs/taro/html5.css</code>: Chrome(Blink) HTML5 çš„å†…ç½®æ ·å¼ã€‚å†…ç½®æ ·å¼ä¸°å¯Œï¼ŒåŒ…æ‹¬äº†å¤§å¤šæ•° HTML5 æ ‡ç­¾ï¼Œä½“ç§¯è¾ƒå¤§ï¼Œä¸ä¸€å®šæ”¯æŒæ‰€æœ‰å°ç¨‹åºå®¹å™¨ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é™åˆ¶">é™åˆ¶<a class="hash-link" href="#é™åˆ¶" title="Direct link to heading">â€‹</a></h3><p>ç†æƒ³å¾ˆç¾å¥½ï¼Œä½†ç°å®å´ç•¥æ˜¾éª¨æ„Ÿã€‚å³ä½¿ Taro èƒ½å®ç° BOMã€DOM APIï¼Œæ”¯æŒä½¿ç”¨ HTML æ ‡ç­¾ç­‰ï¼ŒåŒæ„æ–¹æ¡ˆè¿˜æ˜¯å­˜åœ¨ç€ä¸€äº›æ¡†æ¶å±‚é¢æŠ¹å¹³ä¸äº†çš„å·®å¼‚ã€‚ä»¥ä¸‹åˆ—ä¸¾å‡ºè‹¥å¹²ä¸»è¦é™åˆ¶ï¼š</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-è·å–å…ƒç´ å°ºå¯¸">1. è·å–å…ƒç´ å°ºå¯¸<a class="hash-link" href="#1-è·å–å…ƒç´ å°ºå¯¸" title="Direct link to heading">â€‹</a></h4><p>åœ¨ H5 ä¸­æˆ‘ä»¬å¯ä»¥è°ƒç”¨ DOM API åŒæ­¥è·å–å…ƒç´ çš„å°ºå¯¸ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// h5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> el </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'#inner'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> el</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getBoundingClientRect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½†æ˜¯åœ¨å°ç¨‹åºä¸­ï¼Œè·å–å…ƒç´ å°ºå¯¸çš„ API æ˜¯å¼‚æ­¥çš„ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å°ç¨‹åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> query </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createSelectorQuery</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'#inner'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">boundingClientRect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å› æ­¤ä¸èƒ½å…¼å®¹é‚£äº›ä½¿ç”¨äº†åŒæ­¥ DOM API å»è·å–å…ƒç´ å°ºå¯¸çš„ç»„ä»¶ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-dom-api-å·®å¼‚">2. DOM API å·®å¼‚<a class="hash-link" href="#2-dom-api-å·®å¼‚" title="Direct link to heading">â€‹</a></h4><p><code>&lt;canvas&gt;</code>ã€<code>&lt;video&gt;</code>ã€<code>&lt;audio&gt;</code> ç­‰æ ‡ç­¾åœ¨ H5 ç«¯å¯ä»¥ç›´æ¥è°ƒç”¨ <code>HTMLElement</code> ä¸Šçš„æ–¹æ³•ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// h5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> el </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'myVideo'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">el</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">play</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½†æ˜¯åœ¨ Taro ä¸­ï¼Œè¦è°ƒç”¨ç»„ä»¶ä¸Šçš„åŸç”Ÿæ–¹æ³•ï¼Œå¿…é¡»å…ˆåˆ›å»ºå¯¹åº”çš„ <code>Context</code>ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å°ç¨‹åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ctx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createVideoContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'myVideo'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">play</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="3-æ ·å¼é™åˆ¶">3. æ ·å¼é™åˆ¶<a class="hash-link" href="#3-æ ·å¼é™åˆ¶" title="Direct link to heading">â€‹</a></h4><p>éƒ¨åˆ†æ ·å¼æˆ– CSS é€‰æ‹©å™¨åœ¨å°ç¨‹åºä¸­ä¸æ”¯æŒï¼Œå¦‚ï¼š</p><ul><li>é€šé…ç¬¦ *</li><li>åª’ä½“æŸ¥è¯¢</li><li>å±æ€§é€‰æ‹©å™¨ï¼Œå½“å±æ€§ä¸æ˜¯å¯¹åº”å°ç¨‹åºç»„ä»¶çš„å†…ç½®å±æ€§æ—¶</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒä½¿ç”¨æ–¹æ³•">äºŒã€ä½¿ç”¨æ–¹æ³•<a class="hash-link" href="#äºŒä½¿ç”¨æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å‡çº§-330-alpha-ç‰ˆæœ¬">å‡çº§ 3.3.0-alpha ç‰ˆæœ¬<a class="hash-link" href="#å‡çº§-330-alpha-ç‰ˆæœ¬" title="Direct link to heading">â€‹</a></h3><p>é¦–å…ˆéœ€è¦å®‰è£… v3.3 çš„ CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli@alpha</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åè¿›å…¥é¡¹ç›®ï¼ŒæŠŠ <code>package.json</code> æ–‡ä»¶ä¸­ taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>^3.3.0-alpha.2</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ï¼ˆå»ºè®®å…ˆæŠŠ <strong>node_modules</strong> æ–‡ä»¶å¤¹åˆ é™¤ï¼‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å®‰è£…åŒæ„æ’ä»¶">å®‰è£…åŒæ„æ’ä»¶<a class="hash-link" href="#å®‰è£…åŒæ„æ’ä»¶" title="Direct link to heading">â€‹</a></h3><p>ä¸ºäº†èŠ‚çœé¡¹ç›®ç©ºé—´ï¼ŒåŒæ„åŠŸèƒ½æ˜¯å¯é€‰çš„ï¼Œä»¥ Taro æ’ä»¶çš„å½¢å¼æä¾›ã€‚</p><p>é¦–å…ˆå¼€å‘è€…éœ€è¦å®‰è£…æ’ä»¶ <code>@tarojs/plugin-html</code>ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i @tarojs/plugin-html</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åé…ç½®ä½¿ç”¨æ­¤æ’ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// config/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'@tarojs/plugin-html'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰ç¤ºä¾‹é¡¹ç›®">ä¸‰ã€ç¤ºä¾‹é¡¹ç›®<a class="hash-link" href="#ä¸‰ç¤ºä¾‹é¡¹ç›®" title="Direct link to heading">â€‹</a></h2><p>ä¸ºäº†éªŒè¯åŒæ„åŠŸèƒ½çš„å¯ç”¨æ€§å’Œæ•ˆæœï¼Œæˆ‘ä»¬å¯¹ CSS æ ·å¼åº“ <strong>WEUI</strong>ã€React ç»„ä»¶åº“ <strong>Antd Design Mobile</strong>ã€Vue2 ç»„ä»¶åº“ <strong>VantUI</strong> çš„æ‰€æœ‰ç»„ä»¶è¿›è¡Œäº†æµ‹è¯•ã€‚</p><p>æµ‹è¯•æ•ˆæœæ¯”è¾ƒç†æƒ³ï¼Œç”šè‡³ç¨å¾®è¶…å‡ºæˆ‘ä»¬çš„é¢„æœŸï¼Œé…åˆå„ç»„ä»¶åº“è‡ªèº«çš„æŒ‰éœ€åŠ è½½èƒ½åŠ›ï¼Œèƒ½ä»¥å°å·§çš„ä½“ç§¯ä½¿ç”¨ä¸°å¯Œçš„ç»„ä»¶ï¼Œç›¸ä¿¡å„ä½å¼€å‘è€…ä¼šå–œæ¬¢è¿™ä¸ªåŠŸèƒ½ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="weui">WEUI<a class="hash-link" href="#weui" title="Direct link to heading">â€‹</a></h3><p>ä»“åº“åœ°å€ï¼š<a href="https://github.com/NervJS/taro-weui" target="_blank" rel="noopener noreferrer">taro-weui</a></p><p>WEUI æ˜¯ä¸€ä¸ª CSS çš„æ ·å¼åº“ï¼Œä¸æ¡†æ¶æ— å…³ï¼Œå…¼å®¹æ€§æ¯”è¾ƒé«˜ï¼Œå¤§éƒ¨åˆ†ç»„ä»¶èƒ½ç›´æ¥ä½¿ç”¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="antd-mobile-design">Antd Mobile Design<a class="hash-link" href="#antd-mobile-design" title="Direct link to heading">â€‹</a></h3><p>ä»“åº“åœ°å€ï¼š<a href="https://github.com/NervJS/taro-antd-mobile" target="_blank" rel="noopener noreferrer">taro-antd-mobile</a></p><blockquote><p>Antd Mobile Design å®˜æ–¹å·²ç»ç›¸å½“ä¹…æ²¡æœ‰ç»´æŠ¤ï¼Œæ­¤é€‚é…é¡¹ç›®å±äºå®éªŒæ€§è´¨ã€‚</p></blockquote><p>èƒ½ç›´æ¥å…¼å®¹ä½¿ç”¨çš„ç»„ä»¶å¤§æ¦‚ä¸º 80%ï¼Œä¸»è¦é—®é¢˜åœ¨äºï¼š</p><ol><li>ç»„ä»¶åº“é‡Œå¹¿æ³›ä½¿ç”¨äº† SVGï¼Œç›®å‰å¹¶ä¸æ”¯æŒã€‚</li><li>ä¸èƒ½ä½¿ç”¨éœ€è¦åŒæ­¥è·å–å…ƒç´ å°ºå¯¸çš„éƒ¨åˆ†ç»„ä»¶ã€‚</li></ol><h3 class="anchor anchorWithStickyNavbar_IyCF" id="vantui">VantUI<a class="hash-link" href="#vantui" title="Direct link to heading">â€‹</a></h3><p>ä»“åº“åœ°å€ï¼š<a href="https://github.com/NervJS/taro-vant" target="_blank" rel="noopener noreferrer">taro-vant</a></p><p>VantUI çš„ç»„ä»¶ååˆ†ä¸°å¯Œï¼Œèƒ½ç›´æ¥å…¼å®¹ä½¿ç”¨çš„ç»„ä»¶å¤§æ¦‚ä¸º 70%ã€‚éƒ¨åˆ†å¼€å‘è€…ä¼šåœ¨ Taro ä¸­é…åˆä½¿ç”¨ Vant Weappï¼Œä½† Vant Weapp åªèƒ½è¿è¡Œåœ¨å¾®ä¿¡å°ç¨‹åºï¼Œå› æ­¤å¯¹ VantUI çš„ç›´æ¥é€‚é…æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ã€‚</p><p>é€‚é…è¿‡ç¨‹ä¸»è¦é‡åˆ°çš„é—®é¢˜æœ‰ï¼š</p><ol><li>å°‘é‡ç»„ä»¶å†…ç½®çš„ SVG ICON ä¸èƒ½æ˜¾ç¤ºã€‚</li><li>ä¸èƒ½ä½¿ç”¨éœ€è¦åŒæ­¥è·å–å…ƒç´ å°ºå¯¸çš„éƒ¨åˆ†ç»„ä»¶ã€‚</li><li>Vue <code>&lt;transition&gt;</code> ç»„ä»¶éœ€è¦é¢å¤–é€‚é…ã€‚</li></ol><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››å…±å»ºå€¡è®®">å››ã€å…±å»ºå€¡è®®<a class="hash-link" href="#å››å…±å»ºå€¡è®®" title="Direct link to heading">â€‹</a></h2><p>åŒæ„æ–¹æ¡ˆè¿˜åœ¨æŒç»­ä¼˜åŒ–ä¸­ï¼Œéƒ¨åˆ†å®ç°è¿˜æ²¡æœ‰æœ€ç»ˆå®šç¨¿ã€‚æ¬¢è¿å„ä½å¼€å‘è€…åˆ°æˆ‘ä»¬çš„è®ºå›ä¸‹ç•™è¨€ï¼Œæå‡ºæ‚¨çš„å®è´µæ„è§ï½ï¼š<a href="https://github.com/NervJS/taro/discussions/9029" target="_blank" rel="noopener noreferrer">åŒæ„æ–¹æ¡ˆ RFC</a>ã€‚</p><p>å¦å¤–ï¼Œä¸Šè¿°ä¸‰æ¬¾ Web UI æ¡†æ¶å¾ˆå¤šç›®å‰æ²¡èƒ½å…¼å®¹çš„ç»„ä»¶ï¼Œåªè¦é’ˆå¯¹å°ç¨‹åºç¯å¢ƒåšä¸€ç‚¹å…¼å®¹å·¥ä½œï¼Œæ˜¯å¯ä»¥è¿›è¡Œä½¿ç”¨çš„ã€‚ä¸€æ¬¾æ¡†æ¶çš„ç”Ÿæ€éœ€è¦å®˜æ–¹å’Œç¤¾åŒºå…±åŒåŠªåŠ›å»ºè®¾ï¼Œå•é  Taro å›¢é˜ŸåŠ300å¤šä½è´¡çŒ®è€…çš„äººåŠ›æ²¡åŠæ³•æ’‘èµ·æ•´ä¸ªç¤¾åŒºçš„ç”Ÿæ€ã€‚æˆ‘ä»¬å¸Œæœ›è¿™ä¸‰ä¸ªå…¼å®¹æ€§ç¤ºä¾‹é¡¹ç›®èƒ½èµ·åˆ°æŠ›ç –å¼•ç‰çš„ä½œç”¨ï¼Œå¸å¼•å¹¿å¤§å¼€å‘è€…è¿›è¡Œå…±å»ºï¼Œä¸€èµ·å®Œå–„ä¸Šè¿°ç»„ä»¶åº“ï¼Œç”šè‡³ä¸æ–­åœ°å¼•å…¥æ›´å¤šçš„ Web ç«¯ç”Ÿæ€åº“ï¼Œè®©è·¨ç«¯å¼€å‘å˜å¾—æ›´è½»æ¾ã€‚ååˆ†æœŸå¾…æ‚¨çš„å‚ä¸ï½</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro 3.2 ç‰ˆæœ¬æ­£å¼å‘å¸ƒï¼šReact Native æ”¯æŒï¼Œç‹è€…å½’æ¥]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-04-08-taro-3.2</link>
            <guid>2021-04-08-taro-3.2</guid>
            <pubDate>Thu, 08 Apr 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Taro 3.2 ç‰ˆæœ¬æ­£å¼å‘å¸ƒï¼šReact Native æ”¯æŒï¼Œç‹è€…å½’æ¥]]></description>
            <content:encoded><![CDATA[<p><strong>Taro</strong> æ˜¯ä¸€ä¸ªå¼€æ”¾å¼ <strong>è·¨ç«¯è·¨æ¡†æ¶</strong> è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒä½¿ç”¨   React/Vue/Nerv ç­‰æ¡†æ¶æ¥å¼€å‘ <code>å¾®ä¿¡/äº¬ä¸œ/ç™¾åº¦/æ”¯ä»˜å®/å­—èŠ‚è·³åŠ¨/QQå°ç¨‹åº/H5/React Native</code> ç­‰åº”ç”¨ã€‚</p><p>è‡ªä» Taro 3 å‘å¸ƒä»¥æ¥ï¼Œä¸å°‘å¼€å‘è€…æœŸå¾… Taro 3 å¯ä»¥æ”¯æŒ React Nativeã€‚åŸºäº 58 å›¢é˜Ÿåœ¨ React Native æ–¹å‘çš„æŠ€æœ¯ç§¯ç´¯ï¼Œæˆ‘ä»¬ä¸ Taro å›¢é˜Ÿè¾¾æˆæˆ˜ç•¥åˆä½œä¼™ä¼´å…³ç³»ã€‚ç”± 58 å›¢é˜Ÿä¸»å¯¼å¼€å‘ Taro 3 React Nativeï¼Œå…±åŒæ¨è¿› Taro çš„å‘å±•ã€‚</p><p>å»å¹´ 12 æœˆå¼€å§‹ï¼Œå·²ç»å®Œæˆäº† <a href="https://mp.weixin.qq.com/s/-7G7NMHX8ol99QxkswFOxg" target="_blank" rel="noopener noreferrer">Taro 3 React Native çš„æ”¯æŒ</a>ï¼Œå…±å‘å¸ƒäº† 9 ä¸ª canary ç‰ˆæœ¬ä¸ 4 ä¸ª beta ç‰ˆï¼Œç»è¿‡è¾ƒé•¿æ—¶é—´çš„éªŒè¯ï¼Œå¦‚ä»Šç»ˆäºè¿æ¥äº† 3.2 æ­£å¼ç‰ˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€highlights">ä¸€ã€Highlights<a class="hash-link" href="#ä¸€highlights" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-æ›´å¿«ç¼–è¯‘é€Ÿåº¦">1. æ›´å¿«ç¼–è¯‘é€Ÿåº¦<a class="hash-link" href="#1-æ›´å¿«ç¼–è¯‘é€Ÿåº¦" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro 3 ä¹‹å‰ç‰ˆæœ¬ä¸­ï¼ŒTaro ä½œä¸ºä¸€ä¸ªç¼–è¯‘å‹æ¡†æ¶ï¼ŒReact Native æ‰“åŒ… <code>bundle</code> ä¼šåˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ã€‚é¦–å…ˆï¼Œå¯¹ Taro æºç è¿›è¡Œå¤§é‡çš„ AST æ“ä½œè½¬æ¢æˆ React Native çš„ä»£ç ï¼Œç„¶åå†åˆ©ç”¨ Metro æ‰“åŒ…æˆ <code>bundle</code>ï¼Œæ•´ä¸ªç¼–è¯‘é€Ÿåº¦æœ‰å¾…è¿›ä¸€æ­¥æå‡ã€‚</p><p>Taro 3 React Native å¯¹æ•´ä¸ªç¼–è¯‘ç³»ç»Ÿè¿›è¡Œè¾ƒå¤§è°ƒæ•´ï¼Œä¸å†ç”Ÿæˆä¸­é—´ä»£ç ï¼Œè€Œæ˜¯ç›´æ¥åˆ©ç”¨ Metro ç”Ÿæˆ <code>bundle</code>ï¼Œé€šè¿‡è¿è¡Œæ—¶é€‚é… Taro 3 æ ‡å‡†ï¼Œè¿™ç§æ–¹å¼ä½¿å¾—ç¼–è¯‘è¿‡ç¨‹æ›´ç®€å•ï¼Œå¤§å¤§æå‡äº†ç¼–è¯‘é€Ÿåº¦ï¼Œä¸”ç»™æˆ‘ä»¬å¸¦æ¥äº†æ›´å¤šçš„å¥½å¤„:</p><ul><li>åˆ©ç”¨ Metro æ‰“åŒ… React Native ï¼Œé€šè¿‡å¤šçº§ç¼“å­˜ä»¥åŠ hasteFS è®©æ‰“åŒ…é€Ÿåº¦æ›´å¿«ï¼›</li><li>æ›´åŠ è´´åˆ React Native ç”Ÿæ€ï¼Œç¤¾åŒºåŸºäº Metro æ‰“åŒ…ä¼˜åŒ–æ–¹æ¡ˆå¯¹æ¥æ›´åŠ å®¹æ˜“ï¼›</li></ul><p><img loading="lazy" src="https://wos2.58cdn.com.cn/DeFazYxWvDti/frsupload/d8b1baf30804ca721e8ece597dd4e9b6.gif" alt="Taro 2 ä¸ Taro 3 å¯åŠ¨è¿‡ç¨‹å¯¹æ¯”" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-source-map-æ”¯æŒ">2. <code>source-map</code> æ”¯æŒ<a class="hash-link" href="#2-source-map-æ”¯æŒ" title="Direct link to heading">â€‹</a></h3><p>åœ¨æ—§ç‰ˆæœ¬çš„ Taro React Native ä¸­ï¼Œé€šè¿‡å°† Taro ä»£ç è½¬æ¢ä¸º React Native çš„ä¸­é—´ä»£ç ï¼Œå†åˆ©ç”¨ Metro æ‰“åŒ…æˆ <code>bundle</code>ã€‚ è¿™ç§æ–¹å¼ä¸ä»…ç¼–è¯‘é€Ÿåº¦ä¸ä½³ï¼Œåˆ©ç”¨ä¸­é—´ä»£ç æ‰“åŒ…æˆ <code>bundle</code>ï¼Œä¸èƒ½æ”¯æŒåˆ°<code>source-map</code>ï¼Œè°ƒè¯•èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚</p><p>Taro 3 å¯¹ç¼–è¯‘ç³»ç»Ÿè¿›è¡Œè¾ƒå¤§è°ƒæ•´ï¼Œä¸å†ç”Ÿæˆä¸­é—´ä»£ç ï¼Œè€Œæ˜¯ç›´æ¥åˆ©ç”¨ Metro å¯¹ Taro æºç è¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ ·åœ¨æå‡ç¼–è¯‘é€Ÿåº¦çš„åŒæ—¶ï¼Œä¹Ÿå¤©ç„¶æ”¯æŒ<code>source-map</code>ï¼Œå¯¹äºå¼€å‘ä½“éªŒæ˜¯ä¸€ä¸ªå·¨å¤§çš„æå‡ï¼Œèƒ½å¤Ÿè¾¾åˆ°ä¸å¼€å‘åŸç”Ÿ React Native åº”ç”¨ä¸€è‡´çš„ä½“éªŒã€‚</p><p><img loading="lazy" src="https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_5ad3XU5aV9WcU7d1Wbd1d3U5WcVaVa7b.png" alt="åŸºäº source-map è¿›è¡Œdebug" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-å¤š-react-native-ç‰ˆæœ¬æ”¯æŒæ‹¥æŠ±æœ€æ–°ç‰ˆ-064">3. å¤š React Native ç‰ˆæœ¬æ”¯æŒï¼Œæ‹¥æŠ±æœ€æ–°ç‰ˆ 0.64<a class="hash-link" href="#3-å¤š-react-native-ç‰ˆæœ¬æ”¯æŒæ‹¥æŠ±æœ€æ–°ç‰ˆ-064" title="Direct link to heading">â€‹</a></h3><p>è¿‡å» Taro å¯¹ç§»åŠ¨ç«¯çš„æ”¯æŒï¼ŒReact Native çš„ç‰ˆæœ¬éƒ½æ˜¯ç›¸å¯¹å›ºå®šçš„ï¼Œä¿®æ”¹ React Native ç‰ˆæœ¬å­˜åœ¨è¾ƒå¤šçš„ä¸ä¾¿ã€‚</p><p>Taro 3 å¯¹ç³»ç»Ÿæ¶æ„è¿›è¡Œäº†å…¨é¢å‡çº§ï¼ŒReact Native ç‰ˆæœ¬å–å†³äºå¼€å‘è€…é¡¹ç›®ä¸­çš„ä¾èµ–ï¼Œ<strong>ç›®å‰æ”¯æŒ 0.60 ä»¥ä¸Šçš„ React Native ç‰ˆæœ¬ï¼Œå½“ç„¶æœ€æ–°çš„ 0.64 ä¹Ÿæ˜¯å®Œå…¨æ”¯æŒ</strong>ã€‚</p><p>åœ¨ React Native 0.64 çš„ç‰ˆæœ¬ä¸­ï¼ŒiOS ç«¯å®Œæˆ äº†å¯¹ Hermes å¼•æ“çš„æ”¯æŒï¼Œé»˜è®¤å¯ç”¨äº†å†…è”å¼•ç”¨ï¼Œä¹Ÿæ”¯æŒ React 17 ç­‰ç­‰ï¼Œæƒ³ä½“éªŒè¿™äº›æ–°ç‰¹æ€§çš„å¼€å‘è€…åªéœ€å‡çº§å¯¹åº”ä¾èµ–å³å¯ã€‚</p><p><strong>æ–°é¡¹ç›®å‡çº§</strong></p><p>Taro æ¨¡æ¿é»˜è®¤ä¾èµ– React 17ã€TypeScript 4ï¼Œè¿è¡Œ React Native ç«¯ä¼šè‡ªåŠ¨å®‰è£… 0.64 çš„ç‰ˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</p><p><strong>æ—§é¡¹ç›®å‡çº§</strong></p><blockquote><p>ä» v2.x å‡çº§çš„åŒå­¦éœ€è¦å…ˆæŒ‰ <a href="/taro-docs/docs/next/migration/">è¿ç§»æŒ‡å—</a>è¿›è¡Œæ“ä½œã€‚</p></blockquote><p>å¦‚æœæ˜¯Taro 3 çš„æ—§é¡¹ç›®ï¼Œæ‰‹åŠ¨å‡çº§å¯¹åº”çš„ä¾èµ–ï¼š</p><ul><li><code>react: ^17.0.0</code></li><li><code>react-dom: ^17.0.0</code></li><li><code>typescript: ^4.1.0</code></li><li><code>@typescript-eslint/parser: ^4.15.1</code></li><li><code>@typescript-eslint/eslint-plugin: ^4.15.1</code></li><li><code>react-native:^0.64.0</code></li></ul><p>è®¾ç½® ESLint é…ç½®ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// .eslintrc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"extends"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"taro/react"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"rules"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">"react/jsx-uses-react"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"off"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">"react/react-in-jsx-scope"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"off"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-æ›´ä¸°å¯Œapiä¸ç»„ä»¶">4. æ›´ä¸°å¯ŒAPIä¸ç»„ä»¶<a class="hash-link" href="#4-æ›´ä¸°å¯Œapiä¸ç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>è¦çœŸæ­£åšåˆ°ä¸€å¥—ä»£ç ï¼Œå¤šç«¯å¤ç”¨ï¼Œéå¸¸é‡è¦çš„ä¸€ç‚¹å°±æ˜¯ç»„ä»¶å’Œ API çš„è¦†ç›–åº¦ï¼Œåœ¨ Taro 3.2 ä¹‹å‰ï¼Œé€‚é… React Native  å·²ç»å®ç°äº†å¾ˆå¤šå¸¸ç”¨ API å’Œç»„ä»¶ï¼Œä½†ä¸å°ç¨‹åºï¼ŒH5 ä¹‹é—´è¿˜å­˜åœ¨è¾ƒå¤§çš„å·®è·ï¼Œéœ€è¿›ä¸€æ­¥å®Œå–„ã€‚åœ¨æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æå‡ç»„ä»¶å’Œ API çš„è¦†ç›–åº¦ï¼Œå…±æ–°å¢ <strong>45</strong> ä¸ª API ä¸ <strong>8</strong> ä¸ªç»„ä»¶ã€‚</p><p>åœ¨å¦‚ä»Šå¤šåª’ä½“æ—¶ä»£ï¼Œè§†é¢‘ã€éŸ³é¢‘ç­‰ç›¸å…³ç»„ä»¶ä¸ API éƒ½æ˜¯å¿…ä¸å¯å°‘çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨ Taro 3 ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿéƒ½å·²ç»é›†æˆè¿›æ¥äº†ï¼Œé™¤äº†å¤šåª’ä½“ç›¸å…³ï¼Œè¿˜æœ‰æ‰«ç ï¼ŒVirtualList ç­‰ç­‰ï¼Œå¤§å¤§ä¸°å¯Œäº† API ä¸ç»„ä»¶ã€‚æ›´å¤šå†…å®¹è¯·å‚è€ƒ<a href="/taro-docs/docs/apis/about/desc">æ–‡æ¡£</a>ã€‚</p><p> <strong>æ–°å¢çš„API:</strong></p><table><thead><tr><th>API</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>scanCode</td><td>æ‰«ç </td></tr><tr><td>show/hideTabBar...</td><td>tabBar ç›¸å…³</td></tr><tr><td>createCameraContext</td><td>ç›¸æœºç›¸å…³</td></tr><tr><td>...</td><td>...</td></tr></tbody></table><p><strong>æ–°å¢çš„ç»„ä»¶</strong></p><table><thead><tr><th>API</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>Video</td><td>è§†é¢‘</td></tr><tr><td>Camera</td><td>ç›¸æœº</td></tr><tr><td>VirtualList</td><td>é•¿åˆ—è¡¨</td></tr><tr><td>...</td><td>...</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_IyCF" id="5-apiä¸ç»„ä»¶æŒ‰éœ€å¼•å…¥">5. APIä¸ç»„ä»¶æŒ‰éœ€å¼•å…¥<a class="hash-link" href="#5-apiä¸ç»„ä»¶æŒ‰éœ€å¼•å…¥" title="Direct link to heading">â€‹</a></h3><p>åœ¨ React Native åº”ç”¨ä¸­ï¼Œæ‰“åŒ…åæœ€ç»ˆ <code>bundle</code> çš„å¤§å°ä¼šå½±å“æˆ‘ä»¬é¦–æ¬¡æ‰“å¼€é¡µé¢çš„æ—¶é—´ï¼Œé¦–æ¬¡æ‰“å¼€æ—¶é—´è¿‡é•¿ï¼Œå¯¹ç”¨æˆ·çš„ä½“éªŒå­˜åœ¨ä¸€å®šçš„å½±å“ã€‚</p><p>åœ¨ Taro 3 ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯¹æ‰“åŒ…å <code>bundle</code> å¤§å°è¿›è¡Œäº†ä¼˜åŒ–ã€‚åœ¨å®é™…çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¯èƒ½å¹¶ä¸ä¼šä½¿ç”¨åˆ° Taro æä¾›çš„æ‰€æœ‰ç»„ä»¶å’Œ API ï¼Œä½†ä»ç„¶ä¼šå°†æ‰€æœ‰çš„ç»„ä»¶ä¸ API åŠç›¸å…³ä¾èµ–æ‰“åŒ…åˆ°æœ€ç»ˆçš„ <code>bundle</code> ä¸­ï¼Œè¿™æ— ç–‘ä¼šå¢åŠ  <code>bundle</code> çš„å¤§å°ã€‚</p><p>ä¸ºäº†å‡å°‘æ‰“åŒ…åçš„å¤§å°ï¼Œæˆ‘ä»¬å¯¹ç»„ä»¶å’Œ API å®ç°äº†æŒ‰éœ€å¼•å…¥çš„æ–¹å¼ï¼Œæ¯”å¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">scanCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//å®é™…æ‰“åŒ…åçš„å¼•å…¥ä¼šæ ¹æ®é¡µé¢ä½¿ç”¨çš„å¼•å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> scanCode </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro-rn/dist/lib/scanCode'</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å› æ­¤ï¼Œè¿™ç§å®ç°æŒ‰éœ€å¼•å…¥ï¼Œå¯¹äºé¡¹ç›®ä¸­æœªä½¿ç”¨çš„ç»„ä»¶ä¸ API ä»¥åŠå¯¹äºä¾èµ–çš„åº“ï¼Œéƒ½ä¸ä¼šæ‰“åŒ…åˆ°<code>bundle</code>çš„ä¸­ï¼Œèƒ½å¤Ÿå¤§å¤§å‡å°‘æœ€ç»ˆ<code>bundle</code>çš„å¤§å°ï¼Œè¿›ä¸€æ­¥æå‡ App é¦–æ¬¡æ‰“å¼€é¡µé¢æ—¶é—´ã€‚åŒæ—¶å› ä¸ºæŒ‰éœ€å¼•å…¥çš„å­˜åœ¨ï¼Œå£³å·¥ç¨‹å¯è‡ªä¸»è¿›è¡Œä¼˜åŒ–å®šåˆ¶ï¼Œé™ä½ APP åŒ…å¤§å°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="6-ä¸-react-native-åº”ç”¨èåˆ">6. ä¸ React Native åº”ç”¨èåˆ<a class="hash-link" href="#6-ä¸-react-native-åº”ç”¨èåˆ" title="Direct link to heading">â€‹</a></h3><p><strong>æœ‰å¼€å‘è€…æåˆ°ï¼Œå·²æœ‰react nativeçš„é¡¹ç›®ä¸­ï¼Œåœ¨ä¸ä¿®æ”¹åŸæœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦ä¾¿äºæ¥å…¥å‘¢ï¼Ÿ</strong></p><p>åœ¨ Taro 3 æˆ‘ä»¬ç»™å‡ºäº†è‚¯å®šçš„ç­”æ¡ˆï¼ŒTaro 3 çš„æ•´ä¸ªç¼–è¯‘ä½“ç³»è¿›è¡Œäº†å‡çº§ï¼Œç›´æ¥åŸºäº Taro æºç è¿›è¡Œæ‰“åŒ… ï¼Œé€šè¿‡è‡ªå®šä¹‰<code>transformer</code>ï¼Œè¿è¡Œæ—¶é€‚é…çš„æ–¹å¼ï¼Œç”Ÿæˆæ”¯æŒ Taro çš„ Metro é…ç½®ï¼Œå¹¶ä¸ä¸šåŠ¡çš„é…ç½®è¿›è¡Œåˆå¹¶ï¼Œæ ¹æ®æœ€ç»ˆ Metro é…ç½®å®Œæˆ<code>bundle</code>çš„æ‰“åŒ…ã€‚è¿™ç§æ–¹æ¡ˆæ¯”è¾ƒå®¹æ˜“æ‰©å±•ã€‚</p><p>æˆ‘ä»¬é€šè¿‡æä¾›æ”¯æŒ Taro çš„æ‰“åŒ… Metro é…ç½®å¹¶æä¾›è¿è¡Œæ—¶æ–¹æ³•ï¼Œå¼€å‘è€…åªéœ€ä¸ç°æœ‰ä¸šåŠ¡æ‰“åŒ…é…ç½®ç»“åˆï¼Œå¹¶ç”¨è¿è¡Œæ—¶æ–¹æ³•è¿›è¡ŒåŒ…è£…å¤„ç†ã€‚è¿™æ ·å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„ä¸ç°æœ‰å¯¼èˆªç³»ç»Ÿç»“åˆï¼Œä¹Ÿæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç ï¼Œå³å¯ä»¥è½»æ¾æ¥å…¥ã€‚ è¯¦ç»†å¯å‚è€ƒ<a href="https://github.com/wuba/Taro-Code-In-React-Native" target="_blank" rel="noopener noreferrer">Demo</a>ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//metro.config.js å‚è€ƒé…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Supporter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'@tarojs/rn-supporter'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> supporter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Supporter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> taroMetroConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> supporter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getMetroConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> busConfig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">resetCache</span><span class="token operator" style="color:#393A34">:</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mergeConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">busConfig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">taroMetroConfig</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="7-ä¸è·¨ç«¯ä½¿ç”¨">7. ä¸è·¨ç«¯ä½¿ç”¨<a class="hash-link" href="#7-ä¸è·¨ç«¯ä½¿ç”¨" title="Direct link to heading">â€‹</a></h3><p><strong>æ²¡æœ‰è·¨ç«¯éœ€æ±‚ï¼Œæ˜¯å¦å°±ä¸éœ€è¦ä½¿ç”¨ Taro å‘¢ï¼Ÿ</strong></p><p>å¯¹äºå½“å‰æ²¡æœ‰è·¨ç«¯çš„éœ€æ±‚ï¼Œä»…éœ€è¦å¼€å‘ React Native åº”ç”¨æˆ–è€…å°ç¨‹åºçš„å¼€å‘è€…ï¼Œæˆ‘ä»¬ä»ç„¶æ¨èä½¿ç”¨ Taro ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹åŸå› ï¼š</p><ul><li>æ”¯æŒå¿«é€Ÿåˆ°å…¶ä»–ç«¯ï¼Œä¾¿äºåæœŸæ‰©å±•ï¼›</li><li>å¯ä½¿ç”¨ Taro ç»„ä»¶ä¸ APIï¼Œæå‡å¼€å‘é€Ÿåº¦ï¼›</li><li>ç›¸æ¯” React Native æ ·å¼çš„å†™æ³•ï¼Œå†™æ³•æ›´åŠ ç®€å•ä¾¿æ·ï¼Œå¹¶ä¸”æ”¯æŒå¤šç§é¢„ç¼–è¯‘è¯­è¨€ï¼›</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒå‡çº§æŒ‡å—">äºŒã€å‡çº§æŒ‡å—<a class="hash-link" href="#äºŒå‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><blockquote><p>ä» v2.x å‡çº§çš„åŒå­¦éœ€è¦å…ˆæŒ‰ <a href="/taro-docs/docs/next/migration/">è¿ç§»æŒ‡å—</a>è¿›è¡Œæ“ä½œã€‚</p></blockquote><p>ä» v3.x å‡çº§çš„åŒå­¦ï¼Œé¦–å…ˆéœ€è¦å®‰è£… v3.2 çš„ CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åè¿›å…¥é¡¹ç›®ï¼Œåˆ é™¤ <strong>node_modules</strong>ã€<strong>yarn.lock</strong>ã€<strong>package-lock.json</strong>ã€‚</p><p>æœ€åæŠŠ <code>package.json</code> æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>^3.2.0</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ï¼Œè‡³æ­¤å‡çº§ç»“æŸã€‚</p><blockquote><p>ç›®å‰ Taro 3 ä»…æ”¯æŒ React å¼€å‘çš„é¡¹ç›®è¿è¡Œåœ¨ React Native ç«¯ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰æœªæ¥è§„åˆ’">ä¸‰ã€æœªæ¥è§„åˆ’<a class="hash-link" href="#ä¸‰æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h2><p>Taro 3 å·²å®Œæˆ <strong>React Native</strong> ç«¯çš„é€‚é…ï¼Œæœªæ¥æˆ‘ä»¬å°†ä»ç»„ä»¶å’Œ API çš„è¦†ç›–åº¦ï¼Œä½¿ç”¨æˆæœ¬ç­‰å‡ ä¸ªæ–¹é¢ç»§ç»­å®Œå–„ã€‚ä¸æ–­æå‡APIä¸ç»„ä»¶çš„è¦†ç›–åº¦ï¼Œå°½å¯èƒ½å‡å°‘ä¸H5ã€å°ç¨‹åºç«¯çš„å·®å¼‚ã€‚é€šè¿‡å¢åŠ æ–°æ‰‹æ•™ç¨‹ï¼Œå‡å°‘é¡¹ç›®åˆå§‹åŒ–æ­¥éª¤ï¼Œæä¾›æ›´å¤šçš„æ¡ˆä¾‹ç­‰æ–¹é¢ï¼Œä¸æ–­é™ä½ä½¿ç”¨æˆæœ¬ã€‚</p><p>Taro ä¹Ÿæä¾›äº†å¾®ä¿¡ç¾¤æ–¹ä¾¿å¤§å®¶ä¸ç»´æŠ¤è€…ä»¬æ›´åŠæ—¶æ²Ÿé€šäº¤æµï¼š</p><p><img loading="lazy" src="https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/a758bc2a-127a-4363-83f2-6f1c00e977afimage.png" alt="å¾®ä¿¡ç¾¤" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››æ„Ÿè°¢">å››ã€æ„Ÿè°¢<a class="hash-link" href="#å››æ„Ÿè°¢" title="Direct link to heading">â€‹</a></h2><p>Taro å›¢é˜Ÿè¡·å¿ƒæ„Ÿè°¢å„ä½å‚ä¸è¿‡æœ¬é¡¹ç›®å¼€æºå»ºè®¾çš„æœ‹å‹ï¼Œæ— è®ºæ˜¯ä¸º Taro æäº¤è¿‡ä»£ç ã€å»ºè®¾å‘¨è¾¹ç”Ÿæ€ï¼Œè¿˜æ˜¯åé¦ˆè¿‡é—®é¢˜ï¼Œç”šè‡³åªæ˜¯èŒ¶ä½™é¥­åè®¨è®ºã€åæ§½ Taro çš„å„ä½ã€‚</p><p>ç°è¯šæŒšçš„é‚€è¯·æ‚¨ä¸ Taro å›¢é˜Ÿäº¤æµæ‚¨çš„ä½¿ç”¨æƒ…å†µï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿæå‡ºæ›´å¤šå®è´µçš„æ„è§ï¼Œæœ‰ä½ ç›¸ä¼´ï¼ŒTaro ä¼šæ›´åŠ ç²¾å½©ã€‚</p><p><img loading="lazy" src="https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/e675214c-912b-46fb-98ba-3629d3e455d9image.png" alt="é—®å·è°ƒæŸ¥" class="img_ROth"></p><p>æœ€åï¼Œç‰¹åˆ«æ„Ÿè°¢ä¸º Taro ä» v3.1 èµ°åˆ° v3.2 è´¡çŒ®è¿‡ä»£ç çš„å„ä½åŒå­¦ï¼Œæ’åä¸åˆ†å…ˆåï¼š</p><ul><li>@KeenV</li><li>@baranwang</li><li>@LiHDong</li><li>@changcllong</li><li>@liuchuzhang </li><li>@baranwang</li><li>@SyMind</li><li>@ryougifujino</li><li>@inarol</li><li>@huaoguo</li><li>@zhiqingchen</li><li>@zhenglong</li><li>@Qiuz</li><li>@shinken008</li><li>@skychx</li><li>@iambool</li><li>@iChengbo</li><li>@nickyefei</li><li>@xzj</li><li>@yechunxi</li><li>@Victor</li><li>@xieweilyg</li><li>@Dugz</li><li>@haojie</li><li>@b2nil</li><li>@doublethinkio</li><li>@CodeDaraW</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä½œè€…ç®€ä»‹">ä½œè€…ç®€ä»‹<a class="hash-link" href="#ä½œè€…ç®€ä»‹" title="Direct link to heading">â€‹</a></h2><ul><li>é™ˆå¿—åº†ï¼š58åŒåŸ å‰ç«¯æ¶æ„å¸ˆï¼ŒæŠ€æœ¯å§”å‘˜ä¼šå§”å‘˜</li><li>å¶æ˜¥å–œï¼š58åŒåŸ èµ„æ·±å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</li></ul>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro æ­£å¼å‘å¸ƒ 3.1 ç‰ˆæœ¬]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-03-10-taro-3-1-lts</link>
            <guid>2021-03-10-taro-3-1-lts</guid>
            <pubDate>Wed, 10 Mar 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[è‡ª Taro 3.1 ä½“éªŒç‰ˆæ¨å‡ºåï¼Œæˆ‘ä»¬ä¸æ–­åœ°æ ¹æ®ç¤¾åŒºçš„åé¦ˆæ„è§å¯¹ 3.1 ç‰ˆæœ¬è¿›è¡Œæ‰“ç£¨ã€‚ç»å†äº† 12 ä¸ª beta ç‰ˆæœ¬åï¼Œç»ˆäºè¿æ¥äº† 3.1 æ­£å¼ç‰ˆã€‚]]></description>
            <content:encoded><![CDATA[<p>è‡ª Taro 3.1 ä½“éªŒç‰ˆæ¨å‡ºåï¼Œæˆ‘ä»¬ä¸æ–­åœ°æ ¹æ®ç¤¾åŒºçš„åé¦ˆæ„è§å¯¹ 3.1 ç‰ˆæœ¬è¿›è¡Œæ‰“ç£¨ã€‚ä¸»è¦æ”¹è¿›äº†<strong>å¼€æ”¾å¼æ¶æ„</strong>ã€å¼•å…¥äº† <code>CustomWrapper</code> ç»„ä»¶ä»¥è§£å†³æ€§èƒ½é—®é¢˜ã€æå‡ºäº†åŸç”Ÿå°ç¨‹åº<strong>æ¸è¿›å¼æ··åˆä½¿ç”¨ Taro</strong> çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>ç»å†äº† 12 ä¸ª beta ç‰ˆæœ¬åï¼Œç»ˆäºè¿æ¥äº† 3.1 æ­£å¼ç‰ˆğŸ‰</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€highlights">ä¸€ã€Highlights<a class="hash-link" href="#ä¸€highlights" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-å¼€æ”¾å¼æ¶æ„">1. å¼€æ”¾å¼æ¶æ„<a class="hash-link" href="#1-å¼€æ”¾å¼æ¶æ„" title="Direct link to heading">â€‹</a></h3><p>è¿‘å¹´æ¥ä¸šç•Œæ¨å‡ºçš„å°ç¨‹åºå¹³å°è¶Šæ¥è¶Šå¤šï¼Œä½† Taro æ ¸å¿ƒç»´æŠ¤çš„å¹³å°åªæœ‰ 6 ä¸ªï¼Œå› æ­¤å¸¸å¸¸æœ‰åŒå­¦æå‡ºèƒ½ä¸èƒ½æ”¯æŒæŸæŸå¹³å°çš„ Feature Requestã€‚</p><p>åŸºäºç›®å‰çš„æ¶æ„ï¼Œæ”¯æŒä¸€ä¸ªæ–°çš„å¹³å°å¼€å‘å¤æ‚åº¦é«˜ï¼ŒåŒæ—¶ç¤¾åŒºä¹Ÿéš¾ä»¥å‚ä¸è´¡çŒ®ã€‚</p><p>ä¸ºæ­¤æˆ‘ä»¬æŠŠ Taro æ‰“é€ æˆä¸ºä¸€ä¸ªå¼€æ”¾å¼æ¡†æ¶ï¼Œ<strong>é€šè¿‡ç«¯å¹³å°æ’ä»¶èƒ½æ”¯æŒä»»æ„å°ç¨‹åºå¹³å°</strong>ï¼š</p><ul><li><strong>æ’ä»¶å¼€å‘è€…</strong>æ— éœ€ä¿®æ”¹ Taro é¡¹ç›®æºç ï¼Œå³å¯<a href="/taro-docs/docs/next/platform-plugin-how">ç¼–å†™å‡ºä¸€ä¸ªç«¯å¹³å°æ’ä»¶</a>ã€‚</li><li><strong>æ’ä»¶ä½¿ç”¨è€…</strong>åªéœ€<a href="/taro-docs/docs/next/platform-plugin#%E7%AB%AF%E5%B9%B3%E5%8F%B0%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95">å®‰è£…ã€é…ç½®ç«¯å¹³å°æ’ä»¶</a>ï¼Œå³å¯æŠŠä»£ç ç¼–è¯‘åˆ°æŒ‡å®šå¹³å°ã€‚</li></ul><p>åŸºäºå¼€æ”¾å¼æ¶æ„ï¼Œæˆ‘ä»¬æ–°å¢äº†ä¸€äº›æœ‰è¶£çš„æ’ä»¶ï¼Œä¹Ÿååˆ†æœŸå¾…å¤§å®¶åˆ©ç”¨å®ƒæ–½å±•åˆ›æ„ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°å¢çš„æ’ä»¶">æ–°å¢çš„æ’ä»¶ï¼š<a class="hash-link" href="#æ–°å¢çš„æ’ä»¶" title="Direct link to heading">â€‹</a></h4><table><thead><tr><th align="left">æ’ä»¶</th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left"><a href="https://github.com/NervJS/taro-plugin-platform-weapp-qy" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-weapp-qy</a></td><td align="left">ç¼–è¯‘ä¼ä¸šå¾®ä¿¡å°ç¨‹åº</td></tr><tr><td align="left"><a href="https://github.com/NervJS/taro-plugin-platform-alipay-dd" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-alipay-dd</a></td><td align="left">ç¼–è¯‘é’‰é’‰å°ç¨‹åº</td></tr><tr><td align="left"><a href="https://github.com/NervJS/taro-plugin-platform-alipay-iot" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-alipay-iot</a></td><td align="left">ç¼–è¯‘æ”¯ä»˜å® IOT å°ç¨‹åº</td></tr><tr><td align="left"><a href="https://github.com/NervJS/taro-plugin-inject" target="_blank" rel="noopener noreferrer">@tarojs/plugin-inject</a></td><td align="left">ä¸ºæ‰€æœ‰å°ç¨‹åºå¹³å°å¿«é€Ÿæ–°å¢ <strong>API</strong>ã€<strong>ç»„ä»¶</strong>ï¼Œ<strong>è°ƒæ•´ç»„ä»¶å±æ€§</strong>ç­‰</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ–°å¢å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–ç»„ä»¶-customwrapper">2. æ–°å¢å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–ç»„ä»¶ CustomWrapper<a class="hash-link" href="#2-æ–°å¢å°ç¨‹åºæ€§èƒ½ä¼˜åŒ–ç»„ä»¶-customwrapper" title="Direct link to heading">â€‹</a></h3><p>Taro3 ä½¿ç”¨ <code>&lt;template&gt;</code> è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€æœ‰çš„ <code>setData</code> éƒ½ç”±é¡µé¢å¯¹è±¡è°ƒç”¨ã€‚å¦‚æœé¡µé¢ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œåº”ç”¨æ›´æ–°çš„æ€§èƒ½å°±ä¼šä¸‹é™ã€‚</p><p>ä¸ºæ­¤æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåŸºç¡€ç»„ä»¶ <code>CustomWrapper</code>ï¼Œå®ƒçš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶ã€‚å¯¹åä»£èŠ‚ç‚¹çš„ <code>setData</code> å°†ç”±æ­¤è‡ªå®šä¹‰ç»„ä»¶è¿›è¡Œè°ƒç”¨ï¼Œ<strong>è¾¾åˆ°å±€éƒ¨æ›´æ–°çš„æ•ˆæœ</strong>ï¼Œä»è€Œæå‡æ›´æ–°æ€§èƒ½ã€‚</p><p>å¼€å‘è€…å¯ä»¥ä½¿ç”¨  <code>CustomWrapper</code> å»åŒ…è£¹é‡åˆ°æ›´æ–°æ€§èƒ½é—®é¢˜çš„ç»„ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">CustomWrapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">GoodsList</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Item</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Item</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">GoodsList</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">CustomWrapper</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>æ›´è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–åŸç†è¯·è§<a href="/taro-docs/blog/2021-02-08-taro-jxpp#2-%E6%B8%B2%E6%9F%93%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">ã€ŠTaro åŠ©åŠ›äº¬å–œæ‹¼æ‹¼é¡¹ç›®æ€§èƒ½ä½“éªŒä¼˜åŒ–ã€‹</a></p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-åŸç”Ÿå°ç¨‹åºæ¸è¿›å¼æ··åˆä½¿ç”¨-taro-å¼€å‘">3. åŸç”Ÿå°ç¨‹åºæ¸è¿›å¼æ··åˆä½¿ç”¨ Taro å¼€å‘<a class="hash-link" href="#3-åŸç”Ÿå°ç¨‹åºæ¸è¿›å¼æ··åˆä½¿ç”¨-taro-å¼€å‘" title="Direct link to heading">â€‹</a></h3><p>è¿‡å»æˆ‘ä»¬å¯¹åœ¨ Taro é¡¹ç›®ä¸­æ··åˆä½¿ç”¨åŸç”Ÿçš„æ”¯æŒåº¦è¾ƒé«˜ã€‚ç›¸ååœ°ï¼Œå¯¹åœ¨åŸç”Ÿé¡¹ç›®ä¸­æ··åˆä½¿ç”¨ Taro å´æ²¡æœ‰å¤ªé‡è§†ã€‚ä½†æ˜¯å¸‚é¢ä¸Šæœ‰ç€å­˜é‡çš„åŸç”Ÿå¼€å‘å°ç¨‹åºï¼Œä»–ä»¬æ¥å…¥ Taro å¼€å‘çš„æ”¹é€ æˆæœ¬å¾€å¾€éå¸¸å¤§ï¼Œæœ€ååªå¾—æ”¾å¼ƒæ··åˆå¼€å‘çš„æƒ³æ³•ã€‚</p><p><a href="/taro-docs/blog/2021-02-08-taro-jxpp">ç»è¿‡ä¸äº¬å–œæ‹¼æ‹¼é¡¹ç›®çš„åˆä½œ</a>ï¼Œä¹Ÿé©±ä½¿äº†æˆ‘ä»¬æ›´åŠ å…³æ³¨è¿™éƒ¨åˆ†éœ€æ±‚ã€‚Taro æ¨å‡ºäº†ä¸€å¥—å®Œæ•´çš„åŸç”Ÿé¡¹ç›®æ··åˆä½¿ç”¨ Taro çš„æ–¹æ¡ˆã€‚</p><p><a href="/taro-docs/docs/taro-in-miniapp">æ–¹æ¡ˆ</a>ä¸»è¦æ”¯æŒäº†ä¸‰ç§åœºæ™¯ï¼š</p><ul><li>åœ¨åŸç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨ Taro å¼€å‘çš„é¡µé¢ã€‚ï¼ˆå·²å®Œæˆï¼‰</li><li>åœ¨åŸç”Ÿé¡¹ç›®çš„åˆ†åŒ…ä¸­è¿è¡Œå®Œæ•´çš„ Taro é¡¹ç›®ã€‚ï¼ˆå·²å®Œæˆï¼‰</li><li>åœ¨åŸç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨ Taro å¼€å‘çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚ï¼ˆå°†åœ¨ v3.1.3 ç‰ˆæœ¬ä¸­æ”¯æŒï¼‰</li></ul><p>å¸Œæœ›ä»¥ä¸Šæ–¹æ¡ˆèƒ½æ»¡è¶³æ‰“ç®—é€æ­¥æ¥å…¥ Taro å¼€å‘çš„åŒå­¦ã€‚æ›´å¤šæ„è§ä¹Ÿæ¬¢è¿åœ¨ <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Github</a> ä¸Šç»™æˆ‘ä»¬ç•™è¨€ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-æ‹¥æŠ±-react-17typescript-4">4. æ‹¥æŠ± React 17ã€TypeScript 4<a class="hash-link" href="#4-æ‹¥æŠ±-react-17typescript-4" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="41-ä½¿ç”¨æ–¹æ³•">4.1. ä½¿ç”¨æ–¹æ³•<a class="hash-link" href="#41-ä½¿ç”¨æ–¹æ³•" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°é¡¹ç›®">æ–°é¡¹ç›®ï¼š<a class="hash-link" href="#æ–°é¡¹ç›®" title="Direct link to heading">â€‹</a></h5><p>æ¨¡æ¿é»˜è®¤ä¾èµ– React 17ã€TypeScript 4ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æ—§é¡¹ç›®">æ—§é¡¹ç›®ï¼š<a class="hash-link" href="#æ—§é¡¹ç›®" title="Direct link to heading">â€‹</a></h5><p>æ‰‹åŠ¨å‡çº§é¡¹ç›®ä¾èµ–ï¼š</p><ul><li><code>react: ^17.0.0</code></li><li><code>react-dom: ^17.0.0</code></li><li><code>typescript: ^4.1.0</code></li><li><code>@typescript-eslint/parser: ^4.15.1</code></li><li><code>@typescript-eslint/eslint-plugin: ^4.15.1</code></li></ul><p>è®¾ç½® ESLint é…ç½®ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// .eslintrc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"extends"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"taro/react"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"rules"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">"react/jsx-uses-react"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"off"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">"react/react-in-jsx-scope"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"off"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="42-react-é»˜è®¤æ”¯æŒ-new-jsx-transform">4.2. React é»˜è®¤æ”¯æŒ <a href="https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html" target="_blank" rel="noopener noreferrer">New JSX Transform</a><a class="hash-link" href="#42-react-é»˜è®¤æ”¯æŒ-new-jsx-transform" title="Direct link to heading">â€‹</a></h4><p>New JSX Transform è®©å¼€å‘è€…<strong>ä¸å†éœ€è¦åœ¨ä¹¦å†™ JSX å‰å…ˆå¼•å…¥ React</strong>ã€‚</p><p>å¦‚æœä¸å¸Œæœ›æ‰“å¼€æ­¤åŠŸèƒ½ï¼Œå¯ä»¥ä¿®æ”¹ Babel é…ç½®çš„ <code>reactJsxRuntime</code> é€‰é¡¹ä¸º <code>classes</code>ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// babel.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'taro'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">framework</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'react'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">ts</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">reactJsxRuntime</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'classes'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="43-react-h5-ç«¯é»˜è®¤å¼€å¯-fast-refresh">4.3. React H5 ç«¯é»˜è®¤å¼€å¯ <a href="https://github.com/facebook/react/issues/16604#issuecomment-528663101" target="_blank" rel="noopener noreferrer">fast-refresh</a><a class="hash-link" href="#43-react-h5-ç«¯é»˜è®¤å¼€å¯-fast-refresh" title="Direct link to heading">â€‹</a></h4><p>å¦‚æœä¸å¸Œæœ›æ‰“å¼€æ­¤åŠŸèƒ½ï¼Œå¯ä»¥ä¿®æ”¹ Taro é…ç½®å’Œ Babel é…ç½®ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// config/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">h5</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">devServer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">hot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// babel.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'taro'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">framework</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'react'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">ts</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">hot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒbreakings">äºŒã€Breakings<a class="hash-link" href="#äºŒbreakings" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-react">1. React<a class="hash-link" href="#1-react" title="Direct link to heading">â€‹</a></h3><p>é¡¹ç›®çš„ React ç‰ˆæœ¬å¿…é¡» <strong>&gt;= 16.14.0</strong>ï¼Œæˆ–ä½¿ç”¨ <strong>17.0.0+</strong></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-vue2">2. Vue2<a class="hash-link" href="#2-vue2" title="Direct link to heading">â€‹</a></h3><blockquote><p>ä¿®å¤ Vue2 å…¥å£ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå¤šæ¬¡è§¦å‘çš„é—®é¢˜ï¼Œ#7179</p></blockquote><p>ç”¨æˆ·ç¼–å†™çš„å…¥å£ç»„ä»¶éœ€è¦ä¿®æ”¹å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// app.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3.0 ä¸­éœ€è¦åˆ›å»º Vue å¯¹è±¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 3.1 ä¸­åªéœ€è¦è¿”å›å¯¹è±¡å­—é¢é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-linaria">3. Linaria<a class="hash-link" href="#3-linaria" title="Direct link to heading">â€‹</a></h3><p>ä½¿ç”¨ <code>Linaria</code> æ—¶ï¼Œéœ€è¦ä¿®æ”¹ <code>linaria.config.js</code> çš„å†…å®¹ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_fwIZ">linaria.config.js</div><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">rules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">action</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"linaria/evaluators"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">shaker</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ­¤å¤„çš„æ­£åˆ™æœ‰æ”¹å˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">node_modules[\/\\](?!@tarojs)</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">action</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ignore"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰ç‰¹æ€§">ä¸‰ã€ç‰¹æ€§<a class="hash-link" href="#ä¸‰ç‰¹æ€§" title="Direct link to heading">â€‹</a></h2><ul><li>ç»„ä»¶ <code>View</code> å¢åŠ  <code>catchMove</code> å±æ€§ï¼Œè§£å†³<a href="/taro-docs/docs/next/react-overall#%E9%98%BB%E6%AD%A2%E6%BB%9A%E5%8A%A8%E7%A9%BF%E9%80%8F">æ»šåŠ¨ç©¿é€</a>é—®é¢˜ã€‚</li><li>åŒæ­¥æ‰€æœ‰å†…ç½®å°ç¨‹åºå®˜æ–¹æœ€æ–°çš„ APIã€ç»„ä»¶èƒ½åŠ›ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››é—®é¢˜ä¿®å¤">å››ã€é—®é¢˜ä¿®å¤<a class="hash-link" href="#å››é—®é¢˜ä¿®å¤" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-é‡è¦">1. é‡è¦<a class="hash-link" href="#1-é‡è¦" title="Direct link to heading">â€‹</a></h3><ul><li>ä¿®å¤ç™¾åº¦å°ç¨‹åºæ¸²æŸ“é—®é¢˜ï¼Œ#7293ã€‚</li><li>ä¿®å¤ã€å¢å¼ºå¾®ä¿¡å°ç¨‹åºè½¬æ¢ä¸º Taro çš„èƒ½åŠ›ã€‚</li><li>ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯ã€‚</li><li>æ”¯ä»˜å®å°ç¨‹åºæ”¯æŒå¼•ç”¨è‡ªå®šä¹‰ç»„ä»¶ã€‚</li><li>ä¿®å¤å°ç¨‹åºåˆ†äº« API åœ¨ä½¿ç”¨ redux æ—¶æ— æ³•ç”Ÿæ•ˆçš„é—®é¢˜ï¼Œ#7232ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-å°ç¨‹åº">2. å°ç¨‹åº<a class="hash-link" href="#2-å°ç¨‹åº" title="Direct link to heading">â€‹</a></h3><ul><li>ä¿®å¤å¤šç«¯æ–‡ä»¶æ²¡æŒ‰ç…§ Webpack <code>extension</code> é…ç½®è§£æçš„é—®é¢˜ï¼Œ#6786ï¼Œ#7265 ã€‚</li><li>ä¿®å¤ style å±æ€§è®¾ç½®å¤±è´¥çš„é—®é¢˜ï¼Œ#8678ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-h5">3. H5<a class="hash-link" href="#3-h5" title="Direct link to heading">â€‹</a></h3><ul><li>ä¿®å¤ H5 ç«¯ HMR å¤±æ•ˆçš„é—®é¢˜ã€‚</li><li>æ”¯æŒè·¯ç”± <strong>404</strong> æ—¶è§¦å‘ <code>App.onPageNotFound</code>ï¼Œ#7474ã€‚</li><li>ä¿®å¤è¡¨å•ç»„ä»¶ <code>slot</code> å…¼å®¹é—®é¢˜ï¼Œ#7363ã€‚</li><li>ä¿®å¤ <code>View</code> å’Œ <code>Text</code> ç»„ä»¶å¤šè¡Œæˆªæ–­æ ·å¼å¤±è´¥é—®é¢˜ï¼Œ#7472 #6741ã€‚</li><li>ç»„ä»¶çš„ <code>style</code> å±æ€§æ”¯æŒè®¾ç½® CSS å˜é‡ï¼Œ#7452ã€‚</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äº”å‡çº§æŒ‡å—">äº”ã€å‡çº§æŒ‡å—<a class="hash-link" href="#äº”å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><blockquote><p>ä» v2.x å‡çº§çš„åŒå­¦éœ€è¦å…ˆæŒ‰ <a href="/taro-docs/docs/next/migration">è¿ç§»æŒ‡å—</a> è¿›è¡Œæ“ä½œã€‚</p></blockquote><p>ä» v3.x å‡çº§çš„åŒå­¦ï¼Œé¦–å…ˆéœ€è¦å®‰è£… v3.1 çš„ CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åè¿›å…¥é¡¹ç›®ï¼Œåˆ é™¤ <strong>node_modules</strong>ã€<strong>yarn.lock</strong>ã€<strong>package-lock.json</strong>ã€‚</p><p>æœ€åæŠŠ <code>package.json</code> æ–‡ä»¶ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>^3.1.0</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ã€‚è‡³æ­¤å‡çº§ç»“æŸã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…­æœªæ¥è§„åˆ’">å…­ã€æœªæ¥è§„åˆ’<a class="hash-link" href="#å…­æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h2><p>å¾—ç›Šäº <a href="https://github.com/wuba" target="_blank" rel="noopener noreferrer">58 æŠ€æœ¯å›¢é˜Ÿ</a> çš„å…¨åŠ›æ”¯æŒï¼ŒTaro 3 å³å°†æ”¯æŒ <strong>React Native</strong>ï¼Œç°å·²æ¨å‡º 3.2.0 çš„ Beta ç‰ˆæœ¬ï¼Œ3.2.0 æ­£å¼ç‰ˆå°†äºæœ¬æœˆåº•æ¨å‡ºã€‚æ¬¢è¿æŠ¢å…ˆä½“éªŒï¼š<a href="https://taro-docs.jd.com/taro/blog/2020-12-02-taro-3-2-0-cannary-1" target="_blank" rel="noopener noreferrer">ã€Šå¢åŠ  React Native æ”¯æŒçš„ Taro 3.2.0 ç‰ˆæœ¬æµ‹è¯•é€šå‘Šã€‹</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸ƒæ„Ÿè°¢">ä¸ƒã€æ„Ÿè°¢<a class="hash-link" href="#ä¸ƒæ„Ÿè°¢" title="Direct link to heading">â€‹</a></h2><p>å¼€æºä¸æ˜“ï¼Œè´µåœ¨åšæŒã€‚Taro å›¢é˜Ÿè¡·å¿ƒæ„Ÿè°¢å„ä½å‚ä¸è¿‡æœ¬é¡¹ç›®å¼€æºå»ºè®¾çš„æœ‹å‹ï¼Œæ— è®ºæ˜¯ä¸º Taro æäº¤è¿‡ä»£ç ã€å»ºè®¾å‘¨è¾¹ç”Ÿæ€ï¼Œè¿˜æ˜¯åé¦ˆè¿‡é—®é¢˜ï¼Œç”šè‡³åªæ˜¯èŒ¶ä½™é¥­åè®¨è®ºã€åæ§½ Taro çš„å„ä½ã€‚</p><p>ç°è¯šæŒšé‚€è¯·æ‚¨ä¸ Taro å®˜æ–¹å›¢é˜Ÿäº¤æµæ‚¨çš„ä½¿ç”¨æƒ…å†µï¼Œæœ‰ä½ ç›¸ä¼´ï¼ŒTaroæ›´åŠ ç²¾å½©ï¼<a href="https://wj.qq.com/s2/6494361/09cf" target="_blank" rel="noopener noreferrer">é—®å·åœ°å€</a></p><p>æœ€åï¼Œç‰¹åˆ«æ„Ÿè°¢ä¸º Taro ä» v3.0 èµ°åˆ° v3.1 è´¡çŒ®è¿‡ä»£ç çš„å„ä½åŒå­¦ï¼Œä¸åˆ†å…ˆåï¼š</p><ul><li>@wuchangming</li><li>@SyMind</li><li>@zhuxianguo</li><li>@Songkeys</li><li>@vdfor</li><li>@ZeroTo0ne</li><li>@zhaoguoweiLLHC</li><li>@Spencer17x</li><li>@wingsico</li><li>@w91</li><li>@fjc0k</li><li>@Leechael</li><li>@southorange1228</li><li>@alexlees</li><li>@cncolder</li><li>@rottenpen</li><li>@gcxfd</li><li>@twocucao</li><li>@pengtikui</li><li>@kala888</li><li>@LengYXin</li><li>@iugo</li><li>@jin-yufeng</li><li>@xuchengzone</li><li>@csolin</li><li>@xiaoyao96</li><li>@baranwang</li><li>@fred8617</li><li>@huanz</li><li>@Cslove</li><li>@002huiguo</li><li>@jazzqi</li><li>@Jetsly</li><li>@yuezk</li><li>@lukezhange001</li><li>@k55k32</li><li>@Soul-Stone</li><li>@hisanshao</li><li>@gjc9620</li><li>@younthu</li><li>@digiaries</li><li>@GoodbyeNJN</li><li>@Swordword</li><li>@helsonxiao</li><li>@Ininit</li><li>@atzcl</li><li>@taoqf</li><li>@Aysnine</li><li>@cjz9032</li><li>@z3rog</li><li>@doublethinkio</li><li>@Jackyzm</li><li>@ywzou</li><li>@koalaink</li><li>@mosqlee</li><li>@wangjuerong</li><li>@kdxcxs</li><li>@LiHDong</li><li>@ryougifujino</li><li>@GitaiQAQ</li><li>@logix-o</li><li>@CallMeXYZ</li></ul>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro åŠ©åŠ›äº¬å–œæ‹¼æ‹¼é¡¹ç›®æ€§èƒ½ä½“éªŒä¼˜åŒ–]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2021-02-08-taro-jxpp</link>
            <guid>2021-02-08-taro-jxpp</guid>
            <pubDate>Mon, 08 Feb 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[äº¬å–œæ‹¼æ‹¼å›¢é˜ŸæŠ€æœ¯é€‰å‹ä½¿ç”¨ Taro ä»¥ä¾¿äºå®ç°å¤šç«¯éœ€æ±‚ï¼Œå› æ­¤ Taro å›¢é˜Ÿæœ‰å¹¸å‚ä¸åˆ° â€œäº¬å–œæ‹¼æ‹¼â€ å°ç¨‹åºçš„æ€§èƒ½ä½“éªŒä¼˜åŒ–å·¥ä½œã€‚æœ¬æ–‡æ¢³ç†å‡ºä¸€ç³»åˆ— Taro3 å†™æ³•çš„æœ€ä½³å®è·µã€‚]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>2020 å¹´æ˜¯ç¤¾åŒºå›¢è´­é£èµ·äº‘æ¶Œçš„ä¸€å¹´ï¼Œäº’è”ç½‘å¤§å‚çº·çº·æŠ“ç´§ä¸€åˆ†ä¸€ç§’è·‘æ­¥è¿›åœºã€‚â€œäº¬å–œæ‹¼æ‹¼â€æ˜¯äº¬ä¸œæ——ä¸‹çš„ç¤¾åŒºå›¢è´­å¹³å°ï¼Œä¾æ‰˜äº¬ä¸œä¾›åº”é“¾ä½“ç³»ï¼Œç²¾é€‰ä½ä»·å¥½è´§ï¼Œä¸ºç¤¾åŒºç”¨æˆ·æä¾›æ¬¡æ—¥è¾¾ç­‰ä¼˜è´¨æœåŠ¡ã€‚</p><p>â€‹äº¬å–œæ‹¼æ‹¼å›¢é˜ŸæŠ€æœ¯é€‰å‹ä½¿ç”¨ Taro ä»¥ä¾¿äºå®ç°å¤šç«¯éœ€æ±‚ï¼Œå› æ­¤ Taro å›¢é˜Ÿæœ‰å¹¸å‚ä¸åˆ° â€œäº¬å–œæ‹¼æ‹¼â€ å°ç¨‹åºçš„æ€§èƒ½ä½“éªŒä¼˜åŒ–å·¥ä½œã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…¨é¢ä½“éªŒ---æ¢³ç†-taro-å†™æ³•æœ€ä½³å®è·µ">å…¨é¢ä½“éªŒ - æ¢³ç† Taro å†™æ³•æœ€ä½³å®è·µ<a class="hash-link" href="#å…¨é¢ä½“éªŒ---æ¢³ç†-taro-å†™æ³•æœ€ä½³å®è·µ" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬å…¨é¢ä½“éªŒåå’Œç†Ÿæ‚‰ä¸šåŠ¡ä»£ç åæ¢³ç†å‡ºä¸€ç³»åˆ— Taro3 å†™æ³•çš„æœ€ä½³å®è·µï¼š</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-æ€§èƒ½ç›¸å…³">1. æ€§èƒ½ç›¸å…³<a class="hash-link" href="#1-æ€§èƒ½ç›¸å…³" title="Direct link to heading">â€‹</a></h3><p>å¯¹å°ç¨‹åºçš„æ€§èƒ½å½±å“è¾ƒå¤§çš„æœ‰ä¸¤ä¸ªå› ç´ ï¼Œåˆ†åˆ«æ˜¯ <code>setData</code> çš„<strong>æ•°æ®é‡</strong>å’Œå•ä½æ—¶é—´ <code>setData</code> å‡½æ•°çš„<strong>è°ƒç”¨æ¬¡æ•°</strong>ã€‚</p><p>å½“é‡åˆ°æ€§èƒ½é—®é¢˜æ—¶ï¼Œåœ¨é¡¹ç›®ä¸­æ‰“å° <code>setData</code> çš„æ•°æ®å°†éå¸¸æœ‰åˆ©äºå¸®åŠ©å®šä½é—®é¢˜ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡è¿›å…¥ Taro é¡¹ç›®çš„ <code>dist/taro.js</code> æ–‡ä»¶ï¼Œæœç´¢å®šä½ <code>.setData</code> çš„è°ƒç”¨ä½ç½®ï¼Œç„¶åå¯¹æ•°æ®è¿›è¡Œæ‰“å°ã€‚</p><p>åœ¨ Taro ä¸­ï¼Œä¼šå¯¹ <code>setData</code> åš <strong>batch</strong> æ†ç»‘æ›´æ–°æ“ä½œï¼Œå› æ­¤æ›´å¤šæ—¶å€™åªéœ€è¦è€ƒè™‘ <strong>setData çš„æ•°æ®é‡å¤§å°</strong>é—®é¢˜ã€‚</p><p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ¢³ç†çš„å¼€å‘è€…éœ€è¦æ³¨æ„çš„å†™æ³•é—®é¢˜ï¼Œæœ‰ä¸€äº›é—®é¢˜éœ€è¦å¼€å‘è€…æ‰‹åŠ¨è°ƒæ•´ï¼Œä¸€äº›é—®é¢˜ Taro å¯ä»¥å¸®åŠ©è‡ªåŠ¨åŒ–è§„é¿ï¼š</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="11-åˆ é™¤æ¥¼å±‚èŠ‚ç‚¹éœ€è¦è°¨æ…å¤„ç†">1.1. åˆ é™¤æ¥¼å±‚èŠ‚ç‚¹éœ€è¦è°¨æ…å¤„ç†<a class="hash-link" href="#11-åˆ é™¤æ¥¼å±‚èŠ‚ç‚¹éœ€è¦è°¨æ…å¤„ç†" title="Direct link to heading">â€‹</a></h4><p>å‡è®¾æœ‰ä¸€ç§è¿™æ ·ä¸€ç§ç»“æ„ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  &lt;!-- è½®æ’­ --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Slider</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  &lt;!-- å•†å“ç»„ --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Goods</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  &lt;!-- æ¨¡æ€å¼¹çª— --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">isShowModal </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Modal</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Taro3 ç›®å‰å¯¹èŠ‚ç‚¹çš„åˆ é™¤å¤„ç†æ˜¯æœ‰ç¼ºé™·çš„ã€‚å½“ <code>isShowModal</code> ç”± <code>true</code> å˜ä¸º <code>false</code> æ—¶ï¼Œæ¨¡æ€å¼¹çª—ä¼šä»æ¶ˆå¤±ã€‚æ­¤æ—¶ <code>Modal</code> ç»„ä»¶çš„å…„å¼ŸèŠ‚ç‚¹éƒ½ä¼šè¢«æ›´æ–°ï¼Œ<code>setData</code> çš„æ•°æ®æ˜¯ <code>Slider</code> + <code>Goods</code> ç»„ä»¶çš„ DOM èŠ‚ç‚¹ä¿¡æ¯ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½±å“ä¸ä¼šå¤ªå¤§ï¼Œå¼€å‘è€…æ— é¡»ç”±æ­¤äº§ç”Ÿå¿ƒæ™ºè´Ÿæ‹…ã€‚ä½†å€˜è‹¥å¾…åˆ é™¤èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹çš„ DOM ç»“æ„éå¸¸å¤æ‚ï¼Œå¦‚ä¸€ä¸ªä¸ªæ¥¼å±‚ç»„ä»¶ï¼Œåˆ é™¤æ“ä½œçš„å‰¯ä½œç”¨ä¼šå¯¼è‡´ <code>setData</code> æ•°æ®é‡è¾ƒå¤§ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="è§£å†³åŠæ³•">è§£å†³åŠæ³•ï¼š<a class="hash-link" href="#è§£å†³åŠæ³•" title="Direct link to heading">â€‹</a></h5><p>ç›®å‰æˆ‘ä»¬å¯ä»¥è¿™æ ·ä¼˜åŒ–ï¼Œéš”ç¦»åˆ é™¤æ“ä½œï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  &lt;!-- è½®æ’­ --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Slider</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  &lt;!-- å•†å“ç»„ --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Goods</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  &lt;!-- æ¨¡æ€å¼¹çª— --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">isShowModal </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Modal</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>æˆ‘ä»¬æ­£åœ¨å¯¹åˆ é™¤èŠ‚ç‚¹çš„ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œå®Œå…¨è§„é¿è¿™ç§ä¸å¿…è¦çš„ setDataï¼Œäº v3.1 æ¨å‡ºã€‚</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="12-åŸºç¡€ç»„ä»¶çš„å±æ€§å°½é‡ä¿æŒå¼•ç”¨">1.2. åŸºç¡€ç»„ä»¶çš„å±æ€§å°½é‡ä¿æŒå¼•ç”¨<a class="hash-link" href="#12-åŸºç¡€ç»„ä»¶çš„å±æ€§å°½é‡ä¿æŒå¼•ç”¨" title="Direct link to heading">â€‹</a></h4><p>å‡è®¾åŸºç¡€ç»„ä»¶ï¼ˆå¦‚ <code>View</code>ã€<code>Input</code> ç­‰ï¼‰çš„å±æ€§å€¼ä¸ºéåŸºæœ¬ç±»å‹æ—¶ï¼Œå°½é‡ä¿æŒå¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>å‡è®¾æœ‰ä»¥ä¸‹å†™æ³•ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Map</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">latitude</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript number" style="color:#36acaa">22.53332</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">longitude</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript number" style="color:#36acaa">113.93041</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">markers</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">[</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">    </span><span class="token tag script language-javascript literal-property property" style="color:#36acaa">latitude</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">22.53332</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">    </span><span class="token tag script language-javascript literal-property property" style="color:#36acaa">longitude</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">113.93041</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">  </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">]</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ¯æ¬¡æ¸²æŸ“æ—¶ï¼ŒReact ä¼šå¯¹åŸºç¡€ç»„ä»¶çš„å±æ€§åšæµ…å¯¹æ¯”ï¼Œè¿™æ—¶å‘ç° <code>markers</code> çš„å¼•ç”¨ä¸åŒï¼Œå°±ä¼šå»æ›´æ–°ç»„ä»¶å±æ€§ã€‚æœ€åå¯¼è‡´ <code>setData</code> æ¬¡æ•°å¢å¤šã€<code>setData</code> æ•°æ®é‡å¢å¤§ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="è§£å†³åŠæ³•-1">è§£å†³åŠæ³•ï¼š<a class="hash-link" href="#è§£å†³åŠæ³•-1" title="Direct link to heading">â€‹</a></h5><p>å¯ä»¥é€šè¿‡ <code>state</code>ã€é—­åŒ…ç­‰æ‰‹æ®µä¿æŒå¯¹è±¡çš„å¼•ç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Map</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">latitude</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript number" style="color:#36acaa">22.53332</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">longitude</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript number" style="color:#36acaa">113.93041</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">markers</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">state</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">markers</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f"></span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="13-å°ç¨‹åºåŸºç¡€ç»„ä»¶å°½é‡ä¸è¦æŒ‚è½½é¢å¤–å±æ€§">1.3. å°ç¨‹åºåŸºç¡€ç»„ä»¶å°½é‡ä¸è¦æŒ‚è½½é¢å¤–å±æ€§<a class="hash-link" href="#13-å°ç¨‹åºåŸºç¡€ç»„ä»¶å°½é‡ä¸è¦æŒ‚è½½é¢å¤–å±æ€§" title="Direct link to heading">â€‹</a></h4><p>åŸºç¡€ç»„ä»¶ï¼ˆå¦‚ <code>View</code>ã€<code>Input</code> ç­‰ï¼‰å¦‚è‹¥è®¾ç½®äº†éæ ‡å‡†çš„å±æ€§ï¼Œç›®å‰è¿™äº›é¢å¤–å±æ€§ä¼šè¢«ä¸€å¹¶è¿›è¡Œ <code>setData</code>ï¼Œè€Œå®é™…ä¸Šå°ç¨‹åºå¹¶ä¸ä¼šç†ä¼šè¿™äº›å±æ€§ï¼Œæ‰€ä»¥ <code>setData</code> çš„è¿™éƒ¨åˆ†æ•°æ®æ˜¯å†—ä½™çš„ã€‚</p><p>ä¾‹å¦‚ <code>Text</code> ç»„ä»¶çš„æ ‡å‡†å±æ€§æœ‰ <code>selectable</code>ã€<code>user-select</code>ã€<code>space </code>ã€<code>decode</code> å››ä¸ªï¼Œå¦‚æœæˆ‘ä»¬ä¸ºå®ƒè®¾ç½®ä¸€ä¸ªé¢å¤–å±æ€§ <code>something</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªé¢å¤–çš„å±æ€§ä¹Ÿæ˜¯ä¼šè¢« setDataã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">something</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">extra</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>Taro v3.1 å°†ä¼šè‡ªåŠ¨è¿‡æ»¤è¿™äº›é¢å¤–å±æ€§ï¼Œå±Šæ—¶è¿™ä¸ªé™åˆ¶å°†ä¸å†å­˜åœ¨ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-ä½“éªŒç›¸å…³">2. ä½“éªŒç›¸å…³<a class="hash-link" href="#2-ä½“éªŒç›¸å…³" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="21-æ»šåŠ¨ç©¿é€">2.1. æ»šåŠ¨ç©¿é€<a class="hash-link" href="#21-æ»šåŠ¨ç©¿é€" title="Direct link to heading">â€‹</a></h4><p>åœ¨å°ç¨‹åºå¼€å‘ä¸­ï¼Œæ»‘åŠ¨<strong>è’™å±‚</strong>ã€<strong>å¼¹çª—</strong>ç­‰è¦†ç›–å¼å…ƒç´ æ—¶ï¼Œæ»‘åŠ¨äº‹ä»¶ä¼šå†’æ³¡åˆ°é¡µé¢ï¼Œä½¿é¡µé¢å…ƒç´ ä¹Ÿè·Ÿç€æ»‘åŠ¨ï¼Œå¾€å¾€æˆ‘ä»¬çš„è§£å†³åŠæ³•æ˜¯è®¾ç½® <code>catchTouchMove</code> ä»è€Œé˜»æ­¢å†’æ³¡ã€‚</p><p>ç”±äº <a href="/taro-docs/docs/react-overall#%E9%98%BB%E6%AD%A2%E6%BB%9A%E5%8A%A8%E7%A9%BF%E9%80%8F">Taro3 äº‹ä»¶æœºåˆ¶</a>çš„é™åˆ¶ï¼Œå°ç¨‹åºäº‹ä»¶éƒ½ä»¥ <code>bind</code> çš„å½¢å¼è¿›è¡Œç»‘å®šã€‚æ‰€ä»¥å’Œ Taro1ã€Taro2 ä¸åŒï¼Œè°ƒç”¨ <code>e.stopPropagation()</code> å¹¶ä¸èƒ½é˜»æ­¢æ»šåŠ¨ç©¿é€ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="è§£å†³åŠæ³•-2">è§£å†³åŠæ³•ï¼š<a class="hash-link" href="#è§£å†³åŠæ³•-2" title="Direct link to heading">â€‹</a></h5><p>1) ä½¿ç”¨æ ·å¼è§£å†³ï¼ˆæ¨èï¼‰</p><p>ç»™éœ€è¦ç¦ç”¨æ»šåŠ¨çš„ç»„ä»¶å†™ä¸€ä¸ªæ ·å¼ï¼Œç±»ä¼¼äºï¼š</p><div class="codeBlockContainer_H5s7 language-css theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-css codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  overflowï¼šhidden</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token unit">vh</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>2) catchMove</p><p>å¯¹äº <code>Map</code> ç­‰æä¸ªåˆ«ç»„ä»¶ï¼Œä½¿ç”¨æ ·å¼å›ºå®šå®½é«˜ä¹Ÿæ— æ³•é˜»æ­¢æ»šåŠ¨ï¼Œå› ä¸ºè¿™äº›ç»„ä»¶æœ¬èº«å°±å…·æœ‰æ»šåŠ¨çš„èƒ½åŠ›ã€‚æ‰€ä»¥ç¬¬ä¸€ç§åŠæ³•å¤„ç†ä¸äº†å†’æ³¡åˆ° <code>Map</code> ç»„ä»¶ä¸Šçš„æ»šåŠ¨äº‹ä»¶ã€‚</p><p>è¿™æ—¶å€™å¯ä»¥ä¸º View ç»„ä»¶å¢åŠ  catchMove å±æ€§ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// è¿™ä¸ª View ç»„ä»¶ä¼šç»‘å®š catchtouchmove äº‹ä»¶è€Œä¸æ˜¯ bindtouchmove</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> catchMove </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="22-è·³è½¬é¢„åŠ è½½">2.2. è·³è½¬é¢„åŠ è½½<a class="hash-link" href="#22-è·³è½¬é¢„åŠ è½½" title="Direct link to heading">â€‹</a></h4><p>åœ¨å°ç¨‹åºä¸­ï¼Œä»è°ƒç”¨ <code>Taro.navigateTo</code> ç­‰è·³è½¬ç±» APIï¼Œåˆ°æ–°é¡µé¢è§¦å‘ <code>onLoad</code> ä¼šæœ‰ä¸€å®šå»¶æ—¶ã€‚å› æ­¤ç±»å¦‚ç½‘ç»œè¯·æ±‚ç­‰æ“ä½œå¯ä»¥æå‰åˆ°è°ƒç”¨è·³è½¬ API ä¹‹å‰ã€‚</p><p>ç†Ÿæ‚‰ Taro çš„åŒå­¦å¯èƒ½ä¼šæƒ³èµ· Taro1ã€Taro2 ä¸­çš„ <code>componentWillPreload</code> é’©å­ã€‚ä½† Taro3 ä¸å†æä¾›è¿™ä¸ªé’©å­ï¼Œå¼€å‘è€…å¯ä»¥ä½¿ç”¨ <code>Taro.preload()</code> æ–¹æ³•å®ç°è·³è½¬é¢„åŠ è½½ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">// pages/index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taro.preload(fetchSomething())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taro.navigateTo({ url: '/pages/detail' })</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">// pages/detail.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(getCurrentInstance().preloadData)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="23-å»ºè®®æŠŠ-tarogetcurrentinstance-çš„ç»“æœä¿å­˜ä¸‹æ¥">2.3. å»ºè®®æŠŠ Taro.getCurrentInstance() çš„ç»“æœä¿å­˜ä¸‹æ¥<a class="hash-link" href="#23-å»ºè®®æŠŠ-tarogetcurrentinstance-çš„ç»“æœä¿å­˜ä¸‹æ¥" title="Direct link to heading">â€‹</a></h4><p>å¼€å‘ä¸­æˆ‘ä»¬å¸¸å¸¸ä¼šè°ƒç”¨ <code>Taro.getCurrentInstance()</code> è·å–å°ç¨‹åºçš„ appã€page å¯¹è±¡ã€è·¯ç”±å‚æ•°ç­‰æ•°æ®ã€‚ä½†<strong>é¢‘ç¹è°ƒç”¨</strong>å®ƒå¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚å› æ­¤æ¨èæŠŠ <code>Taro.getCurrentInstance()</code> çš„ç»“æœåœ¨ç»„ä»¶ä¸­ä¿å­˜èµ·æ¥ï¼Œä¹‹åç›´æ¥ä½¿ç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  inst </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getCurrentInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">inst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="éš¾å•ƒçš„éª¨å¤´---è´­ç‰©è½¦é¡µ">éš¾å•ƒçš„éª¨å¤´ - è´­ç‰©è½¦é¡µ<a class="hash-link" href="#éš¾å•ƒçš„éª¨å¤´---è´­ç‰©è½¦é¡µ" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬åœ¨ä½ç«¯æœºä¸Šå—åˆ°äº†æ€§èƒ½çš„å›°æ‰°ï¼Œå°¤å…¶æ˜¯åœ¨è´­ç‰©è½¦é¡µé¢å¡é¡¿æœ€ä¸ºæ˜æ˜¾ã€‚é€šè¿‡åˆ†æé¡µé¢ç»“æ„å’Œåæ€ Taro åº•å±‚å®ç°ï¼Œæˆ‘ä»¬ä¸»è¦é‡‡å–äº†ä¸¤é¡¹ä¼˜åŒ–æªæ–½ï¼Œæå‡äº†ä½ç«¯æœºå‹æ»šåŠ¨çš„æµç•…åº¦ï¼ŒåŒæ—¶å°†ç‚¹å‡»å»¶æ—¶ä» 1.5s é™åˆ° 300msã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-é•¿åˆ—è¡¨ä¼˜åŒ–">1. é•¿åˆ—è¡¨ä¼˜åŒ–<a class="hash-link" href="#1-é•¿åˆ—è¡¨ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro3 ä¸­ï¼Œæˆ‘ä»¬æ–°å¢äº†<strong>è™šæ‹Ÿåˆ—è¡¨</strong>è¿™æ ·ä¸€ä¸ªç‰¹æ®Šçš„ç»„ä»¶ï¼Œå¸®åŠ©å¾ˆå¤šç¤¾åŒºçš„å¼€å‘è€…å¯¹è¶…é•¿åˆ—è¡¨è¿›è¡Œä¼˜åŒ–ï¼Œç›¸ä¿¡å¾ˆå¤šåŒå­¦å¯¹è™šæ‹Ÿåˆ—è¡¨çš„å®ç°åŸç†ã€åŒ…æ‹¬ä¸‹å›¾éƒ½å·²ç»æ˜¯å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†è´­ç‰©è½¦é¡µå´ç»™æˆ‘ä»¬æå‡ºäº†æ–°çš„éœ€æ±‚ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/125645/6/13305/50138/5f6aaaa4E2f20eba7/d70a2d2da2d68de1.jpg" alt="è™šæ‹Ÿåˆ—è¡¨" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="11-ä¸é™åˆ¶é«˜åº¦">1.1 ä¸é™åˆ¶é«˜åº¦<a class="hash-link" href="#11-ä¸é™åˆ¶é«˜åº¦" title="Direct link to heading">â€‹</a></h4><p>è™šæ‹Ÿåˆ—è¡¨æ ¹æ® <code>itemSize</code> æ¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œå¦‚æœèŠ‚ç‚¹çš„å®½é«˜ä¸ç¡®å®šï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹è‡³å°‘åŠ è½½å®Œæˆä¸€æ¬¡ä¹‹å‰ï¼Œæˆ‘ä»¬å¾ˆéš¾å»åˆ¤æ–­åˆ—è¡¨çš„çœŸå®å°ºå¯¸ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨<strong>è™šæ‹Ÿåˆ—è¡¨</strong>çš„æ—©æœŸç‰ˆæœ¬ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰æ”¯æŒè¿™æ ·çš„ç‰¹æ€§ï¼Œè€Œæ˜¯é€‰æ‹©å›ºå®šäº†æ¯ä¸ªèŠ‚ç‚¹çš„é«˜åº¦ï¼Œé¿å…è®©å¼€å‘è€…ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨æ—¶å¢åŠ å¿ƒæ™ºè´Ÿæ‹…ã€‚</p><p>ä¸è¿‡è¿™ä¸ªéœ€æ±‚ä¹Ÿå¹¶éä¸èƒ½å®Œæˆï¼Œç®€å•åœ°è°ƒæ•´è™šæ‹Ÿåˆ—è¡¨å®ç°å’Œä½¿ç”¨çš„é€»è¾‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥è½»æ¾å®ç°è¿™ä¸ªç‰¹æ€§ã€‚</p><div class="codeBlockContainer_H5s7 language-diff theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">import VirtualList from `@tarojs/components/virtual-list`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function buildData (offset = 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> return Array(100).fill(0).map((_, i) =&gt; i + offset);</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> const Row = React.memo(({ index, style, data }) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> const Row = React.memo(({ id, index, style, data }) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">    &lt;View className={index % 2 ? 'ListItemOdd' : 'ListItemEven'} style={style}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    &lt;View id={id} className={index % 2 ? 'ListItemOdd' : 'ListItemEven'} style={style}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     Row {index}</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &lt;/View&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> );</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default class Index extends Component {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> state = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   data: buildData(0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> render() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   const { data } = this.state</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   const dataLen = data.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &lt;VirtualList</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       height={500} // åˆ—è¡¨çš„é«˜åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       width='100%' // åˆ—è¡¨çš„å®½åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       itemData={data} // æ¸²æŸ“åˆ—è¡¨çš„æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       itemCount={dataLen} // æ¸²æŸ“åˆ—è¡¨çš„é•¿åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       itemSize={100} // åˆ—è¡¨å•é¡¹çš„é«˜åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">       unlimitedSize={true} // è§£å¼€åˆ—è¡¨èŠ‚ç‚¹å¤§å°é™åˆ¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       {Row} // åˆ—è¡¨å•é¡¹ç»„ä»¶ï¼Œè¿™é‡Œåªèƒ½ä¼ å…¥ä¸€ä¸ªç»„ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &lt;/VirtualList&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   );</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨æ–°å¢äº† <code>id</code> ä¼ å…¥æ¥å¸®åŠ©è·å–æ¯ä¸ªèŠ‚ç‚¹åœ¨é¦–æ¬¡åŠ è½½ä¹‹åè¯»å–å®ƒçš„çœŸå®å¤§å°ï¼Œå¾—ç›Šäº Taro è·¨å¹³å°çš„ä¼˜åŠ¿ï¼Œè¿™æ˜¯é‡æ„<strong>è™šæ‹Ÿåˆ—è¡¨</strong>ç»„ä»¶ä¸­æœ€ç®€å•çš„ä¸€æ­¥ï¼Œæœ‰äº†è¿™ä¸ªåŸºç¡€ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†èŠ‚ç‚¹çš„å®é™…å¤§å°å’Œå®ƒä»¬çš„ä½ç½®ä¿¡æ¯å…³è”åˆ°ä¸€èµ·ï¼Œè®©åˆ—è¡¨è‡ªå·±è°ƒæ•´æ¯ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œå¹¶å‘ˆç°ç»™ç”¨æˆ·ã€‚</p><p>è€Œå¯¹äºå¼€å‘è€…ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ï¼Œåªéœ€è¦ä¼ å…¥ <code>unlimitedSize</code> å°±å¯ä»¥è®©è™šæ‹Ÿåˆ—è¡¨è§£å¼€é«˜åº¦é™åˆ¶ã€‚å½“ç„¶è¿™å¹¶ä¸æ„å‘³ç€åœ¨ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨æ—¶å¯ä»¥ä¸éœ€è¦ä¼ å…¥èŠ‚ç‚¹å¤§å°ï¼Œ <code>itemSize</code> åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹å°†ä½œä¸ºåˆå§‹å€¼è¾…åŠ©åˆ—è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹ä½ç½®ä¿¡æ¯çš„è®¡ç®—ã€‚</p><blockquote><p>å¦‚æœ<code>itemSize</code>å’Œå®é™…å¤§å°å·®åˆ«è¿‡å¤§ï¼Œåœ¨è¶…é•¿åˆ—è¡¨ä¸­ä¼šæœ‰è¾ƒæ˜æ˜¾çš„é—®é¢˜ï¼Œå¤§å®¶éœ€è¦å°å¿ƒä½¿ç”¨å“¦ï½</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="12-åˆ—è¡¨åº•éƒ¨">1.2 åˆ—è¡¨åº•éƒ¨<a class="hash-link" href="#12-åˆ—è¡¨åº•éƒ¨" title="Direct link to heading">â€‹</a></h4><p>åˆ—è¡¨çš„åº•éƒ¨åŒºåŸŸå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¾¿æ·åœ°å®Œæˆä¿¡æ¯çš„å±•ç¤ºï¼Œæ¯”å¦‚ä¸Šæ‹‰åŠ è½½ç­‰ï¼Œå¯¹äºè™šæ‹Ÿåˆ—è¡¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><div class="codeBlockContainer_H5s7 language-diff theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &lt;VirtualList</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   height={500} // åˆ—è¡¨çš„é«˜åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   width='100%' // åˆ—è¡¨çš„å®½åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   itemData={data} // æ¸²æŸ“åˆ—è¡¨çš„æ•°æ®</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   itemCount={dataLen} // æ¸²æŸ“åˆ—è¡¨çš„é•¿åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   itemSize={100} // åˆ—è¡¨å•é¡¹çš„é«˜åº¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   renderBottom={&lt;View&gt;æˆ‘å°±æ˜¯åº•çº¿&lt;/View&gt;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   {Row} // åˆ—è¡¨å•é¡¹ç»„ä»¶ï¼Œè¿™é‡Œåªèƒ½ä¼ å…¥ä¸€ä¸ªç»„ä»¶</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &lt;/VirtualList&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å½“ç„¶ä¹Ÿæœ‰åŒå­¦ä¼šæ³¨æ„åˆ°ï¼Œåœ¨ <strong>è™šæ‹Ÿåˆ—è¡¨</strong> æ–‡æ¡£ä¸­æ˜¯é€šè¿‡ <code>scrollOffset &gt; ((dataLen - 5) * itemSize + 100)</code> è¿™æ ·çš„æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦è§¦åº•ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨ <code>VirtualList</code> ä¸­è¿”å›æ»šåŠ¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿™æ¬¡æˆ‘ä»¬ä¹Ÿè¿”å›ç›¸å…³çš„æ•°æ®ï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨ã€‚</p><div class="codeBlockContainer_H5s7 language-diff theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-diff codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">interface VirtualListEvent&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> /** æ»šåŠ¨æ–¹å‘ï¼Œå¯èƒ½å€¼ä¸º forward å¾€å‰ï¼Œ backward å¾€åã€‚ */</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> scrollDirection: 'forward' | 'backward'</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> /** æ»šåŠ¨è·ç¦» */</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> scrollOffset: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> /** å½“æ»šåŠ¨æ˜¯ç”± scrollTo() æˆ– scrollToItem() è°ƒç”¨æ—¶è¿”å› trueï¼Œå¦åˆ™è¿”å› false */</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> scrollUpdateWasRequested: boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> /** å½“å‰åªæœ‰ React æ”¯æŒ */</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  detail?: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    scrollLeft: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    scrollTop: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    scrollHeight: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    scrollWidth: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    clientWidth: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">    clientHeight: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="13-æ€§èƒ½ä¼˜åŒ–">1.3 æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#13-æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h4><p>åœ¨è™šæ‹Ÿåˆ—è¡¨ä¸­ï¼Œæ— è®ºæ˜¯ä½¿ç”¨é‚£ç§å¸ƒå±€æ–¹å¼ï¼Œéƒ½ä¼šé€ æˆé¡µé¢çš„å›æµï¼Œæ‰€ä»¥ä¸è®ºé€‰æ‹©å“ªä¸€ç§å¯¹äºæµè§ˆå™¨å†…æ ¸æ¸²æŸ“é¡µé¢è€Œè¨€å¹¶æ²¡æœ‰å¾ˆå¤§çš„åŒºåˆ«ã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨ <code>relative</code>ï¼Œå¯¹äºåˆ—è¡¨æ¥è¯´ï¼Œéœ€è¦è°ƒæ•´çš„èŠ‚ç‚¹æ ·å¼è¦å°‘å¾—å¤šã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨æ–°çš„è™šæ‹Ÿåˆ—è¡¨ä¸­ä¹Ÿæ”¯æŒäº†è¿™æ ·çš„å®šä½æ¨¡å¼ï¼Œä¾›å¼€å‘è€…è‡ªç”±é€‰æ‹©ã€‚å¯¹äºä½ç«¯æœºå‹æ¥è¯´ï¼Œåœ¨æˆ‘ä»¬å®Œæˆæ•´ä½“çš„æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–ä¹‹å‰ï¼Œ<code>relative</code> æ¨¡å¼å·²ç»èƒ½å¤Ÿè®©è™šæ‹Ÿåˆ—è¡¨åœ¨ä½ç«¯æœºå‹ä¸Šæ‹¥æœ‰ä¸é”™çš„ä½“éªŒã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–">2. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#2-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>Taro3 ä½¿ç”¨å°ç¨‹åºçš„ <code>template</code> è¿›è¡Œæ¸²æŸ“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸ä¼šä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶ã€‚è¿™ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œæ‰€æœ‰çš„ <code>setData</code> æ›´æ–°éƒ½æ˜¯ç”±é¡µé¢å¯¹è±¡è°ƒç”¨ï¼Œå¦‚æœæˆ‘ä»¬çš„é¡µé¢ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œæ›´æ–°çš„æ€§èƒ½å°±ä¼šä¸‹é™ã€‚</p><p>å±‚çº§è¿‡æ·±æ—¶ <code>setData</code> çš„æ•°æ®ç»“æ„ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"root.cn.[0].cn.[0].cn.[0].cn.[0].markers"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œä¸»è¦çš„æ€è·¯æ˜¯<strong>å€Ÿç”¨å°ç¨‹åºçš„åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶ï¼Œä»¥è¾¾åˆ°å±€éƒ¨æ›´æ–°çš„æ•ˆæœ</strong>ï¼Œä»è€Œæå‡æ›´æ–°æ€§èƒ½ã€‚</p><p>æœŸæœ›çš„ <code>setData</code> æ•°æ®ç»“æ„ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">component</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">"cn.[0].cn.[0].markers"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¼€å‘è€…æœ‰ä¸¤ç§åŠæ³•å¯ä»¥å®ç°è¿™ä¸ªä¼˜åŒ–ï¼š</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="21-å…¨å±€é…ç½®é¡¹-baselevel">2.1 å…¨å±€é…ç½®é¡¹ baseLevel<a class="hash-link" href="#21-å…¨å±€é…ç½®é¡¹-baselevel" title="Direct link to heading">â€‹</a></h4><p>å¯¹äºä¸æ”¯æŒæ¨¡æ¿é€’å½’çš„å°ç¨‹åºï¼ˆå¾®ä¿¡ã€QQã€äº¬ä¸œå°ç¨‹åºï¼‰ï¼Œåœ¨ DOM å±‚çº§è¾¾åˆ°ä¸€å®šæ•°é‡åï¼ŒTaro ä¼šä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶ååŠ©é€’å½’ã€‚</p><p>ç®€å•ç†è§£å°±æ˜¯ DOM ç»“æ„è¶…è¿‡ N å±‚åï¼Œä¼šä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶è¿›è¡Œæ¸²æŸ“ã€‚N é»˜è®¤æ˜¯ 16 å±‚ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®é¡¹ <a href="/taro-docs/docs/config-detail#minibaselevel">baseLevel</a> ä¿®æ”¹ Nã€‚</p><p>æŠŠ <code>baseLevel</code> è®¾ç½®ä¸º <code>8</code> ç”šè‡³ <code>4</code> å±‚ï¼Œèƒ½éå¸¸æœ‰æ•ˆåœ°æå‡æ›´æ–°æ—¶çš„æ€§èƒ½ã€‚ä½†æ˜¯è®¾ç½®æ˜¯å…¨å±€æ€§çš„ï¼Œä¼šå¸¦æ¥è‹¥å¹²é—®é¢˜ï¼š</p><ol><li><code>flex</code> å¸ƒå±€åœ¨è·¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶æ—¶ä¼šå¤±æ•ˆï¼Œè¿™æ˜¯å½±å“æœ€å¤§çš„ä¸€ä¸ªé—®é¢˜ã€‚</li><li><code>SelectorQuery.select</code> æ–¹æ³•çš„<a href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/SelectorQuery.select.html" target="_blank" rel="noopener noreferrer">è·¨è‡ªå®šä¹‰ç»„ä»¶çš„åä»£é€‰æ‹©å™¨</a>å†™æ³•éœ€è¦å¢åŠ  <code>&gt;&gt;&gt;</code>ï¼š<code>.the-ancestor &gt;&gt;&gt; .the-descendant</code></li></ol><h4 class="anchor anchorWithStickyNavbar_IyCF" id="22-customwrapper-ç»„ä»¶">2.2 CustomWrapper ç»„ä»¶<a class="hash-link" href="#22-customwrapper-ç»„ä»¶" title="Direct link to heading">â€‹</a></h4><p>ä¸ºäº†è§£å†³å…¨å±€é…ç½®ä¸çµæ´»çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªåŸºç¡€ç»„ä»¶ <code>CustomWrapper</code>ã€‚å®ƒçš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶ï¼Œå¯¹åä»£èŠ‚ç‚¹çš„ <code>setData</code> å°†ç”±æ­¤è‡ªå®šä¹‰ç»„ä»¶è¿›è¡Œè°ƒç”¨ï¼Œè¾¾åˆ°å±€éƒ¨æ›´æ–°çš„æ•ˆæœã€‚</p><p>å¼€å‘è€…å¯ä»¥ä½¿ç”¨å®ƒå»<strong>åŒ…è£¹é‡åˆ°æ›´æ–°æ€§èƒ½é—®é¢˜çš„æ¨¡å—</strong>ï¼Œæå‡æ›´æ–°æ—¶çš„æ€§èƒ½ã€‚å› ä¸º <code>CustomWrapper</code> ç»„ä»¶éœ€è¦æ‰‹åŠ¨ä½¿ç”¨ï¼Œå¼€å‘è€…èƒ½å¤Ÿæ¸…æ¥šâ€œè¿™å±‚ä½¿ç”¨äº†è‡ªå®šä¹‰ç»„ä»¶ï¼Œéœ€è¦é¿å…è‡ªå®šä¹‰ç»„ä»¶çš„ä¸¤ä¸ªé—®é¢˜â€ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="ä¾‹å­">ä¾‹å­<a class="hash-link" href="#ä¾‹å­" title="Direct link to heading">â€‹</a></h5><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">CustomWrapper</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">GoodsList</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Item</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Item</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">GoodsList</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">CustomWrapper</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="åå…¨åç¾---ä½“éªŒè¯„åˆ†å¹³å‡-95">åå…¨åç¾ - ä½“éªŒè¯„åˆ†å¹³å‡ 95+<a class="hash-link" href="#åå…¨åç¾---ä½“éªŒè¯„åˆ†å¹³å‡-95" title="Direct link to heading">â€‹</a></h2><p>æŠŠå¼€å‘è€…å·¥å…·çš„ä½“éªŒè¯„åˆ†ç»™æ‹‰æ»¡ï¼Œè¿™é‡Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¼€å‘è€…å·¥å…·ä¼šè¯†åˆ«æ‰€æœ‰ç»‘å®šäº†ç‚¹å‡»äº‹ä»¶çš„ç»„ä»¶ï¼Œå¦‚æœç»„ä»¶çš„é¢ç§¯è¿‡å°åˆ™æç¤ºç‚¹å‡»åŒºåŸŸè¿‡å°ï¼Œä¼šå½±å“â€œä½“éªŒé¡¹â€çš„è¯„åˆ†ã€‚ä½†æ˜¯ <a href="/taro-docs/docs/platform-plugin#%E5%B1%9E%E6%80%A7%E7%B2%BE%E7%AE%80">Taro3 é»˜è®¤ä¼šä¸ºç»„ä»¶ç»‘å®šä¸Šæ‰€æœ‰å±æ€§å’Œäº‹ä»¶</a>ã€‚è¿™æ ·ä¼šâ€œè¯¯ä¼¤â€ä¸€äº›ç»„ä»¶ï¼Œå®ƒä»¬è™½ç„¶é¢ç§¯å¾ˆå°ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰ç‚¹å‡»åŠŸèƒ½ï¼Œä½†å› ä¸º Taro3 é»˜è®¤ç»‘å®šçš„äº‹ä»¶ï¼Œè¢«å¼€å‘è€…å·¥å…·è®¤ä¸ºç‚¹å‡»åŒºåŸŸè¿‡å°ï¼Œä»è€Œæ‹‰ä½ä½“éªŒè¯„åˆ†ã€‚</p><p><code>Text</code> ç»„ä»¶çš„æ¨¡æ¿ï¼Œé»˜è®¤ç»‘å®šäº†æ‰€æœ‰å±æ€§å’Œäº‹ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">tmpl_0_text</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">text</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">selectable</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">space</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">decode</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">user-select</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag special-attr attr-name" style="color:#00a4db">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">{</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">{</span><span class="token tag special-attr attr-value value css language-css" style="color:#e3116c">...</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">}</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">}</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å› æ­¤æˆ‘ä»¬ä¸º <code>View</code>ã€<code>Text</code>ã€<code>Image</code> ç»„ä»¶å„è®¾ç«‹äº†ä¸€ä¸ª <strong>static æ¨¡æ¿</strong>ï¼Œå½“æ£€æµ‹åˆ°ç»„ä»¶æ²¡æœ‰ç»‘å®šäº‹ä»¶æ—¶ï¼Œåˆ™ä½¿ç”¨ <code>static</code> æ¨¡æ¿ï¼Œé¿å…è¢«â€œè¯¯ä¼¤â€ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œè¿™ä¸€ä¸¾åŠ¨ä¹Ÿèƒ½å‡å°‘å°ç¨‹åº DOM ç»‘å®šçš„äº‹ä»¶ï¼Œå¯¹æ€§èƒ½ç¨æœ‰æå‡ï¼Œè€Œä¸”å‡å°‘äº†å±æ€§è®©å¼€å‘è€…å·¥å…·çš„ <code>xml</code> é¢æ¿åœ¨è°ƒè¯•æ—¶æ›´åŠ æ¸…æ™°ã€‚ä½†è¿™ä¸€æ–¹æ¡ˆä¹Ÿå­˜åœ¨ç‘•ç–µï¼Œä¼šå¯¼è‡´ç¼–è¯‘åçš„ <code>base.wxml</code> ä½“ç§¯ç•¥å¾®å¢å¤§ï¼Œå’Œæ€§èƒ½æƒè¡¡æ¥çœ‹ï¼Œè¿™ä»ç„¶æ˜¯å€¼å¾—çš„ã€‚</p><p><code>Text</code> ç»„ä»¶çš„ <code>static</code> æ¨¡æ¿ï¼Œæ²¡æœ‰ç»‘å®šäº‹ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">tmpl_0_static-text</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">text</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">selectable</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">space</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">decode</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">user-select</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag special-attr attr-name" style="color:#00a4db">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">{</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">{</span><span class="token tag special-attr attr-value value css language-css" style="color:#e3116c">...</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">}</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">}</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">{{...}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h5 class="anchor anchorWithStickyNavbar_IyCF" id="ä¼˜åŒ–åçš„è´­ç‰©è½¦é¡µä½“éªŒè¯„åˆ†">ä¼˜åŒ–åçš„è´­ç‰©è½¦é¡µä½“éªŒè¯„åˆ†<a class="hash-link" href="#ä¼˜åŒ–åçš„è´­ç‰©è½¦é¡µä½“éªŒè¯„åˆ†" title="Direct link to heading">â€‹</a></h5><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/WechatIMG541.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¦ä¸€ä¸ªæˆ˜åœº---å¤šç«¯é€‚é…åŸç”Ÿæ··åˆ">å¦ä¸€ä¸ªæˆ˜åœº - å¤šç«¯é€‚é…&amp;åŸç”Ÿæ··åˆ<a class="hash-link" href="#å¦ä¸€ä¸ªæˆ˜åœº---å¤šç«¯é€‚é…åŸç”Ÿæ··åˆ" title="Direct link to heading">â€‹</a></h2><p>ä»¥ä¸€é”…ç¾Šèå­ç»“æŸäº†æ”¯æ´ä¹‹æ—…åï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº†å—æ–¹çš„è‰³é˜³å¤©ã€‚ä½†å·¥ä½œè¿˜æ²¡ç»“æŸï¼Œä»æœ‰ä¸¤é¡¹å·¥ä½œéœ€è¦è·Ÿè¿›ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é€‚é…äº¬ä¸œå°ç¨‹åº">é€‚é…äº¬ä¸œå°ç¨‹åº<a class="hash-link" href="#é€‚é…äº¬ä¸œå°ç¨‹åº" title="Direct link to heading">â€‹</a></h3><p>é€‚é…äº¬ä¸œå°ç¨‹åºçš„è¿‡ç¨‹æ¯”è¾ƒé¡ºåˆ©ï¼Œéœ€è¦æ”¹åŠ¨çš„åœ°æ–¹ä¸å¤šã€‚</p><p>åœ¨æ­¤è¿‡ç¨‹ä¸­ Taro3 æœ€ä¸»è¦çš„å‡çº§æ˜¯<strong>å¢å¼ºäº†å¯¹ HTML æ–‡æœ¬çš„è§£æèƒ½åŠ›ï¼Œå¢åŠ äº†å¯¹ <code>&lt;style&gt;</code> æ ‡ç­¾çš„æ”¯æŒ</strong>ã€‚è‡ªæ­¤å®Œå…¨åŒæ­¥äº† <code>wxparse</code> çš„èƒ½åŠ›ï¼Œå¼€å‘è€…ä½¿ç”¨ React çš„ <code>dangerouslySetInnerHTML</code> æˆ– Vue çš„ <code>v-html</code> å³å¯å¾ˆå¥½åœ°è§£æ HTML æ–‡æœ¬ï¼Œä¸éœ€è¦å•ç‹¬å¼•å…¥ç¬¬ä¸‰æ–¹è‡ªå®šä¹‰ç»„ä»¶å»è¿›è¡Œè§£æï¼Œç»Ÿä¸€äº†å¤šç«¯æ ‡å‡†ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro3-ä¸åŸç”Ÿé¡¹ç›®æ··åˆ">Taro3 ä¸åŸç”Ÿé¡¹ç›®æ··åˆ<a class="hash-link" href="#taro3-ä¸åŸç”Ÿé¡¹ç›®æ··åˆ" title="Direct link to heading">â€‹</a></h3><p>è¿‡å»æˆ‘ä»¬å¯¹<strong>åœ¨ Taro é¡¹ç›®ä¸­æ··åˆä½¿ç”¨åŸç”Ÿ</strong>çš„æ”¯æŒåº¦è¾ƒé«˜ã€‚ç›¸ååœ°ï¼Œå¯¹<strong>åœ¨åŸç”Ÿé¡¹ç›®ä¸­æ··åˆä½¿ç”¨ Taro</strong> å´æ²¡æœ‰å¤ªé‡è§†ã€‚ä½†æ˜¯å¸‚é¢ä¸Šæœ‰ç€å­˜é‡çš„åŸç”Ÿå¼€å‘å°ç¨‹åºï¼Œä»–ä»¬æ¥å…¥ Taro å¼€å‘çš„æ”¹é€ æˆæœ¬å¾€å¾€éå¸¸å¤§ï¼Œæœ€ååªå¾—æ”¾å¼ƒæ··åˆå¼€å‘çš„æƒ³æ³•ã€‚</p><p>ç»è¿‡æœ¬æ¬¡é¡¹ç›®ï¼Œä¹Ÿé©±ä½¿äº†æˆ‘ä»¬æ›´åŠ å…³æ³¨è¿™éƒ¨åˆ†éœ€æ±‚ï¼Œåœ¨ Taro v3.0.25 åæ¨å‡ºäº†ä¸€å¥—å®Œæ•´çš„<a href="/taro-docs/docs/taro-in-miniapp">åŸç”Ÿé¡¹ç›®æ··åˆä½¿ç”¨ Taro çš„æ–¹æ¡ˆ</a>ã€‚</p><p>æ–¹æ¡ˆä¸»è¦æ”¯æŒäº†ä¸‰ç§åœºæ™¯ï¼š</p><ol><li>åœ¨åŸç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨ Taro å¼€å‘çš„é¡µé¢ã€‚ï¼ˆå·²å®Œæˆï¼‰</li><li>åœ¨åŸç”Ÿé¡¹ç›®çš„åˆ†åŒ…ä¸­è¿è¡Œå®Œæ•´çš„ Taro é¡¹ç›®ã€‚ï¼ˆå·²å®Œæˆï¼‰</li><li>åœ¨åŸç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨ Taro å¼€å‘çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚ï¼ˆæ­£åœ¨å¼€å‘ä¸­ï¼‰</li></ol><p>å¸Œæœ›ä»¥ä¸Šæ–¹æ¡ˆèƒ½æ»¡è¶³å¸Œæœ›é€æ­¥æ¥å…¥ Taro çš„å¼€å‘åŒå­¦ã€‚æ›´å¤šæ„è§ä¹Ÿæ¬¢è¿åœ¨ <a href="https://github.com/NervJS/taro/issues" target="_blank" rel="noopener noreferrer">Github</a> ä¸Šç»™æˆ‘ä»¬ç•™è¨€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å°¾å£°">å°¾å£°<a class="hash-link" href="#å°¾å£°" title="Direct link to heading">â€‹</a></h2><p>Taro å›¢é˜Ÿè¿™æ¬¡å‚ä¸åˆ° â€œäº¬å–œæ‹¼æ‹¼â€ å°ç¨‹åºçš„æ€§èƒ½ä½“éªŒä¼˜åŒ–å·¥ä½œï¼Œè®©æˆ‘ä»¬äº†è§£åˆ° Taro3 çš„æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨ï¼Œä¹Ÿä½“ä¼šåˆ°å¤æ‚ä¸šåŠ¡çš„å¤šæ ·æ€§ã€‚</p><p>2021 ä¸ŠåŠå¹´æˆ‘ä»¬å°†æ›´åŠ èšç„¦äºæå‡æ¡†æ¶å¼€å‘ä½“éªŒå’Œè¿è¡Œæ€§èƒ½ã€ä¸åŸç”Ÿå°ç¨‹åºçš„æ··åˆï¼Œè¿˜æœ‰ç”Ÿæ€å»ºè®¾çš„å·¥ä½œä¸Šã€‚</p><p>æœ€åç¥å¤§å®¶æ˜¥èŠ‚å¿«ä¹ï½æ–°çš„ä¸€å¹´ç‰›æ°”å†²å¤©!</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro 3.1 beta å‘å¸ƒï¼š å¼€æ”¾å¼æ¶æ„æ–°å¢ 4 ç«¯æ”¯æŒ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-12-15-taro-3-1-beta</link>
            <guid>2020-12-15-taro-3-1-beta</guid>
            <pubDate>Tue, 15 Dec 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[é¢å¯¹å°ç¨‹åºå¹³å°è¶Šæ¥è¶Šå¤šçš„å¤§ç¯å¢ƒï¼ŒTaro æ˜¯é€‰æ‹©åå®‰ä¸€éš…ï¼Œåªæ”¯æŒéƒ¨åˆ†çš„ä¸»æµå°ç¨‹åºï¼Œè¿˜æ˜¯æˆä¸ºæ‰€æœ‰å°ç¨‹åºå¹³å°å¼€å‘ã€å¤šç«¯è½¬æ¢çš„åŸºç¡€è®¾æ–½]]></description>
            <content:encoded><![CDATA[<p>è‡ª 7 æœˆåˆæˆ‘ä»¬æ­£å¼å‘å¸ƒäº† Taro 3ï¼Œè‡³ä»ŠåŠå¹´æ—¶é—´å·²ç„¶ç•¥å»ã€‚æœŸé—´æˆ‘ä»¬ä¸æ–­åœ°ä¿®å¤ç€é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿåœ¨æ„æƒ³ç€ä¸‹ä¸€ä¸ª minor ç‰ˆæœ¬ã€‚</p><p>é¢å¯¹å°ç¨‹åºå¹³å°è¶Šæ¥è¶Šå¤šçš„å¤§ç¯å¢ƒï¼ŒTaro æ˜¯é€‰æ‹©åå®‰ä¸€éš…ï¼Œåªæ”¯æŒéƒ¨åˆ†çš„ä¸»æµå°ç¨‹åºï¼Œè¿˜æ˜¯æˆä¸ºæ‰€æœ‰å°ç¨‹åºå¹³å°å¼€å‘ã€å¤šç«¯è½¬æ¢çš„åŸºç¡€è®¾æ–½ï¼Œæˆ‘ä»¬åœ¨ v3.1 ç»™å‡ºäº†ç­”æ¡ˆï¼š<strong>å¼€æ”¾å¼æ¶æ„</strong>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€å¼€æ”¾å¼æ¶æ„">ä¸€ã€å¼€æ”¾å¼æ¶æ„<a class="hash-link" href="#ä¸€å¼€æ”¾å¼æ¶æ„" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h3><p>è¿‘å¹´æ¥ä¸šç•Œæ¨å‡ºçš„å°ç¨‹åºå¹³å°è¶Šæ¥è¶Šå¤šï¼Œä½† Taro æ ¸å¿ƒç»´æŠ¤çš„å¹³å°åªæœ‰ 6 ä¸ªï¼ˆå¾®ä¿¡ã€æ”¯ä»˜å®ã€ç™¾åº¦ã€å¤´æ¡ã€QQã€äº¬ä¸œå°ç¨‹åºï¼‰ï¼Œå› æ­¤å¸¸å¸¸æœ‰åŒå­¦æå‡ºèƒ½ä¸èƒ½æ”¯æŒæŸæŸå¹³å°çš„ Feature Requestã€‚</p><p>åŸºäºç›®å‰çš„æ¶æ„ï¼Œå¯¹äºå•ä¸€å¹³å°çš„å…¼å®¹æ€§ä»£ç åˆ†å¸ƒäº Taro æ ¸å¿ƒåº“çš„å„ä¸ªè§’è½ï¼Œæ¶‰åŠç¼–è¯‘æ—¶ä¸è¿è¡Œæ—¶ç­‰éƒ¨åˆ†ã€‚æ”¯æŒä¸€ä¸ªæ–°çš„å¹³å°éœ€è¦æ”¹åŠ¨æ‰€æœ‰çš„è¿™äº›åœ°æ–¹ï¼Œå¼€å‘å¤æ‚åº¦é«˜ï¼ŒåŒæ—¶ç¤¾åŒºä¹Ÿéš¾ä»¥å‚ä¸è´¡çŒ®ã€‚</p><p>ä¸ºæ­¤æˆ‘ä»¬èŒç”Ÿäº†æ‰“é€ ä¸€ä¸ªå¼€æ”¾å¼æ¡†æ¶çš„æƒ³æ³•ã€‚ç›®æ ‡æ˜¯å¯ä»¥é€šè¿‡æ’ä»¶çš„å½¢å¼æ‰©å±• Taro çš„ç«¯å¹³å°æ”¯æŒèƒ½åŠ›ï¼š</p><ul><li>æ’ä»¶å¼€å‘è€…æ— éœ€ä¿®æ”¹ Taro æ ¸å¿ƒåº“ä»£ç ï¼Œå³å¯ç¼–å†™å‡ºä¸€ä¸ªç«¯å¹³å°æ’ä»¶ã€‚</li><li>æ’ä»¶ä½¿ç”¨è€…åªéœ€å®‰è£…ã€é…ç½®ç«¯å¹³å°æ’ä»¶ï¼Œå³å¯æŠŠä»£ç ç¼–è¯‘åˆ°æŒ‡å®šå¹³å°ã€‚</li><li>å¼€å‘è€…å¯ä»¥ç»§æ‰¿ç°æœ‰çš„ç«¯å¹³å°æ’ä»¶ï¼Œç„¶åå¯¹å¹³å°çš„é€‚é…é€»è¾‘è¿›è¡Œè‡ªå®šä¹‰ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç«¯å¹³å°æ’ä»¶æ¶æ„å›¾">ç«¯å¹³å°æ’ä»¶æ¶æ„å›¾<a class="hash-link" href="#ç«¯å¹³å°æ’ä»¶æ¶æ„å›¾" title="Direct link to heading">â€‹</a></h4><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/platform-plugin-all.png" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-åŸºäºå¼€æ”¾å¼æ¶æ„çš„æ”¹åŠ¨">Taro åŸºäºå¼€æ”¾å¼æ¶æ„çš„æ”¹åŠ¨<a class="hash-link" href="#taro-åŸºäºå¼€æ”¾å¼æ¶æ„çš„æ”¹åŠ¨" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-åŒæ­¥äº†å°ç¨‹åºæœ€æ–°ç‰¹æ€§">1. åŒæ­¥äº†å°ç¨‹åºæœ€æ–°ç‰¹æ€§<a class="hash-link" href="#1-åŒæ­¥äº†å°ç¨‹åºæœ€æ–°ç‰¹æ€§" title="Direct link to heading">â€‹</a></h4><p>æˆ‘ä»¬æŠŠå†…ç½®æ”¯æŒçš„ 6 ä¸ªå¹³å°å°è£…æˆäº†æ’ä»¶ï¼ŒCLI é»˜è®¤ä¼šå…¨éƒ¨åŠ è½½è¿™äº›æ’ä»¶ã€‚å°è£…çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ£€ç´¢äº†å„å°ç¨‹åºæœ€æ–°çš„ç»„ä»¶ã€APIï¼Œå¹¶å…¨æ•°è¿›è¡Œæ›´æ–°ä¸æ”¯æŒï¼Œå¯¹é½å„å°ç¨‹åºæœ€æ–°çš„èƒ½åŠ›ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-æ–°å¢æ”¯æŒè½¬æ¢çš„å¹³å°">2. æ–°å¢æ”¯æŒè½¬æ¢çš„å¹³å°<a class="hash-link" href="#2-æ–°å¢æ”¯æŒè½¬æ¢çš„å¹³å°" title="Direct link to heading">â€‹</a></h4><p>å€ŸåŠ©å¼€æ”¾å¼æ¶æ„ï¼Œæˆ‘ä»¬ç¼–å†™äº†è‹¥å¹²ç«¯å¹³å°æ’ä»¶ï¼Œå¼€å‘è€…å®‰è£…åå³å¯ä½¿ç”¨ï¼š</p><ul><li>ä¼ä¸šå¾®ä¿¡æ’ä»¶ï¼š<a href="https://github.com/NervJS/taro-plugin-platform-weapp-qy" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-weapp-qy</a></li><li>é’‰é’‰å°ç¨‹åºæ’ä»¶ï¼š<a href="https://github.com/NervJS/taro-plugin-platform-alipay-dd" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-alipay-dd</a></li><li>æ”¯ä»˜å® IOT å°ç¨‹åºæ’ä»¶ï¼š<a href="https://github.com/NervJS/taro-plugin-platform-alipay-iot" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-alipay-iot</a></li><li>å¿«æ‰‹å°ç¨‹åºæ’ä»¶ï¼ˆä½“éªŒç‰ˆï¼‰ï¼š<a href="https://github.com/NervJS/taro-plugin-platform-kwai" target="_blank" rel="noopener noreferrer">@tarojs/plugin-platform-kwai</a></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¯¹å¼€å‘è€…çš„å½±å“">å¯¹å¼€å‘è€…çš„å½±å“<a class="hash-link" href="#å¯¹å¼€å‘è€…çš„å½±å“" title="Direct link to heading">â€‹</a></h3><p>æ²¡æœ‰å½±å“ï¼Œæ”¹åŠ¨å±äº Taro å†…éƒ¨æ¶æ„é‡æ„ï¼Œä¸ä¼šå½±å“å¼€å‘è€…ä½¿ç”¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è¿˜å¯ä»¥åšä»€ä¹ˆæœ‰æ„æ€çš„äº‹">è¿˜å¯ä»¥åšä»€ä¹ˆæœ‰æ„æ€çš„äº‹<a class="hash-link" href="#è¿˜å¯ä»¥åšä»€ä¹ˆæœ‰æ„æ€çš„äº‹" title="Direct link to heading">â€‹</a></h3><p>é™¤äº†æ‰©å±•æ–°çš„ç¼–è¯‘å¹³å°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç»§æ‰¿äºç°æœ‰çš„ç«¯å¹³å°æ’ä»¶ï¼Œæ¥ç¼–å†™è‡ªå®šä¹‰çš„ç«¯å¹³å°æ’ä»¶ï¼Œå¯¹å¹³å°çš„é€‚é…é€»è¾‘è¿›è¡Œè‡ªå®šä¹‰ï¼š</p><blockquote><p>å¦‚ä½•ç¼–å†™ç«¯å¹³å°æ’ä»¶ï¼š<a href="/taro-docs/docs/next/platform-plugin-how">æ–‡æ¡£åœ°å€</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-å¿«é€Ÿä¿®å¤é—®é¢˜">1. å¿«é€Ÿä¿®å¤é—®é¢˜<a class="hash-link" href="#1-å¿«é€Ÿä¿®å¤é—®é¢˜" title="Direct link to heading">â€‹</a></h4><p>ç”±äºå°ç¨‹åºå¹³å°ä¼—å¤šï¼Œè€Œä¸”å®ƒä»¬ä¹Ÿåœ¨ä¸æ–­åœ°è¿­ä»£ï¼Œå¾€å¾€ä¼šå‡ºç° Taro å¯¹æŸä¸ªå°ç¨‹åºæ–°æ¨å‡ºçš„ç»„ä»¶æˆ– API æ”¯æŒä¸åŠæ—¶çš„é—®é¢˜ã€‚è¿™æ—¶å¼€å‘è€…é¦–å…ˆéœ€è¦è”ç³» Taro å›¢é˜Ÿï¼Œå†ç­‰å¾…æˆ‘ä»¬è·Ÿè¿›ä¿®å¤ã€å‘å¸ƒæ–°ç‰ˆæœ¬åæ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œå¹³å‡éœ€è¦ç­‰å¾…ä¸€å‘¨æˆ–ä¸¤å‘¨çš„æ—¶é—´æ‰èƒ½å¾—åˆ°è§£å†³ã€‚</p><p>è€ŒåŸºäºå¼€æ”¾å¼æ¶æ„ï¼Œå¼€å‘è€…èƒ½å¤Ÿé€šè¿‡ç»§æ‰¿æŸä¸ªç«¯å¹³å°æ’ä»¶ï¼Œè¿…é€Ÿå¼€å‘å‡ºè‡ªå®šä¹‰ç«¯å¹³å°æ’ä»¶ï¼Œå®Œæˆå¯¹è¿™äº›æ–°ç»„ä»¶æˆ– API çš„æ”¯æŒï¼Œæ— éœ€ç­‰å¾… Taro å‘å¸ƒç‰ˆæœ¬ã€‚</p><p>ä¸ºå¾®ä¿¡å°ç¨‹åºæ‹“å±• API çš„ä¾‹å­ï¼š</p><ol><li>è¿è¡Œæ—¶æ³¨å…¥ APIï¼š</li></ol><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** plugin/apis.ts */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">initNativeApi</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">taro</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‚è½½é¢å¤– APIï¼šTaro.xxx()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">xxx</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** plugin/runtime.ts */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> mergeReconciler </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/shared'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> initNativeApi </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./apis'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æŠŠ initNativeApi åˆå¹¶åˆ° reconciler ä¸­ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// è¿™æ ·å¯ä»¥ä¾µå…¥ Taro è¿è¡Œæ—¶å¹¶ä¿®æ”¹ Taro å¯¹è±¡ï¼Œè¾¾åˆ°å¢åŠ  API çš„ç›®çš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mergeReconciler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  initNativeApi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="2"><li>ç«¯å¹³å°æ’ä»¶å…¥å£ï¼š</li></ol><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/** plugin/program.ts */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Weapp</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/plugin-platform-weapp'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç»§æ‰¿å¾®ä¿¡å°ç¨‹åº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Example</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Weapp</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  platform </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'example'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ­¥éª¤ 1 ä¸­ï¼Œruntime æ–‡ä»¶çš„è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  runtimePath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">@tarojs/plugin-platform-example/dist/runtime</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/** plugin/index.ts */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Example</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./program'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> type </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">IPluginContext</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/service'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter literal-property property" style="color:#36acaa">ctx</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">IPluginContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">registerPlatform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'example'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">useConfigName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'mini'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fn</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> config </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> program </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      program</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-å±æ€§ç²¾ç®€">2. å±æ€§ç²¾ç®€<a class="hash-link" href="#2-å±æ€§ç²¾ç®€" title="Direct link to heading">â€‹</a></h4><p>å› ä¸ºå°ç¨‹åºç»„ä»¶çš„å±æ€§å’Œäº‹ä»¶éƒ½å¿…é¡»é™æ€å†™æ­»ï¼Œä¸å¯ä»¥åŠ¨æ€æ·»åŠ ï¼Œæ‰€ä»¥ Taro ä¼šæŠŠç»„ä»¶çš„æ‰€æœ‰å±æ€§å’Œäº‹ä»¶å…¨éƒ¨åœ¨æ¨¡æ¿é‡Œæå‰è¿›è¡Œç»‘å®šã€‚</p><p>ä½†å®é™…é¡¹ç›®ä¸­å¾ˆå¤šæƒ…å†µä¸‹å¹¶ä¸ä¼šä½¿ç”¨åˆ°ç»„ä»¶çš„æ‰€æœ‰å±æ€§å’Œäº‹ä»¶ï¼Œå¾ªç¯è¿™äº›å†—ä½™çš„å±æ€§å’Œäº‹ä»¶ç»‘å®šä¹Ÿä¼šå æ®å¾ˆå¤§ä¸€éƒ¨åˆ†çš„ä½“ç§¯ï¼Œå¦å¤–å¤ªå¤šçš„äº‹ä»¶ç»‘å®šä¹Ÿä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½å°ç¨‹åºçš„æ€§èƒ½ã€‚</p><p>ä»¥ä¸‹æ˜¯ View ç»„ä»¶æ¨¡æ¿çš„ä¼ªä»£ç ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">tmpl_0_view</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">hover-class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">hover-stop-propagation</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">hover-start-time</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">hover-stay-time</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">animation</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onTouchStart</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onTouchMove</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onTouchEnd</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onTouchCancel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onLongTap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onAnimationStart</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onAnimationIteration</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onAnimationEnd</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onTransitionEnd</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">disable-scroll</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">hidden</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onAppear</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onDisappear</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onFirstAppear</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag special-attr attr-name" style="color:#00a4db">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value css language-css" style="color:#e3116c">...</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">onTap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">...</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Taro éœ€è¦æŠŠ <code>View</code> ç»„ä»¶çš„æ‰€æœ‰å±æ€§å’Œäº‹ä»¶æå‰è¿›è¡Œç»‘å®šï¼Œæ‰èƒ½æ»¡è¶³ä¸åŒå¼€å‘è€…çš„ä½¿ç”¨éœ€æ±‚ã€‚ä½†å¯èƒ½å¯¹äºæŸä½å¼€å‘è€…æ¥è¯´ï¼Œæ•´ä¸ªé¡¹ç›®çš„ <code>View</code> ç»„ä»¶éƒ½æ²¡æœ‰ä½¿ç”¨åˆ° <code>hover-stop-propagation</code> è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆåˆ™å¯ä»¥è€ƒè™‘æŠŠå®ƒç²¾ç®€æ‰ï¼Œä¸ç¼–è¯‘åˆ° <code>View</code> ç»„ä»¶çš„æ¨¡æ¿å½“ä¸­ã€‚</p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹å±æ€§çš„ç²¾ç®€å¯èƒ½ä¼šå¼•èµ·ä¸å¿…è¦çš„é—®é¢˜ã€ä½¿é¡¹ç›®çš„ç»´æŠ¤å˜å¾—å›°éš¾ï¼Œç‰¹åˆ«å½“é¡¹ç›®å˜å¤§ï¼Œå¼€å‘è€…ä¼—å¤šæ—¶ï¼Œéœ€è¦è°¨æ…è®¾è®¡å’Œä½¿ç”¨ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äºŒé‡è¦é—®é¢˜ä¿®å¤">äºŒã€é‡è¦é—®é¢˜ä¿®å¤<a class="hash-link" href="#äºŒé‡è¦é—®é¢˜ä¿®å¤" title="Direct link to heading">â€‹</a></h2><p>v3.1 é™¤äº†åŒ…æ‹¬å¼€æ”¾å¼æ¶æ„çš„è°ƒæ•´å¤–ï¼Œä¹Ÿä¸å¿˜å·©å›ºæ ¸å¿ƒã€‚ä»¥ä¸‹æ˜¯ v3.1 å¯¹é‡è¦é—®é¢˜çš„ä¿®å¤æƒ…å†µï¼Œæœ‰ä¸€äº›åœ¨ v3.0 çš„ patch ç‰ˆæœ¬å·²ç»æ¨å‡ºï¼Œä¸€äº›åˆ™æ˜¯ v3.1 ä¸­æ‰æ¨å‡ºï¼Œå‡äºˆä»¥åˆ—å‡ºï¼š</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-breaking-changeä¿®å¤-vue-ä¸­-app-ç”Ÿå‘½å‘¨æœŸè¢«è°ƒç”¨ä¸¤æ¬¡çš„é—®é¢˜">1. <!-- -->[Breaking Change]<!-- -->ä¿®å¤ Vue ä¸­ App ç”Ÿå‘½å‘¨æœŸè¢«è°ƒç”¨ä¸¤æ¬¡çš„é—®é¢˜<a class="hash-link" href="#1-breaking-changeä¿®å¤-vue-ä¸­-app-ç”Ÿå‘½å‘¨æœŸè¢«è°ƒç”¨ä¸¤æ¬¡çš„é—®é¢˜" title="Direct link to heading">â€‹</a></h3><p>æ³¨æ„ï¼Œæ­¤ä¿®å¤å«æœ‰ã€Breaking Changeã€‘ï¼Œå¦‚æœä½ æ­£åœ¨æŠŠ Vue é¡¹ç›®ä» v3.0 å‡çº§åˆ° v3.1ï¼Œéœ€è¦å¯¹å…¥å£ç»„ä»¶è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// app.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// v3.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Taro è¿è¡Œæ—¶å†…éƒ¨æœ¬æ¥å°±ä¼šè°ƒç”¨ä¸€æ¬¡ new Vueï¼Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç”¨æˆ·çš„å…¥å£ç»„ä»¶å¤šè°ƒç”¨ä¸€æ¬¡çš„è¯ï¼Œä¼šå¯¼è‡´ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡å¤è§¦å‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Vue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// v3.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç”¨æˆ·åœ¨å…¥å£æ–‡ä»¶ä¸­åªéœ€è¦å¯¼å‡ºå…¥å£ç»„ä»¶çš„é…ç½®å¯¹è±¡ï¼Œä¸éœ€è¦å†è°ƒç”¨ new Vue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-ä¼˜åŒ–åå‘è½¬æ¢åŠŸèƒ½">2. ä¼˜åŒ–åå‘è½¬æ¢åŠŸèƒ½<a class="hash-link" href="#2-ä¼˜åŒ–åå‘è½¬æ¢åŠŸèƒ½" title="Direct link to heading">â€‹</a></h3><p>v3.1 ä¸­æˆ‘ä»¬å¯¹åå‘è½¬æ¢åŠŸèƒ½ï¼ˆ<code>Taro convert</code>ï¼‰è¿›è¡Œäº†å¹¿æ³›çš„éªŒè¯ï¼Œä¿®å¤äº†å¤§é‡é—®é¢˜ï¼Œç°å·²è¾¾åˆ°æ¯”è¾ƒé«˜å¯ç”¨çš„çŠ¶æ€ã€‚</p><blockquote><p><a href="/taro-docs/docs/next/taroize">è¯¦ç»†æ–‡æ¡£</a></p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸»è¦å˜åŠ¨">ä¸»è¦å˜åŠ¨:<a class="hash-link" href="#ä¸»è¦å˜åŠ¨" title="Direct link to heading">â€‹</a></h4><ul><li>æ”¯æŒä½¿ç”¨ <code>Behavior</code></li><li>æ”¯æŒä½¿ç”¨è‡ªå®šä¹‰ tabbar</li><li>æ”¯æŒé…ç½®å…¨å±€ <code>usingComponents</code></li><li>ä¿®å¤ <code>catch</code> äº‹ä»¶ä¸èƒ½é˜»æ­¢å†’æ³¡çš„é—®é¢˜</li><li>ä¿®å¤ä¸æ”¯æŒæŒ‚è½½é¢å¤–å±æ€§åˆ° app å¯¹è±¡çš„é—®é¢˜</li><li>ä¿®å¤å¾ªç¯çš„ key å€¼æ²¡æœ‰è¢«æ­£ç¡®ç¼–è¯‘çš„é—®é¢˜</li><li>ä¿®å¤ç¼–è¯‘æ—¶æ²¡æœ‰å¤„ç†æ ·å¼ä¸­å¼•ç”¨çš„å­—ä½“çš„é—®é¢˜</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="åå‘è½¬æ¢ä¾‹å­">åå‘è½¬æ¢ä¾‹å­<a class="hash-link" href="#åå‘è½¬æ¢ä¾‹å­" title="Direct link to heading">â€‹</a></h4><p>æˆ‘ä»¬å°è¯•ä½¿ç”¨ <code>taro convert</code> è½¬æ¢äº†å››ä¸ª GitHub ä¸Šæœ€çƒ­é—¨çš„å¼€æºå¾®ä¿¡å°ç¨‹åºåº”ç”¨ï¼Œå®ƒä»¬è½¬æ¢ä¹‹åéƒ½è¡¨ç°è‰¯å¥½ï¼š</p><p><a href="https://github.com/EastWorld/wechat-app-mall" target="_blank" rel="noopener noreferrer">EastWorld/wechat-app-mall</a> - å¾®ä¿¡å°ç¨‹åºå•†åŸ</p><p><a href="https://github.com/tumobi/nideshop-mini-program" target="_blank" rel="noopener noreferrer">tumobi/nideshop-mini-program</a> - åŸºäº Node.js + MySQL å¼€å‘çš„å¼€æºå¾®ä¿¡å°ç¨‹åºå•†åŸ</p><p><a href="https://github.com/RebeccaHanjw/weapp-wechat-zhihu" target="_blank" rel="noopener noreferrer">RebeccaHanjw/weapp-wechat-zhihu</a> - ä»¿çŸ¥ä¹</p><p><a href="https://github.com/jectychen/wechat-v2ex" target="_blank" rel="noopener noreferrer">jectychen/wechat-v2ex</a> - V2EX</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-æ”¯æŒé˜»æ­¢å°ç¨‹åºæ»‘åŠ¨ç©¿é€">3. æ”¯æŒé˜»æ­¢å°ç¨‹åºæ»‘åŠ¨ç©¿é€<a class="hash-link" href="#3-æ”¯æŒé˜»æ­¢å°ç¨‹åºæ»‘åŠ¨ç©¿é€" title="Direct link to heading">â€‹</a></h3><p>v3.0 æ¨å‡ºååé¦ˆæœ€å¤šçš„é—®é¢˜ä¹‹ä¸€ï¼Œå°±æ˜¯åœ¨ <code>touchmove</code> äº‹ä»¶å›è°ƒä¸­è°ƒç”¨ <code>e.stopPropagation()</code> å¹¶ä¸èƒ½é˜»æ­¢æ»‘åŠ¨ç©¿é€ã€‚</p><p>è¿™æ˜¯å› ä¸º Taro 3 çš„äº‹ä»¶å†’æ³¡æœºåˆ¶æ˜¯å•ç‹¬åœ¨å°ç¨‹åºé€»è¾‘å±‚å®ç°ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½æ˜¯ç»‘å®šçš„ <code>bind</code> è€Œä¸æ˜¯ <code>catch</code>ã€‚å› æ­¤<code>touchmove</code> äº‹ä»¶å›è°ƒä¸­è°ƒç”¨ <code>e.stopPropagation()</code> åªä¼šé˜»æ­¢ä¸Šå±‚ç»„ä»¶çš„äº‹ä»¶å›è°ƒè§¦å‘ï¼Œè€Œæ²¡æœ‰ <code>catchtouchmove</code> èƒ½é˜»æ­¢æ»‘åŠ¨ç©¿é€çš„èƒ½åŠ›ã€‚</p><p>v3.1 ä¸­æˆ‘ä»¬ä¸º <code>View</code> ç»„ä»¶å¢åŠ äº† <code>catchMove</code> å±æ€§ï¼Œåªè¦ <code>catchMove</code> å±æ€§å€¼ä¸º <code>true</code>ï¼Œå°±ä¼šä½¿ç”¨ <code>catchtouchmove</code> ä»£æ›¿ <code>bindtouchmove</code> è¿›è¡Œäº‹ä»¶ç»‘å®šï¼Œä»è€Œè·å¾—é˜»æ­¢æ»‘åŠ¨ç©¿é€çš„èƒ½åŠ›ã€‚</p><p>ç”¨æ³•ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'parent'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'modal'</span><span class="token plain"> catchMove</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">æ»‘åŠ¨ </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">modal</span><span class="token plain"> æ—¶ï¼Œå¹¶ä¸ä¼šä»¤ </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">parent</span><span class="token plain"> ä¹Ÿä¸€èµ·æ»‘åŠ¨</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-ä¿®å¤ä½¿ç”¨äº†-hoc-ååˆ†äº«ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸è§¦å‘çš„é—®é¢˜">4. ä¿®å¤ä½¿ç”¨äº† HOC ååˆ†äº«ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸è§¦å‘çš„é—®é¢˜<a class="hash-link" href="#4-ä¿®å¤ä½¿ç”¨äº†-hoc-ååˆ†äº«ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸è§¦å‘çš„é—®é¢˜" title="Direct link to heading">â€‹</a></h3><p>å€˜è‹¥æˆ‘ä»¬åœ¨ v3.0 çš„ React æ¡†æ¶ä¸‹ï¼ŒæŠŠé¡µé¢ä½¿ç”¨ HOC è¿›è¡ŒåŒ…è£¹ï¼Œå¦‚ <code>react-redux</code> çš„ <strong>@connect</strong>ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¾ç½®çš„ä¸€äº›åˆ†äº«ç”Ÿå‘½å‘¨æœŸï¼š<code>onShareAppMessage</code>, <code>onShareTimeline</code> éƒ½å°†ä¸ä¼šè¢«è§¦å‘ã€‚è¿™æ—¶éœ€è¦åœ¨é¡µé¢çš„é…ç½®æ–‡ä»¶ä¸­å¯¹åº”è®¾ç½® <code>enableShareAppMessage: true</code>ã€<code>enableShareTimeline: true</code> æ‰èƒ½è§£å†³ã€‚</p><p>v3.1 ä¼šåœ¨ç¼–è¯‘æ—¶æ‰«æ <code>onShareAppMessage</code>ã€ <code>onShareTimeline</code> æ˜¯å¦æœ‰è¢«è°ƒç”¨ï¼Œè¿›è€Œè‡ªåŠ¨åœ¨é¡µé¢é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Šå¯¹åº”é…ç½®ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä¸‹ä¸éœ€è¦ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®ã€‚</p><blockquote><p>æ³¨æ„ï¼Œå¦‚æœåˆ†äº«ç”Ÿå‘½å‘¨æœŸè¢«å°è£…åœ¨åŸºç±»æˆ–è‡ªå®šä¹‰ Hooks ä¸­ï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨åŠ ä¸Šå¯¹åº”é…ç½®ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="5-ä¿®å¤æ”¯ä»˜å®å°ç¨‹åºä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶æŠ¥é”™çš„é—®é¢˜">5. ä¿®å¤æ”¯ä»˜å®å°ç¨‹åºä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶æŠ¥é”™çš„é—®é¢˜<a class="hash-link" href="#5-ä¿®å¤æ”¯ä»˜å®å°ç¨‹åºä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶æŠ¥é”™çš„é—®é¢˜" title="Direct link to heading">â€‹</a></h3><p>åœ¨ v3.0ï¼Œæ”¯ä»˜å®å°ç¨‹åºä½¿ç”¨åŸç”Ÿè‡ªå®šä¹‰ç»„ä»¶æ—¶ï¼Œä¼šæŠ¥â€œå…ƒç´ ä¸å­˜åœ¨â€çš„é”™è¯¯ã€‚</p><p>è¿™æ˜¯å› ä¸ºæ”¯ä»˜å®å°ç¨‹åºä¸­è§„å®šï¼Œé¡µé¢å¼•ç”¨åˆ°çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œéœ€è¦åœ¨é¡µé¢å¯¹åº”çš„ axml æ–‡ä»¶ä¸­å®šä¹‰ã€‚è€Œ Taro ä¼šæŠŠè‡ªå®šä¹‰ç»„ä»¶å®šä¹‰åœ¨å…¨å±€æ¨¡æ¿æ–‡ä»¶ base.axml ä¸­ã€‚</p><p>å› æ­¤ v3.1 å¯¹</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="6-ä¼˜åŒ–-basexml-æ¨¡æ¿ä½“ç§¯">6. ä¼˜åŒ– base.xml æ¨¡æ¿ä½“ç§¯<a class="hash-link" href="#6-ä¼˜åŒ–-basexml-æ¨¡æ¿ä½“ç§¯" title="Direct link to heading">â€‹</a></h3><p>v3.0 åˆšæ¨å‡ºï¼Œå¾ˆå¤šåŒå­¦åé¦ˆå°ç¨‹åºä½“ç§¯è¿‡å¤§çš„é—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯ç¼–è¯‘äº§ç‰©ä¸­ <code>base.xml</code> è¿™ä¸ªæ¨¡æ¿çš„ä½“ç§¯å¤ªå¤§äº†ã€‚</p><p>è‡ª v3.0.9 åï¼Œæˆ‘ä»¬å¯¹æ¨¡æ¿ç”Ÿæˆé€»è¾‘è¿›è¡Œäº†é‡æ„ï¼šå¯èƒ½åµŒå¥—å¼•ç”¨è‡ªèº«çš„ç»„ä»¶ï¼Œæ¨¡æ¿é»˜è®¤ç”Ÿæˆ 16 æ¬¡ï¼Œå¦‚ <code>View</code>ã€‚ä¸ä¼šåµŒå¥—å¼•ç”¨è‡ªèº«çš„ç»„ä»¶ï¼Œæ¨¡æ¿åªä¼šç”Ÿæˆä¸€æ¬¡ï¼Œå¦‚ <code>Map</code>ã€‚</p><p>ä»¥å¾®ä¿¡å°ç¨‹åºä¸ºä¾‹ï¼Œåœ¨æœ€æç«¯çš„æƒ…å†µä¸‹ä½“ç§¯ä¼˜åŒ–ç‡è¾¾ <strong>85%</strong> ä»¥ä¸Šï¼š</p><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/WX20201210-223058.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸‰å‡çº§æŒ‡å—">ä¸‰ã€å‡çº§æŒ‡å—<a class="hash-link" href="#ä¸‰å‡çº§æŒ‡å—" title="Direct link to heading">â€‹</a></h2><blockquote><p>ä» v2.x å‡çº§çš„åŒå­¦éœ€è¦å…ˆæŒ‰ <a href="/taro-docs/docs/next/migration">è¿ç§»æŒ‡å—</a> è¿›è¡Œæ“ä½œã€‚</p></blockquote><p>ä» v3.x å‡çº§çš„åŒå­¦ï¼Œé¦–å…ˆéœ€è¦å®‰è£… v3.1 çš„ CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli@next</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶åè¿›å…¥é¡¹ç›®ï¼ŒæŠŠ <code>package.json</code> æ–‡ä»¶ä¸­ taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿®æ”¹ä¸º <code>3.1.0-beta.4</code>ï¼Œå†é‡æ–°å®‰è£…ä¾èµ–ï¼ˆå»ºè®®å…ˆæŠŠ <strong>node_modules</strong> æ–‡ä»¶å¤¹åˆ é™¤ï¼‰ã€‚è‡³æ­¤å‡çº§ç»“æŸã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="breaking">Breaking<a class="hash-link" href="#breaking" title="Direct link to heading">â€‹</a></h3><p>v3.1 å¸¦æ¥äº†ä¸€ä¸ª Breaking Changeï¼Œä½¿ç”¨ <strong>Vue</strong> è¿›è¡Œå¼€å‘çš„åŒå­¦éœ€è¦æŒ‰æŒ‡ç¤ºè¿›è¡Œä¿®æ”¹ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å››æœªæ¥è§„åˆ’">å››ã€æœªæ¥è§„åˆ’<a class="hash-link" href="#å››æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h2><p>Taro 3 å³å°†æ”¯æŒ <strong>React Native</strong>ï¼Œæ¬¢è¿ä½“éªŒï¼š<a href="https://taro-docs.jd.com/taro/blog/2020-12-02-taro-3-2-0-cannary-1" target="_blank" rel="noopener noreferrer">ã€Šå¢åŠ  React Native æ”¯æŒçš„ Taro 3.2.0 ç‰ˆæœ¬æµ‹è¯•é€šå‘Šã€‹</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äº”æ„Ÿæ©ç¤¾åŒº">äº”ã€æ„Ÿæ©ç¤¾åŒº<a class="hash-link" href="#äº”æ„Ÿæ©ç¤¾åŒº" title="Direct link to heading">â€‹</a></h2><p>å¼€æºä¸æ˜“ï¼Œè´µåœ¨åšæŒã€‚Taro å›¢é˜Ÿè¡·å¿ƒæ„Ÿè°¢å„ä½å‚ä¸è¿‡æœ¬é¡¹ç›®å¼€æºå»ºè®¾çš„æœ‹å‹ï¼Œæ— è®ºæ˜¯ä¸º Taro æäº¤è¿‡ä»£ç ã€å»ºè®¾å‘¨è¾¹ç”Ÿæ€ï¼Œè¿˜æ˜¯åé¦ˆè¿‡é—®é¢˜ï¼Œç”šè‡³åªæ˜¯èŒ¶ä½™é¥­åè®¨è®ºã€åæ§½ Taro çš„å„ä½ã€‚</p><p>ç°è¯šæŒšé‚€è¯·æ‚¨ä¸ Taro å®˜æ–¹å›¢é˜Ÿäº¤æµæ‚¨çš„ä½¿ç”¨æƒ…å†µï¼Œæœ‰ä½ ç›¸ä¼´ï¼ŒTaroæ›´åŠ ç²¾å½©ï¼<a href="https://wj.qq.com/s2/6494361/09cf" target="_blank" rel="noopener noreferrer">é—®å·åœ°å€</a></p><p>æœ€åï¼Œç‰¹åˆ«æ„Ÿè°¢ä¸º Taro ä» v3.0 èµ°åˆ° v3.1 è´¡çŒ®è¿‡ä»£ç çš„å„ä½ï¼Œæ’åä¸åˆ†å…ˆåï¼š</p><ul><li>@wuchangming</li><li>@SyMind</li><li>@zhuxianguo</li><li>@Songkeys</li><li>@vdfor</li><li>@Spencer17x</li><li>@wingsico</li><li>@w91</li><li>@fjc0k</li><li>@Leechael</li><li>@southorange1228</li><li>@alexlees</li><li>@cncolder</li><li>@rottenpen</li><li>@gcxfd</li><li>@twocucao</li><li>@pengtikui</li><li>@kala888</li><li>@LengYXin</li><li>@iugo</li><li>@xuchengzone</li><li>@csolin</li><li>@xiaoyao96</li><li>@zhaoguoweiLLHC</li><li>@baranwang</li><li>@fred8617</li><li>@huanz</li><li>@Cslove</li><li>@002huiguo</li><li>@jazzqi</li><li>@Jetsly</li><li>@yuezk</li><li>@lukezhange001</li><li>@k55k32</li><li>@Soul-Stone</li><li>@hisanshao</li><li>@gjc9620</li><li>@younthu</li><li>@digiaries</li><li>@ZeroTo0ne</li><li>@GoodbyeNJN</li></ul>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[å¢åŠ  React Native æ”¯æŒçš„ Taro 3.2.0 ç‰ˆæœ¬æµ‹è¯•é€šå‘Š]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-12-02-taro-3-2-0-cannary-1</link>
            <guid>2020-12-02-taro-3-2-0-cannary-1</guid>
            <pubDate>Wed, 02 Dec 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[å¢åŠ  React Native æ”¯æŒçš„ Taro 3.2.0 ç‰ˆæœ¬æµ‹è¯•é€šå‘Š]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç›¸å…³èµ„æ–™é“¾æ¥">ç›¸å…³èµ„æ–™é“¾æ¥<a class="hash-link" href="#ç›¸å…³èµ„æ–™é“¾æ¥" title="Direct link to heading">â€‹</a></h2><ol start="0"><li><a href="https://github.com/NervJS/taro-rfcs/pull/8" target="_blank" rel="noopener noreferrer">ç‰ˆæœ¬å†…å®¹å¯¹åº”çš„RFC</a></li><li><a href="https://github.com/NervJS/taro/tree/feat/react-native" target="_blank" rel="noopener noreferrer">3.2.0 canary ç‰ˆæœ¬åˆ†æ”¯</a></li><li><a href="https://github.com/NervJS/taro-native-shell/tree/0.63.2" target="_blank" rel="noopener noreferrer">å£³å·¥ç¨‹åˆ†æ”¯</a></li><li><a href="https://github.com/wuba/taro-react-native" target="_blank" rel="noopener noreferrer">æœ€æ–°è¿›å±•ï¼Œå¯å…³æ³¨58å¼€æº</a></li></ol><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°ç‰ˆæœ¬ç‰¹æ€§ä¸€è§ˆ">æ–°ç‰ˆæœ¬ç‰¹æ€§ä¸€è§ˆ<a class="hash-link" href="#æ–°ç‰ˆæœ¬ç‰¹æ€§ä¸€è§ˆ" title="Direct link to heading">â€‹</a></h2><ol start="0"><li>æ›´å¿«çš„ç¼–è¯‘é€Ÿåº¦<ol><li>åŸºäºå…¨æ–°çš„ç¼–è¯‘ä½“ç³»ï¼Œå¯åŠ¨é€Ÿåº¦æå‡1å€</li></ol></li><li>æ›´ä¾¿æ·çš„å¼€å‘è°ƒè¯•ä½“éªŒ<ol><li>å»æ‰äº† webpack åï¼Œsource-map çš„æ”¯æŒæ›´åŠ ç®€å•ï¼Œè¿™å¯¹äºå¼€å‘ä½“éªŒæ˜¯ä¸€ä¸ªå·¨å¤§çš„æå‡</li></ol></li><li>æ›´å…¨é¢çš„APIå’Œç»„ä»¶<ol><li>æ–°å¢ 38 ä¸ªAPI</li><li>æ–°å¢ 7 ä¸ªç»„ä»¶</li></ol></li><li>æ›´çµæ´»çš„æ¥å…¥æ–¹å¼<ol><li>æ”¯æŒ React Native 0.60 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå¯è‡ªè¡Œå®šåˆ¶ï¼Œæˆ‘ä»¬ä¹Ÿå°†æ¢ç´¢æ›´å¤šç‰ˆæœ¬çš„æ”¯æŒ</li><li>API å’Œç»„ä»¶æ”¯æŒæŒ‰éœ€åŠ è½½ï¼Œæœªä½¿ç”¨çš„åŸç”Ÿä¾èµ–ï¼Œæ— éœ€å®‰è£…</li><li>æ¶æ„å®Œå…¨åŸºäº React Native ç”Ÿæ€ï¼Œç›¸å…³å·¥å…·ã€ç»„ä»¶ç­‰å‡å¯è½»æ¾æ¥å…¥</li></ol></li><li>æ›´ç¨³å®šçš„æºç <ol><li>ä½¿ç”¨ TypeScriptã€ESlintã€Jestï¼Œä¿è¯ä»£ç è´¨é‡</li><li>æ¬¢è¿ç¤¾åŒºè´¡çŒ®</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¦‚ä½•å¼€å§‹">å¦‚ä½•å¼€å§‹<a class="hash-link" href="#å¦‚ä½•å¼€å§‹" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°ä»“åº“å¯åŠ¨-bundler">æ–°ä»“åº“å¯åŠ¨ bundler<a class="hash-link" href="#æ–°ä»“åº“å¯åŠ¨-bundler" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># æ³¨æ„ï¼š@tarojs/cli æœ€æ–°ç‰ˆæœ¬è¿˜æœªå‘å¸ƒï¼Œä½“éªŒç‰ˆåœ¨æ ‡ç­¾ canary ä¸‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn global add @tarojs/cli@canary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ›å»ºå¹¶åˆå§‹åŒ– Taro é¡¹ç›®ï¼Œæ¡†æ¶éœ€é€‰æ‹© React</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro init &lt;projectName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># è¿›å…¥åˆå§‹åŒ–ç›®å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cd &lt;projectName&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># è®¾ç½®ç¯å¢ƒå˜é‡DEVTAGï¼Œé¦–æ¬¡ä½¿ç”¨ä¼šå®‰è£…ä½“éªŒç‰ˆç›¸å…³ä¾èµ–ï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ”¯æŒ --port é€‰é¡¹æ‰‹åŠ¨æŒ‡å®šç«¯å£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ DEVTAG=@canary yarn dev:rn --port 8081</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># bundler å¯åŠ¨æˆåŠŸä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># React-Native Dev server is running on port: 8081</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åŸ3xä»“åº“å¯åŠ¨-bundler">åŸ3.xä»“åº“å¯åŠ¨ bundler<a class="hash-link" href="#åŸ3xä»“åº“å¯åŠ¨-bundler" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># å°†`package.json`ä¸­ tarojs ç›¸å…³ä¾èµ–ç‰ˆæœ¬æ”¹ä¸º `^3.2.0-canary.3`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ç‰¹åˆ«æ³¨æ„ `@tarojs/taro-rn` `@tarojs/rn-runner` å¯èƒ½è¢«å®‰è£…ä¸º 2.x ç‰ˆæœ¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># é‡æ–°å®‰è£…ä¾èµ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å¯åŠ¨bundler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn dev:rn --port 8081</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># bundler å¯åŠ¨æˆåŠŸä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># React-Native Dev server is running on port: 8081</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä½ç‰ˆæœ¬ä»“åº“">ä½ç‰ˆæœ¬ä»“åº“<a class="hash-link" href="#ä½ç‰ˆæœ¬ä»“åº“" title="Direct link to heading">â€‹</a></h3><p>è¯·å…ˆå‚ç…§<a href="/taro-docs/docs/migration">å‡çº§æŒ‡å—</a>ï¼Œå‡çº§è‡³ 3.x ç‰ˆæœ¬ï¼Œå†å‚ç…§ä¸Šè¿°æ­¥éª¤</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¯åŠ¨app">å¯åŠ¨APP<a class="hash-link" href="#å¯åŠ¨app" title="Direct link to heading">â€‹</a></h3><p>æ–°ç‰ˆæœ¬å£³å·¥ç¨‹å¯¹åº”åœ°å€ä¸º <a href="https://github.com/NervJS/taro-native-shell/tree/0.63.2" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-native-shell/tree/0.63.2</a></p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"># ä¸‹è½½å£³å·¥ç¨‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone -b 0.63.2 git@github.com:NervJS/taro-native-shell.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å®‰è£…ä¾èµ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># iOS éœ€è¦å®‰è£…åŸç”Ÿä¾èµ–</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx pod-install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ„å»ºå¹¶å¯åŠ¨åº”ç”¨ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn android -- --no-packager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åŠ è½½æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ° â€œHello worldâ€</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å¦‚ IP æˆ–ç«¯å£å·ä¸ä¸€è‡´ï¼Œéœ€è‡ªè¡Œé…ç½®</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¦‚æœä½ æœ‰ç›¸å…³çš„ç–‘é—®ï¼Œ<a href="https://github.com/NervJS/taro/issues/8180" target="_blank" rel="noopener noreferrer">ç‚¹å‡»é“¾æ¥å‚ä¸è®¨è®º</a></p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro ç‰ˆæœ¬å‡çº§æƒå¨æŒ‡å—]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-09-01-taro-versions</link>
            <guid>2020-09-01-taro-versions</guid>
            <pubDate>Tue, 01 Sep 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[ä½ æ˜¯å¦å¯¹ Taro è¾£ä¹ˆå¤šç‰ˆæœ¬æ„Ÿåˆ°éå¸¸å›°æƒ‘ï¼Ÿä½ æ˜¯å¦å¯¹å‡çº§ Taro æ„Ÿåˆ°æŸæ‰‹æ— ç­–ï¼Ÿæœ¬ç¯‡æ–‡ç« å°†ä¸ºä½ ç­”ç–‘è§£æƒ‘ï¼Œå…¨é¢è§£è¯» Taro å¼€å‘é‚£äº›äº‹å„¿ã€‚]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://storage.360buyimg.com/taro-resource/taro_version2.jpg" class="img_ROth"></p><blockquote><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a> æ˜¯ä¸€æ¬¾ç”±äº¬ä¸œ<a href="https://aotu.io" target="_blank" rel="noopener noreferrer">å‡¹å‡¸å®éªŒå®¤</a>æ¨å‡ºçš„å¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶è§£å†³æ–¹æ¡ˆï¼Œè‡´åŠ›äºè§£å†³å°ç¨‹åºã€H5ã€React Native çš„è·¨ç«¯åŒæ„é—®é¢˜ï¼Œæ”¯æŒåŒæ—¶ä½¿ç”¨ React å’Œ Vue æ¥è¿›è¡Œå¼€å‘ã€‚æœ¬æ–‡ç”± Taro å›¢é˜Ÿæˆå‘˜éš”å£è€ææ’°å†™ï¼Œæ—¨åœ¨å¸®åŠ© Taro å¼€å‘è€…å˜æ¸…å½“å‰ Taro å¤šç‰ˆæœ¬ä¹‹é—´å…³ç³»çš„é‚£äº›äº‹å„¿ï¼ŒåŒæ—¶è§£ç­”æœ‰å…³ Taro 3ã€Taro RN æ”¯æŒä»¥åŠ Taro UI çš„ä¸€äº›å›°æƒ‘ã€‚</p></blockquote><p> è‡ªä» Taro åœ¨ä»Šå¹´ 7 æœˆä»½æ¨å‡º <a href="https://juejin.im/post/6844904205367377933" target="_blank" rel="noopener noreferrer">3.0 ç‰ˆæœ¬</a>ï¼Œå®£å¸ƒåŒæ—¶æ”¯æŒ React å’Œ Vue æ¥å¼€å‘è·¨ç«¯åº”ç”¨ä¹‹åï¼ŒTaro çš„å…³æ³¨åº¦å¾—åˆ°äº†è¿›ä¸€æ­¥åœ°æå‡ï¼Œå¾ˆå¤šå¼€å‘è€…å¼€å§‹å°è¯•å‡çº§è‡ªèº«é¡¹ç›®åˆ° 3.0 æ¥ä½“éªŒæ–°çš„ç‰¹æ€§ï¼ŒåŒæ—¶ï¼ŒTaro ç¤¾åŒºä¹Ÿå¼€å§‹è¿æ¥ä¸€äº›æ–°æœ‹å‹ï¼Œä¸šç•Œæœ‰å¾ˆå¤š Vue å¼€å‘è€…åœ¨åšæŠ€æœ¯é€‰å‹æ—¶å¼€å§‹å°†ç›®å…‰æŠ•å‘ Taroã€‚</p><p>ä½†ç”±äº Taro å¤§ç‰ˆæœ¬ä¹‹é—´å·®å¼‚è¾ƒå¤§ï¼Œè€Œç¤¾åŒºå†…å¾ˆå¤šå…³äº Taro çš„æ•™ç¨‹æ–‡ç« ä»¥åŠç¤ºä¾‹é¡¹ç›®ç›®å‰è¿˜åœç•™ Taro 1/2 æ—¶ä»£ï¼Œå¯¼è‡´å¾ˆå¤šå¼€å‘è€…ä½¿ç”¨ Taro 3.0 å°è¯•æ—¶å‡ºç°å¥‡æ€ªçš„é—®é¢˜ï¼Œæ‰€ä»¥ Taro å›¢é˜Ÿæƒ³é€šè¿‡æœ¬æ–‡å¸®åŠ©å¤§å®¶ç†è§£ Taro å„ä¸ªç‰ˆæœ¬ä¹‹é—´çš„è”ç³»ï¼ŒååŠ©å¤§å®¶æ›´å¥½åœ°å®Œæˆç‰ˆæœ¬è¿ç§»ï¼Œé¿å…å‡ºç°ä¸€äº›éš¾ä»¥è§£å†³çš„å¥‡æ€ªé—®é¢˜ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="åŒºåˆ†-taro-ç‰ˆæœ¬çš„ç«çœ¼é‡‘ç›">åŒºåˆ† Taro ç‰ˆæœ¬çš„ç«çœ¼é‡‘ç›<a class="hash-link" href="#åŒºåˆ†-taro-ç‰ˆæœ¬çš„ç«çœ¼é‡‘ç›" title="Direct link to heading">â€‹</a></h2><p>Taro ç›®å‰æœ‰ 3 ä¸ªå¤§ç‰ˆæœ¬ï¼Œä½†å¦‚æœæŒ‰ç…§æ¶æ„æ¥çœŸæ­£åˆ’åˆ†æ—¶ä»£çš„è¯ï¼ŒTaro 1/2 å±äºç¬¬ä¸€ä»£æ¶æ„ï¼Œè€Œ Taro 3 åˆ™å±äºç¬¬äºŒä»£æ¶æ„ï¼Œä¸¤ä»£æ¶æ„å·®å¼‚å·¨å¤§ï¼Œç”šè‡³å¯ä»¥å®Œå…¨è®¤ä¸ºæ˜¯ 2 ä¸ªæ¡†æ¶ã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯å¯¹äºæ¡†æ¶å†…æ ¸è€Œè¨€ï¼Œå¯¹äºå¼€å‘è€…ï¼ŒTaro å›¢é˜Ÿå·²ç»å°½é‡åœ¨ä¿è¯å¤§ç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œç€åŠ›é™ä½ç‰ˆæœ¬è¿ç§»çš„éš¾åº¦ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-12">Taro 1/2<a class="hash-link" href="#taro-12" title="Direct link to heading">â€‹</a></h3><p>Taro 1/2 å±äºç¼–è¯‘å‹æ¶æ„ï¼Œä¸»è¦é€šè¿‡å¯¹ç±» React ä»£ç è¿›è¡Œè¯­æ³•ç¼–è¯‘è½¬æ¢åœ°æ–¹å¼ï¼Œå¾—åˆ°å„ä¸ªç«¯å¯ä»¥è¿è¡Œçš„ä»£ç ï¼Œå†é…åˆéå¸¸è½»é‡çš„è¿è¡Œæ—¶é€‚é…ï¼Œä»¥åŠæ ¹æ®æ ‡å‡†ç»„ä»¶åº“ã€API è¿›è¡Œå·®å¼‚æŠ¹å¹³ï¼Œä»è€Œå®ç°å¤šç«¯é€‚é…çš„ç›®çš„ï¼Œæ•´ä½“æ¶æ„å¦‚ä¸‹ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/taro-resource/taro1.jpg" class="img_ROth"></p><p>è€Œ Taro 1 ä¸ Taro 2 çš„éƒ½æ˜¯åŸºäºè¿™ç§æ¶æ„å»ºç«‹çš„æ–¹æ¡ˆï¼Œä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ä¸»è¦æ˜¯ Taro 1 åœ¨å°ç¨‹åºç«¯æ˜¯è‡ªå»ºæ„å»ºä½“ç³»ï¼Œè€Œ Taro 2 åˆ™æ˜¯æ‰€æœ‰ç«¯éƒ½é‡‡ç”¨ Webpack è¿›è¡Œç¼–è¯‘ï¼Œå¯ä»¥é™ä½ Taro è‡ªèº«ç¼–è¯‘ç³»ç»Ÿçš„å¤æ‚åº¦ï¼ŒåŒæ—¶èƒ½å¤Ÿè®©å¼€å‘è€…ä½¿ç”¨ Webpack çš„ç”Ÿæ€æ¥è‡ªå®šä¹‰ç¼–è¯‘è¿‡ç¨‹å’Œç»“æœï¼Œå¯ä»¥è®¤ä¸º Taro 2 æ˜¯ Taro 1 å’Œ 3 ä¹‹é—´çš„ä¸€ä¸ªè¿‡æ¸¡æ€§ç‰ˆæœ¬ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-3">Taro 3<a class="hash-link" href="#taro-3" title="Direct link to heading">â€‹</a></h3><p>Taro 3 åˆ™å¯ä»¥å¤§è‡´ç†è§£ä¸ºè§£é‡Šå‹æ¶æ„ï¼ˆç›¸å¯¹äº Taro 1/2 è€Œè¨€ï¼‰ï¼Œä¸»è¦é€šè¿‡åœ¨å°ç¨‹åºç«¯æ¨¡æ‹Ÿå®ç° DOMã€BOM API æ¥è®©å‰ç«¯æ¡†æ¶ç›´æ¥è¿è¡Œåœ¨å°ç¨‹åºç¯å¢ƒä¸­ï¼Œä»è€Œè¾¾åˆ°å°ç¨‹åºå’Œ H5 ç»Ÿä¸€çš„ç›®çš„ï¼Œè€Œå¯¹äºç”Ÿå‘½å‘¨æœŸã€ç»„ä»¶åº“ã€APIã€è·¯ç”±ç­‰å·®å¼‚ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥é€šè¿‡å®šä¹‰ç»Ÿä¸€æ ‡å‡†ï¼Œå„ç«¯è´Ÿè´£å„è‡ªå®ç°çš„æ–¹å¼æ¥è¿›è¡ŒæŠ¹å¹³ã€‚è€Œæ­£å› ä¸º Taro 3 çš„åŸç†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ Taro 3 ä¸­åŒæ—¶æ”¯æŒ Reactã€Vue ç­‰æ¡†æ¶ï¼Œç”šè‡³æˆ‘ä»¬è¿˜æ”¯æŒäº† jQueryï¼Œåœ¨ä¸ä¹…çš„å°†æ¥æˆ‘ä»¬è¿˜èƒ½æ”¯æŒè®©å¼€å‘è‡ªå®šä¹‰åœ°å»æ‹“å±•å…¶ä»–æ¡†æ¶çš„æ”¯æŒï¼Œæ¯”å¦‚ Angularï¼ŒTaro 3 æ•´ä½“æ¶æ„å¦‚ä¸‹ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/taro-resource/taro2.jpg" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç‰ˆæœ¬é€‰æ‹©çš„å–èˆ">ç‰ˆæœ¬é€‰æ‹©çš„å–èˆ<a class="hash-link" href="#ç‰ˆæœ¬é€‰æ‹©çš„å–èˆ" title="Direct link to heading">â€‹</a></h3><p>é€šè¿‡ä¸Šè¿°å†…å®¹å¯ä»¥çœ‹å‡ºï¼ŒTaro ä¸¤ä»£æ¶æ„ä¹‹é—´å·®å¼‚å·¨å¤§ï¼Œä»è€Œä¹Ÿå°±å¯¼è‡´äº†ä»–ä»¬ä¹‹é—´çš„ç‰¹æ€§ä¹Ÿå¾ˆä¸ä¸€æ ·ã€‚Taro 1/2 å’Œ Taro 3 ä¹‹é—´ç‰¹æ€§çš„å·®å¼‚ä¸»è¦ä½“ç°åœ¨å¼€å‘ä½“éªŒä¸æ€§èƒ½ä¸Šã€‚</p><p>ä»å¼€å‘ä½“éªŒä¸Šçœ‹ï¼ŒTaro 3 æ˜æ˜¾æ˜¯ä¼˜äº Taro 1/2 çš„ï¼Œå—ç›Šäº Taro 3 æ¶æ„çš„åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Taro 3 ä¸­ä½¿ç”¨å®Œæ•´çš„ Reactã€Vue è¯­æ³•ç‰¹æ€§æ¥è¿›è¡Œå¼€å‘ï¼Œä»è€Œåœ¨å¼€å‘ä½“éªŒä¸Šè®©å¤šç«¯å¼€å‘æ— é™æ¥è¿‘äº Web å¼€å‘ï¼Œè¿™å¯¹æ·±è€• Web è€Œåˆæ¬¡æ¥è§¦å°ç¨‹åºçš„å¼€å‘è€…æ¥è¯´æ˜¯éå¸¸å‹å¥½çš„ã€‚è€Œå¯¹ Taro ç†Ÿæ‚‰çš„æœ‹å‹è‚¯å®šçŸ¥é“ Taro 1/2 åœ¨å¼€å‘æ—¶ä¼šæœ‰è¯¸å¤šé™åˆ¶ï¼Œå°¤å…¶æ˜¯åœ¨ JSX ä¹¦å†™ä¸Šï¼Œæˆ‘ä»¬æ€»ä¼šéœ€è¦ä¸€äº›æ‰‹æ®µæ¥ç»•è¿‡è¿™äº›é™åˆ¶ï¼Œè¿™å°±å¯¼è‡´å¼€å‘ä½“éªŒå°æœ‰ä¸è¶³ã€‚</p><p>ä»æ€§èƒ½ä¸Šçœ‹ï¼ŒæŸäº›æƒ…å†µä¸‹ Taro 1/2 ä¼šä¼˜äº Taro 3ï¼Œå¦‚æœä½ çš„åº”ç”¨éå¸¸å¤æ‚ï¼Œé¡µé¢èŠ‚ç‚¹éå¸¸å¤šï¼Œæœ‰éå¸¸å¤šçš„å¤§è§„æ¨¡æ›´æ–°æ“ä½œï¼Œå¯¹æ€§èƒ½è¦æ±‚æ¯”è¾ƒè‹›åˆ»çš„è¯ï¼ŒTaro 1/2 ä¼šæ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œè€Œ Taro 1 å’Œ 2 æˆ‘ä»¬æ›´æ¨èä½¿ç”¨ Taro 2ã€‚å½“ç„¶ï¼Œæ ¹æ®æˆ‘ä»¬çš„æµ‹è¯•ï¼Œå¯¹äºå¤§éƒ¨åˆ†åº”ç”¨æ¥è¯´ Taro 1/2 å’Œ Taro 3 çš„æ€§èƒ½å·®å¼‚å¹¶ä¸æ˜æ˜¾ï¼Œæˆ‘ä»¬åç»­ä¼šç»™å‡º benchmark æ¥å°è¯è¿™ä¸€ç‚¹ï¼Œè€Œä¸”ï¼Œå¯¹äº Taro 3 æœ¬èº«åœ¨æ€§èƒ½å­˜åœ¨åŠ£åŠ¿çš„åœºæ™¯ï¼ŒTaro å®˜æ–¹å›¢é˜Ÿå·²ç»ç»™å‡ºäº†ç›¸åº”çš„è§£å†³æ–¹æ¡ˆæ¥åº”å¯¹ã€‚æ¯”å¦‚ï¼Œæå‡é¦–æ¬¡æ¸²æŸ“é€Ÿåº¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="/taro-docs/docs/prerender">é¢„æ¸²æŸ“</a>ï¼›å¯¹äºæ— é™æ»šåŠ¨åŠ è½½çš„åˆ—è¡¨åœºæ™¯ï¼Œæˆ‘ä»¬æä¾›äº†<a href="/taro-docs/docs/virtual-list">è™šæ‹Ÿåˆ—è¡¨ç»„ä»¶</a>ã€‚</p><p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå¼€å‘ä½“éªŒå’Œæ€§èƒ½å¾€å¾€æ˜¯éœ€è¦æƒè¡¡æ¥å¯»æ‰¾å¹³è¡¡ç‚¹çš„ï¼Œç¼ºä¸€ä¸å¯ï¼Œæ‰€ä»¥ç°é˜¶æ®µï¼Œæˆ‘ä»¬æ›´åŠ æ¨èä½¿ç”¨ Taro 3 æ¥å¼€å‘å¤šç«¯åº”ç”¨ã€‚è€Œä¸”ç°é˜¶æ®µ Taro å›¢é˜Ÿçš„ç ”å‘é‡å¿ƒä¸»è¦æ”¾åœ¨ Taro 3 ä¸Šï¼Œæ–°çš„ç‰¹æ€§ä¼šä¼˜å…ˆåœ¨ Taro 3 ä¸Šè¿›è¡Œå°è¯•ï¼Œæ‰€ä»¥ï¼Œåœ¨æœªæ¥ Taro 3 å°†æ›´å…·æœ‰æƒ³è±¡åŠ›ï¼Œä¼šæœ‰æ›´å¤šå¥½ç©çš„ä¸œè¥¿æ¨å‡ºæ¥ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¹³æ»‘å‡çº§ä¸å®Œå…¨æŒ‡å—">å¹³æ»‘å‡çº§ä¸å®Œå…¨æŒ‡å—<a class="hash-link" href="#å¹³æ»‘å‡çº§ä¸å®Œå…¨æŒ‡å—" title="Direct link to heading">â€‹</a></h2><p>Taro 2 å’Œ Taro 3 éƒ½æœ‰å¯¹åº”çš„è¿ç§»æŒ‡å—ï¼Œæ ¹æ®è¿ç§»æŒ‡å—å¾€å¾€èƒ½è§„é¿å¤§éƒ¨åˆ†çš„é—®é¢˜ã€‚</p><p>Taro 1 å‡çº§åˆ° Taro 2 çš„<a href="/taro-docs/docs/2.x/migrate-to-2">è¿ç§»æŒ‡å—</a>ã€‚</p><p>Taro 1/2 å‡çº§åˆ° Taro 3 çš„<a href="/taro-docs/docs/migration">è¿ç§»æŒ‡å—</a>ã€‚</p><p>å½“ç„¶ï¼Œè¿ç§»æŒ‡å—è‚¯å®šæ— æ³•è¦†ç›–åˆ°æ‰€æœ‰é—®é¢˜æ‰€æœ‰æƒ…å†µï¼Œæˆ‘ä»¬åœ¨ Taro äº¤æµç¾¤çš„æ—¥å¸¸äº¤æµä¸­æ€»æ˜¯èƒ½è§‚å¯Ÿåˆ°ä¸€äº›è¿ç§»çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†æ¢³ç†ä¸€éè¿ç§»æŒ‡å—ï¼ŒåŒæ—¶å°±ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Œå†åšä¸€äº›è¯´æ˜è¡¥å……ï¼Œæ¥è§£ç­”å¼€å‘è€…ä»¬çš„å‡çº§å›°æƒ‘ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-1-å‡çº§åˆ°-taro-2">Taro 1 å‡çº§åˆ° Taro 2<a class="hash-link" href="#taro-1-å‡çº§åˆ°-taro-2" title="Direct link to heading">â€‹</a></h3><p>Taro 1 å‡ Taro 2 æ‰€éœ€è¦åšçš„å·¥ä½œå¹¶ä¸å¤šï¼Œæ ¹æ®<a href="/taro-docs/docs/2.x/migrate-to-2">è¿ç§»æŒ‡å—</a>ï¼Œä¸»è¦æ˜¯æ–°å¢äº†ä¸€ä¸ª <code>@tarojs/mini-runner</code> ä¾èµ–ï¼Œä»¥åŠå¯¹ç¼–è¯‘é…ç½®çš„è°ƒæ•´ï¼Œè€Œåœ¨è¿™é‡Œå®¹æ˜“å‡ºé—®é¢˜çš„å¾€å¾€æ˜¯åœ¨ç¼–è¯‘é…ç½®è°ƒæ•´ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æ€»ç»“äº†ä¸€ä¸‹é’ˆå¯¹ç¼–è¯‘é…ç½®çš„è°ƒæ•´å†…å®¹ã€‚</p><ul><li><code>plugins</code> é…ç½®è°ƒæ•´ï¼Œè°ƒæ•´å‰æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè°ƒæ•´åä¸ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥é…ç½® <a href="/taro-docs/docs/2.x/config-detail#plugins">Taro æ’ä»¶</a>ï¼Œéå¸¸å€¼å¾—æ³¨æ„çš„æ˜¯è¿™ä¸ªé…ç½®è¯·ä¸ <code>babel</code> é…ç½®é‡Œçš„ <code>plugins</code> åŒºåˆ†å¼€æ¥ï¼Œåè€…æ˜¯ç”¨æ¥é…ç½® babel æ’ä»¶çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é…ç½®é”™è¯¯</li><li><code>babel</code>ã€<code>csso</code>ã€<code>uglify</code> ç­‰é…ç½®ä»æ—§çš„ <code>plugins</code> é…ç½®ä¸­ç§»å‡ºæ¥äº†ï¼Œè°ƒæ•´ä¸ºä¸ <code>sourceRoot</code> å’Œ <code>outputRoot</code> ç­‰åŒçº§çš„é…ç½®é¡¹</li><li><code>weapp</code> é…ç½®é¡¹æ”¹åä¸º <code>mini</code></li><li><code>postcss</code> é…ç½®é¡¹ä¸‹å»æ‰ <code>module</code> è¿™ä¸€çº§é…ç½®ï¼ŒåŸ <code>module</code> ä¸‹çš„é…ç½®é¡¹ç›´æ¥ç½®äº <code>postcss</code> ä¸‹</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å…³äº-async-functions-çš„ä½¿ç”¨">å…³äº async functions çš„ä½¿ç”¨<a class="hash-link" href="#å…³äº-async-functions-çš„ä½¿ç”¨" title="Direct link to heading">â€‹</a></h4><p>åŒæ—¶ï¼Œä» Taro 2 å¼€å§‹ï¼Œä½¿ç”¨ async functions ä¸å†éœ€è¦å®‰è£… <code>@tarojs/async-await</code> ä¾èµ–äº†ï¼Œè€Œæ˜¯é€šè¿‡å®‰è£… babel æ’ä»¶ <code>babel-plugin-transform-runtime</code> é…åˆ <code>babel-runtime</code> æ¥å®ç°æ”¯æŒï¼Œå…·ä½“è¯·æŸ¥çœ‹æ–‡æ¡£<a href="/taro-docs/docs/2.x/async-await">å¼‚æ­¥ç¼–ç¨‹æŒ‡å—</a>ã€‚</p><p>è€Œåœ¨ Taro 3 ä¸­åˆ™ä¸å†éœ€è¦æ‰‹åŠ¨å®‰è£…é…ç½®ï¼ŒTaro çš„å®˜æ–¹ babel é¢„è®¾ <code>babel-preset-taro</code> å·²ç»å†…ç½®äº†ç›¸å…³é…ç½®ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-12-å‡çº§åˆ°-taro-3">Taro 1/2 å‡çº§åˆ° Taro 3<a class="hash-link" href="#taro-12-å‡çº§åˆ°-taro-3" title="Direct link to heading">â€‹</a></h3><p>Taro 1/2 å‡çº§åˆ° Taro 3 åˆ™ç›¸å¯¹æ¥è¯´è¦éº»çƒ¦è®¸å¤šï¼Œä½†æ˜¯<a href="/taro-docs/docs/migration">è¿ç§»æŒ‡å—</a>ä¸­å…¶å®ä»‹ç»å¾—å·²ç»éå¸¸è¯¦ç»†äº†ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹éœ€è¦è°ƒæ•´çš„å†…å®¹ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ–‡ä»¶è°ƒæ•´">æ–‡ä»¶è°ƒæ•´<a class="hash-link" href="#æ–‡ä»¶è°ƒæ•´" title="Direct link to heading">â€‹</a></h4><p>æ–‡ä»¶è°ƒæ•´ä¸»è¦å¦‚ä¸‹ï¼š</p><ul><li><strong>babel é…ç½®</strong>ï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹æ–°å¢äº† <a href="https://github.com/NervJS/taro/blob/next/packages/babel-preset-taro/README.md" target="_blank" rel="noopener noreferrer"><code>babel.config.js</code></a> é…ç½®æ–‡ä»¶æ¥é…ç½® babelï¼Œä¸ºæ­¤ï¼Œè¯·å»æ‰ç¼–è¯‘é…ç½®ï¼ˆconfig/index.jsï¼‰ä¸­çš„ <code>babel</code> é…ç½®ï¼Œ<a href="/taro-docs/docs/migration/#%E7%BC%96%E8%AF%91%E4%BE%9D%E8%B5%96%E5%BA%93">è¯·å‚è§è¯´æ˜</a></li><li><strong>é¡¹ç›®/é¡µé¢é…ç½®</strong>ï¼Œæ–°å¢é¡¹ç›®/é¡µé¢åŒåçš„é…ç½®æ–‡ä»¶ <code>*.config.js</code>ï¼ˆæˆ–è€… <code>*.config.ts</code>ï¼‰, <code>*</code> ä»£è¡¨é¡µé¢/é¡¹ç›®æ–‡ä»¶çš„æ–‡ä»¶åï¼Œ<code>config</code> æ–‡ä»¶å¿…é¡»å’Œé¡µé¢/é¡¹ç›®æ–‡ä»¶åœ¨åŒä¸€æ–‡ä»¶å¤¹ï¼Œ<a href="/taro-docs/docs/migration/#%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE">è¯·å‚è§è¯´æ˜</a></li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç¼–è¯‘é…ç½®è°ƒæ•´">ç¼–è¯‘é…ç½®è°ƒæ•´<a class="hash-link" href="#ç¼–è¯‘é…ç½®è°ƒæ•´" title="Direct link to heading">â€‹</a></h4><p>ä¸»è¦å‚è€ƒä¸Šè¿° Taro 1 å‡çº§åˆ° Taro 2 æ—¶çš„è°ƒæ•´ï¼Œæ–°å¢ Taro 3 ç‰¹æœ‰é…ç½® framework é…ç½®ï¼Œå–å€¼ä¸ºä½¿ç”¨çš„æ¡†æ¶ï¼ˆreact, nerv, vue, vue3ï¼‰ï¼Œ<a href="/taro-docs/docs/migration/#%E7%BC%96%E8%AF%91%E9%85%8D%E7%BD%AE">è¯·å‚è§è¯´æ˜</a></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="é¡¹ç›®ä¾èµ–è°ƒæ•´">é¡¹ç›®ä¾èµ–è°ƒæ•´<a class="hash-link" href="#é¡¹ç›®ä¾èµ–è°ƒæ•´" title="Direct link to heading">â€‹</a></h4><p>åœ¨ Taro 3 ä¸­æœ‰å¾ˆå¤šæ—§çš„é¡¹ç›®ä¾èµ–å·²ç»ä¸å†éœ€è¦äº†ï¼Œä¾‹å¦‚ä¹‹å‰åšå¹³å°è¿è¡Œæ—¶å…¼å®¹çš„ <code>@tarojs/taro-weapp</code>ã€<code>@tarojs/taro-alipay</code> ç­‰ç­‰ï¼Œè€ŒåŒæ—¶ä¹Ÿæ–°å¢äº†ä¸€äº›æ–°ä¾èµ–é¡¹ï¼Œä¾‹å¦‚ <code>@tarojs/runtime</code> ç­‰ï¼Œå…·ä½“ Taro 3 ä¼šéœ€è¦å“ªäº›ä¾èµ–ï¼Œå¯ä»¥é€šè¿‡åˆ›å»º Taro ç¤ºä¾‹é¡¹ç›®çœ‹åˆ°ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬åˆ—å‡ºäº† Taro 3 ç›®å‰ä»éœ€ä½¿ç”¨çš„ NPM åŒ…ååŠå…¶å…·ä½“ä½œç”¨ã€‚</p><table><thead><tr><th>NPM åŒ…</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td><a href="https://www.npmjs.com/package/babel-preset-taro" target="_blank" rel="noopener noreferrer"><code>babel-preset-taro</code></a></td><td align="left">ç»™ Taro é¡¹ç›®ä½¿ç”¨çš„ babel preset</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro" target="_blank" rel="noopener noreferrer"><code>@tarojs/taro</code></a></td><td align="left">æš´éœ²ç»™åº”ç”¨å¼€å‘è€…çš„ Taro æ ¸å¿ƒ API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/shared" target="_blank" rel="noopener noreferrer"><code>@tarojs/shared</code></a></td><td align="left">Taro å†…éƒ¨ä½¿ç”¨çš„ utils</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/api" target="_blank" rel="noopener noreferrer"><code>@tarojs/api</code></a></td><td align="left">æš´éœ²ç»™ @tarojs/taro çš„æ‰€æœ‰ç«¯çš„å…¬æœ‰ API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro-h5" target="_blank" rel="noopener noreferrer"><code>@tarojs/taro-h5</code></a></td><td align="left">æš´éœ²ç»™ @tarojs/taro çš„ H5 ç«¯ API</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/router" target="_blank" rel="noopener noreferrer"><code>@tarojs/router</code></a></td><td align="left">Taro H5 è·¯ç”±</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/react" target="_blank" rel="noopener noreferrer"><code>@tarojs/react</code></a></td><td align="left">åŸºäº react-reconciler çš„å°ç¨‹åºä¸“ç”¨ React æ¸²æŸ“å™¨</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/cli" target="_blank" rel="noopener noreferrer"><code>@tarojs/cli</code></a></td><td align="left">Taro å¼€å‘å·¥å…·</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/extend" target="_blank" rel="noopener noreferrer"><code>@tarojs/extend</code></a></td><td align="left">Taro æ‰©å±•ï¼ŒåŒ…å« jQuery API ç­‰</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/helper" target="_blank" rel="noopener noreferrer"><code>@tarojs/helper</code></a></td><td align="left">å†…éƒ¨ç»™ CLI å’Œ runner ä½¿ç”¨è¾…åŠ©æ–¹æ³•é›†</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/service" target="_blank" rel="noopener noreferrer"><code>@tarojs/service</code></a></td><td align="left">Taro æ’ä»¶åŒ–å†…æ ¸</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taro-loader" target="_blank" rel="noopener noreferrer"><code>@tarojs/taro-loader</code></a></td><td align="left">éœ²ç»™ @tarojs/mini-runner å’Œ @tarojs/webpack-runner ä½¿ç”¨çš„ Webpack loader</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/runner-utils" target="_blank" rel="noopener noreferrer"><code>@tarojs/runner-utils</code></a></td><td align="left">æš´éœ²ç»™ @tarojs/mini-runner å’Œ @tarojs/webpack-runner çš„å…¬ç”¨å·¥å…·å‡½æ•°</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/webpack-runner" target="_blank" rel="noopener noreferrer"><code>@tarojs/webpack-runner</code></a></td><td align="left">Taro H5 ç«¯ Webpack æ‰“åŒ…ç¼–è¯‘å·¥å…·</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/mini-runner" target="_blank" rel="noopener noreferrer"><code>@tarojs/mini-runner</code></a></td><td align="left">Taro å°ç¨‹åº ç«¯ Webpack æ‰“åŒ…ç¼–è¯‘å·¥å…·</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/components" target="_blank" rel="noopener noreferrer"><code>@tarojs/components</code></a></td><td align="left">Taro æ ‡å‡†ç»„ä»¶åº“ï¼ŒH5 ç‰ˆ</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/taroize" target="_blank" rel="noopener noreferrer"><code>@tarojs/taroize</code></a></td><td align="left">Taro å°ç¨‹åºåå‘ç¼–è¯‘å™¨</td></tr><tr><td><a href="https://www.npmjs.com/package/@tarojs/with-weapp" target="_blank" rel="noopener noreferrer"><code>@tarojs/with-weapp</code></a></td><td align="left">åå‘è½¬æ¢çš„è¿è¡Œæ—¶é€‚é…å™¨</td></tr><tr><td><a href="https://www.npmjs.com/package/eslint-config-taro" target="_blank" rel="noopener noreferrer"><code>eslint-config-taro</code></a></td><td align="left">Taro ESLint è§„åˆ™</td></tr><tr><td><a href="https://www.npmjs.com/package/eslint-plugin-taro" target="_blank" rel="noopener noreferrer"><code>eslint-plugin-taro</code></a></td><td align="left">Taro ESLint æ’ä»¶</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä»£ç è°ƒæ•´">ä»£ç è°ƒæ•´<a class="hash-link" href="#ä»£ç è°ƒæ•´" title="Direct link to heading">â€‹</a></h4><p>ä»£ç è°ƒæ•´ä¸»è¦å¦‚ä¸‹ï¼š</p><ul><li><strong>API å¼•å…¥</strong>ï¼Œå‰ç«¯æ¡†æ¶ï¼ˆReact/Nerv/Vueï¼‰è‡ªèº«çš„ API ç›´æ¥ä»æ¡†æ¶å¼•å…¥ï¼Œä¸ Web ä¿æŒä¸€è‡´ï¼Œåªæœ‰ Taro æä¾›çš„ç›¸å…³ APIï¼Œè¿˜æ˜¯ä» <code>@tarojs/taro</code> å¼•å…¥ï¼Œ<a href="/taro-docs/docs/migration/#api">è¯·å‚è§è¯´æ˜</a></li><li><strong>App ä»£ç è°ƒæ•´</strong>ï¼Œå¯¹äº React/Nerv é¡¹ç›®ï¼Œé¡¹ç›®å…¥å£ App çš„ render å‡½æ•°å›ºå®šä¿®æ”¹ä¸ºè¿”å› <code>this.props.children</code>ï¼Œå¦‚ä¸‹</li></ul><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'react'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./app.scss'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">children</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> App</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><strong>è·¯ç”±åŠŸèƒ½</strong>ï¼Œä½¿ç”¨ <code>getCurrentInstance().router</code> æ›¿ä»£ <code>this.$router</code>ï¼Œ<code>getCurrentInstance</code> ä½œä¸ºæ–° API ä» <code>@tarojs/taro</code> å¼•å…¥ï¼Œ<a href="/taro-docs/docs/migration/#%E8%B7%AF%E7%94%B1">è¯·å‚è§è¯´æ˜</a></li><li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ React åï¼Œå¸¦æ¥çš„ç”Ÿå‘½å‘¨æœŸè°ƒæ•´ï¼Œ<a href="/taro-docs/docs/migration/#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">è¯·å‚è§è¯´æ˜</a></li><li><strong>ä½¿ç”¨ç¬¬ä¸‰æ–¹ React åº“</strong>ï¼Œå¯¹äº reduxã€mobx ç­‰ React ç”Ÿæ€åº“ï¼Œå¯ä»¥ç›´æ¥åƒ Web å¼€å‘é‚£æ ·ç›´æ¥ä½¿ç”¨ï¼Œ<a href="/taro-docs/docs/migration/#%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9-react-%E5%BA%93">è¯·å‚è§è¯´æ˜</a></li><li><strong>Ref &amp; DOM</strong>ï¼Œ<a href="/taro-docs/docs/migration/#ref--dom">è¯·å‚è§è¯´æ˜</a></li><li><strong>ä¸å†éœ€è¦ä¼ å…¥ $scope</strong>ï¼Œåœ¨ Taro 1/2 æ—¶è°ƒç”¨æŸäº› API éœ€è¦ä¼ å…¥ <code>this.$scope</code>ï¼Œç›¸å½“äºä¼ å…¥ç»„ä»¶å¯¹åº”çš„å°ç¨‹åºåŸç”Ÿå¯¹è±¡ï¼Œè€Œ Taro 3 åˆ™ä¸å†éœ€è¦ï¼Œå…·ä½“<a href="/taro-docs/docs/migration/#scope-%E5%92%8C-componenttype">è¯·å‚è§è¯´æ˜</a></li><li><strong>æ ·å¼è°ƒæ•´</strong>ï¼Œç»„ä»¶ç›´æ¥å—å…¨å±€æ ·å¼å½±å“ï¼Œä¸å†éœ€è¦è®¾ç½® <code>addGlobalClasses</code>ï¼Œ<a href="/taro-docs/docs/migration/#%E6%A0%B7%E5%BC%8F">è¯·å‚è§è¯´æ˜</a></li></ul><p>å½“ç„¶ï¼Œè¿ç§»æŒ‡å—å†…å®¹å¹¶ä¸ä»…ä»…å±€é™äºç‰ˆæœ¬è¿ç§»ï¼Œç”±äº Taro 3 ç›¸å¯¹ä¸ Taro 1/2 æœ‰å¾ˆå¤š breaking changesï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨ Taro 3 çš„å¼€å‘è€…éƒ½èƒ½åœ¨å¼€å‘å‰é˜…è¯»ä¸€é<a href="/taro-docs/docs/migration">è¿ç§»æŒ‡å—</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸å¾—ä¸å” å¨ä¸€ä¸‹-taro-3-çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿">ä¸å¾—ä¸å” å¨ä¸€ä¸‹ Taro 3 çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿<a class="hash-link" href="#ä¸å¾—ä¸å” å¨ä¸€ä¸‹-taro-3-çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿" title="Direct link to heading">â€‹</a></h2><p>æ­£å¦‚å‰æ–‡æ‰€æåˆ°çš„ï¼Œç›®å‰æœ‰å¾ˆå¤šå¼€å‘è€…æ˜¯ä» Taro 3 æ‰å¼€å§‹æ¥è§¦ Taroï¼Œè€Œç›®å‰å¸‚é¢ä¸Šå¾ˆå¤š Taro ç›¸å…³çš„æ•™ç¨‹å’Œé¡¹ç›®éƒ½æ˜¯ Taro 1/2 çš„ï¼Œè¿™å¯¹äºå¾ˆå¤šå¼€å‘è€…æ¥è¯´ä¼šé€ æˆä¸å°çš„å›°æƒ‘ï¼Œæ‰€ä»¥è¡Œæ–‡åˆ°æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ—ä¸¾ä¸€äº›å¸¸è§é—®é¢˜æ¥å¸®åŠ©å¼€å‘è€…è§„é¿æ‰ä¸€äº›ä¸å¿…è¦çš„é”™è¯¯ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-å¤šç‰ˆæœ¬å…±å­˜é—®é¢˜">Taro å¤šç‰ˆæœ¬å…±å­˜é—®é¢˜<a class="hash-link" href="#taro-å¤šç‰ˆæœ¬å…±å­˜é—®é¢˜" title="Direct link to heading">â€‹</a></h3><p>å¾ˆå¤šå¼€å‘æ›¾ç»ä½¿ç”¨ Taro æ—§ç‰ˆæœ¬å¼€å‘è¿‡é¡¹ç›®ï¼Œå·²ç»åœ¨å…¨å±€å®‰è£…äº† Taroï¼Œä½†æ˜¯æƒ³åŒæ—¶ä½“éªŒåˆ° Taro 3ï¼Œåº”è¯¥å¦‚ä½•è¿›è¡Œæ“ä½œï¼Ÿ</p><p>æˆ‘ä»¬æä¾›äº†ä¸¤ç§æ€è·¯ï¼š</p><ul><li>å¦‚æœæ˜¯éœ€è¦æ–°åˆ›å»º Taro 3 é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">nvm</a> æ¥ç®¡ç† node ç‰ˆæœ¬ï¼Œé€šè¿‡å®‰è£…ä¸åŒ node ç‰ˆæœ¬æ¥å®‰è£…ä¸åŒç‰ˆæœ¬çš„ Taro CLIï¼Œä»è€Œè§£å†³ Taro å¤šç‰ˆæœ¬å…±å­˜çš„é—®é¢˜</li><li>å¦‚æœæ˜¯éƒ¨åˆ†å·²æœ‰é¡¹ç›®éœ€è¦å‡çº§åˆ° Taro 3ï¼Œå¯ä»¥åœ¨è¿™äº›é¡¹ç›®æœ¬åœ°å®‰è£…ç›¸åº”ç‰ˆæœ¬çš„ Taro CLIï¼Œè¿™æ ·é€šè¿‡ <code>yarn</code> æˆ–è€… <code>npm</code> æ‰§è¡Œå‘½ä»¤çš„è¯å°±ä¼šç›´æ¥ä½¿ç”¨æœ¬åœ°å®‰è£…çš„ Taro CLIï¼Œå®‰è£…æ–¹å¼ <code>yarn add @tarojs/cli</code></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å°†-taro-cli-ç‰ˆæœ¬ä¸é¡¹ç›®ä¸­-taro-ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´">å°† Taro CLI ç‰ˆæœ¬ä¸é¡¹ç›®ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´<a class="hash-link" href="#å°†-taro-cli-ç‰ˆæœ¬ä¸é¡¹ç›®ä¸­-taro-ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´" title="Direct link to heading">â€‹</a></h3><p>è¯·æ—¶åˆ»æ³¨æ„å°† Taro CLI ç‰ˆæœ¬ä¸é¡¹ç›®ä¸­ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚</p><p>CLI ä¸é¡¹ç›®ä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´æ˜¯å¯¼è‡´å¾ˆå¤šé—®é¢˜å‡ºç°çš„æºå¤´ä¹‹ä¸€ã€‚ä¾‹å¦‚ï¼ŒTaro CLI ç‰ˆæœ¬ä¸º 3.0.8ï¼Œé‚£ä¹ˆ Taro ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ä¹Ÿå¿…é¡»æ˜¯ 3.0.8ï¼ŒTaro ç›¸å…³åŒ…åå¯ä»¥ä»è¿™ä¸ª<a href="/taro-docs/docs/codebase-overview">åˆ—è¡¨</a>å¾—çŸ¥ï¼Œå…·ä½“ä¾èµ–é¡¹ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨ <code>taro info</code> å‘½ä»¤æˆ–è€…é€šè¿‡ <code>package.json</code> å°±èƒ½çŸ¥æ™“ã€‚</p><p>å¦‚æœå‘ç°ä¸ä¸€è‡´çš„æƒ…å†µå¯ä»¥ä½¿ç”¨ Taro å‡çº§å‘½ä»¤ <code>taro update self [ç‰ˆæœ¬å·]</code> å’Œ <code>taro update project [ç‰ˆæœ¬å·]</code>æ¥åˆ†åˆ«å°† CLI å’Œé¡¹ç›®ä¾èµ–å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬ï¼›æˆ–è€…ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®‰è£…ç›¸åº”ç‰ˆæœ¬ CLIï¼Œä¿®æ”¹ <code>package.json</code> ä¾èµ–ç‰ˆæœ¬å·ï¼Œç„¶åé‡è£…ä¾èµ–æ¥è§£å†³ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä½¿ç”¨è·¯ç”±">ä½¿ç”¨è·¯ç”±<a class="hash-link" href="#ä½¿ç”¨è·¯ç”±" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro 3 ä¸­ä½¿ç”¨è·¯ç”±åœ¨å‰æ–‡çš„ç‰ˆæœ¬è¿ç§»éƒ¨åˆ†å·²æœ‰æåŠï¼ŒåŒæ—¶éœ€è¦äº†è§£æ›´å¤šå†…å®¹å¯ä»¥å‰å¾€<a href="/taro-docs/docs/router">å®˜æ–¹æ–‡æ¡£</a>æŸ¥çœ‹ã€‚</p><p>éå¸¸å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ— è®ºæ˜¯è·å–é¡¹ç›®ä¼ å…¥å‚æ•°è¿˜æ˜¯é¡µé¢å…¥å‚ï¼Œéƒ½æ˜¯é€šè¿‡  <code>getCurrentInstance().router</code> æ¥è·å–çš„ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> getCurrentInstance </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'react'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">C</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">getCurrentInstance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">router</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¦‚ä½•è·å–é¡µé¢èŠ‚ç‚¹ä¿¡æ¯">å¦‚ä½•è·å–é¡µé¢èŠ‚ç‚¹ä¿¡æ¯<a class="hash-link" href="#å¦‚ä½•è·å–é¡µé¢èŠ‚ç‚¹ä¿¡æ¯" title="Direct link to heading">â€‹</a></h3><p>ç”±äº Taro 3 è®¾è®¡æœºåˆ¶çš„åŸå› ï¼Œéœ€è¦åœ¨æ–°å¢çš„ <code>onReady</code> ç”Ÿå‘½å‘¨æœŸå†…æ‰èƒ½è°ƒç”¨ Taro API æ­£ç¡®è·å–é¡µé¢èŠ‚ç‚¹ä¿¡æ¯ï¼Œå°ç¨‹åºå’Œ H5 éƒ½æ˜¯å¦‚æ­¤ã€‚</p><p>è€ŒåŒæ—¶ï¼Œåœ¨å¾®ä¿¡å°ç¨‹åºä¸­å½“é¡µé¢èŠ‚ç‚¹åµŒå¥—è¿‡æ·±æ—¶ï¼Œè¶…è¿‡ä¸€å®šå±‚çº§ï¼ˆé»˜è®¤ 16 çº§ï¼Œå¯ä»¥é€šè¿‡ç¼–è¯‘é…ç½® <code>baseLevel</code> æ¥æ§åˆ¶ï¼‰æ—¶ï¼ŒTaro å°†è½¬è€Œä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ï¼Œç„¶åå†å¼€å¯æ–°çš„å¾ªç¯ï¼Œåœ¨è¿™ç§æƒ…å†µè¦äº‰å–è·å–é¡µé¢èŠ‚ç‚¹ä¿¡æ¯çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ <strong>è·¨è‡ªå®šä¹‰ç»„ä»¶çš„åä»£é€‰æ‹©å™¨</strong> æ¥è¿›è¡Œé€‰æ‹©ï¼Œå¯ä»¥å‚è§ Taro <a href="https://github.com/NervJS/taro/issues/7411" target="_blank" rel="noopener noreferrer">ç›¸å…³ issue</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ui-æ˜¯ä¸æ˜¯ä¸æ”¯æŒ-taro-3-äº†">Taro UI æ˜¯ä¸æ˜¯ä¸æ”¯æŒ Taro 3 äº†<a class="hash-link" href="#taro-ui-æ˜¯ä¸æ˜¯ä¸æ”¯æŒ-taro-3-äº†" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro 3 ä¸­ä¾ç„¶å¯ä»¥ä½¿ç”¨ Taro UIï¼Œç›®å‰éœ€è¦å®‰è£… Taro UI çš„ alpha ç‰ˆæœ¬ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> taro-ui@next</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Taro UI ä½œä¸º Taro çš„å®˜æ–¹ UI åº“ï¼Œä¾ç„¶å¤„äºç»´æŠ¤çŠ¶æ€ï¼Œç›®å‰ä¸»è¦ä¾é ç¤¾åŒºåŠ›é‡åœ¨è¿›è¡Œç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿéå¸¸æ¬¢è¿æ›´å¤šç¤¾åŒºå¼€å‘äººå‘˜å…±åŒå‚ä¸åˆ° Taro UI çš„è¿­ä»£ä¸­æ¥ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ui-æœ‰æ²¡æœ‰-vue-ç‰ˆæœ¬">Taro UI æœ‰æ²¡æœ‰ Vue ç‰ˆæœ¬<a class="hash-link" href="#taro-ui-æœ‰æ²¡æœ‰-vue-ç‰ˆæœ¬" title="Direct link to heading">â€‹</a></h3><p>ç›®å‰ï¼ŒTaro å®˜æ–¹æ²¡æœ‰æ¨å‡º Vue ç‰ˆæœ¬çš„ Taro UI åº“ï¼Œä½†åœ¨ç¤¾åŒºä¸­æœ‰ Vue ç‰ˆæœ¬çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœä½¿ç”¨ Vue è¿›è¡Œå¼€å‘å¯ä»¥å°è¯• <a href="https://github.com/psaren/taro-ui-vue" target="_blank" rel="noopener noreferrer">taro-ui-vue</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸ºä»€ä¹ˆ-taro-3-æ‰“åŒ…å‡ºæ¥çš„åº”ç”¨ä½“ç§¯å·¨å¤§">ä¸ºä»€ä¹ˆ Taro 3 æ‰“åŒ…å‡ºæ¥çš„åº”ç”¨ä½“ç§¯å·¨å¤§<a class="hash-link" href="#ä¸ºä»€ä¹ˆ-taro-3-æ‰“åŒ…å‡ºæ¥çš„åº”ç”¨ä½“ç§¯å·¨å¤§" title="Direct link to heading">â€‹</a></h3><p>å¾ˆå¤šæœ‹å‹ä¼šå‘ç° Taro 3 çš„é¡¹ç›®åœ¨é¢„è§ˆçš„æ—¶å€™æ‰“åŒ…å‡ºæ¥çš„åŒ…å¤§å°ç›¸æ¯” Taro 1/2 è¦å¤§ä¸Šå¾ˆå¤šï¼Œç„¶åéå¸¸ç´§å¼ ç”¨äº† Taro 3 ä¼šä¸ä¼šå¯¼è‡´è‡ªå·±çš„ä¸»åŒ…è¶…é™ã€‚</p><p>è¯šç„¶ï¼Œåœ¨é¢„è§ˆçš„æ—¶å€™ Taro 3 é»˜è®¤ç”Ÿæˆçš„åŒ…ä¼šæ¯”è¾ƒå¤§ï¼Œä¸»è¦æ˜¯å› ä¸ºä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼Œé¢„è§ˆæ—¶å¼•ç”¨çš„ React å’Œ Vue ç”¨çš„æ˜¯è°ƒè¯•ç”¨åº“ï¼Œè€Œä¸”åŒæ—¶é¢„è§ˆæ—¶ä¼šç”Ÿæˆ sourceMapï¼Œè¿™å°±å¯¼è‡´é¢„è§ˆæ—¶ç”Ÿæˆçš„åŒ…ä¼šå¤§å¾ˆå¤šï¼Œä½†æ˜¯åœ¨æ‰“åŒ…ç”Ÿäº§åŒ…ï¼ˆå»æ‰ --watchï¼‰æ—¶ï¼Œæœ€ç»ˆç”ŸæˆåŒ…è¿˜æ˜¯ä¼šå¾ˆå°çš„ï¼Œå¯¹çº¿ä¸Šä¸ä¼šæœ‰å¤ªå¤§å½±å“ï¼ŒåŒæ—¶ Taro å›¢é˜Ÿä¹Ÿæ­£åœ¨å°è¯•ä¸æ–­ä¼˜åŒ–ç”Ÿäº§åŒ…å¤§å°ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ– Taro æ€§èƒ½ã€‚</p><p>å¦‚æœæƒ³è¦åœ¨é¢„è§ˆæ—¶é™ä½åŒ…å¤§å°ï¼Œå¯ä»¥è®¾ç½® <code>NODE_ENV</code> ä¸º <code>production</code> æ¥å¼€å¯å‹ç¼©ï¼Œä¾‹å¦‚ç¼–è¯‘å¾®ä¿¡å°ç¨‹åº</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token assign-left variable" style="color:#36acaa">NODE_ENV</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">production taro build --type weapp --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># CMD</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">set</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">NODE_ENV</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">production </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> taro build --type weapp --watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åœ¨-taro-3-ä¸­ä½¿ç”¨å°ç¨‹åºåŸç”Ÿé¡µé¢åŠç»„ä»¶">åœ¨ Taro 3 ä¸­ä½¿ç”¨å°ç¨‹åºåŸç”Ÿé¡µé¢åŠç»„ä»¶<a class="hash-link" href="#åœ¨-taro-3-ä¸­ä½¿ç”¨å°ç¨‹åºåŸç”Ÿé¡µé¢åŠç»„ä»¶" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro 3 ä¸­ä¾ç„¶å¯ä»¥åƒ Taro 1/2 é‚£æ ·å¼•å…¥å°ç¨‹åºåŸç”Ÿé¡µé¢åŠç»„ä»¶ï¼Œä¸”ä½¿ç”¨æ–¹å¼å¤§ä½“ä¸€è‡´ï¼Œä¸è¿‡åœ¨æŸäº›æƒ…å†µæœ‰äº›ç»†å¾®å·®åˆ«ï¼Œæ¯”å¦‚ <code>slot</code> çš„ä½¿ç”¨ï¼Œåœ¨ Taro 1/2 ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>slot</code> æ ‡ç­¾ï¼Œè€Œåœ¨ Taro 3 ä¸­åˆ™éœ€è¦ä» <code>@tarojs/components</code> ä¸­å¼•å…¥ <code>Slot</code> ç»„ä»¶ç„¶åå†è¿›è¡Œä½¿ç”¨ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Taro </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'react'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> View</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Slot </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">show</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">date</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> show</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> date </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">index</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">van-button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">primary</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">showCalendar</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">æ˜¾ç¤ºæ—¥å†</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">van-button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">van-calendar</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">show</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">show</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">showConfirm</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">range</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onClose</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">closeCalendar</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onConfirm</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">onConfirm</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Slot</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">title</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Hello world</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Slot</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">van-calendar</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å…·ä½“ä½¿ç”¨æƒ…å†µå¯ä»¥å‚è€ƒé¡¹ç›® <a href="https://github.com/NervJS/taro3-vant-sample" target="_blank" rel="noopener noreferrer">taro3-vant-sample</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æœ‰å“ªäº›-taro-å®˜æ–¹çš„ç¤ºä¾‹é¡¹ç›®">æœ‰å“ªäº› Taro å®˜æ–¹çš„ç¤ºä¾‹é¡¹ç›®<a class="hash-link" href="#æœ‰å“ªäº›-taro-å®˜æ–¹çš„ç¤ºä¾‹é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><p>ç›®å‰ Taro 3 çš„ç¤¾åŒºç¤ºä¾‹é¡¹ç›®è¿˜åœ¨å®Œå–„ä¸­ï¼ŒTaro å®˜æ–¹åˆ™åˆ†åˆ«é’ˆå¯¹ React å’Œ Vue æä¾›äº†ç¤ºä¾‹çš„ç»„ä»¶åº“é¡¹ç›®ä»¥ä¾›å‚è€ƒï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Taro CLIï¼Œåœ¨åˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹©ç¤¾åŒºä¼˜è´¨æ¨¡æ¿æºåˆ›å»ºå³å¯è¿›è¡Œä½“éªŒã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/taro-resource/template.jpg" class="img_ROth"></p><p>åŒæ—¶ï¼ŒTaro å®˜æ–¹è¿˜æä¾›äº†ä¸€ä¸ª <a href="https://github.com/NervJS/TodoMVC" target="_blank" rel="noopener noreferrer">TodoMVC é¡¹ç›®</a>ä»¥ä¾›å‚è€ƒå­¦ä¹ ï¼ŒReact å’Œ Vue ç¤ºä¾‹åˆ†åˆ«åœ¨ react å’Œ vue åˆ†æ”¯ä¸Šã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ç‰©æ–™å¸‚åœºä¸­å“ªäº›ç‰©æ–™èƒ½åœ¨-taro-3-ä¸­ä½¿ç”¨">Taro ç‰©æ–™å¸‚åœºä¸­å“ªäº›ç‰©æ–™èƒ½åœ¨ Taro 3 ä¸­ä½¿ç”¨<a class="hash-link" href="#taro-ç‰©æ–™å¸‚åœºä¸­å“ªäº›ç‰©æ–™èƒ½åœ¨-taro-3-ä¸­ä½¿ç”¨" title="Direct link to heading">â€‹</a></h3><p>ç›®å‰ Taro ç‰©æ–™å¸‚åœºæ²¡æœ‰åšå¥½é’ˆå¯¹ç‰©æ–™çš„ç‰ˆæœ¬åŒºåˆ†ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å¯åŠ¨è¿™ä¸€é¡¹å·¥ä½œï¼Œä¸ºæ¯ä¸ªç‰©æ–™æ‰“ä¸Šç‰ˆæœ¬æ ‡è¯†ï¼Œå½“ä¸‹è¦è¯†åˆ«å“ªäº›ç‰©æ–™èƒ½åœ¨ Taro 3 ä¸­ä½¿ç”¨ï¼Œåªèƒ½é€šè¿‡ç‰©æ–™æœ¬èº«çš„ Taro ä¾èµ–é¡¹æ¥è¿›è¡Œè¯†åˆ«ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†èŠèŠ-taro-çš„è¿‘æœŸåŠ¨ä½œ">å†èŠèŠ Taro çš„è¿‘æœŸåŠ¨ä½œ<a class="hash-link" href="#å†èŠèŠ-taro-çš„è¿‘æœŸåŠ¨ä½œ" title="Direct link to heading">â€‹</a></h2><p>Taro ç¤¾åŒºåŠå®˜æ–¹å›¢é˜Ÿç›®å‰ä¸»è¦åœ¨é›†ä¸­äººåŠ›åšä»¥ä¸‹å‡ é¡¹å·¥ä½œ</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å®ç°æ”¯æŒå¹³å°ä¸æ¡†æ¶çš„è‡ªå®šä¹‰æ‰©å±•">å®ç°æ”¯æŒå¹³å°ä¸æ¡†æ¶çš„è‡ªå®šä¹‰æ‰©å±•<a class="hash-link" href="#å®ç°æ”¯æŒå¹³å°ä¸æ¡†æ¶çš„è‡ªå®šä¹‰æ‰©å±•" title="Direct link to heading">â€‹</a></h3><p>ç»†å¿ƒçš„æœ‹å‹åº”è¯¥å·²ç»å‘ç°ï¼Œè¿›å…¥ Taro 3 æ—¶ä»£ï¼ŒTaro çš„æ¨å¹¿ Slogan å·²ç»ç”±ã€Œå¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆã€å˜æˆäº†ã€Œå¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶è§£å†³æ–¹æ¡ˆã€ï¼Œé‚£ä¹ˆè¿™ä¸¤è€…ä¹‹é—´æœ‰ä½•å·®å¼‚å‘¢ï¼Ÿ</p><p>å¯ä»¥çœ‹å‡ºã€Œå¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶è§£å†³æ–¹æ¡ˆã€åŒ…å«äº†å¤šç«¯ç»Ÿä¸€å¼€å‘çš„ç‰¹æ€§ï¼ŒåŒæ—¶æ”¯æŒè·¨æ¡†æ¶å¼€å‘ï¼Œè€Œä¸”æ›´é‡è¦çš„æ˜¯èƒ½å¤Ÿæˆä¸ºä¸€ä¸ªå¼€æ”¾å¼çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¸Œæœ›å¼€å‘è€…å¯ä»¥æ ¹æ® Taro æä¾›çš„ API å¼€å‘ä¸€ä¸ªæ’ä»¶å°±èƒ½å®ç°è‡ªå·±å»ä¸º Taro æ‰©å±•æ›´å¤šå¹³å°ä¸å‰ç«¯æ¡†æ¶çš„æ”¯æŒï¼Œä¾‹å¦‚æœªæ¥æœ‰äº›æ–°çš„å¹³å°æ¨å‡ºå°ç¨‹åºï¼Œæˆ–è€…æœ‰äººå¸Œæœ›èƒ½åœ¨ Taro ä¸­ä½¿ç”¨ Angular ç­‰æ›´å¤šçš„å‰ç«¯æ¡†æ¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ Taro çš„å¼€æ”¾å¼æœºåˆ¶æ¥è‡ªè¡Œæ‰©å±•ï¼Œè€Œä¸ç”¨ç­‰å¾… Taro å®˜æ–¹æ¥è¿›è¡Œæ”¯æŒï¼ŒTaro å°†åªä½œä¸ºä¸€ä¸ªè·¨ç«¯é€‚é…çš„å¹³å°ï¼Œæ‰€æœ‰çš„å¯èƒ½æ€§éƒ½å¯ä»¥è®©ç¤¾åŒºè‡ªå·±å»è‡ªç”±å‘æ˜ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å®ç°å°ç¨‹åºä¸-web-çš„åŒæ„">å®ç°å°ç¨‹åºä¸ Web çš„åŒæ„<a class="hash-link" href="#å®ç°å°ç¨‹åºä¸-web-çš„åŒæ„" title="Direct link to heading">â€‹</a></h3><p>åœ¨å½“å‰ Taro çš„è®¾è®¡ä¸‹ï¼Œä½¿ç”¨ Taro å¼€å‘å¿…é¡»ä½¿ç”¨ Taro æ ‡å‡†ç»„ä»¶åº“ä¸­çš„ç»„ä»¶ï¼Œè€Œä¸èƒ½ç›´æ¥ä½¿ç”¨å¤§å®¶ç†Ÿæ‚‰çš„ HTML æ ‡ç­¾ã€‚æˆ‘ä»¬æ­£åœ¨åŠªåŠ›æ‰“ç ´è¿™ä¸€è—©ç¯±ï¼Œå¯»æ±‚æ”¯æŒè®©å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨ HTML æ ‡ç­¾æ¥å¼€å‘å°ç¨‹åºçš„æ–¹æ¡ˆã€‚</p><p>è¿™æ ·ï¼Œæ—¢èƒ½è¿›ä¸€æ­¥è®© Taro çš„å¼€å‘ä½“éªŒæ¥è¿‘ Webï¼Œ åŒæ—¶ä¹Ÿèƒ½è®©ä¸€äº› Web ç”Ÿæ€èµ„æºå¯ä»¥ç›´æ¥è¿è¡Œåœ¨å°ç¨‹åºä¸­ï¼Œæå¤§é™ä½ä» Web è¿ç§»åˆ°å°ç¨‹åºçš„æˆæœ¬ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è¯´è¯´ç¼ºå¸­çš„-taro-3-rn-æ”¯æŒ">è¯´è¯´ç¼ºå¸­çš„ Taro 3 RN æ”¯æŒ<a class="hash-link" href="#è¯´è¯´ç¼ºå¸­çš„-taro-3-rn-æ”¯æŒ" title="Direct link to heading">â€‹</a></h3><p>å¾ˆå¤šæœ‹å‹åœ¨å‡çº§åˆ° Taro 3 ä¹‹åéƒ½ä¼šå‘å‡ºç–‘é—®ï¼šRN æ˜¯ä¸å†æ”¯æŒäº†å—ï¼Ÿ</p><p>Taro 3 æ²¡æœ‰æ”¯æŒ RN é€‚é…ï¼Œè®©å¾ˆå¤šä½¿ç”¨ Taro å¼€å‘ RN åº”ç”¨çš„æœ‹å‹æªæ‰‹ä¸åŠï¼Œç»å¸¸åœ¨ç¾¤é‡Œèƒ½çœ‹åˆ°ä¸Šè¿°çµé­‚æ‹·é—®ã€‚</p><p>äº‹å®ä¸Š Taro å¹¶æ²¡æœ‰æŠ›å¼ƒ RNï¼Œç›®å‰ Taro 3 RN é€‚é…å·¥ä½œå·²ç»ç”± ã€Œ58 åŒåŸã€å¼€å‘å›¢é˜Ÿæ¥ç®¡ï¼Œè¿›è¡Œé€‚é…æ”¯æŒï¼Œç›®å‰è¿™é¡¹å·¥ä½œå·²ç»æ­£åœ¨ç´§é”£å¯†é¼“è¿›è¡Œï¼Œç›¸ä¿¡ä¸ä¹…çš„å°†æ¥å°±èƒ½çœ‹åˆ°åœ¨ Taro 3 ä¸­ RN çš„æ”¯æŒç‹è€…å½’æ¥ã€‚è€Œè¿™ä¸€æ¬¡çš„é€šåŠ›åä½œä¹Ÿæ„å‘³ç€ Taro æ ¸å¿ƒå›¢é˜Ÿæ­£ä¸æ–­æˆé•¿ä¸ºä¸€ä¸ªè·¨å…¬å¸çš„å›¢é˜Ÿï¼Œåœ¨æœªæ¥ä¸€å®šä¼šæœ‰æ›´å¤šçµæ„Ÿçš„ç¢°æ’ï¼Œä¸ºç¤¾åŒºå¼€å‘è€…å¸¦æ¥æ›´å¤šç²¾å½©çš„åŠŸèƒ½ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ€»ç»“ä¸€ä¸‹">æ€»ç»“ä¸€ä¸‹<a class="hash-link" href="#æ€»ç»“ä¸€ä¸‹" title="Direct link to heading">â€‹</a></h2><p>ä»ç›®å‰çš„ä¸šç•Œåé¦ˆä¸ Taro è‡ªèº«è§„åˆ’æ¥çœ‹ï¼ŒTaro 3 æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å°è¯•å’ŒæœŸå¾…çš„ç‰ˆæœ¬ï¼Œå·²ç»æœ‰éå¸¸å¤šçš„å¼€å‘è€…å¼€å§‹ä½¿ç”¨ Taro 3 å¼€å‘åº”ç”¨ï¼Œåœ¨æœªæ¥æˆ‘ä»¬ä¹Ÿä¼šä¸æ–­å®Œå–„åŠŸèƒ½ä¸æ–‡æ¡£ï¼Œä¸ºå¤§å®¶å¸¦æ¥æ›´æ£’çš„å¼€å‘ä½“éªŒã€‚å‡çº§åˆ° Taro 3 çš„è¿‡ç¨‹æˆ–è®¸ç¨æ˜¾è‰°è¾›ï¼Œä½†æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿å¤§å®¶é€šè¿‡äº¤æµç¾¤å’Œ GitHub issues å‘æˆ‘ä»¬è¿›è¡Œåé¦ˆã€‚</p><p>åŒæ—¶ï¼Œè¯šæŒšé‚€è¯·æ‚¨ä¸ Taro å®˜æ–¹å›¢é˜Ÿäº¤æµæ‚¨çš„ä½¿ç”¨æƒ…å†µï¼Œæ‚¨çš„åé¦ˆæ˜¯ Taro å‰è¿›çš„åŠ¨åŠ›ï¼è¯·<a href="https://wj.qq.com/s2/6494361/09cf/" target="_blank" rel="noopener noreferrer">æˆ³æ­¤</a>å®Œæˆ Taro ä½¿ç”¨è°ƒç ”é—®å·ï¼Œæäº¤é—®å·ï¼Œå°†æœ‰å¯èƒ½è·å¾— Taro å›¢é˜Ÿçš„çº¢åŒ…å“¦ï¼ï¼æ„Ÿè°¢ä¸€è·¯ç›¸ä¼´ï¼ŒTaro æœ‰ä½ æ›´ç²¾å½©ï¼</p>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro 3 æ­£å¼ç‰ˆå‘å¸ƒï¼šå¼€æ”¾å¼è·¨ç«¯è·¨æ¡†æ¶è§£å†³æ–¹æ¡ˆ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-07-01-taro-3-0-0</link>
            <guid>2020-07-01-taro-3-0-0</guid>
            <pubDate>Wed, 01 Jul 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[ä»Šå¤©æˆ‘ä»¬å¾ˆé«˜å…´åœ°åœ¨å…šçš„ç”Ÿæ—¥å‘å¸ƒ Taro 3ï¼ˆTaro Nextï¼‰æ­£å¼ç‰ˆï¼Œå¸Œæœ› Taro æœªæ¥çš„æ›´å¤šä¸¤å¹´èƒ½åƒä¸€åå…±äº§ä¸»ä¹‰æˆ˜å£«ä¸€æ ·ç»å—ä½æ›´å¤šçš„è€ƒéªŒã€‚]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/134284/22/3425/2134519/5efb3a62Ef5a42a26/a2c2c9a6d62cd391.png" class="img_ROth"></p><p>ä» Taro ç¬¬ä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒåˆ°ç°åœ¨ï¼ŒTaro å·²ç»æ¥å—äº†æ¥è‡ªäºå¼€æºç¤¾åŒºä¸¤å¹´å¤šçš„è€ƒéªŒã€‚ä»Šå¤©æˆ‘ä»¬å¾ˆé«˜å…´åœ°åœ¨å…šçš„ç”Ÿæ—¥å‘å¸ƒ Taro 3ï¼ˆTaro Nextï¼‰æ­£å¼ç‰ˆï¼Œå¸Œæœ› Taro æœªæ¥çš„æ›´å¤šä¸¤å¹´èƒ½åƒä¸€åå…±äº§ä¸»ä¹‰æˆ˜å£«ä¸€æ ·ç»å—ä½æ›´å¤šçš„è€ƒéªŒã€‚ä»¥ä¸‹æ˜¯ Taro 3 çš„ä¸€äº›æ–°å¢ç‰¹æ€§ï¼š</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è·¨æ¡†æ¶reactnervvue-2vue-3jquery">è·¨æ¡†æ¶ï¼šReactã€Nervã€Vue 2ã€Vue 3ã€jQuery<a class="hash-link" href="#è·¨æ¡†æ¶reactnervvue-2vue-3jquery" title="Direct link to heading">â€‹</a></h2><p>åœ¨æ—§ç‰ˆæœ¬çš„ Taroï¼Œæˆ‘ä»¬ä»¥å¾®ä¿¡å°ç¨‹åºçš„å¼€å‘è§„èŒƒä¸ºåŸºå‡†ï¼Œä½¿ç”¨ React/JSX çš„æ–¹å¼æ¥è¿›è¡Œå¼€å‘ã€‚è€Œåœ¨ Taro 3ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸€æ€è·¯é‡åŒ–ä¸ºä¸€ä¸ªç¼–ç¨‹æ¨¡å‹ï¼š</p><p>è®¾å¾®ä¿¡å°ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸ºä¸€ä¸ª <code>interface</code>ï¼Œä¸åŒçš„æ¡†æ¶å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸè™½ç„¶ä¸å°½ç›¸åŒï¼Œä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®æ¡†æ¶ç”Ÿå‘½å‘¨æœŸåˆ†åˆ«æ–°å»ºä¸€ä¸ª <code>class</code> å» <code>implements</code> å°ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„ <code>interface</code>ã€‚ç›¸åº”åœ°ï¼Œå°ç¨‹åºçš„ç»„ä»¶/API/è·¯ç”±è§„èŒƒå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ€è·¯å’Œæ¨¡å‹è®©ä¸åŒæ¡†æ¶çš„ä»£ç ï¼Œè¿è¡Œåœ¨ä¸åŒçš„ç«¯ä¸Šï¼š</p><p><img loading="lazy" src="https://storage.jd.com/taro-source/taro-docs/WechatIMG1393.png" alt="taro" class="img_ROth"></p><p>åœ¨ Taro 3 ä¸­æˆ‘ä»¬å†…ç½®äº† Reactã€Nervã€Vue 2ã€Vue 3 å››ç§æ¡†æ¶çš„æ”¯æŒï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ <code>taro init</code> å‘½ä»¤åˆ›å»ºå¯¹åº”çš„æ¨¡æ¿ï¼Œå¹¶ç¼–å†™ä¸æ¡†æ¶æœ¬èº«ç”Ÿå‘½å‘¨æœŸã€è°ƒç”¨æ–¹æ³•åˆä¹ä¸€è‡´çš„ä»£ç ï¼ˆidiomatic codeï¼‰ï¼Œåœ¨è¯­æ³•ä¸Šä¹Ÿæ²¡æœ‰ä»»ä½•çš„é™åˆ¶ã€‚</p><p>åœ¨å››ç±»æ¡†æ¶ä¹‹å¤–ï¼ŒTaro 3 è¿˜æä¾› <a href="/taro-docs/docs/jquery-like">jQuery-like API</a> çš„æ”¯æŒï¼Œä½œä¸ºç°ä»£å¼€å‘æ¡†æ¶çš„è¡¥å……å’Œå®ç°è·¨æ¡†æ¶ç»„ä»¶çš„æ–¹æ¡ˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è·¨ç«¯h5å¾®ä¿¡æ”¯ä»˜å®ç™¾åº¦å­—èŠ‚è·³åŠ¨å°ç¨‹åº">è·¨ç«¯ï¼šH5ã€å¾®ä¿¡ã€æ”¯ä»˜å®ã€ç™¾åº¦ã€å­—èŠ‚è·³åŠ¨...å°ç¨‹åº<a class="hash-link" href="#è·¨ç«¯h5å¾®ä¿¡æ”¯ä»˜å®ç™¾åº¦å­—èŠ‚è·³åŠ¨å°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>å’Œæ—§ç‰ˆæœ¬çš„ Taro ä¸€æ ·ï¼ŒTaro 3 æ”¯æŒç¼–è¯‘åˆ°å¾®ä¿¡ã€äº¬ä¸œã€æ”¯ä»˜å®ã€ç™¾åº¦ã€å­—èŠ‚è·³åŠ¨ã€QQ ç­‰ä¸»æµå°ç¨‹åºå¹³å°ã€‚</p><p>å’Œå°ç¨‹åºä¸€æ ·ï¼ŒTaro 3 çš„ H5 ç«¯ç›¸è¾ƒäºä¹‹å‰ç‰ˆæœ¬çš„ Taro æ˜¯ä¸€æ¬¡å½»åº•çš„é‡å†™ï¼šåŸºç¡€ç»„ä»¶ç°åœ¨å…¨éƒ¨ä½¿ç”¨ Web Components æ„å»ºï¼Œè·¯ç”±ç³»ç»Ÿä¹Ÿå®Œå…¨ä¸å‰ç«¯æ¡†æ¶è§£è€¦ï¼Œå› æ­¤åœ¨ H5 ç«¯ Taro ä¹Ÿå®ç°äº†è·¨æ¡†æ¶ã€‚ä¸ç®¡å¼€å‘è€…ä½¿ç”¨çš„æ˜¯ Reactã€Vue è¿˜æ˜¯ Nervï¼Œéƒ½å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å„ç§å°ç¨‹åºå’Œ H5 ä¸Šã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€æ”¾å¼æ’ä»¶ç³»ç»Ÿ">å¼€æ”¾å¼æ’ä»¶ç³»ç»Ÿ<a class="hash-link" href="#å¼€æ”¾å¼æ’ä»¶ç³»ç»Ÿ" title="Direct link to heading">â€‹</a></h2><p>Taro 3 åœ¨ç¼–è¯‘æ—¶å¼•å…¥äº†åŸºäº <a href="https://github.com/webpack/tapable" target="_blank" rel="noopener noreferrer">Tapable</a> çš„æ’ä»¶ç³»ç»Ÿï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç¼–å†™æ’ä»¶çš„æ–¹å¼ä¸º Taro æ‹“å±•æ›´å¤šåŠŸèƒ½æˆ–è€…ä¸ºè‡ªèº«ä¸šåŠ¡å®šåˆ¶ä¸ªæ€§åŒ–åŠŸèƒ½ã€‚åœ¨è¿è¡Œæ—¶æˆ‘ä»¬åˆ™ä» <a href="https://github.com/facebook/react/tree/master/packages/react-reconciler" target="_blank" rel="noopener noreferrer">React Reconciler</a> ä¸­å¾—åˆ°å¯å‘ï¼Œåœ¨ Taro è¿è¡Œæ—¶ä¹Ÿå®ç°äº†ä¸€å¥—ä¿®æ”¹è¿è¡Œæ—¶é€»è¾‘çš„ APIã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¼€å‘è€…å¯ä»¥åœ¨ä¸ä¿®æ”¹ç”šè‡³ä¸äº†è§£ Taro æºç å’Œå®ç°çš„æƒ…å†µä¸‹é€šè¿‡ Taro æ‹“å±•æ›´å¤šç«¯ï¼Œæ‹“å±•æ›´å¤šçš„æ¡†æ¶ã€‚åœ¨ä¸‹ä¸ª Minor ç‰ˆæœ¬ï¼ˆ<code>v3.1.0</code>ï¼‰Taro å°±ä¼šå®Œæˆç¼–è¯‘æ—¶/è¿è¡Œæ—¶ä¸ç«¯/æ¡†æ¶çš„è§£è€¦ï¼Œå±Šæ—¶å¼€å‘è€…åªè¦å†™ä¸€ä¸ªæ’ä»¶å°±èƒ½æ‹“å±•æ–°çš„ç«¯æˆ–æ¡†æ¶ã€‚æœªæ¥ Taro æ·»åŠ æ–°çš„ç«¯æˆ–æ¡†æ¶ä¹Ÿä¼šé€šè¿‡è¿™æ ·çš„æ–¹å¼è¿›è¡Œã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€æºæ²»ç†ä¸é¡¹ç›®æ²»ç†">å¼€æºæ²»ç†ä¸é¡¹ç›®æ²»ç†<a class="hash-link" href="#å¼€æºæ²»ç†ä¸é¡¹ç›®æ²»ç†" title="Direct link to heading">â€‹</a></h2><p>ä¸ºäº†ä¸å¼€å‘è€…æ›´é«˜æ•ˆåœ°äº¤æµï¼ŒTaro ä» Vue.js å’Œ Ant Design å¾—åˆ°å¯å‘ï¼Œå¼•å…¥äº† <a href="https://nervjs.github.io/taro-issue-helper/" target="_blank" rel="noopener noreferrer">Issue Helper å·¥å…·</a>ã€‚ä¸ºäº†è®© Taro åœ¨é‡å¤§ç‰¹æ€§æ›´æ–°å’Œæ›´æ”¹èƒ½ç¨³æ­¥æ¨è¿›ï¼Œæˆ‘ä»¬åˆä» Rustã€React ä¸­å­¦ä¹ ï¼Œå¼•å…¥äº† <a href="https://github.com/NervJS/taro-rfcs" target="_blank" rel="noopener noreferrer">RFC æµç¨‹æœºåˆ¶</a>ã€‚ä¸ºäº†è®©ç‰ˆæœ¬è¿­ä»£æ›´é€æ˜ã€æ›´è§„èŒƒï¼ŒTaro åœ¨ä»Šåç‰ˆæœ¬å‘å¸ƒä¹Ÿä¼šéµå®ˆ <a href="https://github.com/NervJS/taro/milestones?direction=asc&amp;sort=due_date" target="_blank" rel="noopener noreferrer">Milestone æœºåˆ¶</a>ã€‚</p><p>æ–‡æ¡£æ˜¯å¼€å‘è€…æœ€å¥½çš„æœ‹å‹ã€‚åœ¨ Taro 3 æˆ‘ä»¬å¯¹æ–‡æ¡£ä¹Ÿè¿›è¡Œäº†æ”¹ç‰ˆå’Œé‡æ–°æ¢³ç†ï¼Œå¹¶æ¨å‡ºäº†æ–°çš„ <a href="/taro-docs/docs/guide/">æ¸è¿›å¼æ–‡æ¡£</a>ï¼Œæ¸è¿›å¼æ–‡æ¡£æŒ‰ç…§å¼€å‘é¡¹ç›®çš„é¡ºåºä»‹ç» Taro çš„åŸºç¡€æ¦‚å¿µå’Œä¼˜åŒ–æŠ€å·§ï¼Œé€‚åˆå–œæ¬¢è¾¹å­¦è¾¹åšæˆ–å¯¹å°ç¨‹åºå¼€å‘æ²¡æœ‰ä»»ä½•äº†è§£çš„å¼€å‘è€…ã€‚</p><p>ä»£ç è´¨é‡å’Œç¨³å®šæ€§å¯¹å¼€æºé¡¹ç›®éå¸¸é‡è¦ã€‚Taro ä¹Ÿåœ¨ä¸¥æ ¼è´¯å½» Code Review æœºåˆ¶ï¼Œæ‰€æœ‰äººçš„ä»£ç éƒ½è¦è¢«å®¡æ ¸ï¼Œæ²¡æœ‰äººä¾‹å¤–ã€‚ä¸ºäº†ä¿è¯æˆ‘ä»¬èƒ½æ›´å¤§èƒ†åœ°è¿­ä»£æ–°ç‰¹æ€§ï¼Œåœ¨æ•´ä¸ª Taro 3 å¼€å‘æœŸé—´æˆ‘ä»¬æ€»å…±æ·»åŠ äº†ä¸‰ä¸‡è¡Œæµ‹è¯•ä»£ç ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¾®ä¿¡å°ç¨‹åºè½¬-reactvue">å¾®ä¿¡å°ç¨‹åºè½¬ React/Vue<a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åºè½¬-reactvue" title="Direct link to heading">â€‹</a></h2><p>æ—©åœ¨ <a href="https://aotu.io/notes/2018/12/17/taro-1-2/" target="_blank" rel="noopener noreferrer">Taro 1.2 å‘å¸ƒ</a> æ—¶ï¼Œæˆ‘ä»¬å°±æä¾›å¾®ä¿¡å°ç¨‹åºè½¬ Taro çš„åŠŸèƒ½ï¼Œè½¬æ¢åçš„å¾®ä¿¡å°ç¨‹åºåº”ç”¨ä¼šå˜æˆä¸€ä¸ªå¤šç«¯åº”ç”¨ã€‚ç°åœ¨è¿™ä¸ªåŠŸèƒ½ä¹Ÿå®Œå…¨å…¼å®¹ Taro Next çš„æ–°æ¶æ„ï¼Œå¹¶ä¸”è½¬æ¢åçš„ä»£ç æä¾› React å’Œ Vue ä¸¤ç§é€‰é¡¹ã€‚å’Œä»¥å‰ä¸€æ ·ï¼Œåªéœ€è¦åœ¨å¾®ä¿¡å°ç¨‹åºé¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ <code>taro convert</code> ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ taro convert</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é€‰æ‹©æƒ³è¦è½¬æ¢åçš„æ¡†æ¶å³å¯ï¼š</p><p><img loading="lazy" src="https://storage.jd.com/taro-resource/convert.jpg" alt="convert" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¸²æŸ“-html-å­—ç¬¦ä¸²">æ¸²æŸ“ HTML å­—ç¬¦ä¸²<a class="hash-link" href="#æ¸²æŸ“-html-å­—ç¬¦ä¸²" title="Direct link to heading">â€‹</a></h2><p>åœ¨å°ç¨‹åºä¸­æ¸²æŸ“ HTML å­—ç¬¦ä¸²é€šå¸¸ä¼šä½¿ç”¨ <a href="https://github.com/icindy/wxParse" target="_blank" rel="noopener noreferrer">wxparse</a> è¿™æ ·çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä½† <code>wxparse</code> çš„ API å¤æ‚ï¼Œæ‹“å±•æ€§å¼±ï¼Œå†…éƒ¨å®ç°ä¸å‡†ç¡®ï¼Œæœ€é‡è¦çš„æ˜¯ç°åœ¨å·²ç»åœæ­¢äº†ç»´æŠ¤ã€‚æ¯”èµ· <code>wxparse</code>ï¼ŒTaro 3 çš„ HTML å­—ç¬¦ä¸²æ¸²æŸ“æä¾›ä»¥ä¸‹çš„ç‰¹æ€§ï¼š</p><ul><li>API ä¸ Web ä¿æŒä¸€è‡´ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ React çš„ <code>dangerouslySetInnerHTML</code> æˆ– Vue çš„ <code>v-html</code> è°ƒç”¨ã€‚</li><li>å¯ä»¥é€šè¿‡ CSS ç›´æ¥æ§åˆ¶æ ‡ç­¾æ ·å¼</li><li>ç»™å·²ç»æ¸²æŸ“çš„ HTML æ ‡ç­¾ç»‘å®šäº‹ä»¶</li><li>åœ¨ HTML è§£æå’Œæ¸²æŸ“éƒ½æä¾›äº†é’©å­å‡½æ•°æ»¡è¶³ä¸ªæ€§åŒ–æ¸²æŸ“éœ€æ±‚</li></ul><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a href="/taro-docs/docs/html">æ¸²æŸ“ HTML</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="css-in-js">CSS-In-JS<a class="hash-link" href="#css-in-js" title="Direct link to heading">â€‹</a></h2><p>åœ¨ React ç¤¾åŒºæœ‰ä¸€ä¸ªè‘—åçš„ CSS-in-JS è§£å†³æ–¹æ¡ˆ: <a href="https://github.com/styled-components/styled-components" target="_blank" rel="noopener noreferrer">styled-components</a>ã€‚ä½†é—æ†¾çš„æ˜¯ï¼Œ<code>styled-components</code> ä½¿ç”¨ <code>&lt;style&gt;</code> æ ‡ç­¾æ¥åŠ¨æ€åœ°æ§åˆ¶æ ·å¼ï¼Œåœ¨å°ç¨‹åºç«¯æ²¡æœ‰ç±»ä¼¼çš„æ–¹æ¡ˆã€‚ä½†åœ¨ Taro ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://github.com/callstack/linaria" target="_blank" rel="noopener noreferrer">linaria</a> å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œ<code>linaria</code> ä¸»è¦æä¾›ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>è¿‘ä¼¼äº <code>styled-components</code> çš„ API</li><li>å®Œæ•´çš„ TypeScript æ”¯æŒ</li><li>é›¶è¿è¡Œæ—¶</li></ul><p>å…¶ä¸­é›¶è¿è¡Œæ—¶å¯¹äºæ‰“åŒ…ä½“ç§¯æœ‰è¦æ±‚çš„å°ç¨‹åºå°¤ä¸ºé‡è¦ã€‚</p><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a href="/taro-docs/docs/css-in-js">ä½¿ç”¨ CSS-in-JS</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è™šæ‹Ÿåˆ—è¡¨virtuallist">è™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtualListï¼‰<a class="hash-link" href="#è™šæ‹Ÿåˆ—è¡¨virtuallist" title="Direct link to heading">â€‹</a></h2><p>å½“æˆ‘ä»¬æ¸²æŸ“æ•°æ®é‡éå¸¸å¤§çš„åˆ—è¡¨æ—¶ï¼Œæ¡†æ¶ä¼šæ ¹æ®æ•°æ®å°è¯•å…¨é‡æ¸²æŸ“è§†å›¾ï¼Œè¿™å°±å¯èƒ½ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜å¯¼è‡´è§†å›¾æ— æ³•å“åº”æ“ä½œä¸€æ®µæ—¶é—´ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¦ä¸€ç§æ–¹å¼ï¼šæ¯”èµ·å…¨é‡æ¸²æŸ“æ•°æ®ç”Ÿæˆçš„è§†å›¾ï¼Œå¯ä»¥åªæ¸²æŸ“ <strong>å½“å‰å¯è§†åŒºåŸŸ(visable viewport)</strong> çš„è§†å›¾ï¼Œéå¯è§†åŒºåŸŸçš„è§†å›¾åœ¨ç”¨æˆ·æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸå†æ¸²æŸ“ï¼š</p><table><thead><tr><th align="center"><img loading="lazy" src="https://storage.jd.com/taro-resource/difference-in-scrolling.jpg" alt="diff.jpg" class="img_ROth"></th></tr></thead><tbody><tr><td align="center"><em>æ­£å¸¸æ¸²æŸ“å’Œè™šæ‹Ÿåˆ—è¡¨çš„åŒºåˆ«</em></td></tr></tbody></table><table><thead><tr><th align="center"><img loading="lazy" src="https://storage.jd.com/taro-resource/vue.gif" alt="vue.gif" class="img_ROth"></th></tr></thead><tbody><tr><td align="center"><em>åœ¨å¼€å‘è€…å·¥å…·çš„ç›´è§‚æ•ˆæœ</em></td></tr></tbody></table><p>ç±»ä¼¼çš„æŠ€æœ¯åœ¨ Android å¼€å‘è¢«ç§°ä¹‹ä¸º <a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView" target="_blank" rel="noopener noreferrer"><code>RecyclerView</code></a>ï¼Œåœ¨ React Native å«åš <a href="https://reactnative.dev/docs/virtualizedlist" target="_blank" rel="noopener noreferrer"><code>VirtualizedList</code></a>ï¼Œæˆ‘ä»¬ç»Ÿä¸€å‘½åä¸ºè™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰ï¼Œè¿™ä¸ªç»„ä»¶ç°åœ¨å†…ç½®åœ¨ Taro ä¸­ï¼Œåœ¨ React/Vue æˆ–å„ç§å°ç¨‹åºåŠ H5 çš†å¯ä½¿ç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">VirtualList</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components/virtual-list'</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a href="/taro-docs/docs/virtual-list">é•¿åˆ—è¡¨æ¸²æŸ“</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="é¢„æ¸²æŸ“">é¢„æ¸²æŸ“<a class="hash-link" href="#é¢„æ¸²æŸ“" title="Direct link to heading">â€‹</a></h2><p>åˆå§‹åŒ–æ€§èƒ½æ˜¯ Taro 3 çš„æ€§èƒ½ä¼˜åŒ–çš„ç—›ç‚¹ã€‚åŸç”Ÿå°ç¨‹åºæˆ–ç¼–è¯‘å‹æ¡†æ¶çš„åˆå§‹æ•°æ®å¯ä»¥ç›´æ¥ç”¨äºæ¸²æŸ“ï¼Œä½† Taro 3 åœ¨åˆå§‹åŒ–æ—¶ä¼šæŠŠæ¡†æ¶çš„æ¸²æŸ“æ•°æ®è½¬åŒ–ä¸ºå°ç¨‹åºçš„æ¸²æŸ“æ•°æ®ï¼Œå¤šäº†ä¸€æ¬¡ setData å¼€é”€ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTaro ä»æœåŠ¡ç«¯æ¸²æŸ“å—åˆ°å¯å‘ï¼Œåœ¨ Taro CLI å°†é¡µé¢åˆå§‹åŒ–çš„çŠ¶æ€ç›´æ¥æ¸²æŸ“ä¸ºæ— çŠ¶æ€çš„ wxmlï¼Œåœ¨æ¡†æ¶å’Œä¸šåŠ¡é€»è¾‘è¿è¡Œä¹‹å‰æ‰§è¡Œæ¸²æŸ“æµç¨‹ã€‚æˆ‘ä»¬å°†è¿™ä¸€æŠ€æœ¯ç§°ä¹‹ä¸ºé¢„æ¸²æŸ“ï¼ˆPrerenderï¼‰ï¼Œç»è¿‡ Prerender çš„é¡µé¢åˆå§‹æ¸²æŸ“é€Ÿåº¦é€šå¸¸ä¼šå’ŒåŸç”Ÿå°ç¨‹åºä¸€è‡´ç”šè‡³æ›´å¿«ã€‚</p><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a href="/taro-docs/docs/prerender">é¢„æ¸²æŸ“</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œ-source-map-æ”¯æŒ">æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œ source-map æ”¯æŒ<a class="hash-link" href="#æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œ-source-map-æ”¯æŒ" title="Direct link to heading">â€‹</a></h2><p>ä½œä¸ºä¸€ä¸ªç¼–è¯‘å‹æ¡†æ¶ï¼Œæ—§ç‰ˆæœ¬çš„ Taro ä¼šè¿›è¡Œå¤§é‡çš„ AST æ“ä½œï¼Œè¿™ç±»æ“ä½œæ˜¾è‘—åœ°æ‹–æ…¢äº† Taro CLI çš„ç¼–è¯‘é€Ÿåº¦ã€‚è€Œåœ¨ Taro 3 ä¸­ä¸ä¼šæ“ä½œä»»ä½•å¼€å‘è€…ä»£ç çš„ ASTï¼Œå› æ­¤ç¼–è¯‘é€Ÿåº¦å¾—åˆ°äº†å¤§å¹…çš„æé«˜ã€‚</p><p>æ­£å› ä¸º AST æ“ä½œçš„å–æ¶ˆï¼ŒTaro ä¹Ÿè½»æ¾åœ°å®ç°äº† <code>source-map</code> çš„æ”¯æŒã€‚è¿™å¯¹äºå¼€å‘ä½“éªŒæ˜¯ä¸€ä¸ªå·¨å¤§çš„æå‡ï¼š</p><p><img loading="lazy" src="https://storage.jd.com/taro-source/taro-docs/WechatIMG1402.png" alt="source-map" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ²¡æœ‰æªæ²¡æœ‰ç‚®æ²¡æœ‰è½®å­è‡ªå·±é€ ">æ²¡æœ‰æªï¼Œæ²¡æœ‰ç‚®ï¼Œæ²¡æœ‰è½®å­è‡ªå·±é€ <a class="hash-link" href="#æ²¡æœ‰æªæ²¡æœ‰ç‚®æ²¡æœ‰è½®å­è‡ªå·±é€ " title="Direct link to heading">â€‹</a></h2><p>æŠŠæ—¶é—´èŠ‚ç‚¹å†è·³è½¬å›ä¸¤å¹´å‰ï¼Œå¸‚é¢ä¸Šå¹¶æ²¡æœ‰ä¸€ä¸ªæ”¯æŒä½¿ç”¨ React å¼€å‘å°ç¨‹åºçš„æ¡†æ¶ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ€è·¯æˆ–æ¢ç´¢èƒ½æä¾›æŒ‡å¼•ï¼Œæˆ‘ä»¬é¢å¯¹çš„æƒ…å†µå’Œæ—§ä¸­å›½ã€Œä¸€ç©·äºŒç™½ã€çš„æƒ…å†µå·®ä¸å¤šã€‚ä»Šå¤©ï¼ŒTaro å·²ç»æ˜¯<a href="https://www.infoq.cn/article/dCY0AHH71rBBjq3pIfh7" target="_blank" rel="noopener noreferrer">ä¸­å›½æ´»è·ƒåº¦ Top 5</a> çš„å¼€æºé¡¹ç›®ã€‚</p><p>åŠæ³•æ€»æ˜¯æ¯”å›°éš¾å¤šï¼Œå³ä¾¿æ˜¯åœ¨å°ç¨‹åºè¿™æ ·ç›¸å¯¹å—é™çš„å¼€å‘ç¯å¢ƒã€‚ä»Šåï¼ŒTaro ä¾ç„¶ä¼šä»å¼€å‘è€…çš„è§’åº¦å‡ºå‘ï¼Œä¸æ–­å®Œå–„å¼€å‘ä½“éªŒï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œèµ°ä¸­å›½ç‰¹è‰²å‘å±•é“è·¯ï¼Œé‡å±±å¼€å±±ï¼Œé‡æ°´æ­æ¡¥ï¼ŒåŠªåŠ›æˆä¸ºå°ç¨‹åºå¼€å‘ï¼Œç”šè‡³å¤šç«¯å¼€å‘çš„åŸºç¡€æŠ€æœ¯è®¾æ–½â€”â€”Taro 3 å°±æ˜¯å®ç°è¿™ä¸€æ„¿æ™¯æœ€åšå®çš„ä¸€æ­¥ï¼Œæ­£å¦‚ä¸€ä½æ™ºè€…æ‰€è¨€ï¼š</p><blockquote><p>ä¸Šè½¦ Taro æœ€å¥½çš„æ—¶æœºæ˜¯ä»å‰ï¼Œå…¶æ¬¡æ˜¯ç°åœ¨ã€‚</p></blockquote>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[Taro 3.0 RCï¼šReact/Vue/Nerv ä»»ä½ é€‰]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-05-26-taro-3-rc</link>
            <guid>2020-05-26-taro-3-rc</guid>
            <pubDate>Tue, 26 May 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[Beta ç‰ˆå‘å¸ƒåï¼Œç¤¾åŒºå¾ˆå¤šå¼€å‘è€…ä½¿ç”¨ä¸Šäº† Taro Nextï¼Œä»–ä»¬çš„å¸®åŠ©å’Œèµèª‰åŠ ä¸Šæˆ‘ä»¬å†…éƒ¨é¡¹ç›®ä½¿ç”¨çš„è‰¯å¥½åé¦ˆï¼ŒBeta å‘å¸ƒä¸€ä¸ªæœˆä¹‹åï¼Œæˆ‘ä»¬éå¸¸è‡ªä¿¡åœ°å‘å¸ƒäº†å€™é€‰ç‰ˆï¼ˆRCï¼‰ç‰ˆæœ¬ã€‚]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/131780/5/388/2331933/5ecce529E0df55626/0514d956b8866772.png" class="img_ROth"></p><p>åœ¨ Taro Next é¢„è§ˆç‰ˆï¼ˆAlphaï¼‰ç‰ˆæœ¬ä¹‹åï¼Œæˆ‘ä»¬æ²¡æœ‰åœä¸‹è¿­ä»£çš„æ­¥ä¼ï¼Œç»è¿‡ä¸¤ä¸ªæœˆçš„å¼€å‘å’Œæ•°ç™¾æ¬¡æäº¤ä¹‹åï¼Œæˆ‘ä»¬è°¨æ…ä½†åšå®šåœ°å‘å¸ƒ Taro Next æµ‹è¯•ï¼ˆBetaï¼‰ ç‰ˆï¼ŒBeta ç‰ˆå‘å¸ƒåï¼Œç¤¾åŒºå¾ˆå¤šå¼€å‘è€…ä½¿ç”¨ä¸Šäº† Taro Nextï¼Œä»–ä»¬çš„å¸®åŠ©å’Œèµèª‰åŠ ä¸Šæˆ‘ä»¬å†…éƒ¨é¡¹ç›®ä½¿ç”¨çš„è‰¯å¥½åé¦ˆï¼ŒBeta å‘å¸ƒä¸€ä¸ªæœˆä¹‹åï¼Œæˆ‘ä»¬éå¸¸è‡ªä¿¡åœ°å‘å¸ƒäº†å€™é€‰ç‰ˆï¼ˆRCï¼‰ç‰ˆæœ¬ã€‚</p><p>åœ¨ç¨³å®šçš„ Beta ç‰ˆæœ¬é‡Œï¼ŒTaro ä¹Ÿæ·»åŠ äº†æ›´å¤šçš„åŠŸèƒ½ï¼š</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="h5-ç¼–è¯‘æ”¯æŒ">H5 ç¼–è¯‘æ”¯æŒ<a class="hash-link" href="#h5-ç¼–è¯‘æ”¯æŒ" title="Direct link to heading">â€‹</a></h2><p>H5 ç¼–è¯‘æ”¯æŒæ˜¯æˆ‘ä»¬ç‰ˆæœ¬å‡çº§æœ€é‡è¦çš„ç†ç”±ä¹‹ä¸€ã€‚è¿™æ„å‘³ç€åŸæ¥å¼€å‘è€…å†™çš„å°ç¨‹åºåº”ç”¨ï¼Œç°åœ¨å¯ä»¥ç›´æ¥è¿è¡Œåœ¨ Web ä¸­ã€‚æ·»åŠ  H5 æ”¯æŒéå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•å®‰è£… <code>@tarojs/webpack-runner</code>ï¼Œè¿è¡Œ <code>taro build â€”type h5 â€”watch</code> å³å¯ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -D @tarojs/webpack-runner@next</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build â€”type h5 â€”watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å’Œå°ç¨‹åºä¸€æ ·ï¼ŒTaro Next çš„ H5 ç«¯ç›¸è¾ƒäºä¹‹å‰ç‰ˆæœ¬çš„ Taro æ˜¯ä¸€æ¬¡å½»åº•çš„é‡å†™ï¼šåŸºç¡€ç»„ä»¶ç°åœ¨å…¨éƒ¨ä½¿ç”¨ Web Components æ„å»ºï¼Œè·¯ç”±ç³»ç»Ÿä¹Ÿå®Œå…¨ä¸å‰ç«¯æ¡†æ¶è§£è€¦ï¼Œå› æ­¤åœ¨ H5 ç«¯ Taro ä¹Ÿå®ç°äº†è·¨æ¡†æ¶ã€‚ä¸ç®¡å¼€å‘è€…ä½¿ç”¨çš„æ˜¯ Reactã€Vue è¿˜æ˜¯ Nervï¼Œéƒ½å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å„ç§å°ç¨‹åºå’Œ H5 ä¸Šã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¾®ä¿¡å°ç¨‹åºè½¬-reactvue">å¾®ä¿¡å°ç¨‹åºè½¬ React/Vue<a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åºè½¬-reactvue" title="Direct link to heading">â€‹</a></h2><p>æ—©åœ¨ <a href="https://aotu.io/notes/2018/12/17/taro-1-2/" target="_blank" rel="noopener noreferrer" title="Taro 1.2 å‘å¸ƒ">Taro 1.2 å‘å¸ƒ</a> æ—¶ï¼Œæˆ‘ä»¬å°±æä¾›å¾®ä¿¡å°ç¨‹åºè½¬ Taro çš„åŠŸèƒ½ï¼Œè½¬æ¢åçš„å¾®ä¿¡å°ç¨‹åºåº”ç”¨ä¼šå˜æˆä¸€ä¸ªå¤šç«¯åº”ç”¨ã€‚ç°åœ¨è¿™ä¸ªåŠŸèƒ½ä¹Ÿå®Œå…¨å…¼å®¹ Taro Next çš„æ–°æ¶æ„ï¼Œå¹¶ä¸”è½¬æ¢åçš„ä»£ç æä¾› React å’Œ Vue ä¸¤ç§é€‰é¡¹ã€‚å’Œä»¥å‰ä¸€æ ·ï¼Œåªéœ€è¦åœ¨å¾®ä¿¡å°ç¨‹åºé¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤ <code>taro convert</code> ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ taro convert</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é€‰æ‹©æƒ³è¦è½¬æ¢åçš„æ¡†æ¶å³å¯ï¼š</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/128590/20/3003/95813/5eccdc3bE034c85c4/1f66df49f1608b0b.png" alt="Taro convert" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¸²æŸ“-html-å­—ç¬¦ä¸²">æ¸²æŸ“ HTML å­—ç¬¦ä¸²<a class="hash-link" href="#æ¸²æŸ“-html-å­—ç¬¦ä¸²" title="Direct link to heading">â€‹</a></h2><p>åœ¨å°ç¨‹åºä¸­æ¸²æŸ“ HTML å­—ç¬¦ä¸²é€šå¸¸ä¼šä½¿ç”¨ <a href="https://github.com/icindy/wxParse" target="_blank" rel="noopener noreferrer" title="wxparse">wxparse</a> è¿™æ ·çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä½† <code>wxparse</code> çš„ API å¤æ‚ï¼Œæ‹“å±•æ€§å¼±ï¼Œå†…éƒ¨å®ç°ä¸å‡†ç¡®ï¼Œæœ€é‡è¦çš„æ˜¯ç°åœ¨å·²ç»åœæ­¢äº†ç»´æŠ¤ã€‚æ¯”èµ· <code>wxparse</code>ï¼ŒTaro Next çš„ HTML å­—ç¬¦ä¸²æ¸²æŸ“æä¾›ä»¥ä¸‹çš„ç‰¹æ€§ï¼š</p><ul><li>API ä¸ Web ä¿æŒä¸€è‡´ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ React çš„ <code>dangerouslySetInnerHTML</code> æˆ– Vue çš„ <code>v-html</code> è°ƒç”¨ã€‚</li><li>å¯ä»¥é€šè¿‡ CSS ç›´æ¥æ§åˆ¶æ ‡ç­¾æ ·å¼</li><li>ç»™å·²ç»æ¸²æŸ“çš„ HTML æ ‡ç­¾ç»‘å®šäº‹ä»¶</li><li>åœ¨ HTML è§£æå’Œæ¸²æŸ“éƒ½æä¾›äº†é’©å­å‡½æ•°æ»¡è¶³ä¸ªæ€§åŒ–æ¸²æŸ“éœ€æ±‚</li></ul><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a title="æ¸²æŸ“ HTML" href="/taro-docs/docs/html">æ¸²æŸ“ HTML</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="css-in-js">CSS-in-JS<a class="hash-link" href="#css-in-js" title="Direct link to heading">â€‹</a></h2><p>åœ¨ React ç¤¾åŒºæœ‰ä¸€ä¸ªè‘—åçš„ CSS-in-JS è§£å†³æ–¹æ¡ˆ: <a href="https://github.com/styled-components/styled-components" target="_blank" rel="noopener noreferrer" title="styled-components">styled-components</a>ã€‚ä½†é—æ†¾çš„æ˜¯ï¼Œ<code>styled-components</code> ä½¿ç”¨ <code>&lt;style&gt;</code> æ ‡ç­¾æ¥åŠ¨æ€åœ°æ§åˆ¶æ ·å¼ï¼Œåœ¨å°ç¨‹åºç«¯æ²¡æœ‰ç±»ä¼¼çš„æ–¹æ¡ˆã€‚ä½†åœ¨ Taro ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ <a href="https://github.com/callstack/linaria" target="_blank" rel="noopener noreferrer" title="linaria">linaria</a> å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œ<code>linaria</code> ä¸»è¦æä¾›ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>è¿‘ä¼¼äº <code>styled-components</code> çš„ API</li><li>å®Œæ•´çš„ TypeScript æ”¯æŒ</li><li>é›¶è¿è¡Œæ—¶</li></ul><p>å…¶ä¸­é›¶è¿è¡Œæ—¶å¯¹äºæ‰“åŒ…ä½“ç§¯æœ‰è¦æ±‚çš„å°ç¨‹åºå°¤ä¸ºé‡è¦ã€‚</p><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a title="ä½¿ç”¨ CSS-in-JS" href="/taro-docs/docs/css-in-js">ä½¿ç”¨ CSS-in-JS</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è™šæ‹Ÿåˆ—è¡¨virtuallist">è™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtualListï¼‰<a class="hash-link" href="#è™šæ‹Ÿåˆ—è¡¨virtuallist" title="Direct link to heading">â€‹</a></h2><p>å½“æˆ‘ä»¬æ¸²æŸ“æ•°æ®é‡éå¸¸å¤§çš„åˆ—è¡¨æ—¶ï¼Œæ¡†æ¶ä¼šæ ¹æ®æ•°æ®å°è¯•å…¨é‡æ¸²æŸ“è§†å›¾ï¼Œè¿™å°±å¯èƒ½ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜å¯¼è‡´è§†å›¾æ— æ³•å“åº”æ“ä½œä¸€æ®µæ—¶é—´ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¦ä¸€ç§æ–¹å¼ï¼šæ¯”èµ·å…¨é‡æ¸²æŸ“æ•°æ®ç”Ÿæˆçš„è§†å›¾ï¼Œå¯ä»¥åªæ¸²æŸ“ <strong>å½“å‰å¯è§†åŒºåŸŸ(visable viewport)</strong> çš„è§†å›¾ï¼Œéå¯è§†åŒºåŸŸçš„è§†å›¾åœ¨ç”¨æˆ·æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸå†æ¸²æŸ“ï¼š</p><table><thead><tr><th align="center"><img loading="lazy" src="https://storage.jd.com/taro-resource/difference-in-scrolling.jpg" alt="diff.jpg" class="img_ROth"></th></tr></thead><tbody><tr><td align="center"><em>æ­£å¸¸æ¸²æŸ“å’Œè™šæ‹Ÿåˆ—è¡¨çš„åŒºåˆ«</em></td></tr></tbody></table><table><thead><tr><th align="center"><img loading="lazy" src="https://storage.jd.com/taro-resource/vue.gif" alt="vue.gif" class="img_ROth"></th></tr></thead><tbody><tr><td align="center"><em>åœ¨å¼€å‘è€…å·¥å…·çš„ç›´è§‚æ•ˆæœ</em></td></tr></tbody></table><p>ç±»ä¼¼çš„æŠ€æœ¯åœ¨ Android å¼€å‘è¢«ç§°ä¹‹ä¸º <a href="https://developer.android.com/reference/android/support/v7/widget/RecyclerView" target="_blank" rel="noopener noreferrer" title="RecyclerView">RecyclerView</a>ï¼Œåœ¨ React Native å«åš <a href="https://reactnative.dev/docs/virtualizedlist" target="_blank" rel="noopener noreferrer" title="VirtualizedList">VirtualizedList</a>ï¼Œæˆ‘ä»¬ç»Ÿä¸€å‘½åä¸ºè™šæ‹Ÿåˆ—è¡¨ï¼ˆVirtual Listï¼‰ï¼Œè¿™ä¸ªç»„ä»¶ç°åœ¨å†…ç½®åœ¨ Taro ä¸­ï¼Œåœ¨ React/Vue æˆ–å„ç§å°ç¨‹åºåŠ H5 çš†å¯ä½¿ç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">VirtualList</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components/virtual-list'</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½ å¯ä»¥è®¿é—®æ–‡æ¡£<a title="é•¿åˆ—è¡¨æ¸²æŸ“" href="/taro-docs/docs/virtual-list">é•¿åˆ—è¡¨æ¸²æŸ“</a>äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ’ä»¶åŠŸèƒ½">æ’ä»¶åŠŸèƒ½<a class="hash-link" href="#æ’ä»¶åŠŸèƒ½" title="Direct link to heading">â€‹</a></h2><p>è‡ª 2.2 å¼€å§‹ï¼ŒTaro å¼•å…¥äº†<a href="/taro-docs/docs/plugin/">æ’ä»¶åŒ–æœºåˆ¶</a>ï¼Œå…è®¸å¼€å‘è€…é€šè¿‡ç¼–å†™æ’ä»¶çš„æ–¹å¼æ¥ä¸º Taro æ‹“å±•æ›´å¤šåŠŸèƒ½æˆ–è€…ä¸ºè‡ªèº«ä¸šåŠ¡å®šåˆ¶ä¸ªæ€§åŒ–åŠŸèƒ½ã€‚</p><p>è¯¥ç‰¹æ€§åœ¨ Taro next ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨äº†ï¼Œå®˜æ–¹æä¾›äº†ä¸€ä¸ªç®€æ˜“çš„æ•°æ® mock æ’ä»¶ <code>@tarojs/plugin-mock</code> ä¾›å¤§å®¶å‚è€ƒã€‚ç›¸å…³æ¥å£å’Œä»‹ç»å¯ä»¥é€šè¿‡ <code>å®˜æ–¹æ–‡æ¡£ -&gt; è¿›é˜¶æŒ‡å— -&gt; æ’ä»¶åŠŸèƒ½</code> æ‰¾åˆ°ã€‚ </p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‘æ­£å¼ç‰ˆå‰è¿›">å‘æ­£å¼ç‰ˆå‰è¿›<a class="hash-link" href="#å‘æ­£å¼ç‰ˆå‰è¿›" title="Direct link to heading">â€‹</a></h2><p>åœ¨ Beta ç‰ˆæœ¬å‘å¸ƒä¹‹åï¼Œé™¤äº† React Native ç«¯å…¼å®¹è¿™ä¸€ç‰¹æ€§åœ¨è¿­ä»£ï¼Œæˆ‘ä»¬ä¸»è¦çš„ç²¾åŠ›æŠ•å…¥åˆ° Taro æœ¬èº«çš„å¼€æºæ²»ç†å’Œé¡¹ç›®æ²»ç†ä¸­ï¼Œä¸ºäº†ä¿è¯é‡å¤§ç‰¹æ€§æ›´æ–°å’Œæ¶æ„æ›´æ”¹èƒ½å¤Ÿé¡ºåˆ©æ¨è¿›ï¼Œæˆ‘ä»¬æ¨å‡ºäº† Taro çš„ <a href="https://github.com/NervJS/taro-rfcs" target="_blank" rel="noopener noreferrer" title="RFC æµç¨‹æœºåˆ¶">RFC æµç¨‹æœºåˆ¶</a>ï¼Œè¿™å°†è®© Taro çš„è¿›åŒ–æ›´åŠ é€æ˜å…¬å¼€ï¼ŒåŒæ—¶æ›´å¤šçš„ç¤¾åŒºå‚ä¸åŠ¿å¿…è®© Taro æ›´åŠ å®Œå–„ã€‚</p><p>æœŸé—´ï¼Œæˆ‘ä»¬ä¹Ÿå¯¹æ–‡æ¡£è¿›è¡Œäº†å‡çº§ï¼Œæ–°æ–‡æ¡£ç›¸æ¯”æ—§ç‰ˆè°ƒæ•´äº†éƒ¨åˆ†ç›®å½•è®©ä¿¡æ¯æ›´åˆç†ï¼ŒæŸ¥æ‰¾æ›´æ–¹ä¾¿ï¼Œå†…å®¹ä¹Ÿæ›´å®Œå–„ï¼ŒåŒæ—¶ä¹Ÿè®©é˜…è¯»ä½“éªŒæ›´åŠ å‹å¥½ã€‚</p><p>RC ç‰ˆæœ¬ï¼Œå‡ ä¹å°±ä¸ä¼šåŠ å…¥æ–°çš„åŠŸèƒ½äº†ï¼Œä¸»è¦ç€é‡äºé™¤é”™ï¼Œè€Œåæˆ‘ä»¬å°†å‘å¸ƒæ­£å¼ç‰ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼š</p><p>å¦‚æœä½ æ›´ä¸ºå…³æ³¨å°ç¨‹åºç«¯åŠ H5 ç«¯çš„å¼€å‘ï¼Œç°åœ¨å°±æ˜¯åŠ å…¥ Taro Next æœ€å¥½çš„æ—¶æœºï¼</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ„Ÿè°¢">æ„Ÿè°¢<a class="hash-link" href="#æ„Ÿè°¢" title="Direct link to heading">â€‹</a></h2><ul><li><p>æ„Ÿè°¢ <a href="https://github.com/skywalker512" target="_blank" rel="noopener noreferrer">skywalker512</a> å¤§ä½¬</p><ul><li>ä¿®å¤äº† Current type definition, åˆ é™¤ä¸èƒ½ä½¿ç”¨çš„ useScope å®šä¹‰çš„é—®é¢˜(<a href="https://github.com/NervJS/taro/pull/5764" target="_blank" rel="noopener noreferrer">#5764</a>)ï¼›</li><li>æ·»åŠ äº†æ”¯æŒ CSS Variables çš„ç‰¹æ€§ (<a href="https://github.com/NervJS/taro/pull/5796" target="_blank" rel="noopener noreferrer">#5796</a>)ï¼›</li><li>ä¿®å¤äº† windows ä¸‹çš„è·¯å¾„é—®é¢˜(<a href="https://github.com/NervJS/taro/pull/5839" target="_blank" rel="noopener noreferrer">#5839</a>)ï¼›</li><li>ä¿®å¤äº† animation å®šä¹‰å‡ºé”™çš„é—®é¢˜ (<a href="https://github.com/NervJS/taro/pull/5901" target="_blank" rel="noopener noreferrer">#5901</a>)ã€‚</li></ul></li><li><p>æ„Ÿè°¢ <a href="https://github.com/fupengl" target="_blank" rel="noopener noreferrer">fupengl</a> å¤§ä½¬</p><ul><li>ä¿®å¤äº† webpack é…ç½®å¤šä½™å‚æ•°å¯¼è‡´ webpack,loader å‚æ•°æ ¡éªŒå¤±è´¥çš„é—®é¢˜ï¼›ï¼ˆ<a href="https://github.com/NervJS/taro/pull/5835" target="_blank" rel="noopener noreferrer">#5835</a>ï¼‰ï¼›</li><li>ä¿®å¤äº† react é¡µé¢å¸è½½ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰è°ƒç”¨çš„é—®é¢˜(<a href="https://github.com/NervJS/taro/pull/5826" target="_blank" rel="noopener noreferrer">#5826</a>)ï¼›</li><li>ä¿®å¤äº†ç¼ºå°‘ tt æ ·å¼æ–‡ä»¶åŒ¹é…çš„é—®é¢˜ï¼›</li><li>ä¿®å¤äº† input maxlength æ‹¼å†™é”™è¯¯ (<a href="https://github.com/NervJS/taro/pull/6005" target="_blank" rel="noopener noreferrer">#6005</a>)ï¼›</li><li>ä¿®å¤å±æ€§æ•°å­—ç±»å‹ 0 ä¹Ÿæ˜¯æœ‰æ•ˆå€¼ (<a href="https://github.com/NervJS/taro/pull/6027" target="_blank" rel="noopener noreferrer">#6027</a>)ï¼›</li><li>ä¿®å¤äº†ç¼–è¯‘åŸç”Ÿ tt å°ç¨‹åºæ ·å¼æ–‡ä»¶æ²¡æœ‰ loader å¤„ç†çš„é—®é¢˜ (<a href="https://github.com/NervJS/taro/pull/6088" target="_blank" rel="noopener noreferrer">#6088</a>)ã€‚</li></ul></li><li><p>æ„Ÿè°¢ <a href="https://github.com/wuchangming" target="_blank" rel="noopener noreferrer">wuchangming</a> å¤§ä½¬</p><ul><li>ä¿®å¤äº† webpack <code>resolve.modules</code> è®¾ç½®ç»å¯¹è·¯å¾„å¯¼è‡´çš„ä¾èµ–å¼•ç”¨é”™è¯¯ (<a href="https://github.com/NervJS/taro/pull/5858" target="_blank" rel="noopener noreferrer">#5858</a>)ï¼›</li><li>ä¿®å¤äº† Current.router è·å–çš„æ•°æ®æœ‰è¯¯çš„é—®é¢˜ (<a href="https://github.com/NervJS/taro/pull/5889" target="_blank" rel="noopener noreferrer">#5989</a>)ã€‚</li></ul></li><li><p>æ„Ÿè°¢ <a href="https://github.com/cncolder" target="_blank" rel="noopener noreferrer">cncolder</a> å¤§ä½¬</p><ul><li>æ·»åŠ  linaria é…ç½®å’Œ webpack é…ç½® (<a href="https://github.com/NervJS/taro/pull/5880" target="_blank" rel="noopener noreferrer">#5880</a>)ï¼›</li><li>html typo (<a href="https://github.com/NervJS/taro/pull/5893" target="_blank" rel="noopener noreferrer">#5893</a>)ï¼›</li><li>å°† rich-text å±æ€§è®¾ç½®ä¸ºå¯é€‰ï¼›</li><li>å¢åŠ è·¯ç”±ä¿¡æ¯ path å­—æ®µ (<a href="https://github.com/NervJS/taro/pull/5898" target="_blank" rel="noopener noreferrer">#5898</a>)ï¼›</li><li>ui interaction ä¸­çš„ä¸‰ä¸ªå‡½æ•°å‚æ•°éƒ½æ˜¯å¯é€‰çš„ (<a href="https://github.com/NervJS/taro/pull/6351" target="_blank" rel="noopener noreferrer">#6351</a>)ã€‚</li></ul></li><li><p>æ„Ÿè°¢ <a href="https://github.com/Garfield550" target="_blank" rel="noopener noreferrer">Garfield550</a> å¤§ä½¬</p><ul><li>ç»™ api å¢åŠ  cjs åˆ†å‘ï¼Œè§„èŒƒéƒ¨åˆ†åŒ…çš„æ–‡ä»¶åŒ…å« (<a href="https://github.com/NervJS/taro/pull/5991" target="_blank" rel="noopener noreferrer">#5991</a>) ï¼›</li><li>ä¿®å¤ç»„ä»¶ animation å±æ€§å’Œ Animation.export() æ–¹æ³•çš„ç±»å‹(<a href="https://github.com/NervJS/taro/pull/6025" target="_blank" rel="noopener noreferrer">#6025</a>) ã€‚</li></ul></li><li><p>æ„Ÿè°¢<a href="https://github.com/fishead" target="_blank" rel="noopener noreferrer">fishead</a> æ·»åŠ äº† framework æ£€æŸ¥ (<a href="https://github.com/NervJS/taro/pull/5977" target="_blank" rel="noopener noreferrer">#5977</a>)ï¼›</p></li><li><p>æ„Ÿè°¢ <a href="https://github.com/alexloading" target="_blank" rel="noopener noreferrer">alexloading</a> å¤§ä½¬ä¿®æ”¹äº† nextTick é€‚é…å°ç¨‹åº setData å›è°ƒ<a href="https://github.com/NervJS/taro/pull/5978" target="_blank" rel="noopener noreferrer">#5978</a>ï¼›</p></li><li><p>æ„Ÿè°¢ <a href="https://github.com/hvsy" target="_blank" rel="noopener noreferrer">hvsy</a> ã€<a href="https://github.com/cuikangyi" target="_blank" rel="noopener noreferrer">cuikangyi</a>ã€ <a href="https://github.com/yesmeck" target="_blank" rel="noopener noreferrer">yesmeck</a>ã€<a href="https://github.com/Psli" target="_blank" rel="noopener noreferrer">Psli</a> å¤§ä½¬ ã€‚</p></li></ul>]]></content:encoded>
            <category>v3</category>
        </item>
        <item>
            <title><![CDATA[ä½¿ç”¨ Taro å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åº]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-04-27-taro-build-jd</link>
            <guid>2020-04-27-taro-build-jd</guid>
            <pubDate>Mon, 27 Apr 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[è¿‘ä¸¤å¹´æ¥å°ç¨‹åºé€æ¸æˆä¸ºäº’è”ç½‘çš„ä¸€ä¸ªè¡Œä¸šé£å£ï¼Œä¸€ç›´å¤‡å—ä¸šç•Œå…³æ³¨ï¼Œå„å¤§å‚ä¹Ÿæ¥è¸µæ¨å‡ºäº†è‡ªå·±çš„å°ç¨‹åºã€‚è¿‘æ—¥äº¬ä¸œä¹Ÿæ¨å‡ºäº†å°ç¨‹åºï¼šäº¬ä¸œå°ç¨‹åºã€‚Taro ä½œä¸ºä¸€æ¬¾ä¸“æ³¨äºå¤šç«¯ç»Ÿä¸€å¼€å‘çš„æ¡†æ¶ï¼Œç¬¬ä¸€æ—¶é—´å¯¹äº¬ä¸œå°ç¨‹åºè¿›è¡Œäº†é€‚é…ã€‚æ¥ä¸‹æ¥å°±è·Ÿç€å°ç¼–ä¸€èµ·äº†è§£ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Taro å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åºå§ã€‚]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/117964/14/2118/145903/5e9eee0aE8897b3dd/bd435e6161779ad1.png" class="img_ROth"></p><p>è¿‘ä¸¤å¹´æ¥å°ç¨‹åºé€æ¸æˆä¸ºäº’è”ç½‘çš„ä¸€ä¸ªè¡Œä¸šé£å£ï¼Œä¸€ç›´å¤‡å—ä¸šç•Œå…³æ³¨ï¼Œå„å¤§å‚ä¹Ÿæ¥è¸µæ¨å‡ºäº†è‡ªå·±çš„å°ç¨‹åºã€‚è¿‘æ—¥äº¬ä¸œä¹Ÿæ¨å‡ºäº†å°ç¨‹åºï¼š<a href="https://mp.jd.com/?entrance=taro" target="_blank" rel="noopener noreferrer"><strong>äº¬ä¸œå°ç¨‹åº</strong></a>ã€‚Taro ä½œä¸ºä¸€æ¬¾ä¸“æ³¨äºå¤šç«¯ç»Ÿä¸€å¼€å‘çš„æ¡†æ¶ï¼Œç¬¬ä¸€æ—¶é—´å¯¹äº¬ä¸œå°ç¨‹åºè¿›è¡Œäº†é€‚é…ã€‚æ¥ä¸‹æ¥å°±è·Ÿç€å°ç¼–ä¸€èµ·äº†è§£ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Taro å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åºå§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="äº¬ä¸œå°ç¨‹åº">äº¬ä¸œå°ç¨‹åº<a class="hash-link" href="#äº¬ä¸œå°ç¨‹åº" title="Direct link to heading">â€‹</a></h3><p><a href="https://mp.jd.com/?entrance=taro" target="_blank" rel="noopener noreferrer">äº¬ä¸œå°ç¨‹åºå¹³å°</a>æ˜¯äº¬ä¸œè‡ªç ”æŠ€æœ¯ï¼ˆèƒ½åŠ›ï¼‰å¼€æ”¾å¹³å°ï¼Œå¹³å°é›†æˆäº¬ä¸œç‰¹è‰²åŠŸèƒ½ï¼Œä¸²è”å•†å®¶å’Œç”¨æˆ·ã€‚ä¸ºç”¨æˆ·æä¾›å»¶å±•æœåŠ¡ï¼Œç»™å•†å®¶å¸¦æ¥æ–°æœºé‡ã€‚äº¬ä¸œå°ç¨‹åºå¹³å°ä¸ä»…æ”¯æŒå­˜é‡è‡ªè¥ã€POPå•†å®¶è‡ªåŠ¨å¼€é€šï¼Œè¿˜æ”¯æŒæ–°å‹çš„éç”µå•†é¢†åŸŸå•†å®¶å‚ä¸å°ç¨‹åºç”Ÿæ€ã€‚  </p><p>åŠ å…¥äº¬ä¸œå°ç¨‹åºå¼€æ”¾å¹³å°çš„å•†å®¶ï¼Œå¯ä»¥åˆ©ç”¨äº¬ä¸œå¹³å°å®Œæ•´çš„è¥é”€ã€äº¤æ˜“ã€æ”¯ä»˜ã€ä¼šå‘˜ã€ç‰©æµç­‰èƒ½åŠ›ï¼Œæ›´åŠ ä¾¿æ·åœ°æ„å»ºèµ·è‡ªå·±çš„ç‰¹è‰²æœåŠ¡åœºæ™¯ã€‚åŠ©åŠ›å•†å®¶å®ç°ç”Ÿæ€åœºæ™¯ä¸Šçš„â€œè·ƒè¿â€ï¼Œå¿«é€Ÿä¸ºç”¨æˆ·æä¾›ä¸€ç«™å¼æœåŠ¡ä½“éªŒã€‚</p><p>äº¬ä¸œå°ç¨‹åºåªéœ€ä¸€æ¬¡å¼€å‘å³å¯è¿è¡Œåœ¨äº¬ä¸œ APPã€äº¬ä¸œé‡‘è APPã€äº¬éº¦ APP ä¸‰ç«¯ã€‚äº¬ä¸œ APPã€äº¬ä¸œé‡‘è APP ä¼šå¼€æ”¾ç‰¹å®šçš„èƒ½åŠ›ï¼Œå¯¹ä¼˜è´¨å°ç¨‹åºè¿˜ä¼šå¼€æ”¾å¤šä¸ªé«˜æµé‡å…¥å£ï¼ŒåŒ…å«æ‰«ç ã€æœç´¢ã€æ¶ˆæ¯ç­‰å¤šç§æ–¹å¼è§¦è¾¾ã€‚è€Œäº¬éº¦ APP å°ç¨‹åºä¸»è¦ç”¨äºå•†å®¶å·¥å…·æ’ä»¶çš„å¼€å‘å®šåˆ¶ã€‚</p><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/jdapp_3apps.png" alt="jdapp_3apps" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro">Taro<a class="hash-link" href="#taro" title="Direct link to heading">â€‹</a></h3><p><a href="https://taro.jd.com/" target="_blank" rel="noopener noreferrer">Taro</a> æ˜¯å‡¹å‡¸å®éªŒå®¤æ¨å‡ºçš„ä¸€å¥—éµå¾ª React è¯­æ³•è§„èŒƒçš„å¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯äº¬ä¸œå°ç¨‹åºå®˜æ–¹æ¨èçš„å¼€å‘æ¡†æ¶ã€‚</p><p>ä½¿ç”¨ Taro å¼€å‘ä¸ä½†èƒ½æ›´è§„èŒƒã€æ›´æœ‰æ•ˆç‡åœ°ç¼–ç ï¼Œ ç•…äº« React / Vue ç”Ÿæ€çš„å„ç§å·¥å…·ã€‚æ›´é‡è¦çš„æ˜¯åªéœ€ç¼–å†™ä¸€ä»½ä»£ç ï¼Œå³å¯è¿è¡Œåœ¨å„ç§å¹³å°ï¼šäº¬ä¸œ/å¾®ä¿¡/ç™¾åº¦/æ”¯ä»˜å®/å­—èŠ‚è·³åŠ¨/QQå°ç¨‹åºã€å¿«åº”ç”¨ã€H5ã€React-Native ç­‰ã€‚</p><p>å¦‚ä»Š Taro æ­£è¢«å¹¿æ³›ç”¨äºäº¬ä¸œå„å¤§ä¸šåŠ¡ï¼Œä¾‹å¦‚äº¬ä¸œè´­ç‰©ï¼ˆå¾®ä¿¡ï¼‰ã€äº¬å–œï¼ˆå¾®ä¿¡ã€H5ã€RNï¼‰ã€äº¬ä¸œå¥½ç‰©è¡—ï¼ˆå¾®ä¿¡ã€ç™¾åº¦ã€å­—èŠ‚è·³åŠ¨ï¼‰ã€äº¬ä¸œåˆ°å®¶ï¼ˆå¾®ä¿¡ã€H5ï¼‰ç­‰ï¼Œåœ¨ä¸šç•Œä¹Ÿè¢«å„å¤§å‹ä¸šåŠ¡å¹¿æ³›åº”ç”¨ï¼Œå¦‚ï¼š58 åŒåŸã€å–œèŒ¶ã€è…¾è®¯åä¸ªæ§½ç¤¾åŒºç­‰ç­‰ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä½¿ç”¨-taro-å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åº">ä½¿ç”¨ Taro å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åº<a class="hash-link" href="#ä½¿ç”¨-taro-å¿«é€Ÿå¼€å‘äº¬ä¸œå°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å…¥é©»äº¬ä¸œå°ç¨‹åº">å…¥é©»äº¬ä¸œå°ç¨‹åº<a class="hash-link" href="#å…¥é©»äº¬ä¸œå°ç¨‹åº" title="Direct link to heading">â€‹</a></h3><p>è¿›å…¥<a href="https://mp.jd.com/?entrance=taro" target="_blank" rel="noopener noreferrer">äº¬ä¸œå°ç¨‹åºå®˜ç½‘</a>ï¼Œæäº¤ç›¸å…³ä¿¡æ¯åå®Œæˆå…¥é©»ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘">å¼€å‘<a class="hash-link" href="#å¼€å‘" title="Direct link to heading">â€‹</a></h3><p>1.å®‰è£… Taro çš„ CLI å·¥å…·ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>å·²å®‰è£… Taro çš„åŒå­¦è¯·æ³¨æ„æ›´æ–° Taro ç‰ˆæœ¬ï¼ŒTaro è‡ª 1.3.20 åæ”¯æŒè½¬æ¢äº¬ä¸œå°ç¨‹åºã€‚</p></blockquote><p>2.ä½¿ç”¨ CLI åˆ›å»ºé¡¹ç›®ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">taro init </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">projectName</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>3.è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œä½¿ç”¨ CLI ç¼–è¯‘é¡¹ç›®ï¼Œæ ¹æ® <a href="/taro-docs/docs">Taro æ–‡æ¡£</a> è¿›è¡Œå¼€å‘ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">taro build --type jd </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">--watch</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>4.è°ƒè¯•</p><p>ç”³è¯·å…¥é©»äº¬ä¸œå°ç¨‹åºæˆåŠŸåï¼Œäº¬ä¸œå°ç¨‹åºä¼šç»™å¼€å‘è€…å‘æ”¾é‚€è¯·ç ï¼ŒåŒæ—¶æä¾›å¼€å‘è€…å·¥å…·ä¸‹è½½ï¼Œä¸‹è½½åå¯ä½¿ç”¨å¼€å‘è€…å·¥å…·è¿›è¡Œè°ƒè¯•ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-å·²å®Œå…¨é€‚é…äº¬ä¸œå°ç¨‹åº">Taro å·²å®Œå…¨é€‚é…äº¬ä¸œå°ç¨‹åº<a class="hash-link" href="#taro-å·²å®Œå…¨é€‚é…äº¬ä¸œå°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>Taro å·² 100% å®Œæˆäº†è½¬æ¢äº¬ä¸œå°ç¨‹åºçš„å·¥ä½œï¼Œå…¨é¢æ”¯æŒäº¬ä¸œå°ç¨‹åºçš„å„ç§ç‰¹æ€§ã€‚</p><p>å¼€å‘ä¸­å¦‚é‡åˆ°ä»»ä½•é—®é¢˜æˆ–å›°éš¾ï¼Œæ¬¢è¿åœ¨ Github Issuesã€Taro ç¤¾åŒºè¿›è¡Œåé¦ˆï¼Œæˆ–è”ç³» <strong><a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a></strong>ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç»™äºˆç­”å¤ä¸æ”¯æŒã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤ºä¾‹é¡¹ç›®è½¬æ¢æ•ˆæœå›¾">ç¤ºä¾‹é¡¹ç›®è½¬æ¢æ•ˆæœå›¾<a class="hash-link" href="#ç¤ºä¾‹é¡¹ç›®è½¬æ¢æ•ˆæœå›¾" title="Direct link to heading">â€‹</a></h3><p>å°ç¼–å°è¯•æŠŠ <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro Github</a> ä¸Šå­¦ä¹ èµ„æºä¸­çš„ä¼˜ç§€å¼€æºé¡¹ç›®ï¼š<a href="https://github.com/qit-team/taro-yanxuan" target="_blank" rel="noopener noreferrer">ä»¿ä¸¥é€‰å¤šç«¯é¡¹ç›®</a> åˆ†åˆ«è½¬æ¢ä¸ºå¾®ä¿¡å°ç¨‹åºç«¯å’Œäº¬ä¸œå°ç¨‹åºç«¯ï¼Œå¯¹æ¯”å¯è§è½¬æ¢éå¸¸å®Œç¾ï¼Œè¡¨ç°æ•ˆæœåŸºæœ¬ä¸€è‡´ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="å¾®ä¿¡å°ç¨‹åºç«¯">å¾®ä¿¡å°ç¨‹åºç«¯<a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åºç«¯" title="Direct link to heading">â€‹</a></h5><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/jdapp_yanxuan_wx_demo.jpg" alt="yanxuan_wx" class="img_ROth"></p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="äº¬ä¸œå°ç¨‹åºç«¯">äº¬ä¸œå°ç¨‹åºç«¯<a class="hash-link" href="#äº¬ä¸œå°ç¨‹åºç«¯" title="Direct link to heading">â€‹</a></h5><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/jdapp_yanxuan_jd_demo.jpg" alt="yanxuan_jd" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœªæ¥è§„åˆ’">æœªæ¥è§„åˆ’<a class="hash-link" href="#æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h2><p>Taro å›¢é˜Ÿå¯¹äºäº¬ä¸œå°ç¨‹åºæ˜¯å……æ»¡æœŸå¾…å’Œä¿¡å¿ƒçš„ã€‚ä¸ºæ­¤æˆ‘ä»¬è®¨è®ºå¹¶è§„åˆ’äº†ä¸€ç³»åˆ—å·¥ä½œï¼Œç”±åº•å±‚æ¡†æ¶é€‚é…ï¼Œåˆ°è¾…åŠ©ä¸šåŠ¡è½åœ°ã€æ‹“å±•äº¬ä¸œå°ç¨‹åºç”Ÿæ€ï¼Œå†åˆ°äº¬ä¸œå°ç¨‹åºçš„<a href="https://ling.jd.com/atom/cms/pc/06599/" target="_blank" rel="noopener noreferrer">å¯è§†åŒ–è‡ªåŠ©æ­å»º</a>ç­‰ï¼Œç›®å‰å·²ç»å®Œæˆç‰©æ–™å¸‚åœºçš„éƒ¨åˆ†ç‰©æ–™é€‚é…éªŒè¯å¹¶æ ‡è®°æ”¯æŒäº¬ä¸œå°ç¨‹åºã€ä½“éªŒå¯è§†åŒ–è‡ªåŠ©æ­å»ºè¯·ç‚¹å‡»<a href="https://ling.jd.com/atom/cms/pc/06599/" target="_blank" rel="noopener noreferrer">è¿™ä¸ªé“¾æ¥</a>æŒ‰ç…§æŒ‡å¼•ç”³è¯·ä½“éªŒæƒé™ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœŸå¾…å¤§å®¶å‚ä¸å…±å»º">æœŸå¾…å¤§å®¶å‚ä¸å…±å»º<a class="hash-link" href="#æœŸå¾…å¤§å®¶å‚ä¸å…±å»º" title="Direct link to heading">â€‹</a></h2><p>æœ‰ä»»ä½•æ„è§å»ºè®®ã€ä¸šåŠ¡æ”¯æŒã€åˆä½œè¯‰æ±‚çš„ï¼Œå°½è¯·å‘é€é‚®ä»¶åˆ°&nbsp;<strong><a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a></strong>ï¼Œæˆ‘ä»¬ä¼šç¬¬ä¸€æ—¶é—´å›å¤ã€‚</p><p>å¿ƒåŠ¨ä¸å¦‚è¡ŒåŠ¨ï¼Œç°åœ¨å°±å¼€å§‹ä½¿ç”¨ Taro å¼€å‘ä½ çš„<a href="https://mp.jd.com/?entrance=taro" target="_blank" rel="noopener noreferrer">äº¬ä¸œå°ç¨‹åº</a>å§ï½</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="äº†è§£æ›´å¤šå…³äºäº¬ä¸œå°ç¨‹åº">äº†è§£æ›´å¤šå…³äºäº¬ä¸œå°ç¨‹åº<a class="hash-link" href="#äº†è§£æ›´å¤šå…³äºäº¬ä¸œå°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p><a href="https://taro-club.jd.com/topic/1426/%E4%BA%AC%E4%B8%9C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%B9%B3%E5%8F%B0-%E4%BB%96%E6%9D%A5%E4%BA%86" target="_blank" rel="noopener noreferrer">ã€Šäº¬ä¸œå°ç¨‹åºå¹³å°ï¼Œä»–æ¥äº†ã€‹</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[äº¬ä¸œå°ç¨‹åº Taro å¼€å‘å¯¹æ¯”åŸç”Ÿå¼€å‘æµ‹è¯„]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-04-27-taro-vs-jd</link>
            <guid>2020-04-27-taro-vs-jd</guid>
            <pubDate>Mon, 27 Apr 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[Taro å·²ç» 100% æ”¯æŒè½¬æ¢äº¬ä¸œå°ç¨‹åºï¼Œå—åˆ°äº†å¾ˆå¤šåŒå­¦çš„å…³æ³¨ã€‚å½“ä¸­æœ‰æ¬¢å‘¼é›€è·ƒçš„å£°éŸ³ï¼šâ€œä¸€é”®è½¬æ¢ä¸ºäº¬ä¸œå°ç¨‹åºï¼Œç»ˆäºå¯ä»¥å‡†æ—¶ä¸‹ç­å•¦â€ã€‚ä¹Ÿæœ‰å¯¹ Taro ä¸å¤ªäº†è§£çš„åŒå­¦æå‡ºäº†ä¸€äº›ç–‘é—®ï¼šâ€œè½¬æ¢çš„æ•ˆæœå¦‚ä½•ï¼Ÿâ€ã€â€œè½¬æ¢åä»£ç çš„æ€§èƒ½æ˜¯å¦è¾¾æ ‡ï¼Ÿâ€ ç­‰ç­‰ã€‚]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/112290/35/2116/67015/5e9eee51E11ea7938/886d7ddc2e9e6026.png" class="img_ROth"></p><p>Taro å·²ç» 100% æ”¯æŒè½¬æ¢<a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer">äº¬ä¸œå°ç¨‹åº</a>ï¼Œå—åˆ°äº†å¾ˆå¤šåŒå­¦çš„å…³æ³¨ã€‚å½“ä¸­æœ‰æ¬¢å‘¼é›€è·ƒçš„å£°éŸ³ï¼šâ€œä¸€é”®è½¬æ¢ä¸ºäº¬ä¸œå°ç¨‹åºï¼Œç»ˆäºå¯ä»¥å‡†æ—¶ä¸‹ç­å•¦â€ã€‚ä¹Ÿæœ‰å¯¹ Taro ä¸å¤ªäº†è§£çš„åŒå­¦æå‡ºäº†ä¸€äº›ç–‘é—®ï¼šâ€œè½¬æ¢çš„æ•ˆæœå¦‚ä½•ï¼Ÿâ€ã€â€œè½¬æ¢åä»£ç çš„æ€§èƒ½æ˜¯å¦è¾¾æ ‡ï¼Ÿâ€ ç­‰ç­‰ã€‚</p><p>é’ˆå¯¹å„ç§ç–‘é—®ï¼Œæˆ‘ä»¬ä»æ€§èƒ½ä¸å¼€å‘ä½“éªŒçš„è§’åº¦åˆ‡å…¥ï¼ŒæŠŠäº¬ä¸œå°ç¨‹åºåŸç”Ÿå¼€å‘ä¸ Taro å¼€å‘è¿›è¡Œäº†ä¸€ç•ªå¯¹æ¯”ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ€§èƒ½å¯¹æ¯”">æ€§èƒ½å¯¹æ¯”<a class="hash-link" href="#æ€§èƒ½å¯¹æ¯”" title="Direct link to heading">â€‹</a></h2><p>é’ˆå¯¹æ€§èƒ½çš„é—®é¢˜ï¼Œæˆ‘ä»¬åˆ†åˆ«æµ‹è¯•äº† Taro ç©ºé¡¹ç›®çš„åŒ…å¤§å°å’Œ Taro åœ¨é•¿åˆ—è¡¨ä¸­çš„è¡¨ç°ã€‚å› ä¸ºåŒ…å¤§å°ä¼šå½±å“å°ç¨‹åºçš„é¦–æ¬¡åŠ è½½é€Ÿåº¦ï¼Œè€Œé•¿åˆ—è¡¨åˆ™æ˜¯å¸¸å¸¸å‡ºç°æ€§èƒ½ç“¶é¢ˆçš„åœºæ™¯ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ç©ºé¡¹ç›®åŒ…å¤§å°">Taro ç©ºé¡¹ç›®åŒ…å¤§å°<a class="hash-link" href="#taro-ç©ºé¡¹ç›®åŒ…å¤§å°" title="Direct link to heading">â€‹</a></h3><p>ç›®å‰å„å°ç¨‹åºéƒ½æœ‰å¯¹ä¸»åŒ…çš„å¤§å°è¿›è¡Œé™åˆ¶ï¼Œå¦‚äº¬ä¸œå°ç¨‹åºé™åˆ¶ä¸º 5Mã€å¾®ä¿¡å°ç¨‹åºé™åˆ¶ä¸º 2Mã€‚è¿™æ˜¯å› ä¸ºåˆæ¬¡è¿›å…¥çš„é€Ÿåº¦å¯¹äºç”¨æˆ·çš„ä½“éªŒéå¸¸åœ°å…³é”®ï¼Œè€Œä¸»åŒ…ä½“ç§¯è¶Šå¤§ä¸‹è½½çš„æ—¶é—´å°±æœ€é•¿ã€‚å› æ­¤å°ç¨‹åºæ¡†æ¶çš„å¤§å°ä¹Ÿæˆä¸ºäº†å¼€å‘å‰æ¡†æ¶é€‰å‹çš„é‡è¦å‚è€ƒæŒ‡æ ‡ä¹‹ä¸€ï¼Œå€˜è‹¥æ¡†æ¶ä½“ç§¯è¿‡å¤§ï¼Œå°±ä¼šå‹ç¼©ä¸šåŠ¡é€»è¾‘çš„å¯ç”¨ç©ºé—´ã€‚</p><p>ä¸‹åˆ—å›¾ç‰‡åˆ†åˆ«æ˜¯ Taro è¿è¡Œæ—¶æ¡†æ¶å‹ç¼©å‰åçš„å¤§å°ï¼Œå¯ä»¥çœ‹åˆ°å‹ç¼©åä»…ä¸º84kï¼Œå¯¹ä¸»åŒ…ç©ºé—´çš„å½±å“ååˆ†å°ã€‚</p><p>å‹ç¼©å‰ï¼š</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/11807297/67547702-5bacfd80-f732-11e9-9b99-9cbe93c2e19c.png" alt="QQ20191025-141758" class="img_ROth"></p><p>å‹ç¼©åï¼š</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/11807297/67548124-9e230a00-f733-11e9-91e8-fe5bff2e5e67.png" alt="QQ20191025-142728" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é•¿åˆ—è¡¨æ¸²æŸ“è¡¨ç°">é•¿åˆ—è¡¨æ¸²æŸ“è¡¨ç°<a class="hash-link" href="#é•¿åˆ—è¡¨æ¸²æŸ“è¡¨ç°" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="benchmark-ä»‹ç»">benchmark ä»‹ç»<a class="hash-link" href="#benchmark-ä»‹ç»" title="Direct link to heading">â€‹</a></h4><p>æˆ‘ä»¬å‚ç…§ <a href="https://github.com/krausest/js-framework-benchmark" target="_blank" rel="noopener noreferrer">js-framework-benchmark</a> ç¼–å†™äº†ä¸€ä»½ benchmarkï¼Œæµ‹è¯•å¯¹æ¯”äº† Taro ä»£ç ä¸åŸç”Ÿä»£ç åœ¨é•¿åˆ—è¡¨åœºæ™¯ä¸‹çš„æ¸²æŸ“è¡¨ç°ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æµ‹é€ŸæŒ‡æ ‡">æµ‹é€ŸæŒ‡æ ‡<a class="hash-link" href="#æµ‹é€ŸæŒ‡æ ‡" title="Direct link to heading">â€‹</a></h5><ul><li><p>åˆå§‹åŒ–ï¼šä»è¿›å…¥é¡µé¢å¼€å§‹åˆ°å®Œæˆ 40 ä¸ªå•†å“çš„æ¸²æŸ“ã€‚</p></li><li><p>åˆ›å»ºï¼šé¡µé¢ onLoad ååˆ›å»º 40 ä¸ªå•†å“ã€‚</p></li><li><p>å¢åŠ ï¼šå¾€å·²åˆ›å»ºäº† 40 ä¸ªå•†å“çš„åˆ—è¡¨ä¸­æ¯æ¬¡å¢åŠ  20 ä¸ªå•†å“ã€‚</p></li><li><p>éƒ¨åˆ†æ›´æ–°ï¼šåœ¨ 400 ä¸ªå•†å“ä¸­æ›´æ–°æ¯ç¬¬ 10 ä¸ªå•†å“çš„åç§°ã€‚</p></li><li><p>äº¤æ¢ï¼šåœ¨ 400 ä¸ªå•†å“ä¸­äº¤æ¢å…¶ä¸­ä¸¤ä¸ªå•†å“çš„ä½ç½®ã€‚</p></li><li><p>é€‰ä¸­ï¼šç‚¹å‡»å•†å“å›¾ç‰‡ï¼Œæ”¹å˜å•†å“åç§°çš„å­—ä½“é¢œè‰²ã€‚</p></li></ul><h5 class="anchor anchorWithStickyNavbar_IyCF" id="è®¡æ—¶ç‚¹">è®¡æ—¶ç‚¹<a class="hash-link" href="#è®¡æ—¶ç‚¹" title="Direct link to heading">â€‹</a></h5><p><strong>Taro</strong>ï¼š</p><p>å¼€å§‹ï¼šäº‹ä»¶å“åº”å‡½æ•°çš„é¡¶éƒ¨ã€‚</p><p>ç»“æŸï¼š<code>setState</code> å›è°ƒå‡½æ•°çš„é¡¶éƒ¨ã€‚</p><p><strong>åŸç”Ÿå°ç¨‹åº</strong>ï¼š</p><p>å¼€å§‹ï¼šäº‹ä»¶å“åº”å‡½æ•°çš„é¡¶éƒ¨ã€‚</p><p>ç»“æŸï¼š<code>setData</code> å›è°ƒå‡½æ•°çš„é¡¶éƒ¨ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="å…¶å®ƒ">å…¶å®ƒ<a class="hash-link" href="#å…¶å®ƒ" title="Direct link to heading">â€‹</a></h5><p>benchmark ä»“åº“ï¼š<a href="https://github.com/NervJS/taro-benchmark" target="_blank" rel="noopener noreferrer">Github</a></p><p>Taro ç‰ˆæœ¬ï¼š1.3.21</p><p>æµ‹è¯•æœºå‹ï¼šé­…è“ note</p><p>æµ‹è¯•æ–¹æ³•ï¼šæ¯ç»„æµ‹è¯• 10 æ¡æ•°æ®ï¼Œå»é™¤å…¶ä¸­æœ€å¤§å€¼ä¸æœ€å°å€¼åæ±‚å¹³å‡å€¼</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æµ‹è¯•ç»“æœ">æµ‹è¯•ç»“æœ<a class="hash-link" href="#æµ‹è¯•ç»“æœ" title="Direct link to heading">â€‹</a></h4><p>å› ä¸ºåœ¨äº¬ä¸œå°ç¨‹åºä¸å¾®ä¿¡å°ç¨‹åºä¸­ï¼ŒsetData çš„ callback çš„è§¦å‘æ—¶æœºç¨æœ‰ä¸åŒï¼Œæ‰€ä»¥<strong>åˆ†å¼€åˆ—å‡º</strong>ã€‚</p><table><thead><tr><th align="center">æ“ä½œ</th><th align="center">Taro jd</th><th align="center">åŸç”Ÿäº¬ä¸œå°ç¨‹åº</th></tr></thead><tbody><tr><td align="center">åˆå§‹åŒ–</td><td align="center">150</td><td align="center">123</td></tr><tr><td align="center">åˆ›å»º</td><td align="center">87</td><td align="center">85</td></tr><tr><td align="center">éƒ¨åˆ†æ›´æ–°</td><td align="center">125</td><td align="center">235</td></tr><tr><td align="center">äº¤æ¢</td><td align="center">140</td><td align="center">213</td></tr><tr><td align="center">é€‰ä¸­</td><td align="center">131</td><td align="center">155</td></tr></tbody></table><table><thead><tr><th align="center">æ“ä½œ</th><th align="center">Taro weapp</th><th align="center">åŸç”Ÿå¾®ä¿¡å°ç¨‹åº</th><th align="center"></th></tr></thead><tbody><tr><td align="center">åˆå§‹åŒ–</td><td align="center">1155</td><td align="center">1223</td><td align="center"></td></tr><tr><td align="center">åˆ›å»º</td><td align="center">500</td><td align="center">408</td><td align="center"></td></tr><tr><td align="center">éƒ¨åˆ†æ›´æ–°</td><td align="center">167</td><td align="center">307</td><td align="center"></td></tr><tr><td align="center">äº¤æ¢</td><td align="center">252</td><td align="center">309</td><td align="center"></td></tr><tr><td align="center">é€‰ä¸­</td><td align="center">193</td><td align="center">178</td><td align="center"></td></tr></tbody></table><p>ç»æµ‹è¯•å‘ç°ï¼Œåˆ—è¡¨çš„é•¿åº¦ä¼šå¯¹å¢åŠ æ“ä½œçš„è€—æ—¶äº§ç”Ÿå½±å“ï¼šåˆ—è¡¨è¶Šé•¿ï¼Œå¢åŠ æ“ä½œçš„è€—æ—¶è¶Šä¹…ã€‚å› æ­¤ä¸èƒ½ç®€å•åœ°å¯¹ N æ¬¡å¢åŠ æ“ä½œæ±‚å¹³å‡å¢åŠ è€—æ—¶ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨æŠ˜çº¿å›¾æ¥å±•ç°å‡ºéšå¢åŠ æ“ä½œæ¬¡æ•°çš„å˜åŒ–ï¼Œæ¸²æŸ“è€—æ—¶çš„å˜åŒ–è¶‹åŠ¿ã€‚</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/11807297/67666146-23155a00-f9a6-11e9-9644-ecdc2d6301ea.png" alt="äº¬ä¸œå°ç¨‹åºâ€”â€”å¢åŠ " class="img_ROth"></p><p><img loading="lazy" src="https://user-images.githubusercontent.com/11807297/67656291-5350fe80-f98e-11e9-8c00-0123028a7471.png" alt="å¾®ä¿¡å°ç¨‹åºâ€”â€”å¢åŠ " class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æµ‹è¯•ç»“è®º">æµ‹è¯•ç»“è®º<a class="hash-link" href="#æµ‹è¯•ç»“è®º" title="Direct link to heading">â€‹</a></h4><p><strong>åˆ›å»º</strong></p><p>åœ¨åˆ›å»ºæ—¶ï¼ŒTaro ä¼šå¯¹æ•°æ®åšä¸€äº›å¤„ç†ï¼Œå› æ­¤ä¼šæ¯”åŸç”Ÿç¨æ…¢ã€‚</p><p><strong>åˆå§‹åŒ–</strong></p><p>åˆå§‹åŒ–ä¸åˆ›å»ºç›¸æ¯”ï¼Œå·®åˆ«æ˜¯å¼•å…¥äº†é¡µé¢æ„é€ è€—æ—¶ã€‚å³<strong>åˆå§‹åŒ–è€—æ—¶ = é¡µé¢æ„é€ è€—æ—¶ + åˆ›å»ºæ“ä½œè€—æ—¶</strong>ã€‚</p><p>Taro åœ¨é¡µé¢åˆå§‹åŒ–ã€åˆ›å»ºæ“ä½œæ—¶éƒ½ä¼šå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå› æ­¤æ•´ä¸ªåˆå§‹åŒ–è€—æ—¶ä¼šæ¯”åŸç”Ÿç¨æ…¢ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆå¾®ä¿¡å°ç¨‹åºä¸­ Taro åˆå§‹åŒ–è€—æ—¶æ›´çŸ­å‘¢ï¼Ÿåœ¨ benchmark ä¸­ Taro å’ŒåŸç”Ÿåˆ†åˆ«åœ¨ <code>componentWillMount</code> å’Œ <code>onLoad</code> æ¸²æŸ“åˆ—è¡¨ï¼Œè€Œ Taro ä½¿ç”¨ <strong>Component</strong> æ„é€ é¡µé¢ï¼Œ<code>componentWillMount</code> å…¶å®æ˜¯åœ¨ <code>attached</code> ç”Ÿå‘½å‘¨æœŸä¸­è§¦å‘ã€‚å› ä¸ºåœ¨å¾®ä¿¡å°ç¨‹åºä¸­ <code>attached</code> æ¯” <code>onLoad</code> æ—©è§¦å‘å¾—å¤šï¼Œæ‰€ä»¥ä¼šå‡ºç°å¦‚æ­¤ç°è±¡ã€‚</p><p><strong>é€‰ä¸­</strong></p><p>å› ä¸º Taro åªæ˜¯æŠŠå›è°ƒå‡½æ•°åŒ…è£…äº†ä¸€å±‚ï¼Œå¤„ç†äº†äº‹ä»¶å‚æ•°å’Œ this ç­‰ï¼Œæ‰€ä»¥å’ŒåŸç”Ÿçš„é€Ÿåº¦ç›¸å½“ã€‚</p><p><strong>éƒ¨åˆ†æ›´æ–°ã€äº¤æ¢ã€å¢åŠ </strong></p><p>Taro çš„é€Ÿåº¦ä¼šä¼˜äºåŸç”Ÿã€‚åŸå› æ˜¯ Taro ä¼šå…ˆå¯¹å°†è¦ setData çš„æ•°æ®å’Œå½“å‰ data çš„æ•°æ®åšä¸€æ¬¡ <a href="/taro-docs/docs/2.x/optimized-practice#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%95%B0%E6%8D%AE-diff">diff</a>ï¼Œè¿™èƒ½å¤Ÿå¤§å¤§å‡å°‘ setData çš„æ•°æ®é‡ï¼ŒåŠ å¿«æ¸²æŸ“é€Ÿåº¦ã€‚å¯¹æ¯”ä¸¤ä¸ªæŠ˜çº¿å›¾å¯ä»¥å¾—çŸ¥ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œdiff çš„ä¼˜åŒ–æ”¶ç›Šä¹Ÿè¶Šå¤§ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-å¯¹å°ç¨‹åºçš„æ€§èƒ½ä¼˜åŒ–">Taro å¯¹å°ç¨‹åºçš„æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#taro-å¯¹å°ç¨‹åºçš„æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="setdata">setData<a class="hash-link" href="#setdata" title="Direct link to heading">â€‹</a></h4><p>åœ¨å°ç¨‹åºä¸­ï¼Œæ€§èƒ½çš„é—®é¢˜ä¸»è¦åœ¨äºå•æ¬¡ setData æ•°æ®é‡è¿‡å¤§å’Œé¢‘ç¹è°ƒç”¨ setData ä¸Šã€‚Taro åˆ©ç”¨ diff è§£å†³äº†å•æ¬¡ setData æ•°æ®é‡è¿‡å¤§çš„é—®é¢˜ï¼Œè€Œå¯¹äºé¢‘ç¹è°ƒç”¨ setData ä¹Ÿæœ‰è§£å†³çš„åŠæ³•ã€‚</p><p>Taro çš„ setState éµå¾ª React è§„èŒƒï¼Œä¸åŒäº setData çš„åŒæ­¥æ›´æ–°ï¼Œå®ƒä¼šå¼‚æ­¥åœ°å»æ›´æ–°è§†å›¾ã€‚å› æ­¤å‡è®¾å¼€å‘è€…åœ¨å•æ¬¡äº‹ä»¶å¾ªç¯ä¸­å¤šæ¬¡è°ƒç”¨ setStateï¼Œæœ€åä¹Ÿåªä¼šåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­è¿›è¡Œä¸€æ¬¡ setDataã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="è·³è½¬é¢„åŠ è½½">è·³è½¬é¢„åŠ è½½<a class="hash-link" href="#è·³è½¬é¢„åŠ è½½" title="Direct link to heading">â€‹</a></h4><p>å°ç¨‹åºç”± A é¡µé¢è·³è½¬åˆ° B é¡µé¢çš„è¿‡ç¨‹ä¸­ï¼Œä» A é¡µé¢å‘èµ·è·³è½¬åˆ° B é¡µé¢è§¦å‘ onLoadï¼Œæœ‰ç€ 300~400 æ¯«ç§’çš„å»¶æ—¶ã€‚Taro æä¾›äº† <code>componentWillPreload</code> é’©å­ï¼Œé’©å­ä¼šåœ¨å‘èµ·è·³è½¬åç«‹å³æ‰§è¡Œã€‚å¼€å‘è€…å¯ä»¥å°½æ—©åœ°åœ¨é’©å­é‡Œåšä¸€äº›æ•°æ®æ‹‰å–çš„å·¥ä½œï¼Œç›¸æ¯”åœ¨ onLoad è§¦å‘åå†å»æ‹‰å–æ•°æ®å°±èƒ½å¤ŸèŠ‚çœ 300~400 æ¯«ç§’çš„å»¶æ—¶ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="shouldcomponentupdate--taropurecomponent">shouldComponentUpdate &amp; Taro.PureComponent<a class="hash-link" href="#shouldcomponentupdate--taropurecomponent" title="Direct link to heading">â€‹</a></h4><p>å¼€å‘è€…çš„ Class Component å¯ä»¥ç»§æ‰¿ <code>Taro.PureComponent</code>ï¼Œè¿™æ ·ç»„ä»¶åœ¨æ›´æ–°å‰ä¼šå¯¹æ–°æ—§ props å’Œæ–°æ—§ state å„åšä¸€æ¬¡æµ…å¯¹æ¯”ï¼Œé¿å…ä¸å¿…è¦çš„æ›´æ–°ã€‚å½“ç„¶å¼€å‘è€…å¯ä»¥è‡ªå·±å®ç° <code>shouldComponentUpdate</code>ï¼Œé€šè¿‡æ‰‹åŠ¨æ§åˆ¶æ–°æ—§ props å’Œæ–°æ—§ state çš„å¯¹æ¯”ï¼Œå†³å®šæ˜¯å¦æ›´æ–°ç»„ä»¶ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="taromemo">Taro.memo<a class="hash-link" href="#taromemo" title="Direct link to heading">â€‹</a></h4><p>å¦‚æœå¼€å‘è€…ä¹¦å†™çš„æ˜¯å‡½æ•°å¼ç»„ä»¶ï¼Œåˆ™å¯ä»¥åˆ©ç”¨ <code>Taro.memo</code> å®ç° shouldComponentUpdate çš„ç›¸åŒåŠŸèƒ½ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘ä½“éªŒå¯¹æ¯”">å¼€å‘ä½“éªŒå¯¹æ¯”<a class="hash-link" href="#å¼€å‘ä½“éªŒå¯¹æ¯”" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è¯­æ³•">è¯­æ³•<a class="hash-link" href="#è¯­æ³•" title="Direct link to heading">â€‹</a></h3><p>äº¬ä¸œå°ç¨‹åºçš„åŸç”Ÿè¯­æ³•å’Œå¾®ä¿¡å°ç¨‹åºç›¸ä»¿ï¼Œéƒ½æ˜¯ç±» MVVM è¯­æ³•ï¼Œæ²¡æœ‰æ¥è§¦è¿‡å°ç¨‹åºçš„å¼€å‘è€…æœ‰ä¸€å®šå­¦ä¹ æˆæœ¬ã€‚å¦å¤–æ ·å¼è¯­æ³•ä¸º css çš„å­é›†ï¼Œå…¶ä¸­è‡ªé€‚åº”å°ºå¯¸å•ä½ä¸º rpxï¼Œè¿™æ ·æ„å‘³ç€å¦‚æœæˆ‘ä»¬éœ€è¦ css é¢„å¤„ç†å™¨æ—¶éœ€è¦æ‰‹åŠ¨é…ç½®å·¥ä½œæµï¼Œå¹¶ä¸”åœ¨ç¼–å†™æ ·å¼æ—¶å¤„å¤„æ³¨æ„å°ºå¯¸å•ä½çš„è½¬æ¢ã€‚</p><p>ç›®å‰ Taro éµå¾ª React è¯­æ³•ï¼ˆå°†æ¥ä¼šæ”¯æŒæ‰€æœ‰ Web å‰ç«¯æ¡†æ¶ï¼‰ï¼ŒJSX ä»¤æˆ‘ä»¬çš„ä»£ç æ›´åŠ çµæ´»ã€‚å› æ­¤æ‹¥æœ‰ React å¼€å‘ç»éªŒçš„å¼€å‘è€…å¯ä»¥é©¬ä¸Šä¸Šæ‰‹ Taro çš„å¼€å‘å·¥ä½œã€‚åœ¨æ ·å¼æ–¹é¢ Taro æ”¯æŒåœ¨åˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹©æ˜¯å¦ä½¿ç”¨ css é¢„å¤„ç†å™¨ï¼Œé€‰æ‹©åä¼šè‡ªåŠ¨é…ç½®ç›¸åº”çš„å·¥ä½œæµã€‚å¯¹äºæ ·å¼å•ä½ Taro ä¹Ÿä¼šæŠŠç”¨æˆ·ç¼–å†™çš„ px æ•°å€¼è‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„ rpx æ•°å€¼ï¼Œå¼€å‘è€…æ— éœ€å†åˆ†å¿ƒå¤„ç†å„å¹³å°çš„æ ·å¼å•ä½ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="é¡¹ç›®ç»“æ„">é¡¹ç›®ç»“æ„<a class="hash-link" href="#é¡¹ç›®ç»“æ„" title="Direct link to heading">â€‹</a></h3><p>åŸç”Ÿå¼€å‘ä¸­ï¼Œé¡µé¢å’Œç»„ä»¶å„ç”±4ä¸ªæ–‡ä»¶ï¼ˆjsã€jxmlã€jxssã€jsonï¼‰æ‰€ç»„æˆï¼Œä»£ç ç®¡ç†ç›¸å¯¹éº»çƒ¦ã€‚</p><p>Taro ä¸­é¡µé¢å’Œç»„ä»¶å‡ç”±ä¸€ä»½ js æ–‡ä»¶å’Œä¸€ä»½æ ·å¼æ–‡ä»¶ç»„æˆï¼Œåˆ›å»ºä¸ç»´æŠ¤ååˆ†å®¹æ˜“ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘ç”Ÿæ€">å¼€å‘ç”Ÿæ€<a class="hash-link" href="#å¼€å‘ç”Ÿæ€" title="Direct link to heading">â€‹</a></h3><p>å¾®ä¿¡å°ç¨‹åºç»è¿‡ä¸æ–­è¿­ä»£ï¼Œç›¸ç»§æ¨å‡ºäº†æ’ä»¶ç³»ç»Ÿå’Œæ”¯æŒå¼•ç”¨ npm åŒ…çš„åŠŸèƒ½ã€‚ä½†äº¬ä¸œå°ç¨‹åºæš‚ä¸æ”¯æŒå‰ä¸¤è€…ï¼Œäº¬ä¸œå°ç¨‹åºç¤¾åŒºä¹Ÿè¿˜æ²¡æ‰“é€ èµ·æ¥ï¼Œå¼€å‘ç”Ÿæ€èµ„æºååˆ†åŒ®ä¹ã€‚</p><p>Taro ä¸­ä¸ä½†èƒ½è‡ªç”±å¼•ç”¨ npm åŒ…ï¼Œè€Œä¸”è¿˜å¤§é‡æ”¯æŒ React ç¤¾åŒºä¸­æ²‰æ·€çš„ä¼˜ç§€å·¥å…·å’Œåº“ï¼Œå¦‚ react-reduxã€mobx-react ç­‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘è¾…åŠ©">å¼€å‘è¾…åŠ©<a class="hash-link" href="#å¼€å‘è¾…åŠ©" title="Direct link to heading">â€‹</a></h3><p>äº¬ä¸œå°ç¨‹åºåŸç”Ÿå¼€å‘ä¸æ”¯æŒ Typescriptï¼Œåªèƒ½åœ¨ IDE çš„ç¼–è¾‘å™¨ä¸­æœ‰è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œç¼–ç æ•ˆç‡ä¸é«˜ï¼ŒåŒæ—¶ä¹Ÿå®¹æ˜“å‡ºé”™ã€‚</p><p>Taro å®Œç¾æ”¯æŒ Typescriptï¼Œè‡ªå¸¦ä»£ç æ™ºèƒ½æç¤ºå’Œä»£ç å®æ—¶æ£€æŸ¥åŠŸèƒ½ï¼Œèƒ½è®©å¼€å‘æ•ˆç‡å¤§å¤§æå‡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p>çœ‹åˆ°è¿™é‡Œå¤§å®¶å¯èƒ½ä¼šé—®ï¼ŒTaro æ€§èƒ½çœŸçš„ä¼˜äºåŸç”Ÿå—ï¼Ÿå…¶å®å¹¶ä¸ç„¶ï¼Œé’ˆå¯¹æ¯ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨åŸç”Ÿå†™å‡ºæ€§èƒ½æœ€ä½³çš„ä»£ç ã€‚ä½†æ˜¯è¿™æ ·åšå·¥ä½œé‡å¤ªå¤§ï¼Œå®é™…é¡¹ç›®å¼€å‘ä¸­éœ€è¦æŒæ¡æ•ˆç‡ä¸ä¼˜åŒ–ä¹‹é—´çš„å¹³è¡¡ã€‚Taro çš„ä¼˜åŠ¿åœ¨äºèƒ½è®©æˆ‘ä»¬åœ¨ä¹¦å†™æ›´æœ‰æ•ˆç‡çš„ä»£ç ã€æ‹¥æœ‰æ›´ä¸°å¯Œçš„ç”Ÿæ€çš„åŒæ—¶ï¼Œè¿˜å¸¦æ¥äº†ä¸é”™çš„æ€§èƒ½ã€‚</p><p>æœ€åï¼Œæ¬¢è¿å¤§å®¶æ¥ä½¿ç”¨ Taro å¼€å‘å„ç«¯åº”ç”¨ï¼Œæœ‰ä»»ä½•å¼€å‘é—®é¢˜æˆ–åˆä½œæ„æ„¿è¯·è”ç³» <strong><a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a></strong>ï¼Œæˆ‘ä»¬ä¼šç¬¬ä¸€æ—¶é—´å›å¤ã€‚</p><blockquote><p>ç›¸å…³é“¾æ¥</p></blockquote><blockquote><p><a href="https://taro.jd.com" target="_blank" rel="noopener noreferrer">Taro å®˜æ–¹ç½‘ç«™</a></p></blockquote><blockquote><p><a href="/taro-docs/docs">Taro æ–‡æ¡£</a></p></blockquote><blockquote><p><a href="https://taro-club.jd.com/" target="_blank" rel="noopener noreferrer">Taro è®ºå›</a></p></blockquote>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro Next H5 è·¨æ¡†æ¶ç»„ä»¶åº“å®è·µ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-4-13-taro-components</link>
            <guid>2020-4-13-taro-components</guid>
            <pubDate>Mon, 13 Apr 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/108543/10/12151/1750297/5e93ef97Ef424d4a7/29cf4e4364e5d3f0.png" alt="image" class="img_ROth"></p><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a> æ˜¯ä¸€æ¬¾å¤šç«¯å¼€å‘æ¡†æ¶ã€‚å¼€å‘è€…åªéœ€ç¼–å†™ä¸€ä»½ä»£ç ï¼Œå³å¯ç”Ÿæˆå„å°ç¨‹åºç«¯ã€H5 ä»¥åŠ React Native çš„åº”ç”¨ã€‚</p><blockquote><p><a href="/taro-docs/docs">Taro Next</a> è¿‘æœŸå·²å‘å¸ƒ beta ç‰ˆæœ¬ï¼Œå…¨é¢å®Œå–„å¯¹å°ç¨‹åºä»¥åŠ H5 çš„æ”¯æŒï¼Œæ¬¢è¿ä½“éªŒï¼</p></blockquote><p>æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¯¹ <strong>Taro H5 ç«¯ç»„ä»¶åº“</strong>çš„æ”¹é€ å·¥ä½œã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-next-å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘">Taro Next å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘<a class="hash-link" href="#taro-next-å°†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶å¼€å‘" title="Direct link to heading">â€‹</a></h3><p>è¿‡å»çš„ Taro 1 ä¸ Taro 2 åªèƒ½ä½¿ç”¨ React è¯­æ³•è¿›è¡Œå¼€å‘ï¼Œä½†ä¸‹ä¸€ä»£çš„ Taro æ¡†æ¶å¯¹æ•´ä½“æ¶æ„è¿›è¡Œäº†<a href="https://aotu.io/notes/2020/02/03/taro-next-alpha/" target="_blank" rel="noopener noreferrer">å‡çº§</a>ï¼Œæ”¯æŒä½¿ç”¨ Reactã€Vueã€Nerv ç­‰æ¡†æ¶å¼€å‘å¤šç«¯åº”ç”¨ã€‚</p><p>ä¸ºäº†æ”¯æŒä½¿ç”¨å¤šæ¡†æ¶è¿›è¡Œå¼€å‘ï¼ŒTaro éœ€è¦å¯¹è‡ªèº«çš„å„ç«¯é€‚é…èƒ½åŠ›è¿›è¡Œæ”¹é€ ã€‚æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å¯¹ <strong>Taro H5 ç«¯ç»„ä»¶åº“</strong>çš„æ”¹é€ å·¥ä½œã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-h5">Taro H5<a class="hash-link" href="#taro-h5" title="Direct link to heading">â€‹</a></h3><p>Taro éµå¾ªä»¥å¾®ä¿¡å°ç¨‹åºä¸ºä¸»ï¼Œå…¶ä»–å°ç¨‹åºä¸ºè¾…çš„ç»„ä»¶ä¸ API è§„èŒƒã€‚</p><p>ä½†æµè§ˆå™¨å¹¶æ²¡æœ‰å°ç¨‹åºè§„èŒƒçš„ç»„ä»¶ä¸ API å¯ä¾›ä½¿ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬ä¸èƒ½åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨å°ç¨‹åºçš„ <code>view</code> ç»„ä»¶å’Œ <code>getSystemInfo</code>  APIã€‚å› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ H5 ç«¯å®ç°ä¸€å¥—åŸºäºå°ç¨‹åºè§„èŒƒçš„ç»„ä»¶åº“å’Œ API åº“ã€‚</p><blockquote><p>Taro H5 æ¶æ„å›¾ï¼š</p></blockquote><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/WX20200402-140148.png" class="img_ROth"></p><p>åœ¨ Taro 1 å’Œ Taro 2 ä¸­ï¼ŒTaro H5 çš„ç»„ä»¶åº“ä½¿ç”¨äº† React è¯­æ³•è¿›è¡Œå¼€å‘ã€‚ä½†å¦‚æœå¼€å‘è€…åœ¨ Taro Next ä¸­ä½¿ç”¨ Vue å¼€å‘ H5 åº”ç”¨ï¼Œåˆ™ä¸èƒ½å’Œç°æœ‰çš„ H5 ç»„ä»¶åº“å…¼å®¹ã€‚</p><p>æ‰€ä»¥æœ¬æ–‡éœ€è¦é¢å¯¹çš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯ï¼š<strong>æˆ‘ä»¬éœ€è¦åœ¨ H5 ç«¯å®ç° Reactã€Vue ç­‰æ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨çš„ç»„ä»¶åº“</strong>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ–¹æ¡ˆé€‰æ‹©">æ–¹æ¡ˆé€‰æ‹©<a class="hash-link" href="#æ–¹æ¡ˆé€‰æ‹©" title="Direct link to heading">â€‹</a></h3><p>æˆ‘ä»¬æœ€å…ˆæƒ³åˆ°çš„æ˜¯ä½¿ç”¨ Vue å†å¼€å‘ä¸€å¥—ç»„ä»¶åº“ï¼Œè¿™æ ·æœ€ä¸ºç¨³å¦¥ï¼Œå·¥ä½œé‡ä¹Ÿæ²¡æœ‰ç‰¹åˆ«å¤§ã€‚</p><p>ä½†è€ƒè™‘åˆ°ä»¥ä¸‹ä¸¤ç‚¹ï¼Œæˆ‘ä»¬é‚æ”¾å¼ƒäº†æ­¤æ€è·¯ï¼š</p><ol><li>ç»„ä»¶åº“çš„å¯ç»´æŠ¤æ€§å’Œæ‹“å±•æ€§ä¸è¶³ã€‚æ¯å½“æœ‰é—®é¢˜éœ€è¦ä¿®å¤æˆ–æ–°åŠŸèƒ½éœ€è¦æ·»åŠ ï¼Œæˆ‘ä»¬éœ€è¦åˆ†åˆ«å¯¹ React å’Œ Vue ç‰ˆæœ¬çš„ç»„ä»¶åº“è¿›è¡Œæ”¹é€ ã€‚</li><li>Taro Next çš„ç›®æ ‡æ˜¯æ”¯æŒä½¿ç”¨ä»»æ„æ¡†æ¶å¼€å‘å¤šç«¯åº”ç”¨ã€‚å€˜è‹¥å°†æ¥æ”¯æŒä½¿ç”¨ Angular ç­‰æ¡†æ¶è¿›è¡Œå¼€å‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å†å¼€å‘å¯¹åº”æ”¯æŒ Angular ç­‰æ¡†æ¶çš„ç»„ä»¶åº“ã€‚</li></ol><p>é‚£ä¹ˆæ˜¯å¦å­˜åœ¨ç€ä¸€ç§æ–¹æ¡ˆï¼Œä½¿å¾—åªç”¨ä¸€ä»½ä»£ç æ„å»ºçš„ç»„ä»¶åº“èƒ½å…¼å®¹æ‰€æœ‰çš„ web å¼€å‘æ¡†æ¶å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå°±æ˜¯ <strong>Web Components</strong>ã€‚</p><p>ä½†åœ¨ç»„ä»¶åº“æ”¹é€ ä¸º Web Components çš„è¿‡ç¨‹å¹¶ä¸æ˜¯ä¸€å‡¡é£é¡ºçš„ï¼Œæˆ‘ä»¬ä¹Ÿé‡åˆ°äº†ä¸å°‘çš„é—®é¢˜ï¼Œæ•…å€Ÿæ­¤æ–‡å‘å¤§å®¶å¨“å¨“é“æ¥ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="web-components-ç®€ä»‹">Web Components ç®€ä»‹<a class="hash-link" href="#web-components-ç®€ä»‹" title="Direct link to heading">â€‹</a></h2><p><a href="https://www.webcomponents.org/introduction" target="_blank" rel="noopener noreferrer">Web Components</a> ç”±ä¸€ç³»åˆ—çš„æŠ€æœ¯è§„èŒƒæ‰€ç»„æˆï¼Œå®ƒè®©å¼€å‘è€…å¯ä»¥å¼€å‘å‡ºæµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ç»„ä»¶ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æŠ€æœ¯è§„èŒƒ">æŠ€æœ¯è§„èŒƒ<a class="hash-link" href="#æŠ€æœ¯è§„èŒƒ" title="Direct link to heading">â€‹</a></h3><p>Web Components çš„ä¸»è¦æŠ€æœ¯è§„èŒƒä¸ºï¼š</p><ul><li>Custom Elements</li><li>Shadow DOM</li><li>HTML Template</li></ul><p>Custom Elements è®©å¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰å¸¦æœ‰ç‰¹å®šè¡Œä¸ºçš„ HTML æ ‡ç­¾ã€‚</p><p>Shadow DOM å¯¹æ ‡ç­¾å†…çš„ç»“æ„å’Œæ ·å¼è¿›è¡Œä¸€å±‚åŒ…è£…ã€‚</p><p><code>&lt;template&gt;</code> æ ‡ç­¾ä¸º Web Components æä¾›å¤ç”¨æ€§ï¼Œè¿˜å¯ä»¥é…åˆ <code>&lt;slot&gt;</code> æ ‡ç­¾æä¾›çµæ´»æ€§ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤ºä¾‹">ç¤ºä¾‹<a class="hash-link" href="#ç¤ºä¾‹" title="Direct link to heading">â€‹</a></h3><p>å®šä¹‰æ¨¡æ¿ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">template</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hello World!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ„é€  Custom Elementï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">HTMLElement</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">arguments</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¼€å¯ Shadow DOM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> shadowRoot </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">attachShadow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">mode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'open'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¤ç”¨ &lt;template&gt; å®šä¹‰å¥½çš„ç»“æ„ </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> template </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'#template'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> template</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cloneNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    shadowRoot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">appendChild</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">customElements</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">define</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'my-app'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½¿ç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">my-app</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">my-app</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="stencil">Stencil<a class="hash-link" href="#stencil" title="Direct link to heading">â€‹</a></h2><p>ä½¿ç”¨åŸç”Ÿè¯­æ³•å»ç¼–å†™ Web Components ç›¸å½“ç¹çï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¡†æ¶å¸®åŠ©æˆ‘ä»¬æé«˜å¼€å‘æ•ˆç‡å’Œå¼€å‘ä½“éªŒã€‚</p><p>ä¸šç•Œå·²ç»æœ‰å¾ˆå¤šæˆç†Ÿçš„ <a href="https://www.webcomponents.org/libraries" target="_blank" rel="noopener noreferrer">Web Components æ¡†æ¶</a>ï¼Œä¸€ç•ªæ¯”è¾ƒåæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† <a href="https://stenciljs.com/docs/introduction" target="_blank" rel="noopener noreferrer">Stencil</a>ï¼ŒåŸå› æœ‰äºŒï¼š</p><ol><li>Stencil ç”± Ionic å›¢é˜Ÿæ‰“é€ ï¼Œè¢«ç”¨äºæ„å»º Ionic çš„ç»„ä»¶åº“ï¼Œè¯æ˜ç»å—è¿‡ä¸šç•Œè€ƒéªŒã€‚</li><li>Stencil æ”¯æŒ JSXï¼Œèƒ½å‡å°‘ç°æœ‰ç»„ä»¶åº“çš„è¿ç§»æˆæœ¬ã€‚</li></ol><p>Stencil æ˜¯ä¸€ä¸ªå¯ä»¥ç”Ÿæˆ Web Components çš„ç¼–è¯‘å™¨ã€‚å®ƒç³…åˆäº†ä¸šç•Œå‰ç«¯æ¡†æ¶çš„ä¸€äº›ä¼˜ç§€æ¦‚å¿µï¼Œå¦‚æ”¯æŒ Typescriptã€JSXã€è™šæ‹Ÿ DOM ç­‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤ºä¾‹-1">ç¤ºä¾‹ï¼š<a class="hash-link" href="#ç¤ºä¾‹-1" title="Direct link to heading">â€‹</a></h3><p>åˆ›å»º Stencil Componentï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Prop</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> State</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@stencil/core'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function" style="color:#d73a49">Component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">tag</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'my-component'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function" style="color:#d73a49">Prop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token function" style="color:#d73a49">State</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> last </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'JS'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidLoad</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'load'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        Hello, my name is </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">first</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">last</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½¿ç”¨ç»„ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">my-component</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">first</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">Taro</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="åœ¨-react-ä¸-vue-ä¸­ä½¿ç”¨-stencil">åœ¨ React ä¸ Vue ä¸­ä½¿ç”¨ Stencil<a class="hash-link" href="#åœ¨-react-ä¸-vue-ä¸­ä½¿ç”¨-stencil" title="Direct link to heading">â€‹</a></h2><p>åˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡éƒ½é‚£ä¹ˆç¾å¥½ï¼šä½¿ç”¨ Stencil ç¼–å†™å‡º Web Componentsï¼Œå³å¯ä»¥åœ¨ React å’Œ Vue ä¸­ç›´æ¥ä½¿ç”¨å®ƒä»¬ã€‚</p><p>ä½†å®é™…ä½¿ç”¨ä¸Šå´ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œ<a href="https://custom-elements-everywhere.com/" target="_blank" rel="noopener noreferrer">Custom Elements Everywhere</a> é€šè¿‡ä¸€ç³»åˆ—çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç½—åˆ—å‡ºä¸šç•Œå‰ç«¯æ¡†æ¶å¯¹ Web Components çš„å…¼å®¹é—®é¢˜åŠç›¸å…³ issuesã€‚ä¸‹é¢å°†ç®€å•ä»‹ç» Taro H5 ç»„ä»¶åº“åˆ†åˆ«å¯¹ React å’Œ Vue çš„å…¼å®¹å·¥ä½œã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å…¼å®¹-react">å…¼å®¹ React<a class="hash-link" href="#å…¼å®¹-react" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-props">1. Props<a class="hash-link" href="#1-props" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="11-é—®é¢˜">1.1 é—®é¢˜<a class="hash-link" href="#11-é—®é¢˜" title="Direct link to heading">â€‹</a></h5><p>React ä½¿ç”¨ <code>setAttribute</code> çš„å½¢å¼ç»™ Web Components ä¼ é€’å‚æ•°ã€‚å½“å‚æ•°ä¸ºåŸå§‹ç±»å‹æ—¶æ˜¯å¯ä»¥è¿è¡Œçš„ï¼Œä½†æ˜¯å¦‚æœå‚æ•°ä¸ºå¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œç”±äº HTML å…ƒç´ çš„ attribute å€¼åªèƒ½ä¸ºå­—ç¬¦ä¸²æˆ– nullï¼Œæœ€ç»ˆç»™ WebComponents è®¾ç½®çš„ attribute ä¼šæ˜¯ <code>attr="[object Object]"</code>ã€‚</p><blockquote><p>attribute ä¸ property <a href="https://stackoverflow.com/questions/6003819/what-is-the-difference-between-properties-and-attributes-in-html#answer-6004028" target="_blank" rel="noopener noreferrer">åŒºåˆ«</a></p></blockquote><h5 class="anchor anchorWithStickyNavbar_IyCF" id="12-è§£å†³æ–¹æ¡ˆ">1.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#12-è§£å†³æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h5><p>é‡‡ç”¨ <strong>DOM Property</strong> çš„æ–¹æ³•ä¼ å‚ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠ Web Components åŒ…è£…ä¸€å±‚é«˜é˜¶ç»„ä»¶ï¼ŒæŠŠé«˜é˜¶ç»„ä»¶ä¸Šçš„ props è®¾ç½®ä¸º Web Components çš„ propertyï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">reactifyWebComponent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter constant" style="color:#36acaa">WC</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">extends</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ref </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">update</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">entries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter">prop</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> val</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prop </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'children'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> prop </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'dangerouslySetInnerHTML'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prop </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'style'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'object'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> key </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> val</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">prop</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> val</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentDidUpdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> children</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dangerouslySetInnerHTML </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">WC</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">ref</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dangerouslySetInnerHTML</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> children</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">MyComponent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reactifyWebComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'my-component'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ³¨æ„ï¼š</p><ul><li>childrenã€dangerouslySetInnerHTML å±æ€§éœ€è¦é€ä¼ ã€‚</li><li>React ä¸­ style å±æ€§å€¼å¯ä»¥æ¥å—å¯¹è±¡å½¢å¼ï¼Œè¿™é‡Œéœ€è¦é¢å¤–å¤„ç†ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-events">2. Events<a class="hash-link" href="#2-events" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="21-é—®é¢˜">2.1 é—®é¢˜<a class="hash-link" href="#21-é—®é¢˜" title="Direct link to heading">â€‹</a></h5><p>å› ä¸º React æœ‰ä¸€å¥—<a href="https://reactjs.org/docs/events.html" target="_blank" rel="noopener noreferrer">åˆæˆäº‹ä»¶ç³»ç»Ÿ</a>ï¼Œæ‰€ä»¥å®ƒä¸èƒ½ç›‘å¬åˆ° Web Components å‘å‡ºçš„è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><p>ä»¥ä¸‹ Web Component çš„ onLongPress å›è°ƒä¸ä¼šè¢«è§¦å‘ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">my-view</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onLongPress</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">{onLongPress}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">view</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">my-view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h5 class="anchor anchorWithStickyNavbar_IyCF" id="22-è§£å†³æ–¹æ¡ˆ">2.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#22-è§£å†³æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h5><p>é€šè¿‡ ref å–å¾— Web Component å…ƒç´ ï¼Œæ‰‹åŠ¨ <strong>addEventListener</strong> ç»‘å®šäº‹ä»¶ã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„é«˜é˜¶ç»„ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">reactifyWebComponent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter constant" style="color:#36acaa">WC</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ref </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eventHandlers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">update</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clearEventHandlers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">entries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter">prop</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> val</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> val </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'function'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> prop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">match</span><span class="token punctuation" style="color:#393A34">(</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">^on[A-Z]</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> event </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> prop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">substr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">eventHandlers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> val</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">clearEventHandlers</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">eventHandlers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter">event</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> handler</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">eventHandlers</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentWillUnmount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clearEventHandlers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="3-ref">3. Ref<a class="hash-link" href="#3-ref" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="31-é—®é¢˜">3.1 é—®é¢˜<a class="hash-link" href="#31-é—®é¢˜" title="Direct link to heading">â€‹</a></h5><p>æˆ‘ä»¬ä¸ºäº†è§£å†³ Props å’Œ Events çš„é—®é¢˜ï¼Œå¼•å…¥äº†é«˜é˜¶ç»„ä»¶ã€‚é‚£ä¹ˆå½“å¼€å‘è€…å‘é«˜é˜¶ç»„ä»¶ä¼ å…¥ ref æ—¶ï¼Œè·å–åˆ°çš„å…¶å®æ˜¯é«˜é˜¶ç»„ä»¶ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å¼€å‘è€…èƒ½è·å–åˆ°å¯¹åº”çš„ Web Componentã€‚</p><p>domRef ä¼šè·å–åˆ° <code>MyComponent</code>ï¼Œè€Œä¸æ˜¯ <code>&lt;my-component&gt;&lt;/my-component&gt;</code></p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">MyComponent</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">domRef</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h5 class="anchor anchorWithStickyNavbar_IyCF" id="32-è§£å†³æ–¹æ¡ˆ">3.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#32-è§£å†³æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h5><p>ä½¿ç”¨ <a href="https://reactjs.org/docs/forwarding-refs.html#forwarding-refs-to-dom-components" target="_blank" rel="noopener noreferrer">forwardRef</a> ä¼ é€’ refã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„é«˜é˜¶ç»„ä»¶ä¸º forwardRef å½¢å¼ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">reactifyWebComponent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter constant" style="color:#36acaa">WC</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> children</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> forwardRef </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">WC</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">ref</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> forwardRef</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> children</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forwardRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> ref</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">forwardRef</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ref </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="4-hosts-classname">4. Host's className<a class="hash-link" href="#4-hosts-classname" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="41-é—®é¢˜">4.1 é—®é¢˜<a class="hash-link" href="#41-é—®é¢˜" title="Direct link to heading">â€‹</a></h5><p>åœ¨ Stencil é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Host ç»„ä»¶ä¸º host element æ·»åŠ ç±»åã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Host</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> h </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@stencil/core'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token function maybe-class-name" style="color:#d73a49">Component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">tag</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'todo-list'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">TodoList</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Host</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'todo-list'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">todo</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Host</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç„¶ååœ¨ä½¿ç”¨ <code>&lt;todo-list&gt;</code> å…ƒç´ æ—¶ä¼šå±•ç¤ºæˆ‘ä»¬å†…ç½®çš„ç±»å â€œtodo-listâ€ å’Œ Stencil è‡ªåŠ¨åŠ å…¥çš„ç±»å â€œhydratedâ€ï¼š</p><p><img loading="lazy" src="https://storage.jd.com/cjj-pub-images/WX20200401-102833.png" class="img_ROth"></p><p>ä½†å¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨æ—¶è®¾ç½®äº†åŠ¨æ€ç±»åï¼Œå¦‚ï¼š <code>&lt;todo-list class={this.state.cls}&gt;</code>ã€‚é‚£ä¹ˆåœ¨åŠ¨æ€ç±»åæ›´æ–°æ—¶ï¼Œåˆ™ä¼šæŠŠå†…ç½®çš„ç±»å â€œtodo-listâ€ å’Œ â€œhydratedâ€ æŠ¹é™¤æ‰ã€‚</p><p><strong>å…³äºç±»å â€œhydratedâ€ï¼š</strong></p><p>Stencil ä¼šä¸ºæ‰€æœ‰ Web Components åŠ ä¸Š <code>visibility: hidden;</code> çš„æ ·å¼ã€‚ç„¶ååœ¨å„ Web Component åˆå§‹åŒ–å®ŒæˆååŠ å…¥ç±»å â€œhydratedâ€ï¼Œå°† <code>visibility</code> æ”¹ä¸º <code>inherit</code>ã€‚å¦‚æœ â€œhydratedâ€ è¢«æŠ¹é™¤æ‰ï¼ŒWeb Components å°†ä¸å¯è§ã€‚</p><p>å› æ­¤æˆ‘ä»¬éœ€è¦ä¿è¯åœ¨ç±»åæ›´æ–°æ—¶ä¸ä¼šè¦†ç›– Web Components çš„å†…ç½®ç±»åã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="42-è§£å†³æ–¹æ¡ˆ">4.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#42-è§£å†³æ–¹æ¡ˆ" title="Direct link to heading">â€‹</a></h5><p>é«˜é˜¶ç»„ä»¶åœ¨ä½¿ç”¨ ref ä¸º Web Component è®¾ç½® className å±æ€§æ—¶ï¼Œå¯¹å†…ç½® class è¿›è¡Œåˆå¹¶ã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„é«˜é˜¶ç»„ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">reactifyWebComponent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token parameter constant" style="color:#36acaa">WC</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">update</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">prevProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">entries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter">prop</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> val</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prop</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'classname'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">className</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> prevProps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// getClassName åœ¨ä¿ç•™å†…ç½®ç±»åçš„æƒ…å†µä¸‹ï¼Œè¿”å›æœ€æ–°çš„ç±»å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getClassName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prevProps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> val</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentDidUpdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">prevProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prevProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forwardRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> ref</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Index</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">forwardRef</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ref </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å…¼å®¹-vue">å…¼å®¹ Vue<a class="hash-link" href="#å…¼å®¹-vue" title="Direct link to heading">â€‹</a></h3><p>ä¸åŒäº Reactï¼Œè™½ç„¶ Vue åœ¨ä¼ é€’å‚æ•°ç»™ Web Components æ—¶ä¹Ÿæ˜¯é‡‡ç”¨ <code>setAttribute</code> çš„æ–¹å¼ï¼Œä½† v-bind æŒ‡ä»¤æä¾›äº† <a href="https://cn.vuejs.org/v2/api/#v-bind" target="_blank" rel="noopener noreferrer">.prop</a> ä¿®é¥°ç¬¦ï¼Œå®ƒå¯ä»¥å°†å‚æ•°ä½œä¸º DOM property æ¥ç»‘å®šã€‚å¦å¤– Vue ä¹Ÿèƒ½ç›‘å¬ Web Components å‘å‡ºçš„è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><p>å› æ­¤ Vue åœ¨ Props å’Œ Events ä¸¤ä¸ªé—®é¢˜ä¸Šéƒ½ä¸éœ€è¦é¢å¤–å¤„ç†ï¼Œä½†åœ¨ä¸ Stencil çš„é…åˆä¸Šè¿˜æ˜¯æœ‰ä¸€äº›å…¼å®¹é—®é¢˜ï¼Œæ¥ä¸‹æ¥å°†åˆ—å‡ºä¸»è¦çš„ä¸‰ç‚¹ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-hosts-classname">1. Host's className<a class="hash-link" href="#1-hosts-classname" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="11-é—®é¢˜-1">1.1 é—®é¢˜<a class="hash-link" href="#11-é—®é¢˜-1" title="Direct link to heading">â€‹</a></h5><p>åŒä¸Šæ–‡å…¼å®¹ React ç¬¬å››éƒ¨åˆ†ï¼Œåœ¨ Vue ä¸­æ›´æ–° host element çš„ classï¼Œä¹Ÿä¼šè¦†ç›–å†…ç½® classã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="12-è§£å†³æ–¹æ¡ˆ-1">1.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#12-è§£å†³æ–¹æ¡ˆ-1" title="Direct link to heading">â€‹</a></h5><p>åŒæ ·çš„æ€è·¯ï¼Œéœ€è¦åœ¨ Web Components ä¸ŠåŒ…è£…ä¸€å±‚ Vue çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">name</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> classNames </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">computed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">listeners</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$listeners</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">createElement</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'hydrated'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">classNames</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">on</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listeners</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$slots</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'todo-list'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'todo-list'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'todo-list'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ³¨æ„ï¼š</p><ul><li>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­é‡å¤å£°æ˜äº† Web Component è¯¥æœ‰çš„å†…ç½®ç±»åã€‚åç»­å¼€å‘è€…ä¸ºè‡ªå®šä¹‰ç»„ä»¶è®¾ç½®ç±»åæ—¶ï¼ŒVue å°†ä¼š<a href="https://cn.vuejs.org/v2/guide/components-props.html#%E6%9B%BF%E6%8D%A2-%E5%90%88%E5%B9%B6%E5%B7%B2%E6%9C%89%E7%9A%84-Attribute" target="_blank" rel="noopener noreferrer">è‡ªåŠ¨å¯¹ç±»åè¿›è¡Œåˆå¹¶</a>ã€‚</li><li>éœ€è¦æŠŠè‡ªå®šä¹‰ç»„ä»¶ä¸Šç»‘å®šçš„äº‹ä»¶é€šè¿‡ <a href="https://cn.vuejs.org/v2/guide/components-custom-events.html#%E5%B0%86%E5%8E%9F%E7%94%9F%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E7%BB%84%E4%BB%B6" target="_blank" rel="noopener noreferrer">$listeners</a> é€ä¼ ç»™ Web Componentã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-ref">2. Ref<a class="hash-link" href="#2-ref" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="21-é—®é¢˜-1">2.1 é—®é¢˜<a class="hash-link" href="#21-é—®é¢˜-1" title="Direct link to heading">â€‹</a></h5><p>ä¸ºäº†è§£å†³é—®é¢˜ 1ï¼Œæˆ‘ä»¬ç»™ Vue ä¸­çš„ Web Components éƒ½åŒ…è£…äº†ä¸€å±‚è‡ªå®šä¹‰ç»„ä»¶ã€‚åŒæ ·åœ°ï¼Œå¼€å‘è€…åœ¨ä½¿ç”¨ ref æ—¶å–åˆ°çš„æ˜¯è‡ªå®šä¹‰ç»„ä»¶ï¼Œè€Œä¸æ˜¯ Web Componentã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="22-è§£å†³æ–¹æ¡ˆ-1">2.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#22-è§£å†³æ–¹æ¡ˆ-1" title="Direct link to heading">â€‹</a></h5><p>Vue å¹¶æ²¡æœ‰ forwardRef çš„æ¦‚å¿µï¼Œåªå¯ç®€å•ç²—æš´åœ°ä¿®æ”¹ <code>this.$parent.$refs</code>ã€‚</p><p>ä¸ºè‡ªå®šä¹‰ç»„ä»¶å¢åŠ ä¸€ä¸ª mixinï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> refs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">mounted</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$refs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> refs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$refs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> key </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> refs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">refs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          refs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$el</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">beforeDestroy</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">keys</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$refs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> refs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$parent</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$refs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> key </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> refs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">refs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$el</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          refs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ³¨æ„ï¼š</p><ul><li>ä¸Šè¿°ä»£ç æ²¡æœ‰å¤„ç†å¾ªç¯ refï¼Œå¾ªç¯ ref è¿˜éœ€è¦å¦å¤–åˆ¤æ–­å’Œå¤„ç†ã€‚</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="3-v-model">3. v-model<a class="hash-link" href="#3-v-model" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="31-é—®é¢˜-1">3.1 é—®é¢˜<a class="hash-link" href="#31-é—®é¢˜-1" title="Direct link to heading">â€‹</a></h5><p>æˆ‘ä»¬åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ä½¿ç”¨äº†æ¸²æŸ“å‡½æ•°è¿›è¡Œæ¸²æŸ“ï¼Œå› æ­¤å¯¹è¡¨å•ç»„ä»¶éœ€è¦é¢å¤–å¤„ç† <a href="https://cn.vuejs.org/v2/guide/render-function.html#v-model" target="_blank" rel="noopener noreferrer">v-model</a>ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="32-è§£å†³æ–¹æ¡ˆ-1">3.2 è§£å†³æ–¹æ¡ˆ<a class="hash-link" href="#32-è§£å†³æ–¹æ¡ˆ-1" title="Direct link to heading">â€‹</a></h5><p>ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šçš„ <code>model</code> é€‰é¡¹ï¼Œå®šåˆ¶ç»„ä»¶ä½¿ç”¨ <code>v-model</code> æ—¶çš„ prop å’Œ eventã€‚</p><p>æ”¹é€ ä¸Šè¿°çš„è‡ªå®šä¹‰ç»„ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createFormsComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> modelValue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'value'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> classNames </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">computed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">listeners</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$listeners</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">prop</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> modelValue</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">event</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'model'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">methods</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">input</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">$emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'input'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">$emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'model'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">change</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">$emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'change'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">$emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'model'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">target</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">createElement</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">class</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'hydrated'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">classNames</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">on</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token spread operator" style="color:#393A34">...</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">listeners</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$slots</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Input</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createFormsComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'taro-input'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'input'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Switch</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createFormsComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'taro-switch'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'change'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'checked'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'taro-input'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Input</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Vue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'taro-switch'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Switch</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ€»ç»“">æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">â€‹</a></h2><p>å½“æˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸€äº›ä¸æ‹˜æ³¥äºæ¡†æ¶çš„ç»„ä»¶æ—¶ï¼ŒWeb Components ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚æ¯”å¦‚è·¨å›¢é˜Ÿåä½œï¼ŒåŒæ–¹çš„æŠ€æœ¯æ ˆä¸åŒï¼Œä½†åˆéœ€è¦å…¬ç”¨éƒ¨åˆ†ç»„ä»¶æ—¶ã€‚</p><p>æœ¬æ¬¡å¯¹ React è¯­æ³•ç»„ä»¶åº“è¿›è¡Œ Web Components åŒ–æ”¹é€ ï¼Œå·¥ä½œé‡ä¸ä¸‹äºé‡æ–°æ­å»ºä¸€ä¸ª Vue ç»„ä»¶åº“ã€‚ä½†æ—¥åå½“ Taro æ”¯æŒä½¿ç”¨å…¶ä»–æ¡†æ¶ç¼–å†™å¤šç«¯åº”ç”¨æ—¶ï¼Œåªéœ€è¦é’ˆå¯¹å¯¹åº”æ¡†æ¶ä¸ Web Components å’Œ Stencil çš„å…¼å®¹é—®é¢˜ç¼–å†™ä¸€ä¸ªèƒ¶æ°´å±‚å³å¯ï¼Œæ€»ä½“æ¥çœ‹è¿˜æ˜¯å€¼å¾—çš„ã€‚</p><p>å…³äºèƒ¶æ°´å±‚ï¼Œä¸šç•Œå…¼å®¹ React çš„æ–¹æ¡ˆé¢‡å¤šï¼Œåªæ˜¯å…¼å®¹ Web Components å¯ä»¥ä½¿ç”¨ <a href="https://github.com/BBKolton/reactify-wc" target="_blank" rel="noopener noreferrer">reactify-wc</a>ï¼Œé…åˆ Stencil åˆ™å¯ä»¥ä½¿ç”¨å®˜æ–¹æä¾›çš„æ’ä»¶ <a href="https://github.com/ionic-team/stencil-ds-plugins/blob/master/README.md" target="_blank" rel="noopener noreferrer">Stencil DS Plugin</a>ã€‚å€˜è‹¥ Vue éœ€è¦å…¼å®¹ Stencilï¼Œæˆ–éœ€è¦æé«˜å…¼å®¹æ—¶çš„çµæ´»æ€§ï¼Œè¿˜æ˜¯å»ºè®®æ‰‹å·¥ç¼–å†™ä¸€ä¸ªèƒ¶æ°´å±‚ã€‚</p><p>æœ¬æ–‡ç®€å•ä»‹ç»äº† Taro Nextã€Web Componentsã€Stencil ä»¥åŠåŸºäº Stencil çš„ç»„ä»¶åº“æ”¹é€ å†ç¨‹ï¼Œå¸Œæœ›èƒ½ä¸ºè¯»è€…ä»¬å¸¦æ¥ä¸€äº›å¸®åŠ©ä¸å¯è¿ªã€‚</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro Next å‘å¸ƒé¢„è§ˆç‰ˆï¼šåŒæ—¶æ”¯æŒ React / Vue / Nerv]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-02-13-taro-next-alpha</link>
            <guid>2020-02-13-taro-next-alpha</guid>
            <pubDate>Thu, 13 Feb 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/103557/3/12087/1051626/5e44b357E4cab8765/d8c821c4a3e1060d.png" alt="image" class="img_ROth"></p><p>è‡ª Taro 2.0 èµ·ï¼Œæˆ‘ä»¬å°†ä¼šå¯åŠ¨å¯¹æ•´ä¸ª Taro ç³»ç»Ÿæ¶æ„çš„é©æ–°ï¼Œè¿™æ¬¡é©æ–°æˆ‘ä»¬å°†å…¶ç§°ä¹‹ä¸º Taro Nextã€‚Taro Next é©æ–°å®Œæˆä¹‹åï¼ŒTaro æœ¬èº«çš„æ‹“å±•æ€§ã€ç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§éƒ½ä¼šå¤§å¹…æé«˜ï¼Œç›¸åº”åœ°ï¼Œä½¿ç”¨ Taro çš„å¼€å‘è€…ä¹Ÿä¼šè·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒï¼Œé™ä½æ›´å¤šå¼€å‘æˆæœ¬å’Œå­¦ä¹ æˆæœ¬ã€‚</p><p>æˆ‘ä»¬ç›®å‰å·²ç»å®Œæˆäº†<strong>ç¼–è¯‘ç³»ç»Ÿå’Œå°ç¨‹åºç«¯çš„é‡æ„</strong>ï¼Œé€šè¿‡ <code>npm i -g @tarojs/cli@next</code> å®‰è£… Taro CLI é¢„è§ˆï¼ˆalphaï¼‰ç‰ˆä¹‹åï¼Œä½¿ç”¨ <code>taro init</code> åˆ›å»ºæ–°é¡¹ç›®å³å¯ä½“éªŒ Taro Next çš„æ–°ç‰¹æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="åŒæ—¶æ”¯æŒ-reactvuenerv-ä¸‰ç§æ¡†æ¶">åŒæ—¶æ”¯æŒ React/Vue/Nerv ä¸‰ç§æ¡†æ¶<a class="hash-link" href="#åŒæ—¶æ”¯æŒ-reactvuenerv-ä¸‰ç§æ¡†æ¶" title="Direct link to heading">â€‹</a></h2><p>åœ¨æ—§ç‰ˆæœ¬çš„ Taroï¼Œæˆ‘ä»¬ä»¥å¾®ä¿¡å°ç¨‹åºçš„å¼€å‘è§„èŒƒä¸ºåŸºå‡†ï¼Œä½¿ç”¨ React/JSX çš„æ–¹å¼æ¥è¿›è¡Œå¼€å‘ã€‚è€Œåœ¨ Taro Nextï¼Œæˆ‘ä»¬æŠŠè¿™ä¸€æ€è·¯é‡åŒ–ä¸ºä¸€ä¸ªç¼–ç¨‹æ¨¡å‹ï¼š</p><p>è®¾å¾®ä¿¡å°ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸ºä¸€ä¸ª <code>interface</code>ï¼Œä¸åŒçš„æ¡†æ¶å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸè™½ç„¶ä¸å°½ç›¸åŒï¼Œä½†æˆ‘ä»¬å¯ä»¥æ ¹æ®æ¡†æ¶ç”Ÿå‘½å‘¨æœŸåˆ†åˆ«æ–°å»ºä¸€ä¸ª <code>class</code> å» <code>implements</code> å°ç¨‹åºç”Ÿå‘½å‘¨æœŸçš„ <code>interface</code>ã€‚ç›¸åº”åœ°ï¼Œå°ç¨‹åºçš„ç»„ä»¶/API/è·¯ç”±è§„èŒƒå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ€è·¯å’Œæ¨¡å‹è®©ä¸åŒæ¡†æ¶çš„ä»£ç ï¼Œè¿è¡Œåœ¨ä¸åŒçš„ç«¯ä¸Šï¼š</p><p><img loading="lazy" src="https://storage.jd.com/taro-source/taro-docs/WechatIMG1393.png" alt="taro" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸é™åˆ¶è¯­è¨€è¯­æ³•">ä¸é™åˆ¶è¯­è¨€ã€è¯­æ³•<a class="hash-link" href="#ä¸é™åˆ¶è¯­è¨€è¯­æ³•" title="Direct link to heading">â€‹</a></h2><p>ç”±äº Taro Next çš„æ¶æ„å‡ºç°äº†å˜åŒ–ï¼Œè¡¨é¢ä¸Šæ¥çœ‹ Taro ä»ä¸€ä¸ªç¼–è¯‘å‹æ¡†æ¶å˜æˆäº†ä¸€ä¸ªè¿è¡Œæ—¶æ¡†æ¶ã€‚ä½†ç©¶å…¶å†…æ ¸æ˜¯æ•´ä½“çš„è®¾è®¡æ€è·¯å‡ºç°äº†å˜åŒ–ï¼šä»å‰æ˜¯ã€Œæ¨¡æ‹Ÿï¼ˆ<code>mock</code>ï¼‰ã€ï¼Œç°åœ¨æ˜¯ã€Œå®ç°ï¼ˆ<code>implements</code>ï¼‰ã€ã€‚åœ¨ Taro Next æˆ‘ä»¬å®ç°äº† React åœ¨å°ç¨‹åºä¸­çš„å®Œæ•´æ”¯æŒï¼Œå› æ­¤è¿™ç±»æ›¾ç»çš„ Taro æ— æ³•è¿è¡Œçš„ä»£ç åœ¨ Taro Next ä¸­å®Œå…¨æ²¡æœ‰å‹åŠ›ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> View </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Page</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> view </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">View</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">view</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Children</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">only</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">children</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨æ—§ç‰ˆæœ¬çš„ Taro ä¸­æˆ‘ä»¬å¯¹ JavaScript å’Œ TypeScript è¿›è¡Œäº† First Class çš„æ”¯æŒï¼ŒTaro Next æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ï¼ŒåŸç†ä¸Šæœ€ç»ˆå¯ä»¥ç¼–è¯‘åˆ° JavaScript çš„è¯­è¨€éƒ½å¯ä»¥ç”¨æ¥æ„å»º Taro é¡¹ç›®ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªåœ¨ Vue ä¸­ä½¿ç”¨ CoffeeScript çš„ä¾‹å­ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">webpackChain</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chain</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">module</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">rule</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.coffee$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">use</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'coffee-loader'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">{{ title }}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">{{ text }}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">v-model</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">text</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">coffee</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#00009f">export</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#00009f">default</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:#36acaa">props</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">title</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">type</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript known-class-name class-name">String</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">required</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:#36acaa">true</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:#36acaa">data</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">-</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">text</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">'text'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´å¿«çš„è¿è¡Œé€Ÿåº¦">æ›´å¿«çš„è¿è¡Œé€Ÿåº¦<a class="hash-link" href="#æ›´å¿«çš„è¿è¡Œé€Ÿåº¦" title="Direct link to heading">â€‹</a></h2><p>è¿è¡Œæ—¶æ€§èƒ½ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€æ˜¯æ›´æ–°æ€§èƒ½ï¼ŒäºŒæ˜¯åˆå§‹åŒ–æ€§èƒ½ã€‚</p><p>å¯¹äºæ›´æ–°æ€§èƒ½è€Œè¨€ï¼Œæ—§ç‰ˆæœ¬çš„ Taro ä¼šæŠŠå¼€å‘è€… <code>setState</code> çš„æ•°æ®è¿›è¡Œä¸€æ¬¡å…¨é‡çš„ diffï¼Œæœ€ç»ˆè¿”å›ç»™å°ç¨‹åºæ˜¯æŒ‰è·¯å¾„æ›´æ–°çš„ <code>data</code>ã€‚è€Œåœ¨ Taro Next ä¸­ diff çš„å·¥ä½œäº¤ç»™äº†å¼€å‘è€…ä½¿ç”¨çš„æ¡†æ¶ï¼ˆReact/Nerv/Vueï¼‰ï¼Œè€Œæ¡†æ¶ diff ä¹‹åçš„æ•°æ®ä¹Ÿä¼šé€šè¿‡ Taro æŒ‰è·¯å¾„å»æœ€å°åŒ–æ›´æ–°ã€‚å› æ­¤å¼€å‘è€…å¯ä»¥æ ¹æ®ä½¿ç”¨æ¡†æ¶çš„ç‰¹æ€§è¿›è¡Œæ›´å¤šæ›´ç»†å¾®çš„æ€§èƒ½ä¼˜åŒ–ã€‚</p><p>åˆå§‹åŒ–æ€§èƒ½åˆ™æ˜¯ Taro Next çš„ç—›ç‚¹ã€‚åŸç”Ÿå°ç¨‹åºæˆ–ç¼–è¯‘å‹æ¡†æ¶çš„åˆå§‹æ•°æ®å¯ä»¥ç›´æ¥ç”¨äºæ¸²æŸ“ï¼Œä½† Taro Next åœ¨åˆå§‹åŒ–æ—¶ä¼šæŠŠæ¡†æ¶çš„æ¸²æŸ“æ•°æ®è½¬åŒ–ä¸ºå°ç¨‹åºçš„æ¸²æŸ“æ•°æ®ï¼Œå¤šäº†ä¸€æ¬¡ <code>setData</code> å¼€é”€ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTaro ä»æœåŠ¡ç«¯æ¸²æŸ“å—åˆ°å¯å‘ï¼Œåœ¨ Taro CLI å°†é¡µé¢åˆå§‹åŒ–çš„çŠ¶æ€ç›´æ¥æ¸²æŸ“ä¸ºæ— çŠ¶æ€çš„ wxmlï¼Œåœ¨æ¡†æ¶å’Œä¸šåŠ¡é€»è¾‘è¿è¡Œä¹‹å‰æ‰§è¡Œæ¸²æŸ“æµç¨‹ã€‚æˆ‘ä»¬å°†è¿™ä¸€æŠ€æœ¯ç§°ä¹‹ä¸ºé¢„æ¸²æŸ“ï¼ˆPrerenderï¼‰ï¼Œç»è¿‡ Prerender çš„é¡µé¢åˆå§‹æ¸²æŸ“é€Ÿåº¦é€šå¸¸ä¼šå’ŒåŸç”Ÿå°ç¨‹åºä¸€è‡´ç”šè‡³æ›´å¿«ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œ-source-map-æ”¯æŒ">æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œ source-map æ”¯æŒ<a class="hash-link" href="#æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œ-source-map-æ”¯æŒ" title="Direct link to heading">â€‹</a></h2><p>ä½œä¸ºä¸€ä¸ªç¼–è¯‘å‹æ¡†æ¶ï¼Œæ—§ç‰ˆæœ¬çš„ Taro ä¼šè¿›è¡Œå¤§é‡çš„ AST æ“ä½œï¼Œè¿™ç±»æ“ä½œæ˜¾è‘—åœ°æ‹–æ…¢äº† Taro CLI çš„ç¼–è¯‘é€Ÿåº¦ã€‚è€Œåœ¨ Taro Next ä¸­ä¸ä¼šæ“ä½œä»»ä½•å¼€å‘è€…ä»£ç çš„ ASTï¼Œå› æ­¤ç¼–è¯‘é€Ÿåº¦å¾—åˆ°äº†å¤§å¹…çš„æé«˜ã€‚</p><p>æ­£å› ä¸º AST æ“ä½œçš„å–æ¶ˆï¼ŒTaro Next ä¹Ÿè½»æ¾åœ°å®ç°äº† <code>source-map</code> çš„æ”¯æŒã€‚è¿™å¯¹äºå¼€å‘ä½“éªŒæ˜¯ä¸€ä¸ªå·¨å¤§çš„æå‡ï¼š</p><p><img loading="lazy" src="https://storage.jd.com/taro-source/taro-docs/WechatIMG1402.png" alt="source-map" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸å¿˜åˆå¿ƒ">ä¸å¿˜åˆå¿ƒ<a class="hash-link" href="#ä¸å¿˜åˆå¿ƒ" title="Direct link to heading">â€‹</a></h2><p>åœ¨åšåˆ°ä»¥ä¸Šå„é¡¹ç‰¹æ€§çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰ä¸¢æ‰åŸæ¥å°±å·²ç»æ”¯æŒçš„ç‰¹æ€§ï¼š</p><ul><li>æ”¯æŒå¾®ä¿¡å°ç¨‹åºã€ç™¾åº¦æ™ºèƒ½å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€QQ å°ç¨‹åºã€å­—èŠ‚è·³åŠ¨å°ç¨‹åº</li><li>ä½¿ç”¨åŸç”Ÿå°ç¨‹åºç¬¬ä¸‰æ–¹ç»„ä»¶/æ’ä»¶</li><li>å¤šç«¯æ¡ä»¶ç¼–è¯‘</li><li>è·¨ç«¯ API å’Œæ ·å¼å¤„ç†</li></ul><p>è¿™äº›ç‰¹æ€§åŸºæœ¬æ¶‰åŠåˆ°äº†å°ç¨‹åºå¼€å‘çš„æ–¹æ–¹é¢é¢ï¼Œè™½ç„¶æ˜¯é¢„è§ˆç‰ˆï¼Œä½† Taro Next å·²ç»å…·å¤‡äº†å¼€å‘ç”Ÿäº§çº§å°ç¨‹åºçš„å‡†å¤‡ï¼Œåœ¨ Taro å›¢é˜Ÿå†…éƒ¨å’Œå…„å¼Ÿå›¢é˜Ÿä¹Ÿæœ‰å¤šæ¬¾å°ç¨‹åºæ­£åœ¨ä½¿ç”¨ Taro Next è¿›è¡Œå¼€å‘ã€‚è€Œåœ¨ Taro Next çš„ H5 ç«¯å’Œç§»åŠ¨ç«¯ï¼Œæˆ‘ä»¬è¿˜åœ¨è¿›è¡Œç´§å¼ çš„å¼€å‘ã€‚å½“ Taro Next æµ‹è¯•ï¼ˆbetaï¼‰ç‰ˆå‘å¸ƒæ—¶ï¼Œä½¿ç”¨ Taro Next æ„å»ºçš„ä¸€å¥—ä»£ç ï¼Œå°±å¯ä»¥åŒæ—¶è¿è¡Œåœ¨å„ç§å°ç¨‹åºã€å¿«åº”ç”¨ã€H5 å’Œç§»åŠ¨ç«¯å½“ä¸­ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬è¿˜ä¼šæŠŠ Taro Next çš„èƒ½åŠ›å¼€æ”¾å‡ºå»ï¼Œè®©å¼€å‘è€…åªè¦å†™å°‘é‡çš„æ¥å…¥ä»£ç ï¼Œå°±å¯ä»¥ä½¿ç”¨è‡ªå·±å–œæ¬¢çš„ä»»æ„æ¡†æ¶ï¼ˆAngular, Flutter, svelte...ï¼‰å¼€å‘å°ç¨‹åºæˆ–å¤šç«¯åº”ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç‰¢è®°ä½¿å‘½">ç‰¢è®°ä½¿å‘½<a class="hash-link" href="#ç‰¢è®°ä½¿å‘½" title="Direct link to heading">â€‹</a></h2><p>æ­£å¦‚æˆ‘ä»¬åœ¨ Taro 2.0 å‘å¸ƒæ—¶æ‰€è¨€ï¼š</p><blockquote><p>èŠ‚ç‰©é£å…‰ä¸ç›¸å¾…ï¼Œæ¡‘ç”°ç¢§æµ·é¡»è‡¾æ”¹ã€‚</p><p>20 å¹´ä»£å‘¼å•¸è€Œæ¥ï¼Œä¸‹ä¸€ä¸ª 10 å¹´ï¼Œå¾ˆå¤šæ¡†æ¶éƒ½ä¼šæ­»å»ï¼Œå¾ˆå¤šæŠ€æœ¯ä¹Ÿä¼šç„•ç„¶è€Œç”Ÿï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ä¸å˜çš„ï¼Œå”¯ä¸€ä¸å˜çš„åªæœ‰å˜åŒ–ï¼Œæˆ‘ä»¬èƒ½åšçš„ä¹Ÿåªèƒ½æ˜¯æ‹¥æŠ±å˜åŒ–ã€‚</p></blockquote><p>å‰ç«¯æŠ€æœ¯ä¸€ç›´åœ¨é«˜é€Ÿå‘å±•ï¼Œæµè¡Œçš„æŠ€æœ¯å’Œæ¡†æ¶æ¯å¹´éƒ½å„ä¸ç›¸åŒã€‚ä½†æˆ‘ä»¬å§‹ç»ˆæ²¡æœ‰å¿˜è®°å¼€å‘ Taro çš„åˆå¿ƒå’Œä½¿å‘½ï¼š<strong>é™ä½å¼€å‘æˆæœ¬ï¼Œæé«˜å¼€å‘ä½“éªŒå’Œå¼€å‘æ•ˆç‡ã€‚</strong></p><p>ã€Œä¸å¿˜åˆå¿ƒï¼Œç‰¢è®°ä½¿å‘½ã€‚ã€</p><p>è¿™å°±æ˜¯ Taro å›¢é˜Ÿæ‹¥æŠ±å˜åŒ–çš„æ–¹å¼ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™<a class="hash-link" href="#å‚è€ƒèµ„æ–™" title="Direct link to heading">â€‹</a></h2><ol><li><p>å°ç¨‹åºè·¨æ¡†æ¶å¼€å‘çš„æ¢ç´¢ä¸å®è·µ: <a href="https://www.infoq.cn/article/TMqBzVFTSiQTUbgxydPm" target="_blank" rel="noopener noreferrer">https://www.infoq.cn/article/TMqBzVFTSiQTUbgxydPm</a></p></li><li><p><a href="/taro-docs/docs/migration">Taro Next æ—§ç‰ˆæœ¬è¿ç§»æŒ‡å—</a></p></li><li><p><a href="/taro-docs/docs/prerender">Prerender</a></p></li><li><p>æ€§èƒ½æµ‹è¯•ï¼š<a href="https://github.com/NervJS/taro-benchmark/tree/next" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-benchmark/tree/next</a></p></li><li><p><a href="/taro-docs/docs/difference-to-others">ä¸å…¶å®ƒæ–°å‹å°ç¨‹åºçš„å¯¹æ¯”</a></p></li></ol>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro 2.0ï¼šæ‹¥æŠ±ç¤¾åŒºï¼Œæ‹¥æŠ±å˜åŒ–]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-01-08-taro-2-0</link>
            <guid>2020-01-08-taro-2-0</guid>
            <pubDate>Wed, 08 Jan 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[Taro 1.x ç‰ˆæœ¬è‡ªå»å¹´ 9 æœˆä»½å‘å¸ƒä»¥æ¥ï¼Œå·²ç»é™ªä¼´å¤§å®¶åº¦è¿‡äº†ä¸€å¹´å¤šçš„æ—¶é—´ï¼Œåœ¨æ­¤æœŸé—´ Taro ä¸€ç›´ä¿æŒé«˜é€Ÿæˆé•¿ï¼Œå‘å¸ƒäº†å¤šä¸ªå…·æœ‰é‡å¤§æ„ä¹‰çš„ç‰ˆæœ¬ï¼Œè®© Taro æˆä¸ºå¦‚ä»Šä¸€ä¸ªåŠŸèƒ½å®Œå–„ï¼Œæ‹¥æœ‰ä¼—å¤šå¿ å®æ‹¥è¶¸çš„å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ã€‚]]></description>
            <content:encoded><![CDATA[<p>Taro 1.x ç‰ˆæœ¬è‡ªå»å¹´ 9 æœˆä»½å‘å¸ƒä»¥æ¥ï¼Œå·²ç»é™ªä¼´å¤§å®¶åº¦è¿‡äº†ä¸€å¹´å¤šçš„æ—¶é—´ï¼Œåœ¨æ­¤æœŸé—´ Taro ä¸€ç›´ä¿æŒé«˜é€Ÿæˆé•¿ï¼Œå‘å¸ƒäº†å¤šä¸ªå…·æœ‰é‡å¤§æ„ä¹‰çš„ç‰ˆæœ¬ï¼Œè®© Taro æˆä¸ºå¦‚ä»Šä¸€ä¸ªåŠŸèƒ½å®Œå–„ï¼Œæ‹¥æœ‰ä¼—å¤šå¿ å®æ‹¥è¶¸çš„å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/2.0/alls.jpg" class="img_ROth"></p><p>å°½ç®¡ Taro ä¸€ç›´ä¿æŒè¶…é«˜çš„è¿­ä»£é€Ÿåº¦ï¼ŒTaro çš„æ•´ä½“æ¶æ„è®¾è®¡æ²¡æœ‰å‘ç”Ÿå¤ªå¤§å˜åŒ–ï¼Œè¿™è®© Taro åœ¨è¿™ä¸ªæ—¶åˆ»åœ¨å˜åŒ–çš„æ—¶ä»£ç¨æ˜¾ä½›ç³»ï¼Œä¸”å¯¹äºä¸€ä¸ªæ—¶åˆ»æƒ³è¦çªç ´è‡ªå·±çš„æŠ€æœ¯å›¢é˜Ÿæ¥è¯´ï¼Œå¸¸è§„æ€§è´¨çš„ç»´æŠ¤å·¥ä½œï¼Œæ˜¾ç„¶æ— æ³•å®‰æŠšæˆ‘ä»¬èºåŠ¨çš„å¿ƒï¼Œæ¯•ç«Ÿäººçš„æ¢¦æƒ³ï¼Œæ˜¯æ°¸è¿œä¸ä¼šåœæ­¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å†³å®šå¯åŠ¨ä¸€ç³»åˆ—çš„é¢ è¦†å¼é‡æ„è®¾è®¡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="20">2.0<a class="hash-link" href="#20" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬é¦–å…ˆä» CLI å¼€å§‹å…¥æ‰‹è¿›è¡Œæ”¹é€ ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼ŒåŸæ¥ Taro CLI çš„ç¼–è¯‘æ„å»ºç³»ç»Ÿæ˜¯è‡ªç ”çš„ï¼Œæ•´ä¸ªæ„å»ºç³»ç»Ÿé€»è¾‘å¤æ‚ï¼Œè¦è€ƒè™‘çš„è¾¹é™…æ¡ä»¶ä¼—å¤šï¼Œè¿™å°±å¯¼è‡´äº†ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>ç»´æŠ¤å›°éš¾ï¼Œæ¯æ¬¡éœ€è¦æ–°å¢ä¸€ä¸ªåŠŸèƒ½ï¼Œä¾‹å¦‚æ”¯æŒè§£æ Markdown æ–‡ä»¶ï¼Œå°±éœ€è¦ç›´æ¥æ”¹åŠ¨ CLIï¼Œä¸å¤Ÿçµæ´»</li><li>éš¾ä»¥å…±å»ºï¼ŒCLI çš„ä»£ç éå¸¸å¤æ‚ï¼Œè€Œä¸”é€»è¾‘åˆ†æ”¯ä¼—å¤šï¼Œè®©å¾ˆå¤šæƒ³è¦ä¸€èµ·å…±å»ºçš„äººéš¾ä»¥å…¥æ‰‹</li><li>å¯æ‰©å±•æ€§åä½ï¼Œè‡ªç ”çš„æ„å»ºç³»ç»Ÿï¼Œè®¾è®¡ä¹‹åˆæ²¡æœ‰è€ƒè™‘åˆ°åç»­çš„æ‰©å±•æ€§ï¼Œå¯¼è‡´å¼€å‘è€…æƒ³è¦æ·»åŠ è‡ªå®šä¹‰çš„åŠŸèƒ½æ— ä»ä¸‹æ‰‹</li></ul><p>åŸºäºä»¥ä¸Šé—®é¢˜ï¼Œæˆ‘ä»¬å†³å®šä½¿ç”¨ Webpack æ¥å®ç°ç¼–è¯‘æ„å»ºï¼Œäºæ˜¯è¯ç”Ÿäº† 2.0ã€‚</p><p>Taro 2.0 çš„ CLI å°†ä¼šå˜å¾—éå¸¸è½»é‡ï¼Œåªä¼šåšåŒºåˆ†ç¼–è¯‘å¹³å°ã€å¤„ç†ä¸åŒå¹³å°ç¼–è¯‘å…¥å‚ç­‰æ“ä½œï¼Œéšåå†è°ƒç”¨å¯¹åº”å¹³å°çš„ <strong>runner ç¼–è¯‘å™¨</strong> åšä»£ç ç¼–è¯‘æ“ä½œï¼Œè€ŒåŸæ¥å¤§é‡çš„ AST è¯­æ³•æ“ä½œå°†ä¼šæ”¹é€ æˆ Webpack Plugin ä»¥åŠ Loaderï¼Œäº¤ç»™ Webpack æ¥å¤„ç†ã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/2.0/taro-cli.001.png" alt="taro-cli 2.0" class="img_ROth"></p><p>ç›¸è¾ƒäºæ—§çš„æ„å»ºç³»ç»Ÿï¼Œæ–°çš„å°ç¨‹åºç¼–è¯‘å¸¦æ¥äº†ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li>åˆ©äºç»´æŠ¤ï¼Œå¤§é‡çš„é€»è¾‘äº¤ç”± Webpack æ¥å¤„ç†ï¼Œæˆ‘ä»¬åªéœ€è¦ç»´æŠ¤ä¸€äº›æ’ä»¶</li><li>æ›´åŠ ç¨³å®šï¼Œç›¸è¾ƒäºè‡ªç ”çš„æ„å»ºç³»ç»Ÿï¼Œæ–°çš„æ„å»ºä¼šæ›´åŠ ç¨³å®šï¼Œé™ä½ä¸€äº›å¥‡æ€ªé”™è¯¯çš„å‡ºç°æ¦‚ç‡</li><li>å¯æ‰©å±•æ€§å¼ºï¼Œå¯ä»¥é€šè¿‡è‡ªè¡ŒåŠ å…¥ Webpack Loader ä¸ Plugin çš„æ–¹å¼åšè‡ªå·±æƒ³è¦çš„æ‰©å±•</li><li>å„ç«¯ç¼–è¯‘ç»Ÿä¸€ï¼Œæ¥å…¥ Webpack åï¼ŒTaro å„ç«¯çš„ç¼–è¯‘é…ç½®å¯ä»¥å®ç°éå¸¸å¤§ç¨‹åº¦çš„ç»Ÿä¸€</li></ul><p>å¯ä»¥çœ‹åˆ°æ–°çš„æ„å»ºç³»ç»Ÿä¼šæœ‰å¾ˆå¤§çš„è¿›æ­¥ã€‚åŒæ—¶ï¼Œæ›´é‡è¦çš„æ˜¯ï¼ŒåŸºäº Webpackï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å°ç¨‹åºä¸­å°è¯•æ›´å¤šçš„ç‰¹æ€§ä¸æŠ€æœ¯ï¼Œä¾‹å¦‚é€šè¿‡ tree shaking æ¥ä¼˜åŒ–ä»£ç åŒ…å¤§å°ç­‰ç­‰ï¼Œè®©å°ç¨‹åºå¼€å‘æ›´åŠ ä¸ä¸šç•Œå‘å±•åŒæ­¥ï¼Œè®© Taro æ›´åŠ æ‹¥æŠ±ç¤¾åŒºã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="migrate-to-20">Migrate to 2.0<a class="hash-link" href="#migrate-to-20" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¼–è¯‘é…ç½®è°ƒæ•´">ç¼–è¯‘é…ç½®è°ƒæ•´<a class="hash-link" href="#ç¼–è¯‘é…ç½®è°ƒæ•´" title="Direct link to heading">â€‹</a></h3><p>2.0 æ•´ä½“ä¸Šä¸ 1.0 æ˜¯å®Œå…¨å…¼å®¹çš„ï¼Œä½†æ˜¯åœ¨åŸºäº Webpack é‡æ„åï¼Œæˆ‘ä»¬å¯¹éƒ¨åˆ†ç¼–è¯‘é…ç½®åšäº†ä¼˜åŒ–è°ƒæ•´ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦å°†åŸºäº 1.x çš„æ—§é¡¹ç›®è¿ç§»è‡³ 2.0ï¼Œé¦–å…ˆéœ€è¦å¯¹ç¼–è¯‘é…ç½®è¿›è¡Œè°ƒæ•´ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">projectName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'taro-framework'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">date</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'2019-11-2'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">designWidth</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">750</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">deviceRatio</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">640</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.34</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">750</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">828</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.81</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">sourceRoot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'src'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">outputRoot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'dist'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// babelã€cssoã€uglify ç­‰é…ç½®ä» plugins é…ç½®ä¸­ç§»å‡ºæ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">babel</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">sourceMap</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'env'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">modules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'transform-decorators-legacy'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'transform-class-properties'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'transform-object-rest-spread'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å°ç¨‹åºé…ç½®ä» weapp æ”¹ä¸º miniï¼Œå¯ä»¥åˆ æ‰å¾ˆå¤šå°é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mini</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">webpackChain</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chain</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> webpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">cssLoaderOption</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">postcss</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">pxtransform</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">enable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">enable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">limit</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10240</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è®¾å®šè½¬æ¢å°ºå¯¸ä¸Šé™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å¯ä»¥åˆ æ‰å¾ˆå¤šå°é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">h5</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">publicPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'/'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">staticDirectory</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'static'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">webpackChain</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chain</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> webpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">postcss</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">autoprefixer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">enable</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">browsers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'last 3 versions'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'Android &gt;= 4.1'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">'ios &gt;= 8'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">merge</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'development'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'./dev'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'./prod'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å…·ä½“ç¼–è¯‘é…ç½®è¯·å‚è€ƒ <a title="ç¼–è¯‘é…ç½®æ–‡æ¡£" href="/taro-docs/docs/2.x/config-detail">ç¼–è¯‘é…ç½®æ–‡æ¡£</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼‚æ­¥ç¼–ç¨‹è°ƒæ•´">å¼‚æ­¥ç¼–ç¨‹è°ƒæ•´<a class="hash-link" href="#å¼‚æ­¥ç¼–ç¨‹è°ƒæ•´" title="Direct link to heading">â€‹</a></h3><p>Taro 2.0 ä¸­å¼€å¯ <code>async functions</code> æ”¯æŒä¸å†éœ€è¦å®‰è£… <code>@tarojs/async-await</code>ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ babel æ’ä»¶æ¥è·å¾—æ”¯æŒã€‚</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å®‰è£…åŒ… <code>babel-plugin-transform-runtime</code> å’Œ <code>babel-runtime</code>ã€‚</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> babel-plugin-transform-runtime --dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> babel-runtime</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>éšåä¿®æ”¹é¡¹ç›® <a title="babel é…ç½®" href="/taro-docs/docs/2.x/config-detail#babel">babel é…ç½®</a>ï¼Œé…ç½®æ’ä»¶ <code>babel-plugin-transform-runtime</code>ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">babel</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">sourceMap</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">presets</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'env'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">modules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'transform-decorators-legacy'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'transform-class-properties'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">'transform-object-rest-spread'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'transform-runtime'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"helpers"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"polyfill"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"regenerator"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">"moduleName"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'babel-runtime'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°ç‰¹æ€§å°é²œ">æ–°ç‰¹æ€§å°é²œ<a class="hash-link" href="#æ–°ç‰¹æ€§å°é²œ" title="Direct link to heading">â€‹</a></h3><p>åœ¨åŸºäº Webpack æ”¹é€ åå¸¦æ¥å…¨é¢æå‡çš„åŒæ—¶ï¼Œ2.0 ä¹Ÿä¸ºæˆ‘ä»¬å¸¦æ¥äº†ä»¥ä¸‹æ–°çš„ç‰¹æ€§ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸»ç¼–è¯‘æµç¨‹é’©å­">ä¸»ç¼–è¯‘æµç¨‹é’©å­<a class="hash-link" href="#ä¸»ç¼–è¯‘æµç¨‹é’©å­" title="Direct link to heading">â€‹</a></h4><p>åœ¨ 2.0 ä¸­ï¼ŒCLI ç¼–è¯‘çš„ä¸»æµç¨‹å·²ç»åŸºäº <a href="https://github.com/webpack/tapable" target="_blank" rel="noopener noreferrer" title="Tapable">Tapable</a> è¿›è¡Œæ”¹é€ ï¼Œå¹¶ä¸”å¯¹å¤–æš´éœ²äº† <code>hooks</code> ä»¥ä¾›ä½¿ç”¨ï¼Œåœ¨ Taro ç¼–è¯‘é…ç½®ä¸­å¯ä»¥é€šè¿‡ <code>plugins</code> æ¥é…ç½®ç¼–è¯‘è¿‡ç¨‹æ’ä»¶ï¼Œè°ƒç”¨è¿™äº› <code>hooks</code> æ¥å®ç°è‡ªå·±çš„éœ€æ±‚ã€‚</p><p>ç›®å‰ç¼–è¯‘ä¸»æµç¨‹æš´éœ²äº†ä¸¤ä¸ªé’©å­ <code>beforeBuild</code> å’Œ <code>afterBuild</code>ï¼Œå…¶ä¸­ï¼Œ<code>beforeBuild</code> å°†åœ¨æ•´ä½“ç¼–è¯‘å‰è§¦å‘ï¼Œå¯ä»¥è·å–åˆ°ç¼–è¯‘çš„ç›¸å…³é…ç½®ï¼ŒåŒæ—¶ä¹Ÿèƒ½è¿›è¡Œä¿®æ”¹ï¼›<code>afterBuild</code> å°†åœ¨ Webpack ç¼–è¯‘å®Œåæ‰§è¡Œï¼Œå¯ä»¥è·å–åˆ°ç¼–è¯‘åçš„ç»“æœã€‚å…·ä½“ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ã€‚</p><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ’ä»¶</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">BuildPlugin</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">apply</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">builder</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hooks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">beforeBuild</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'BuildPlugin'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hooks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">afterBuild</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'BuildPlugin'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">stats</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stats</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ¥ä¸‹æ¥åœ¨ <code>plugins</code> å­—æ®µä¸­è¿›è¡Œé…ç½®</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BuildPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸ºå°ç¨‹åºç¼–è¯‘æ·»åŠ -loader">ä¸ºå°ç¨‹åºç¼–è¯‘æ·»åŠ  Loader<a class="hash-link" href="#ä¸ºå°ç¨‹åºç¼–è¯‘æ·»åŠ -loader" title="Direct link to heading">â€‹</a></h4><p>æˆ‘ä»¬æœ‰æ—¶å€™å¯èƒ½ä¼šé¢ä¸´åœ¨å°ç¨‹åºä¸­å±•ç¤º Markdown è¯­æ³•æ–‡ä»¶çš„éœ€æ±‚ï¼Œåœ¨ WEB å¼€å‘çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥å€ŸåŠ© Webpack åŠå…¶ Loaderï¼Œå®ç°ç›´æ¥å¼•å…¥ <code>md</code> æ–‡ä»¶å¹¶è¯»å–å…¶å†…å®¹ï¼Œè€Œåœ¨å°ç¨‹åºå¼€å‘ä¸­ï¼Œé€šè¿‡å€ŸåŠ© Taro 2.0ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¾ˆè½»æ¾åœ°å®ç°è¿™ä¸€éœ€æ±‚ã€‚</p><p>ä¸€èˆ¬æˆ‘ä»¬ä¼šä»¥å¦‚ä¸‹çš„æ–¹å¼ï¼Œæ¥å¼•å…¥ä¸€ä¸ª <code>.md</code> æ–‡ä»¶ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">mdTxt</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../../some_markdown.md'</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œ <code>.md</code> æ–‡ä»¶é»˜è®¤æ˜¯ä¸èƒ½ç›´æ¥è¢«è¯†åˆ«çš„ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡é…ç½®ç›¸åº”çš„ Loader æ¥å®ç°å¯¹è¿™ç±»æ–‡ä»¶çš„åŠ è½½è§£æï¼Œåœ¨ Taro ä¸­å¯ä»¥é€šè¿‡ <a title="mini.webpackChain" href="/taro-docs/docs/2.x/config-detail#miniwebpackchain">mini.webpackChain</a> æ¥ä¸ºå°ç¨‹åºé…ç½®è‡ªå®šä¹‰ Webpack é…ç½®ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å®ƒæ¥é…ç½® Loaderã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mini</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">webpackChain</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chain</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      chain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">module</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">rule</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">myloader</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.md$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token literal-property property" style="color:#36acaa">use</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">loader</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'raw-loader'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸ºå°ç¨‹åºç¼–è¯‘æ·»åŠ -plugin">ä¸ºå°ç¨‹åºç¼–è¯‘æ·»åŠ  Plugin<a class="hash-link" href="#ä¸ºå°ç¨‹åºç¼–è¯‘æ·»åŠ -plugin" title="Direct link to heading">â€‹</a></h4><p>å½“æˆ‘ä»¬è¦æŠŠæ‰“åŒ…åçš„å°ç¨‹åºè¿›è¡Œå‘å¸ƒçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šé‡åˆ°å°ç¨‹åºè¿‡å¤§çš„é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šè¿«åˆ‡å¸Œæœ›å¯ä»¥çœ‹åˆ°åˆ°åº•æ˜¯å“ªäº›æ–‡ä»¶çš„å¤§å°é€ æˆäº†è¿™ä¸ªå½±å“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ <a href="https://www.npmjs.com/package/webpack-bundle-analyzer" target="_blank" rel="noopener noreferrer" title="webpack-bundle-analyzer">webpack-bundle-analyzer</a> æ’ä»¶å¯¹æ‰“åŒ…ä½“ç§¯è¿›è¡Œåˆ†æã€‚</p><p>åœ¨ <a title="mini.webpackChain" href="/taro-docs/docs/2.x/config-detail#miniwebpackchain">mini.webpackChain</a> ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">mini</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">webpackChain</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chain</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> webpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      chain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">plugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'analyzer'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'webpack-bundle-analyzer'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">BundleAnalyzerPlugin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨è¿è¡Œä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½åœ¨æµè§ˆå™¨é‡Œçœ‹åˆ°å¦‚ä¸‹åˆ†ææ•ˆæœã€‚</p><p><img loading="lazy" src="https://storage.360buyimg.com/2.0/webpack-bundle-analyzer.jpg" alt="webpack-bundle-analyzer" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="taro-rn-ä¾èµ–å‡çº§åˆ°-0599">Taro RN ä¾èµ–å‡çº§åˆ° 0.59.9<a class="hash-link" href="#taro-rn-ä¾èµ–å‡çº§åˆ°-0599" title="Direct link to heading">â€‹</a></h4><p>åœ¨ 2.0 ä¸­æˆ‘ä»¬å°† RN ç«¯ React ä¾èµ–å‡çº§åˆ° 16.8.0ï¼ŒReact Native ä¾èµ–å‡çº§åˆ° 0.59.9ã€‚ä¸»è¦åŸå› ï¼š</p><ul><li>Google è¦æ±‚æ‰€æœ‰ <a href="https://play.google.com/" target="_blank" rel="noopener noreferrer" title="Google Play">Google Play</a> åº”ç”¨æ”¯æŒ 64 ä½ so åº“ï¼Œè€Œç°æœ‰ RN 0.55.4 ä¾æ— æ³•æ”¯æŒ 64 ä½åº“ï¼Œä¸ºé…åˆ 64 ä½å‡çº§ï¼ŒTaro RN ç«¯çš„ React Native ä¾èµ–éœ€è¦åŒæ­¥å‡çº§</li><li>React 16.8.0 æ˜¯ç¬¬ä¸€ä¸ªæ”¯æŒ Hook çš„ç‰ˆæœ¬ï¼ŒReact Native ä» 0.59 ç‰ˆæœ¬å¼€å§‹æ”¯æŒ Hookï¼Œæ­¤å‰ç¤¾åŒºä¸€ç›´åœ¨å‘¼åå¯¹ RN 0.55.4 è¿›è¡Œå‡çº§ä»¥ç›´æ¥æ”¯æŒ Hook çš„å†™æ³•</li></ul><p>æœ¬æ¬¡ RN ç«¯å±äºæ— ç¼å‡çº§ï¼ŒåŸæœ‰çš„å†™æ³•å’Œé…ç½®å‡ä¸å˜ï¼Œå¦‚æœä½¿ç”¨ <a href="https://github.com/NervJS/taro-native-shell" target="_blank" rel="noopener noreferrer" title="taro-native-shell">taro-native-shell</a> çš„ï¼Œé€‰æ‹© 0.59.9 åˆ†æ”¯å³å¯ï¼›åœ¨åŸç”Ÿåº”ç”¨é›†æˆ RN çš„ï¼Œéœ€è¦è‡ªè¡Œå‡çº§ React Native ä¾èµ–åˆ° 0.59.9ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœªæ¥ä¸å±•æœ›">æœªæ¥ä¸å±•æœ›<a class="hash-link" href="#æœªæ¥ä¸å±•æœ›" title="Direct link to heading">â€‹</a></h2><p>æ­£å¦‚å‰æ–‡æ‰€æåˆ°çš„ï¼ŒTaro 2.0 åªæ˜¯ä¸€ä¸ªå¼€å§‹ã€‚</p><p>åœ¨ 10 å¹´ä»£æœ€åä¸€åœº GMTC å…¨çƒå¤§å‰ç«¯æŠ€æœ¯å¤§ä¼šä¸Šï¼ŒTaro å›¢é˜Ÿå‘å¤§å®¶å±•ç¤ºäº† å°ç¨‹åºè·¨æ¡†æ¶å¼€å‘çš„æ¢ç´¢ä¸å®è·µ çš„è‰°è¾›æ—…ç¨‹ï¼ŒåŒæ—¶ä¹Ÿæå‰æ›å…‰äº†æ­£åœ¨ç´§å¯†å¼€å‘ä¸­çš„ <a href="https://github.com/NervJS/taro/tree/next" target="_blank" rel="noopener noreferrer" title="Taro Next">Taro Next</a>ã€‚</p><p>é‚£æ˜¯ä¸€ä¸ªå®Œå…¨åŒºåˆ«äºä»¥å¾€çš„ç‰ˆæœ¬ï¼Œä¸€æ¡ä¸ç°åœ¨ Taro æˆªç„¶ä¸åŒçš„é“è·¯ï¼Œé¢„ç¤ºç€ Taro æ­£åœ¨é©è‡ªå·±çš„å‘½ã€‚</p><p>èŠ‚ç‰©é£å…‰ä¸ç›¸å¾…ï¼Œæ¡‘ç”°ç¢§æµ·é¡»è‡¾æ”¹ã€‚</p><p>20 å¹´ä»£å‘¼å•¸è€Œæ¥ï¼Œä¸‹ä¸€ä¸ª 10 å¹´ï¼Œå¾ˆå¤šæ¡†æ¶éƒ½ä¼šæ­»å»ï¼Œå¾ˆå¤šæŠ€æœ¯ä¹Ÿä¼šç„•ç„¶è€Œç”Ÿï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ä¸å˜çš„ï¼Œå”¯ä¸€ä¸å˜çš„åªæœ‰å˜åŒ–ï¼Œæˆ‘ä»¬èƒ½åšçš„ä¹Ÿåªèƒ½æ˜¯æ‹¥æŠ±å˜åŒ–ã€‚</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å°ç¨‹åºè·¨æ¡†æ¶å¼€å‘çš„æ¢ç´¢ä¸å®è·µ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2020-01-02-gmtc</link>
            <guid>2020-01-02-gmtc</guid>
            <pubDate>Thu, 02 Jan 2020 00:00:00 GMT</pubDate>
            <description><![CDATA[å‰è¨€ï¼šéšç€å°ç¨‹åºå¼€å‘çš„çƒ­åº¦ä¸Šå‡ï¼Œå°ç¨‹åºå¼€å‘æ¡†æ¶ä¹Ÿå±‚å‡ºä¸ç©·ã€‚ä½†ç›®å‰æ¯ä¸ªæ¡†æ¶éƒ½ä¼šç»‘å®šä¸€ä¸ªä¸“å± DSLï¼Œå¦‚ç±» React æˆ–è€…ç±» Vueï¼Œåœ¨ä¸€ä¸ªæ¡†æ¶å†…ï¼Œå¼€å‘è€…æ— æ³•æ ¹æ®å›¢é˜ŸæŠ€æœ¯æ ˆè‡ªç”±é€‰æ‹© DSLï¼ŒåŒæ—¶ä¹Ÿæ— æ³•å…±äº«æ¡†æ¶æœ¬èº«çš„ç”Ÿæ€ä¸å·¥å…·ã€‚]]></description>
            <content:encoded><![CDATA[<blockquote><p>å‰è¨€ï¼šéšç€å°ç¨‹åºå¼€å‘çš„çƒ­åº¦ä¸Šå‡ï¼Œå°ç¨‹åºå¼€å‘æ¡†æ¶ä¹Ÿå±‚å‡ºä¸ç©·ã€‚ä½†ç›®å‰æ¯ä¸ªæ¡†æ¶éƒ½ä¼šç»‘å®šä¸€ä¸ªä¸“å± DSLï¼Œå¦‚ç±» React æˆ–è€…ç±» Vueï¼Œåœ¨ä¸€ä¸ªæ¡†æ¶å†…ï¼Œå¼€å‘è€…æ— æ³•æ ¹æ®å›¢é˜ŸæŠ€æœ¯æ ˆè‡ªç”±é€‰æ‹© DSLï¼ŒåŒæ—¶ä¹Ÿæ— æ³•å…±äº«æ¡†æ¶æœ¬èº«çš„ç”Ÿæ€ä¸å·¥å…·ã€‚</p></blockquote><p>æœ¬æ¬¡åˆ†äº«å°†ä¸ºå¤§å®¶ä»‹ç» Taro å¦‚ä½•å°†å„ç§è¯­æ³•çš„å‰ç«¯æ¡†æ¶è¿è¡Œåœ¨å°ç¨‹åºä¸Šï¼Œè®¨è®ºä¸€ä¸ªæ¡†æ¶æ”¯æŒå¤š DSL çš„å®ç°æ¢ç´¢ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥ä½¿ç”¨ä»»æ„çƒ­é—¨æ¡†æ¶/è¯­æ³•/DSL æ¥ç¼–å†™å°ç¨‹åºåº”ç”¨ï¼ŒåŒæ—¶å¤ç”¨ç›¸å…³ç”Ÿæ€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åºå¼€å‘çš„å†ç¨‹">å°ç¨‹åºå¼€å‘çš„å†ç¨‹<a class="hash-link" href="#å°ç¨‹åºå¼€å‘çš„å†ç¨‹" title="Direct link to heading">â€‹</a></h2><p>2017 å¹´ 1 æœˆ 9 æ—¥å‡Œæ™¨ï¼Œä¸‡ä¼—æœŸå¾…çš„å¾®ä¿¡å°ç¨‹åºæ­£å¼ä¸Šçº¿ã€‚</p><p>åœ¨æ­¤ä¹‹å‰ï¼Œäº¬ä¸œæŠ•å…¥ä¸€ä¸ªå‰ç«¯å°å›¢é˜Ÿï¼Œç»è¿‡ä¸€ä¸ªæœˆçš„å°é—­å¼å¼€å‘ï¼Œä»¥ä¸€å‘¨ä¸€ä¸ªç‰ˆæœ¬çš„é€Ÿåº¦è¿›è¡Œè¿­ä»£ï¼Œç»ˆäºåœ¨ç¬¬ä¸€æ—¶é—´å‘å¸ƒäº†è‡ªå·±çš„ ã€Œäº¬ä¸œè´­ç‰©ã€ å°ç¨‹åºï¼Œå°½ç®¡åŠŸèƒ½å’Œç•Œé¢ç°åœ¨çœ‹èµ·æ¥æœ‰äº›ç®€é™‹ï¼Œä½†åœ¨å½“æ—¶æ˜¯å®Œå…¨ç¬¦åˆå¾®ä¿¡å°ç¨‹åºã€Œè§¦æ‰‹å¯åŠï¼Œç”¨å®Œå³èµ°ã€çš„ç†å¿µã€‚</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/88088/6/8131/521939/5e02d8a1Eacdf7ce4/f0e6dae4cdd5dce3.jpg" alt="image" class="img_ROth"></p><p>å½“ç„¶ï¼Œéšç€æ•´ä¸ªé¡¹ç›®çš„ä¸æ–­è¿­ä»£ï¼Œç°åœ¨çš„ ã€Œäº¬ä¸œè´­ç‰©ã€å°ç¨‹åºåœ¨è®¾è®¡ã€äº¤äº’ä»¥åŠåŠŸèƒ½å¤æ‚åº¦å·²ç»å…¨é¢å‘ APP ç«¯çœ‹é½ï¼Œè¿™é‡Œé¢çš„å·¥ç¨‹åŒ–å®è·µå·²ç»ç”± åˆ˜æ…§æ• è€å¸ˆåœ¨ <a href="https://gmtc.infoq.cn/2019/beijing/" target="_blank" rel="noopener noreferrer">GMTC å…¨çƒå¤§å‰ç«¯æŠ€æœ¯å¤§ä¼šï¼ˆåŒ—äº¬ç«™ï¼‰2019</a> è¿›è¡Œè¿‡åˆ†äº«ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ä¸‹è½½ PPTï¼š<a href="https://ppt.geekbang.org/slide/download?cid=42&amp;pid=2416" target="_blank" rel="noopener noreferrer">äº¬ä¸œè´­ç‰©å°ç¨‹åºå·¥ç¨‹åŒ–ä¹‹è·¯</a>ã€‚</p><p>å½“æ—¶çš„å¾®ä¿¡å°ç¨‹åºçš„å¼€å‘å­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œæ¯”å¦‚ä¾èµ–ç®¡ç†æ··ä¹±ã€å·¥ç¨‹åŒ–æµç¨‹è½åã€ES Next æ”¯æŒä¸å®Œå–„ã€å‘½åè§„èŒƒä¸ç»Ÿä¸€ç­‰ã€‚è¿™äº›é—®é¢˜åœ¨ç°åœ¨çœ‹æ¥éƒ½å·²ç»æœ‰äº†å„ç§å®˜æ–¹æˆ–éå®˜æ–¹çš„è§£å†³åŠæ³•ï¼Œä½†æ˜¯åœ¨å½“æ—¶å°ç¨‹åºå¼€å‘çš„æ¢ç´¢é˜¶æ®µï¼Œè¿™äº›é—®é¢˜éƒ½æ˜¯ä¸€äº›ç—›ç‚¹é—®é¢˜ã€‚</p><p>æœ‰å¥è¯æˆ‘ä¸ªäººç‰¹åˆ«å–œæ¬¢ï¼Œé‚£å°±æ˜¯ã€Œ<strong>å½“ä¸€é—¨è¯­è¨€çš„èƒ½åŠ›ä¸è¶³ï¼Œè€Œç”¨æˆ·çš„è¿è¡Œç¯å¢ƒåˆä¸æ”¯æŒå…¶å®ƒé€‰æ‹©çš„æ—¶å€™ï¼Œè¿™é—¨è¯­è¨€å°±ä¼šæ²¦ä¸º&nbsp;â€œç¼–è¯‘ç›®æ ‡â€&nbsp;è¯­è¨€</strong>ã€ã€‚</p><p>çºµè§‚æ•´ä¸ªå‰ç«¯çš„å†å²ï¼Œæ— è®ºæ˜¯ CSS é¢„å¤„ç†å™¨çš„å¤§è¡Œå…¶é“ã€å„ç§æ¨¡ç‰ˆçš„æµè¡Œï¼Œè¿˜æ˜¯ CoffeeScript ä¹ƒè‡³ <a href="https://www.typescriptlang.org/" target="_blank" rel="noopener noreferrer">TypeScript</a> çš„è¯ç”Ÿï¼Œéƒ½å°è¯äº†è¿™ä¸ªè¯´æ³•ï¼Œå¾®ä¿¡å°ç¨‹åºè¿™é‡Œä¹Ÿä¸ä¾‹å¤–ã€‚å› æ­¤ï¼Œå„ç§å°ç¨‹åºå¼€å‘æ¡†æ¶å¦‚ç™¾èŠ±é½æ”¾ï¼Œå±‚å‡ºä¸ç©·ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/99678/10/8202/38241/5e02daafE215f2a8f/e5a69353a39406f2.jpg" alt="image" class="img_ROth"></p><p>è¿™äº›å°ç¨‹åºå¼€å‘æ¡†æ¶æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯ DSLï¼Œè¿™ç‚¹ä» logo é¢œè‰²ä¸Šå°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œé™¤äº†æ»´æ»´çš„ <a href="https://github.com/didi/chameleon" target="_blank" rel="noopener noreferrer">Chameleon</a> æ˜¯è‡ªå®šä¹‰ DSL å¤–ï¼Œå…¶ä½™çš„ç»¿è‰²çš„ logo æ˜¯éµå¾ªäº† Vue è¯­æ³•ï¼ˆå¦‚ mpvue ï¼‰ï¼Œè“è‰²çš„ logo æ˜¯éµå¾ªäº† React çš„è¯­æ³•ï¼ˆå¦‚ Taroï¼‰ã€‚</p><p>åœ¨å¾®ä¿¡å°ç¨‹åºä¹‹åï¼Œå„å¤§å‚å•†çº·çº·å‘å¸ƒäº†è‡ªå·±çš„å°ç¨‹åºå¹³å°ï¼Œæ¯”å¦‚ï¼šæ”¯ä»˜å®ã€ç™¾åº¦ã€å¤´æ¡ã€QQç­‰ï¼Œå†åŠ ä¸Šå¿«åº”ç”¨ã€ç½‘æ˜“ã€360ã€äº¬ä¸œç­‰ï¼Œå°ç¨‹åºçš„èµ›é“è¶Šæ¥è¶Šæ‹¥æŒ¤ï¼Œå¼€å‘äººå‘˜éœ€è¦é€‚é…çš„å°ç¨‹åºå¹³å°è¶Šæ¥è¶Šå¤šï¼Œå› æ­¤ï¼Œå„å¤§å°ç¨‹åºå¼€å‘æ¡†æ¶ä¹Ÿçº·çº·è¿›è¡Œäº†å¤šç«¯é€‚é…ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/104562/35/8164/62130/5e032a3fEf7ea9e86/eabc43ac51e5d8fa.jpg" alt="image" class="img_ROth"></p><p>å› æ­¤ï¼Œç«™åœ¨è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹åè¿‡æ¥å›é¡¾æ•´ä¸ªå°ç¨‹åºå¼€å‘æ¡†æ¶çš„è¿›ç¨‹ï¼Œä½ ä¼šå‘ç°æ•´ä¸ª 2018 å¹´ä¹ƒè‡³ 2019 å¹´åˆï¼Œå°ç¨‹åºçš„å¼€å‘æ¡†æ¶ä¸»è¦çš„åŒºåˆ«å’Œé‡å¿ƒåœ¨äºï¼š<strong>DSL</strong> ä»¥åŠ <strong>å¤šç«¯é€‚é…</strong>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-çš„èµ·æºä¸åˆå¿ƒ">Taro çš„èµ·æºä¸åˆå¿ƒ<a class="hash-link" href="#taro-çš„èµ·æºä¸åˆå¿ƒ" title="Direct link to heading">â€‹</a></h2><p>æ­£æ‰€è°“ã€Œ<strong>ä¸šåŠ¡å­µåŒ–æŠ€æœ¯ï¼ŒæŠ€æœ¯æœåŠ¡ä¸šåŠ¡</strong>ã€ï¼Œ<a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a> çš„è¯ç”Ÿæºè‡ªäºä¸šåŠ¡éœ€æ±‚çš„å¢åŠ ï¼Œå½“æ—¶æˆ‘ä»¬çš„å›¢é˜Ÿéœ€è¦åŒæ—¶è´Ÿè´£ï¼šäº¬ä¸œè´­ç‰©ï¼ŒTOPLIFE ç­‰ä¸šã€‚å›¢é˜ŸäººåŠ›èµ„æºæ‰è¥Ÿè§è‚˜ï¼Œä¸æ­¤åŒæ—¶ï¼Œä»¥ä¸Šçš„ä¸šåŠ¡éƒ½æˆ–å¤šæˆ–å°‘å­˜åœ¨å¤šç«¯çš„éœ€æ±‚ï¼Œæ¯”å¦‚ å¾®ä¿¡å°ç¨‹åºã€H5ã€React Native(äº¬ä¸œçš„ä¸»æµ APPåŸºæœ¬éƒ½å†…ç½®äº† React Native æ¸²æŸ“å¼•æ“)ï¼Œè€Œä¸”å¯ä»¥é¢„è§çš„æ˜¯ï¼Œä»¥åå¾ˆæœ‰å¯èƒ½éœ€è¦é€‚é…æ›´å¤šçš„å°ç¨‹åºå¹³å°ï¼Œè€Œæ¯ä¸ªç«¯å¼€å‘ä¸€å¥—ä»£ç åˆä¸ç°å®ï¼Œä¼šå¯¼è‡´ï¼š<strong>ç ”å‘æˆæœ¬ä¸Šå‡ï¼Œä»£ç ç»´æŠ¤å›°éš¾</strong>ã€‚</p><p>å½“æ—¶æˆ‘ä»¬å›¢é˜Ÿè‡ªç ”äº†ä¸€æ¬¾ ç±»React æ¡†æ¶ï¼š<a href="https://github.com/NervJS/nerv" target="_blank" rel="noopener noreferrer">Nervjs</a>,  æ•´ä¸ªå›¢é˜Ÿçš„æŠ€æœ¯æ ˆå› æ­¤å…¨éƒ¨è½¬å‘äº† React ï¼Œè€Œå½“æ—¶å¸‚é¢ä¸Šåˆæ²¡æœ‰ä¸€æ¬¾éµå¾ª React è¯­æ³•çš„å°ç¨‹åºæ¡†æ¶ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¼€å‘äº† Taroï¼Œå¸Œæœ›èƒ½å¤Ÿä½¿ç”¨ React è¯­æ³•å†™å°ç¨‹åºçš„åŒæ—¶ï¼Œé€šè¿‡ã€Œ<strong>Write once Run anywhere</strong>ã€æ¥å®ç°è·¨ç«¯çš„ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/88233/19/8246/31350/5e032f11E282a0405/0dbf94883f4d2ab5.jpg" alt="image" class="img_ROth"></p><p>æ•´ä¸ª Taro æ¡†æ¶ä» 2018 å¹´ 6 æœˆ 7 æ—¥å¼€æºè‡³ä»Šï¼Œä¸€è‡´ä¿æŒç€é«˜é€Ÿè¿­ä»£ï¼Œè¿™äº›è¿­ä»£ä¸»è¦é›†ä¸­åœ¨ä¸‰ä¸ªæ–¹é¢ï¼š</p><ul><li><strong>å¤šç«¯é€‚é…</strong>ï¼šä»ä¸€ä¸ªç«¯åˆ°å¤šä¸ªç«¯</li><li><strong>å¼€å‘ä½“éªŒ</strong>ï¼šå¦‚æ”¯æŒ React Hooksã€CSS Modulesã€Mobx ç­‰</li><li><strong>ç¤¾åŒºå…±å»º</strong>ï¼šå¦‚ <a href="https://taro-club.jd.com/" target="_blank" rel="noopener noreferrer">Taro è®ºå›</a>ã€<a href="https://taro-ext.jd.com/" target="_blank" rel="noopener noreferrer">Taroç‰©æ–™å¸‚åœº</a> ç­‰å¹³å°ï¼Œä»¥åŠåé¢å‘å¸ƒçš„ <a href="https://taro-club.jd.com/topic/680/taro-%E9%82%80%E4%BD%A0%E5%8A%A0%E5%85%A5%E7%A4%BE%E5%8C%BA%E5%85%B1%E5%BB%BA-%E7%A4%BE%E5%8C%BA%E5%85%B1%E5%BB%BA%E5%80%A1%E8%AE%AE%E4%B9%A6" target="_blank" rel="noopener noreferrer">ç¤¾åŒºå…±å»ºè®¡åˆ’</a></li></ul><p><img loading="lazy" src="https://img11.360buyimg.com/ling/jfs/t1/99148/6/8241/61075/5e034836Ef0c11f2a/9ef35a2c0edb3947.jpg" alt="image" class="img_ROth"></p><p>ç»è¿‡å›¢é˜Ÿ ä¸€å¹´å¤šçš„åŠªåŠ›ï¼ŒTaro å¾—åˆ°äº†ç¤¾åŒºçš„å¹¿æ³›è®¤å¯ï¼Œæˆªæ­¢ 2019å¹´ 12 æœˆ 18æ—¥ï¼ŒTaro å·²æ‹¥æœ‰ 22254 Stars å’Œ 250 å Contributorsï¼Œç¤¾åŒºä¸»åŠ¨æäº¤çš„å¼€å‘æ¡ˆä¾‹ 150+ï¼š<a href="https://github.com/NervJS/taro-user-cases" target="_blank" rel="noopener noreferrer">taro-user-cases</a>ï¼Œå…¶ä¸­ä¸ä¹å¤šç«¯æ¡ˆä¾‹ã€‚</p><p>ä½†æ˜¯å°½ç®¡å¦‚æ­¤ï¼ŒTaro è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜æ— æ³•è§£å†³ï¼Œæˆ–è€…è¯´ï¼šæ²¡é‚£ä¹ˆå¥½è§£å†³ã€‚æ¯”å¦‚ï¼šå’Œ <code>React DSL</code> å¼ºç»‘å®šã€JSX é€‚é…å·¥ä½œé‡å¤§ã€ç¤¾åŒºè´¡çŒ®å¤æ‚ç­‰ã€‚è¿™äº›é—®é¢˜å½’æ ¹åˆ°åº•ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯ Taro çš„æ¶æ„é—®é¢˜ã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/107422/16/2534/35902/5e09b28fE332f85c2/03c4693f96aa1816.jpg" alt="image" class="img_ROth"></p><p>å› æ­¤æˆ‘ä»¬å›¢é˜Ÿä¹Ÿä¸€ç›´åœ¨ç­‰å¾…ä¸€æ¬¡åˆé€‚çš„æœºä¼šï¼Œå¯¹æ•´ä¸ªæ¶æ„è¿›è¡Œä¸€æ¬¡æå‡ï¼ŒåŒæ—¶ä¿®å¤ä¸€äº›é¡¹ç›®å¿«é€Ÿè¿­ä»£æ¬ ä¸‹çš„æŠ€æœ¯å€ºã€‚</p><p>æœ€ä¸»è¦çš„æ˜¯ï¼Œå•çº¯çš„é¡¹ç›®ç»´æŠ¤è¿­ä»£å·²ç»æ»¡è¶³ä¸äº†æˆ‘ä»¬å›¢é˜ŸèºåŠ¨çš„å¿ƒï¼Œæˆ‘ä»¬æ¸´æœ›å€Ÿæ­¤æœºä¼šè¿›è¡Œä¸€æ¬¡æŠ€æœ¯çªç ´ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åºè·¨æ¡†æ¶å¼€å‘çš„æ¢ç´¢">å°ç¨‹åºè·¨æ¡†æ¶å¼€å‘çš„æ¢ç´¢<a class="hash-link" href="#å°ç¨‹åºè·¨æ¡†æ¶å¼€å‘çš„æ¢ç´¢" title="Direct link to heading">â€‹</a></h2><p>åœ¨è®² Taro æ¶æ„ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹å°ç¨‹åºçš„æ¶æ„ã€‚</p><p>å¾®ä¿¡å°ç¨‹åºä¸»è¦åˆ†ä¸º <strong>é€»è¾‘å±‚</strong> å’Œ <strong>è§†å›¾å±‚</strong>ï¼Œä»¥åŠåœ¨ä»–ä»¬ä¹‹ä¸‹çš„åŸç”Ÿéƒ¨åˆ†ã€‚é€»è¾‘å±‚ä¸»è¦è´Ÿè´£ JS è¿è¡Œï¼Œè§†å›¾å±‚ä¸»è¦è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œå®ƒä»¬ä¹‹é—´ä¸»è¦é€šè¿‡ <code>Event</code> å’Œ <code>Data</code> è¿›è¡Œé€šä¿¡ï¼ŒåŒæ—¶é€šè¿‡ <code>JSBridge</code> è°ƒç”¨åŸç”Ÿçš„ APIã€‚è¿™ä¹Ÿæ˜¯ä»¥å¾®ä¿¡å°ç¨‹åºä¸ºé¦–çš„å¤§å¤šæ•°å°ç¨‹åºçš„æ¶æ„ã€‚</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/107177/10/2710/57899/5e09b4d0E0f946516/6f1ce9685dbcb7a8.jpg" alt="image" class="img_ROth"></p><p>ç”±äºåŸç”Ÿéƒ¨åˆ†å¯¹äºå‰ç«¯å¼€å‘è€…æ¥è¯´å°±åƒæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œå› æ­¤ï¼Œæ•´ä¸ªæ¶æ„å›¾çš„åŸç”Ÿéƒ¨åˆ†å¯ä»¥çœç•¥ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬æˆ‘ä»¬å¯¹ é€»è¾‘å±‚ å’Œ è§†å›¾å±‚ ä¹Ÿåšä¸€ä¸‹ç®€åŒ–ï¼Œæœ€åå¯ä»¥å¾—åˆ°å°ç¨‹åºæ¶æ„å›¾çš„æç®€ç‰ˆï¼š</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/95252/26/8821/23351/5e09b555Eda94235f/f3c96e14c4c5c218.jpg" alt="image" class="img_ROth"></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåªéœ€è¦åœ¨é€»è¾‘å±‚è°ƒç”¨å¯¹åº”çš„ <code>App()/Page()</code> æ–¹æ³•ï¼Œä¸”åœ¨æ–¹æ³•é‡Œé¢å¤„ç† dataã€æä¾›ç”Ÿå‘½å‘¨æœŸ/äº‹ä»¶å‡½æ•°ç­‰ï¼ŒåŒæ—¶åœ¨è§†å›¾å±‚æä¾›å¯¹åº”çš„æ¨¡ç‰ˆåŠæ ·å¼ä¾›æ¸²æŸ“å°±èƒ½è¿è¡Œå°ç¨‹åºäº†ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°å°ç¨‹åºå¼€å‘æ¡†æ¶é‡ç‚¹è€ƒè™‘å’Œå¤„ç†çš„éƒ¨åˆ†ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-å½“å‰æ¶æ„">Taro å½“å‰æ¶æ„<a class="hash-link" href="#taro-å½“å‰æ¶æ„" title="Direct link to heading">â€‹</a></h3><p>Taro å½“å‰çš„æ¶æ„ä¸»è¦åˆ†ä¸ºï¼š<strong>ç¼–è¯‘æ—¶</strong> å’Œ <strong>è¿è¡Œæ—¶</strong>ã€‚</p><p>å…¶ä¸­ç¼–è¯‘æ—¶ä¸»è¦æ˜¯å°† Taro ä»£ç é€šè¿‡ <a href="https://babeljs.io/" target="_blank" rel="noopener noreferrer">Babel</a> è½¬æ¢æˆ å°ç¨‹åºçš„ä»£ç ï¼Œå¦‚ï¼š<code>JS</code>ã€<code>WXML</code>ã€<code>WXSS</code>ã€<code>JSON</code>ã€‚</p><p>è¿è¡Œæ—¶ä¸»è¦æ˜¯è¿›è¡Œä¸€äº›ï¼šç”Ÿå‘½å‘¨æœŸã€äº‹ä»¶ã€data ç­‰éƒ¨åˆ†çš„å¤„ç†å’Œå¯¹æ¥ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/106172/7/8929/32332/5e09b68eEba12dd4c/9298bfdd494a3aae.jpg" alt="image" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ç¼–è¯‘æ—¶">Taro ç¼–è¯‘æ—¶<a class="hash-link" href="#taro-ç¼–è¯‘æ—¶" title="Direct link to heading">â€‹</a></h4><p>æœ‰è¿‡ Babel æ’ä»¶å¼€å‘ç»éªŒçš„åº”è¯¥å¯¹ä¸€ä¸‹æµç¨‹ååˆ†ç†Ÿæ‚‰ï¼ŒTaro çš„ç¼–è¯‘æ—¶ä¹Ÿæ˜¯éµå¾ªäº†æ­¤æµç¨‹ï¼Œä½¿ç”¨ <a href="https://babeljs.io/docs/en/babel-parser" target="_blank" rel="noopener noreferrer">babel-parser</a> å°† Taro ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ï¼Œç„¶åé€šè¿‡ <a href="https://babeljs.io/docs/en/babel-types" target="_blank" rel="noopener noreferrer">babel-types</a> å¯¹æŠ½è±¡è¯­æ³•æ ‘è¿›è¡Œä¸€ç³»åˆ—ä¿®æ”¹ã€è½¬æ¢æ“ä½œï¼Œæœ€åå†é€šè¿‡ <a href="https://babeljs.io/docs/en/babel-generator" target="_blank" rel="noopener noreferrer">babel-generate</a> ç”Ÿæˆå¯¹åº”çš„ç›®æ ‡ä»£ç ã€‚</p><p>è¯¦æƒ…å¯ä»¥å‚è€ƒï¼š<a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md" target="_blank" rel="noopener noreferrer">babel-handbook</a></p><p><img loading="lazy" src="https://img11.360buyimg.com/ling/jfs/t1/105147/3/8169/18536/5e09b73cEf890be4f/a431388d25b2842d.jpg" alt="image" class="img_ROth"></p><p>æ•´ä¸ªç¼–è¯‘æ—¶æœ€å¤æ‚çš„éƒ¨åˆ†åœ¨äº JSX ç¼–è¯‘ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ JSX æ˜¯ä¸€ä¸ª JavaScript çš„è¯­æ³•æ‰©å±•ï¼Œå®ƒçš„å†™æ³•åƒå˜ä¸‡åŒ–ï¼Œååˆ†çµæ´»ã€‚è¿™é‡Œæˆ‘ä»¬æ˜¯é‡‡ç”¨ <strong>ç©·ä¸¾</strong> çš„æ–¹å¼å¯¹ JSX å¯èƒ½çš„å†™æ³•è¿›è¡Œäº†ä¸€ä¸€é€‚é…ï¼Œè¿™ä¸€éƒ¨åˆ†å·¥ä½œé‡å¾ˆå¤§ï¼Œ<strong>å®é™…ä¸Š Taro æœ‰å¤§é‡çš„ Commit éƒ½æ˜¯ä¸ºäº†æ›´å®Œå–„çš„æ”¯æŒ JSX çš„å„ç§å†™æ³•</strong>ã€‚</p><p>ä½†å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¯èƒ½å®Œå…¨è¦†ç›–æ‰€æœ‰çš„æƒ…å†µï¼Œå› æ­¤è¿˜æ˜¯æ¨èå¤§å®¶æŒ‰ç…§å®˜æ–¹è§„èŒƒä¹¦å†™ React ä»£ç ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›äº†ä¸°å¯Œçš„ ESlint æ’ä»¶æ¥è¾…åŠ©å¤§å®¶ä¹¦å†™è§„èŒƒçš„ä»£ç ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/89156/33/8823/16470/5e09b863E5d45cb87/3be78140b1186009.jpg" alt="image" class="img_ROth"></p><p>è¿™ä¸€å—æˆ‘ä»¬å›¢é˜Ÿå†…éƒ¨ä¸€ç›´æœ‰ä¸ªæ¢—ï¼š<strong>å¦‚æœä½ ä½¿ç”¨ Taro å¼€å‘æ„Ÿè§‰ Bug å°‘ï¼Œé‚£è¯´æ˜ä½ çš„ React ä»£ç å†™å¾—å¾ˆè§„èŒƒ</strong>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="taro-è¿è¡Œæ—¶">Taro è¿è¡Œæ—¶<a class="hash-link" href="#taro-è¿è¡Œæ—¶" title="Direct link to heading">â€‹</a></h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ç¼–è¯‘åçš„ä»£ç ï¼Œå¯ä»¥å‘ç°ï¼Œç¼–è¯‘åçš„ä»£ç ä¸­ï¼ŒReact çš„æ ¸å¿ƒ render æ–¹æ³•  æ²¡æœ‰äº†ã€‚åŒæ—¶ä»£ç é‡Œå¢åŠ äº† <code>BaseComponent</code> å’Œ <code>createComponent</code> ,å®ƒä»¬æ˜¯ Taro è¿è¡Œæ—¶çš„æ ¸å¿ƒã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ç¼–è¯‘å‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain">&nbsp;Taro</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">&nbsp;Component&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">from</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">&nbsp;View</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">&nbsp;Text&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">from</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">'@tarojs/components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">'./index.scss'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">default</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">class</span><span class="token plain">&nbsp;</span><span class="token class-name">Index</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain">&nbsp;</span><span class="token class-name">Component</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;config&nbsp;</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;navigationBarTitleText</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">'é¦–é¡µ'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">render</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token keyword" style="color:#00009f">return</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">View&nbsp;className</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">â€˜index' onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">onClick</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Hello&nbsp;world!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¼–è¯‘å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">BaseComponent</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">&nbsp;createComponent</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">from</span><span class="token plain">&nbsp;</span><span class="token string" style="color:#e3116c">'@tarojs/taro-weapp'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain">&nbsp;</span><span class="token class-name">Index</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain">&nbsp;</span><span class="token class-name">BaseComponent</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ... </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">_createDate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">//process&nbsp;state&nbsp;and&nbsp;props</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain">&nbsp;</span><span class="token keyword" style="color:#00009f">default</span><span class="token plain">&nbsp;</span><span class="token function" style="color:#d73a49">createComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>BaseComponent</code> å¤§æ¦‚çš„ UML å›¾å¦‚ä¸‹ï¼Œä¸»è¦æ˜¯å¯¹ React çš„ä¸€äº›æ ¸å¿ƒæ–¹æ³•ï¼š<code>setState</code>ã€<code>forceUpdate</code> ç­‰è¿›è¡Œäº†æ›¿æ¢å’Œé‡å†™ï¼Œç»“åˆå‰é¢ç¼–è¯‘å render æ–¹æ³•è¢«æ›¿æ¢ï¼Œå¤§å®¶ä¸éš¾çŒœå‡ºï¼š<strong>Taro å½“å‰æ¶æ„åªæ˜¯åœ¨å¼€å‘æ—¶éµå¾ªäº† React çš„è¯­æ³•ï¼Œåœ¨ä»£ç ç¼–è¯‘ä¹‹åå®é™…è¿è¡Œæ—¶ï¼Œå’Œ React å¹¶æ²¡æœ‰å…³ç³»</strong>ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/94580/33/9226/44101/5e0d931bE5f13069b/bc2a93e23c4253de.jpg" alt="image" class="img_ROth"></p><p>è€Œ <code>createComponent</code> ä¸»è¦ä½œç”¨æ˜¯è°ƒç”¨ <code>Component()</code> æ„å»ºé¡µé¢ï¼›å¯¹æ¥äº‹ä»¶ã€ç”Ÿå‘½å‘¨æœŸç­‰ï¼›è¿›è¡Œ <code>Diff Data</code> å¹¶è°ƒç”¨ <code>setData</code> æ–¹æ³•æ›´æ–°æ•°æ®ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ€»ç»“">æ€»ç»“<a class="hash-link" href="#æ€»ç»“" title="Direct link to heading">â€‹</a></h4><p>å› æ­¤ï¼Œæ•´ä¸ª Taro å½“å‰æ¶æ„çš„ç‰¹ç‚¹æ˜¯ï¼š</p><ul><li><strong>é‡ç¼–è¯‘æ—¶ï¼Œè½»è¿è¡Œæ—¶</strong>ï¼šè¿™ä»ä¸¤è¾¹ä»£ç è¡Œæ•°çš„å¯¹æ¯”å°±å¯è§ä¸€æ–‘ã€‚</li><li>ç¼–è¯‘åä»£ç ä¸ React æ— å…³ï¼šTaro åªæ˜¯åœ¨å¼€å‘æ—¶éµå¾ªäº† React çš„è¯­æ³•ã€‚</li><li>ç›´æ¥ä½¿ç”¨ Babel è¿›è¡Œç¼–è¯‘ï¼šè¿™ä¹Ÿå¯¼è‡´å½“å‰ Taro åœ¨å·¥ç¨‹åŒ–å’Œæ’ä»¶æ–¹é¢çš„ç¾¸å¼±ã€‚</li></ul><p><img loading="lazy" src="https://img11.360buyimg.com/ling/jfs/t1/89541/6/9134/34300/5e09c074E0f407f81/c2a4f263c165616a.jpg" alt="image" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å…¶å®ƒè§£å†³æ–¹æ¡ˆçš„æ¶æ„">å…¶å®ƒè§£å†³æ–¹æ¡ˆçš„æ¶æ„<a class="hash-link" href="#å…¶å®ƒè§£å†³æ–¹æ¡ˆçš„æ¶æ„" title="Direct link to heading">â€‹</a></h3><p>å°ç¨‹åºå¼€å‘æ¡†æ¶ç™¾èŠ±é½æ”¾ï¼Œæˆ‘ä»¬ä¹Ÿä»ç¤¾åŒºé‡Œå¾—åˆ°äº†ä¸å°‘å¯å‘ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹ éµå¾ª vue è¯­æ³•çš„å°ç¨‹åºå¼€å‘æ¡†æ¶çš„ä»£è¡¨ï¼š<a href="https://github.com/Meituan-Dianping/mpvue" target="_blank" rel="noopener noreferrer">mpvue</a> æ˜¯æ€æ ·å®ç°çš„ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/107088/4/8868/43564/5e09c17eEacdd5c10/fa7018caaf5fb782.jpg" alt="image" class="img_ROth"></p><p>çœ‹è¿‡ Vue æºç çš„åŒå­¦å¯¹ä¸Šé¢çš„æ–‡ä»¶å¤¹å’Œæ¶æ„è‚¯å®šç†Ÿæ‚‰ï¼Œæœ¬è´¨ä¸Šï¼Œmpvue å°±æ˜¯ fork äº†ä¸€ä»½ <code>vuejs/vue@2.4.1</code> çš„ä»£ç ï¼Œä¿ç•™äº† Vue runtime èƒ½åŠ›ï¼ŒåŒæ—¶æ·»åŠ äº†å°ç¨‹åºå¹³å°çš„æ”¯æŒã€‚</p><p>å…·ä½“åœ¨æºç ä¸­çš„è¡¨ç°å°±æ˜¯ï¼šåœ¨ Vue æºç çš„ platforms æ–‡ä»¶å¤¹ä¸‹é¢å¢åŠ äº† mp ç›®å½•ï¼Œåœ¨é‡Œé¢å®ç°äº† <code>complierï¼ˆç¼–è¯‘æ—¶ï¼‰</code> å’Œ <code>runtime ï¼ˆè¿è¡Œæ—¶ï¼‰</code>æ”¯æŒã€‚</p><p>mpvue çš„å®ç°åŒæ ·åˆ†ä¸ºï¼š<strong>ç¼–è¯‘æ—¶</strong>å’Œ<strong>è¿è¡Œæ—¶</strong>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="mpvue-ç¼–è¯‘æ—¶">mpvue ç¼–è¯‘æ—¶<a class="hash-link" href="#mpvue-ç¼–è¯‘æ—¶" title="Direct link to heading">â€‹</a></h4><p>å…¶ä¸­ç¼–è¯‘æ—¶åšçš„äº‹æƒ…å’Œ Taro å¾ˆç±»ä¼¼ï¼šå°† Vue SFC å†™æ³•çš„ä»£ç ç¼–è¯‘æˆ å°ç¨‹åºä»£ç æ–‡ä»¶ï¼ˆJSã€WXMLã€WXSSã€JSONï¼‰ã€‚</p><p>æœ€å¤§çš„åŒºåˆ«æ˜¯ Taro å°† JSX ç¼–è¯‘æˆ å°ç¨‹åºæ¨¡ç‰ˆï¼Œè€Œ mpvue æ˜¯å°† Vue æ¨¡ç‰ˆç¼–è¯‘æˆ å°ç¨‹åºæ¨¡ç‰ˆã€‚ä½†æ˜¯ç”±äº Vue æ¨¡ç‰ˆå’Œ å°ç¨‹åºæ¨¡ç‰ˆçš„ç›¸ä¼¼æ€§ï¼Œmpvue åœ¨è¿™ä¸€å—çš„å·¥ä½œé‡æ¯” Taro å°‘å¾—å¤šã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/107613/2/2742/42346/5e09f5c5E7424d037/b2d7a1d5327cdf4f.jpg" alt="image" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="mpvue-è¿è¡Œæ—¶">mpvue è¿è¡Œæ—¶<a class="hash-link" href="#mpvue-è¿è¡Œæ—¶" title="Direct link to heading">â€‹</a></h4><p>è€Œ mpvue çš„è¿è¡Œæ—¶å’Œ Vue çš„è¿è¡Œæ—¶æ˜¯å¼ºå…³è”çš„ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹ Vue çš„è¿è¡Œæ—¶ã€‚</p><p>ä¸€ä¸ª .vue çš„å•æ–‡ä»¶ç”±ä¸‰éƒ¨åˆ†æ„æˆ: <code>template</code>, <code>script</code>, <code>style</code> ã€‚</p><p>æ©™è‰²è·¯å¾„éƒ¨åˆ†, template ä¼šåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨ <code>vue-loader</code> ä¸­é€šè¿‡ ast è¿›è¡Œåˆ†æï¼Œæœ€ç»ˆç”Ÿæˆä¸€æ®µ render å‡½æ•°ï¼Œæ‰§è¡Œ render å‡½æ•°ä¼šç”Ÿæˆè™šæ‹Ÿdomæ ‘ï¼Œè™šæ‹Ÿ DOM æ ‘æ˜¯å¯¹çœŸå® DOM æ ‘çš„æŠ½è±¡ï¼Œæ ‘ä¸­çš„èŠ‚ç‚¹è¢«ç§°ä½œ vnode ã€‚</p><p>Vue æ‹¿åˆ° è™šæ‹Ÿ DOM æ ‘ä¹‹åï¼Œå°±å¯ä»¥å»å’Œä¸Šæ¬¡è€çš„ è™šæ‹Ÿ DOM æ ‘ åš <code>patch diff</code> å¯¹æ¯”ã€‚patch é˜¶æ®µä¹‹åï¼Œvue å°±ä¼šä½¿ç”¨çœŸå®çš„æ“ä½œDOM çš„æ–¹æ³•ï¼ˆæ¯”å¦‚è¯´ <code>insertBefore</code> , <code>appendChild</code> ä¹‹ç±»çš„ï¼‰ï¼Œå»æ“ä½œDOMç»“ç‚¹ï¼Œæ›´æ–°è§†å›¾ã€‚</p><p>åŒæ—¶ï¼Œç»¿è‰²è·¯å¾„çš„éƒ¨åˆ†ï¼Œåœ¨å®ä¾‹åŒ– Vue çš„æ—¶å€™ï¼Œä¼šå¯¹æ•°æ® data åšå“åº”å¼çš„å¤„ç†ï¼Œåœ¨ç›‘æµ‹åˆ° data å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šè°ƒç”¨ render å‡½æ•°ï¼Œç”Ÿæˆæœ€æ–°çš„è™šæ‹Ÿ DOM æ ‘ï¼Œ æ¥ç€å¯¹æ¯”è€çš„è™šæ‹Ÿ DOM æ ‘è¿›è¡Œ patch, æ‰¾å‡ºæœ€å°ä¿®æ”¹ä»£ä»·çš„ vnode èŠ‚ç‚¹è¿›è¡Œä¿®æ”¹ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/98880/36/8962/23682/5e09ee76Ee70d5703/898f0c8b2003eafe.jpg" alt="image" class="img_ROth"></p><p>è€Œ mpvue çš„è¿è¡Œæ—¶ï¼Œä¼šé¦–å…ˆå°† patch é˜¶æ®µçš„ DOM æ“ä½œç›¸å…³æ–¹æ³•ç½®ç©ºï¼Œä¹Ÿå°±æ˜¯ä»€ä¹ˆéƒ½ä¸åšã€‚å…¶æ¬¡ï¼Œåœ¨åˆ›å»º Vue å®ä¾‹çš„åŒæ—¶ï¼Œè¿˜ä¼šå·å·çš„è°ƒç”¨ <code>Page()</code> ç”¨äºç”Ÿæˆäº†å°ç¨‹åºçš„ page å®ä¾‹ã€‚ç„¶å è¿è¡Œæ—¶çš„ patch é˜¶æ®µä¼šç›´æ¥è°ƒç”¨ <code>$updateDataToMp()</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè·å–æŒ‚åœ¨åœ¨ page å®ä¾‹ä¸Šç»´æŠ¤çš„æ•°æ® ï¼Œç„¶åé€šè¿‡ <code>setData</code> æ–¹æ³•æ›´æ–°åˆ°è§†å›¾å±‚ã€‚</p><p>mpvue æ•´ä½“åŸç†å›¾ä¹Ÿå°±å¦‚ä¸‹ï¼š</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/85977/36/9055/54025/5e09efc8Ea2a7e868/60360ca99a89c1a7.jpg" alt="image" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€äº›æ€»ç»“ä¸æ€è€ƒ">ä¸€äº›æ€»ç»“ä¸æ€è€ƒ<a class="hash-link" href="#ä¸€äº›æ€»ç»“ä¸æ€è€ƒ" title="Direct link to heading">â€‹</a></h4><p>å› æ­¤ï¼Œå’Œ Taro é‡ç¼–è¯‘æ—¶è½»è¿è¡Œæ—¶ä¸åŒï¼Œmpvue ç®—æ˜¯ï¼š<strong>åŠç¼–è¯‘æ—¶ï¼ŒåŠè¿è¡Œæ—¶</strong>ã€‚è¿™ç‚¹ä»ä»£ç é‡çš„å¯¹æ¯”ä¹Ÿèƒ½å¤§è‡´åæ˜ å‡ºæ¥ã€‚</p><p>mpvue çš„ WXML æ¨¡ç‰ˆå’Œ Taro ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡ä»£ç ç¼–è¯‘å¾—åˆ°çš„ï¼›ä¸åŒäº Taro è¿è¡Œæ—¶å’Œ React æ— å…³ï¼Œmpvue æœ¬è´¨ä¸Šè¿˜æ˜¯å°† Vue è¿è¡Œåœ¨äº†å°ç¨‹åºï¼Œä¸”å®ç°äº† <code>Vue@2.4.1</code> ç»å¤§éƒ¨åˆ†ç‰¹æ€§ï¼ˆåªæœ‰æå°‘æ•°ç‰¹æ€§ç”±äºå°ç¨‹åºæ¨¡ç‰ˆçš„é™åˆ¶æœªèƒ½å®ç°ï¼Œå¦‚ ï¼š<code>filter</code>ã€<code>slot</code>ã€<code>v-html</code>ï¼‰ï¼›ä¸”æ•´ä¸ªæ¡†æ¶åŸºäº Webpack å®ç°äº†è¾ƒä¸ºå®Œå–„çš„å·¥ç¨‹åŒ–ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/92568/25/8880/35958/5e09f1a6E4a7a414c/6c78485432afb527.jpg" alt="mage" class="img_ROth"></p><p>å…¶ä»–å°ç¨‹åºæ¡†æ¶çš„å®ç°åŸç†å’Œæ•ˆæœä¸Šçš„å·®å¼‚æ€§ï¼Œä¹Ÿå¸¦æ¥äº†æˆ‘ä»¬çš„ä¸€äº›æ€è€ƒï¼š</p><ul><li><strong>ç¼–è¯‘æ—¶ OR è¿è¡Œæ—¶</strong>ï¼šå½“åˆ Taro é€‰æ‹©é‡ç¼–è¯‘æ—¶çš„ä¸»è¦åŸå› æ˜¯å¤„äºæ€§èƒ½è€ƒè™‘ï¼Œæ¯•ç«Ÿ<strong>åŒç­‰æ¡ä»¶ä¸‹ï¼Œç¼–è¯‘æ—¶åšçš„å·¥ä½œè¶Šå¤šï¼Œä¹Ÿå°±æ„å‘³ç€è¿è¡Œæ—¶åšçš„å·¥ä½œè¶Šå°‘ï¼Œæ€§èƒ½ä¼šæ›´å¥½</strong>ï¼›å¦å¤–ï¼Œé‡ç¼–è¯‘æ—¶ä¹Ÿä¿è¯äº† Taro çš„ä»£ç åœ¨ç¼–è¯‘ä¹‹åçš„å¯è¯»æ€§ã€‚ä½†æ˜¯ä»é•¿è¿œæ¥çœ‹ï¼Œè®¡ç®—æœºç¡¬ä»¶çš„æ€§èƒ½è¶Šæ¥è¶Šå†—ä½™ï¼Œ<strong>å¦‚æœåœ¨ç‰ºç‰²ä¸€ç‚¹å¯ä»¥å®¹å¿çš„æ€§èƒ½çš„æƒ…å†µä¸‹æ¢æ¥æ•´ä¸ªæ¡†æ¶æ›´å¤§çš„çµæ´»æ€§å’Œæ›´å¥½çš„é€‚é…æ€§ï¼Œæˆ‘ä»¬è®¤ä¸ºæ˜¯å€¼å¾—çš„</strong>ã€‚</li><li><strong>æ¨¡ç‰ˆé™æ€ç¼–è¯‘ OR åŠ¨æ€æ„å»º</strong>ï¼šå°½ç®¡ Taro å’Œ mpvue çš„æ¨¡ç‰ˆéƒ½æ˜¯é€šè¿‡é™æ€ç¼–è¯‘ç”Ÿæˆçš„ï¼Œä½†æ˜¯ç¤¾åŒºä¹Ÿä¸ä¹åŠ¨æ€æ„å»ºçš„ä¾‹å­ï¼Œæ¯”å¦‚ï¼š<a href="https://github.com/remaxjs/remax" target="_blank" rel="noopener noreferrer">Remax</a>ã€‚</li><li><strong>DSL é™åˆ¶</strong>ï¼šæˆ‘ä»¬èƒ½å¦å®ç°ä¸€ä¸ªå°ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œæ‘†è„± DSL çš„é™åˆ¶ï¼Ÿ</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°æ¶æ„-taro-next-çš„é€‚é…ä¸å®ç°">æ–°æ¶æ„ Taro Next çš„é€‚é…ä¸å®ç°<a class="hash-link" href="#æ–°æ¶æ„-taro-next-çš„é€‚é…ä¸å®ç°" title="Direct link to heading">â€‹</a></h2><p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ç«™åœ¨æµè§ˆå™¨çš„è§’åº¦æ¥æ€è€ƒ<strong>å‰ç«¯çš„æœ¬è´¨</strong>ï¼šæ— è®ºå¼€å‘è¿™æ˜¯ç”¨çš„æ˜¯ä»€ä¹ˆæ¡†æ¶ï¼ŒReact ä¹Ÿå¥½ï¼ŒVue ä¹Ÿç½¢ï¼Œæœ€ç»ˆä»£ç ç»è¿‡è¿è¡Œä¹‹åéƒ½æ˜¯è°ƒç”¨äº†æµè§ˆå™¨çš„é‚£å‡ ä¸ª BOM/DOM çš„ API ï¼Œå¦‚ï¼š<code>createElement</code>ã€<code>appendChild</code>ã€<code>removeChild</code> ç­‰ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/91591/19/8966/30891/5e09f712E6e7f1df8/c3cbbead85810461.jpg" alt="image" class="img_ROth"></p><p>å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº† <a href="https://github.com/NervJS/taro/tree/next/packages/taro-runtime" target="_blank" rel="noopener noreferrer">taro-runtime</a> çš„åŒ…ï¼Œç„¶ååœ¨è¿™ä¸ªåŒ…ä¸­å®ç°äº† <strong>ä¸€å¥— é«˜æ•ˆã€ç²¾ç®€ç‰ˆçš„ DOM/BOM API</strong>ï¼ˆä¸‹é¢çš„ UML å›¾åªæ˜¯åæ˜ äº†å‡ ä¸ªä¸»è¦çš„ç±»çš„ç»“æ„å’Œå…³ç³»ï¼‰ï¼š</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/107806/8/2825/294525/5e09f810E8d32975f/ec84acddae669131.png" alt="image" class="img_ROth"></p><p>ç„¶åï¼Œæˆ‘ä»¬é€šè¿‡ Webpack çš„ <a href="https://webpack.js.org/plugins/provide-plugin/" target="_blank" rel="noopener noreferrer">ProvidePlugin</a> æ’ä»¶ï¼Œæ³¨å…¥åˆ°å°ç¨‹åºçš„é€»è¾‘å±‚ã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/108453/24/2831/46425/5e09f855E1b8decb1/ce5c38a07b99556c.jpg" alt="image" class="img_ROth"></p><p>è¿™æ ·ï¼Œåœ¨å°ç¨‹åºçš„è¿è¡Œæ—¶ï¼Œå°±æœ‰äº† <strong>ä¸€å¥—é«˜æ•ˆã€ç²¾ç®€ç‰ˆçš„ DOM/BOM API</strong>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="react-å®ç°">React å®ç°<a class="hash-link" href="#react-å®ç°" title="Direct link to heading">â€‹</a></h3><p>åœ¨ <code>DOM/BOM</code> æ³¨å…¥ä¹‹åï¼Œç†è®ºä¸Šæ¥è¯´ï¼ŒNerv/Preact å°±å¯ä»¥ç›´æ¥è¿è¡Œäº†ã€‚ä½†æ˜¯ React æœ‰ç‚¹ç‰¹æ®Šï¼Œå› ä¸º <code>React-DOM</code> åŒ…å«å¤§é‡æµè§ˆå™¨å…¼å®¹ç±»çš„ä»£ç ï¼Œå¯¼è‡´åŒ…å¤ªå¤§ï¼Œè€Œè¿™éƒ¨åˆ†ä»£ç æˆ‘ä»¬æ˜¯ä¸éœ€è¦çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åšä¸€äº›å®šåˆ¶å’Œä¼˜åŒ–ã€‚</p><p>åœ¨ React 16+ ï¼ŒReact çš„æ¶æ„å¦‚ä¸‹ï¼š</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/93547/36/9145/40000/5e09f948Edd646b65/ce37c0d099b7f702.jpg" alt="image" class="img_ROth"></p><p>æœ€ä¸Šå±‚æ˜¯ React çš„æ ¸å¿ƒéƒ¨åˆ† <code>react-core</code> ï¼Œä¸­é—´æ˜¯ <code>react-reconciler</code>ï¼Œå…¶çš„èŒè´£æ˜¯ç»´æŠ¤ <code>VirtualDOM</code> æ ‘ï¼Œå†…éƒ¨å®ç°äº† <code>Diff/Fiber</code> ç®—æ³•ï¼Œå†³å®šä»€ä¹ˆæ—¶å€™æ›´æ–°ã€ä»¥åŠè¦æ›´æ–°ä»€ä¹ˆã€‚</p><p>è€Œ <code>Renderer</code> è´Ÿè´£å…·ä½“å¹³å°çš„æ¸²æŸ“å·¥ä½œï¼Œå®ƒä¼šæä¾›å®¿ä¸»ç»„ä»¶ã€å¤„ç†äº‹ä»¶ç­‰ç­‰ã€‚ä¾‹å¦‚ <code>React-DOM</code> å°±æ˜¯ä¸€ä¸ªæ¸²æŸ“å™¨ï¼Œè´Ÿè´£ DOM èŠ‚ç‚¹çš„æ¸²æŸ“å’Œ DOM äº‹ä»¶å¤„ç†ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å®ç°äº† <a href="https://github.com/NervJS/taro/tree/next/packages/taro-react" target="_blank" rel="noopener noreferrer">taro-react</a> åŒ…ï¼Œç”¨æ¥è¿æ¥ <code>react-reconciler</code> å’Œ <code>taro-runtime</code> çš„ BOM/DOM APIï¼š</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/90851/28/9324/88846/5e0d9374Ec9b1a530/6a494163f77c6dd7.jpg" alt="image" class="img_ROth"></p><p>å…·ä½“çš„å®ç°ä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼š</p><ol><li>å®ç° <code>react-reconciler</code> çš„ <code>hostConfig</code> é…ç½®ï¼Œå³åœ¨ <code>hostConfig</code> çš„æ–¹æ³•ä¸­è°ƒç”¨å¯¹åº”çš„ Taro BOM/DOM çš„ APIã€‚</li><li>å®ç° render å‡½æ•°ï¼ˆç±»ä¼¼äº <code>ReactDOM.render</code>ï¼‰æ–¹æ³•ï¼Œå¯ä»¥çœ‹æˆæ˜¯åˆ›å»º <code>Taro DOM Tree</code> çš„å®¹å™¨ã€‚</li></ol><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/93510/31/8909/48959/5e09fa87E1d831f7e/5d6f1f945c23e529.jpg" alt="image" class="img_ROth"></p><p>ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼ŒReact ä»£ç å®é™…ä¸Šå°±å¯ä»¥åœ¨å°ç¨‹åºçš„è¿è¡Œæ—¶æ­£å¸¸è¿è¡Œäº†ï¼Œå¹¶ä¸”ä¼šç”Ÿæˆ <code>Taro DOM Tree</code>ï¼Œé‚£ä¹ˆåŒå¤§çš„ Taro DOM Tree æ€æ ·æ›´æ–°åˆ°é¡µé¢å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†å°ç¨‹åºçš„æ‰€æœ‰ç»„ä»¶æŒ¨ä¸ªè¿›è¡Œ<strong>æ¨¡ç‰ˆåŒ–å¤„ç†</strong>ï¼Œä»è€Œå¾—åˆ°å°ç¨‹åºç»„ä»¶å¯¹åº”çš„æ¨¡ç‰ˆï¼Œå¦‚ä¸‹å›¾å°±æ˜¯å°ç¨‹åºçš„ view ç»„ä»¶ç»è¿‡æ¨¡ç‰ˆåŒ–å¤„ç†åçš„æ ·å­ï¼š</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/85731/39/9039/431602/5e09fbd5Ef650095a/2fefbf82fefa9abe.png" alt="image" class="img_ROth"></p><p>ç„¶åï¼Œæˆ‘ä»¬ä¼šï¼š<strong>åŸºäºç»„ä»¶çš„ templateï¼ŒåŠ¨æ€ â€œé€’å½’â€ æ¸²æŸ“æ•´æ£µæ ‘</strong>ã€‚</p><p>å…·ä½“æµç¨‹ä¸ºå…ˆå»éå† <code>Taro DOM Tree</code> æ ¹èŠ‚ç‚¹çš„å­å…ƒç´ ï¼Œå†æ ¹æ®æ¯ä¸ªå­å…ƒç´ çš„ç±»å‹é€‰æ‹©å¯¹åº”çš„æ¨¡æ¿æ¥æ¸²æŸ“å­å…ƒç´ ï¼Œç„¶ååœ¨æ¯ä¸ªæ¨¡æ¿ä¸­æˆ‘ä»¬åˆä¼šå»éå†å½“å‰å…ƒç´ çš„å­å…ƒç´ ï¼Œä»¥æ­¤æŠŠæ•´ä¸ªèŠ‚ç‚¹æ ‘é€’å½’éå†å‡ºæ¥ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/91642/11/9016/45574/5e09fc9dE03db038c/f87d7fc69e04b26e.jpg" alt="image" class="img_ROth"></p><p>æ•´ä¸ª Taro Next çš„ React å®ç°æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img loading="lazy" src="https://img11.360buyimg.com/ling/jfs/t1/106748/9/9067/61495/5e09fd1eE47733747/a11b3ef8b1a7f791.jpg" alt="image" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="vue-å®ç°">Vue å®ç°<a class="hash-link" href="#vue-å®ç°" title="Direct link to heading">â€‹</a></h3><p>åˆ«çœ‹ React å’Œ Vue åœ¨å¼€å‘æ—¶åŒºåˆ«é‚£ä¹ˆå¤§ï¼Œå…¶å®åœ¨å®ç°äº† BOM/DOM API ä¹‹åï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«å°±å¾ˆå°äº†ã€‚</p><p>Vue å’Œ React æœ€å¤§çš„åŒºåˆ«å°±åœ¨äºè¿è¡Œæ—¶çš„ <code>CreateVuePage</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œè¿›è¡Œäº†ä¸€äº›è¿è¡Œæ—¶çš„å¤„ç†ï¼Œæ¯”å¦‚ï¼šç”Ÿå‘½å‘¨æœŸçš„å¯¹é½ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/96356/5/8961/15030/5e0aae8aE452804bd/f4c7df38129d99c5.jpg" alt="image" class="img_ROth"></p><p>å…¶ä»–çš„éƒ¨åˆ†ï¼Œå¦‚é€šè¿‡ BOM/DOM æ–¹æ³•æ„å»ºã€ä¿®æ”¹ DOM Tree åŠæ¸²æŸ“åŸç†ï¼Œéƒ½æ˜¯å’Œ React ä¸€è‡´çš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="flutter-å®ç°">Flutter å®ç°<a class="hash-link" href="#flutter-å®ç°" title="Direct link to heading">â€‹</a></h3><p>æåˆ° Flutter ï¼Œå°±ä¸å¾—ä¸æ <a href="https://flutter.dev/web" target="_blank" rel="noopener noreferrer">Flutter Web</a> ï¼Œ<strong>Flutter Web æ˜¯åœ¨æ ‡å‡†æµè§ˆå™¨ API ä¹‹ä¸Šå®ç° Flutter çš„æ ¸å¿ƒç»˜å›¾å±‚</strong>ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯æœ€ç»ˆè°ƒç”¨äº† BOM/DOM APIã€‚å› æ­¤ï¼Œç†è®ºæ¥è¯´ï¼Œä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œé€‚é…çš„ï¼Œä½†è¿™ä¸€å—æˆ‘ä»¬å¹¶ä¸ä¼šæŠ•å…¥å¤ªå¤šçš„ç²¾åŠ›ï¼Œæœ€ç»ˆä¼šåƒå¿«åº”ç”¨ä¸€æ ·äº¤ç»™ç¤¾åŒºæ¥å®ç°å’Œç»´æŠ¤ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/101882/34/9079/132553/5e0aaf5dEc32869e0/79597c5309ab55f9.jpg" alt="image" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´å¤šç»†èŠ‚">æ›´å¤šç»†èŠ‚<a class="hash-link" href="#æ›´å¤šç»†èŠ‚" title="Direct link to heading">â€‹</a></h3><p>æ¥ä¸‹æ¥å’Œå¤§å®¶å±•å¼€èŠä¸€ä¸‹ Taro Next æ›´å¤šçš„ç»†èŠ‚å®ç°ï¼Œæ¯”å¦‚ï¼šäº‹ä»¶ã€æ›´æ–°ã€ç”Ÿå‘½å‘¨æœŸã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="äº‹ä»¶">äº‹ä»¶<a class="hash-link" href="#äº‹ä»¶" title="Direct link to heading">â€‹</a></h4><p>é¦–å…ˆçš„ Taro Next äº‹ä»¶ï¼Œå…·ä½“çš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li>åœ¨ å°ç¨‹åºç»„ä»¶çš„æ¨¡ç‰ˆåŒ–è¿‡ç¨‹ä¸­ï¼Œå°†æ‰€æœ‰äº‹ä»¶æ–¹æ³•å…¨éƒ¨æŒ‡å®šä¸º è°ƒç”¨ ev å‡½æ•°ï¼Œå¦‚ï¼š<code>bindtap</code>ã€<code>bindchange</code>ã€<code>bindsubmit</code> ç­‰ã€‚</li><li>åœ¨ è¿è¡Œæ—¶å®ç° <code>eventHandler</code> å‡½æ•°ï¼Œå’Œ eh æ–¹æ³•ç»‘å®šï¼Œæ”¶é›†æ‰€æœ‰çš„å°ç¨‹åºäº‹ä»¶</li><li>é€šè¿‡ <code>document.getElementById()</code> æ–¹æ³•è·å–è§¦å‘äº‹ä»¶å¯¹åº”çš„ <code>TaroNode</code></li><li>é€šè¿‡ <code>createEvent()</code> åˆ›å»ºç¬¦åˆè§„èŒƒçš„ <code>TaroEvent</code></li><li>è°ƒç”¨ <code>TaroNode.dispatchEvent</code> é‡æ–°è§¦å‘äº‹ä»¶</li></ol><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/103912/33/8987/52864/5e0ab09fEcdcb31c2/d29510c9bc5dd255.jpg" alt="image" class="img_ROth"></p><p>å¯ä»¥çœ‹åˆ°ï¼ŒTaro Next äº‹ä»¶æœ¬è´¨ä¸Šæ˜¯<strong>åŸºäº Taro DOM å®ç°äº†ä¸€å¥—è‡ªå·±çš„äº‹ä»¶æœºåˆ¶</strong>ï¼Œè¿™æ ·åšçš„å¥½å¤„ä¹‹ä¸€æ˜¯ï¼Œæ— è®ºå°ç¨‹åºæ˜¯å¦æ”¯æŒäº‹ä»¶çš„å†’æ³¡ä¸æ•è·ï¼ŒTaro éƒ½èƒ½æ”¯æŒã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´æ–°">æ›´æ–°<a class="hash-link" href="#æ›´æ–°" title="Direct link to heading">â€‹</a></h4><p>æ— è®ºæ˜¯ React è¿˜æ˜¯ Vue ï¼Œæœ€ç»ˆéƒ½ä¼šè°ƒç”¨ Taro DOM æ–¹æ³•ï¼Œå¦‚ï¼š<code>appendChild</code>ã€<code>insertChild</code> ç­‰ã€‚</p><p>è¿™äº›æ–¹æ³•åœ¨ä¿®æ”¹ Taro DOM Tree çš„åŒæ—¶ï¼Œè¿˜ä¼šè°ƒç”¨ <code>enqueueUpdate</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•èƒ½è·å–åˆ°æ¯ä¸€ä¸ª DOM æ–¹æ³•æœ€ç»ˆä¿®æ”¹çš„èŠ‚ç‚¹è·¯å¾„å’Œå€¼ï¼Œå¦‚ï¼š<code>{root.cn.[0].cn.[4].value:&nbsp;"1"}</code>ï¼Œå¹¶é€šè¿‡ <code>setData</code> æ–¹æ³•æ›´æ–°åˆ°è§†å›¾å±‚ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/86893/14/9016/38824/5e0ac06aE21db32b1/c4bece64d139dd8e.jpg" alt="image" class="img_ROth"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œ<strong>æ›´æ–°çš„ç²’åº¦æ˜¯ DOM çº§åˆ«</strong>ï¼Œåªæœ‰æœ€ç»ˆå‘ç”Ÿæ”¹å˜çš„ DOM æ‰ä¼šè¢«æ›´æ–°è¿‡å»ï¼Œç›¸å¯¹äºä¹‹å‰ data çº§åˆ«çš„æ›´æ–°ä¼šæ›´åŠ ç²¾å‡†ï¼Œæ€§èƒ½æ›´å¥½ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ<a class="hash-link" href="#ç”Ÿå‘½å‘¨æœŸ" title="Direct link to heading">â€‹</a></h4><p>ç›¸å¯¹ä¸å…¶ä»–éƒ¨åˆ†å¤§åˆ€é˜”æ–§çš„å‡çº§æ”¹é€ ï¼Œç”Ÿå‘½å‘¨æœŸå¯èƒ½æ˜¯å˜åŠ¨æœ€å°çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚å’Œä¹‹å‰ç±»ä¼¼ï¼Œç”Ÿå‘½å‘¨æœŸçš„å®ç°æ˜¯åœ¨è¿è¡Œæ—¶ç»´æŠ¤çš„ App å®ä¾‹ / Page å®ä¾‹è¿›è¡Œäº†ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„ä¸€ä¸€å¯¹åº”ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain">&nbsp;config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">&nbsp;PageInstance&nbsp;</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">onLoad</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter keyword" style="color:#00009f">this</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter">&nbsp;MpInstance</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">&nbsp;options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">onUnload</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">onShow</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">safeExecute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'onShow'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">onHide</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">safeExecute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'onHide'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">onPullDownRefresh</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">&nbsp;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="token function" style="color:#d73a49">safeExecute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'onPullDownRefresh'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&nbsp;&nbsp;</span><span class="token comment" style="color:#999988;font-style:italic">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°æ¶æ„ç‰¹ç‚¹">æ–°æ¶æ„ç‰¹ç‚¹<a class="hash-link" href="#æ–°æ¶æ„ç‰¹ç‚¹" title="Direct link to heading">â€‹</a></h3><p>å’Œä¹‹å‰çš„æ¶æ„ä¸åŒï¼ŒTaro Next æ˜¯ <strong>è¿‘ä¹å…¨è¿è¡Œ</strong>ã€‚</p><p>æ–°çš„æ¶æ„åŸºæœ¬è§£å†³äº†ä¹‹å‰çš„é—ç•™é—®é¢˜ï¼š</p><ul><li><strong>æ—  DSL é™åˆ¶</strong>ï¼šæ— è®ºæ˜¯ä½ ä»¬å›¢é˜Ÿæ˜¯ React è¿˜æ˜¯ Vue æŠ€æœ¯æ ˆï¼Œéƒ½èƒ½å¤Ÿä½¿ç”¨ Taro å¼€å‘</li><li><strong>æ¨¡ç‰ˆåŠ¨æ€æ„å»º</strong>ï¼šå’Œä¹‹å‰æ¨¡ç‰ˆé€šè¿‡ç¼–è¯‘ç”Ÿæˆçš„ä¸åŒï¼ŒTaro Next çš„æ¨¡ç‰ˆæ˜¯å›ºå®šçš„ï¼Œç„¶ååŸºäºç»„ä»¶çš„ templateï¼ŒåŠ¨æ€ â€œé€’å½’â€ æ¸²æŸ“æ•´æ£µ Taro DOM æ ‘ã€‚</li><li><strong>æ–°ç‰¹æ€§æ— ç¼æ”¯æŒ</strong>ï¼šç”±äº Taro Next æœ¬è´¨ä¸Šæ˜¯å°† React/Vue è¿è¡Œåœ¨å°ç¨‹åºä¸Šï¼Œå› æ­¤ï¼Œå„ç§æ–°ç‰¹æ€§ä¹Ÿå°±æ— ç¼æ”¯æŒäº†ã€‚</li><li><strong>ç¤¾åŒºè´¡çŒ®æ›´ç®€å•</strong>ï¼šé”™è¯¯æ ˆå°†å’Œ React/Vue ä¸€è‡´ï¼Œå›¢é˜Ÿåªéœ€è¦ç»´æŠ¤æ ¸å¿ƒçš„ taro-runtimeã€‚</li><li><strong>åŸºäº Webpack</strong>ï¼šTaro Next åŸºäº Webpack å®ç°äº†å¤šç«¯çš„å·¥ç¨‹åŒ–ï¼Œæä¾›äº†æ’ä»¶åŠŸèƒ½ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>å‰é¢æåˆ°ï¼ŒåŒç­‰æ¡ä»¶ä¸‹ï¼Œç¼–è¯‘æ—¶åšçš„å·¥ä½œè¶Šå¤šï¼Œä¹Ÿå°±æ„å‘³ç€è¿è¡Œæ—¶åšçš„å·¥ä½œè¶Šå°‘ï¼Œæ€§èƒ½ä¼šæ›´å¥½ã€‚Taro Next çš„æ–°æ¶æ„å˜æˆ è¿‘ä¹å…¨è¿è¡Œ ä¹‹åï¼ŒèŠ±äº†å¾ˆå¤šç²¾åŠ›åœ¨æ€§èƒ½ä¼˜åŒ–ä¸Šé¢ã€‚</p><p>å†è¿™ä¹‹å‰ã€‚å¯ä»¥å…ˆçœ‹ä¸€ä¸‹ Taro Next çš„æµç¨‹å’ŒåŸç”Ÿå°ç¨‹åºçš„æµç¨‹å¯¹æ¯”ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/85061/33/9155/42050/5e0ae1afE263741c9/7a1664f1a6769d7a.jpg" alt="image" class="img_ROth"></p><p>å¯ä»¥å‘ç°ï¼Œç›¸æ¯”åŸç”Ÿå°ç¨‹åºï¼ŒTaro Next å¤šäº†çº¢è‰²éƒ¨åˆ†çš„å¸¦æ¥çš„æ€§èƒ½éšæ‚£ï¼Œå¦‚ï¼šå¼•å…¥React/Vue å¸¦æ¥çš„ åŒ…çš„ Size å¢åŠ ï¼Œè¿è¡Œæ—¶çš„æŸè€—ã€Taro DOM Tree çš„æ„å»ºå’Œæ›´æ–°ã€DOM data åˆå§‹åŒ–å’Œæ›´æ–°ã€‚</p><p>è€Œæˆ‘ä»¬çœŸæ­£èƒ½åšçš„ï¼Œåªæœ‰ç»¿è‰²éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ï¼š<strong>Taro DOM Tree çš„æ„å»ºå’Œæ›´æ–°</strong>ã€<strong>DOM data åˆå§‹åŒ–å’Œæ›´æ–°</strong>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="size">Size<a class="hash-link" href="#size" title="Direct link to heading">â€‹</a></h4><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹åŒ… Sizeï¼Œä¸‹é¢çš„è¡¨æ ¼æ˜¯ TodoMVC çš„ä¾‹å­ï¼Œåœ¨åŸç”Ÿã€Taro Oldã€Taro Next ç­‰æƒ…å†µä¸‹çš„åŒ…å¤§å°å¯¹æ¯”ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¼•å…¥ React/Vue åï¼ŒåŒ…å¤§å°åœ¨ Gzip æƒ…å†µä¸‹å¤§æ¦‚å¢åŠ äº† 30k å·¦å³ã€‚</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/100878/15/9005/22516/5e0ae322E690a60fb/9b3a09bf64a51871.jpg" alt="image" class="img_ROth"></p><p>ä¸è¿‡æˆ‘ä»¬åœ¨å‰é¢ä¸€å†å¼ºè°ƒï¼šå’Œä¹‹å‰æ¨¡ç‰ˆé€šè¿‡ç¼–è¯‘ç”Ÿæˆçš„ä¸åŒï¼ŒTaro Next çš„æ¨¡ç‰ˆæ˜¯å›ºå®šçš„ï¼Œç„¶ååŸºäºç»„ä»¶çš„ templateï¼ŒåŠ¨æ€ â€œé€’å½’â€ æ¸²æŸ“æ•´æ£µ Taro DOM æ ‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>Taro Next çš„ WXML å¤§å°æ˜¯æœ‰ä¸Šé™çš„</strong>ã€‚</p><p>éšç€é¡¹ç›®çš„å¢åŠ ï¼Œé¡µé¢è¶Šæ¥è¶Šå¤šï¼ŒåŸç”Ÿçš„é¡¹ç›® WXML ä½“ç§¯ä¼šä¸æ–­å¢åŠ ï¼Œè€Œ Taro Next ä¸ä¼šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“é¡µé¢çš„æ•°é‡è¶…è¿‡ä¸€ä¸ªä¸´ç•Œç‚¹æ—¶ï¼ŒTaro Next çš„åŒ…ä½“ç§¯å¯èƒ½ä¼šæ›´å°ã€‚å› æ­¤ï¼ŒåŒ… Size çš„é—®é¢˜ä¸è¶³ä¸ºè™‘ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/88749/23/9077/15347/5e0ae41cE71f77070/3f24bf6459abf2e9.jpg" alt="image" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="dom-tree">DOM Tree<a class="hash-link" href="#dom-tree" title="Direct link to heading">â€‹</a></h4><p>åœ¨ Taro DOM Tree çš„æ„å»ºå’Œæ›´æ–°é˜¶æ®µï¼Œæˆ‘ä»¬å®ç°äº†ä¸€å¥—ä»…å®ç°äº†é«˜æ•ˆçš„ã€ç²¾ç®€ç‰ˆ DOM/BOM APIï¼Œè€Œä¸”ä»…ä»…å®ç°äº†å¿…è¦çš„ã€‚</p><p>Githubä¸Šæœ‰ä¸€ä¸ªä»“åº“ <a href="https://github.com/jsdom/jsdom" target="_blank" rel="noopener noreferrer">jsdom</a>ï¼ŒåŸºæœ¬ä¸Šæ˜¯åœ¨ Node.js ä¸Šå®ç°äº†ä¸€å¥— Web æ ‡å‡†çš„ DOM/BOM ï¼Œè¿™ä¸ªä»“åº“çš„ä»£ç åœ¨å‹ç¼©å‰å¤§æ¦‚æœ‰ 2.1Mï¼Œè€Œ Taro Next çš„æ ¸å¿ƒçš„ DOM/BOM API ä»£ç æ‰ 1000 è¡Œä¸åˆ°ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬æœ€å¤§é™åº¦çš„ä¿è¯äº† Taro DOM Tree æ„å»ºå’Œæ›´æ–°é˜¶æ®µçš„æ€§èƒ½ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/93372/24/9137/11878/5e0ae512E79c720f9/ab326eef51d168a5.jpg" alt="image" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="update-date">Update Date<a class="hash-link" href="#update-date" title="Direct link to heading">â€‹</a></h4><p>åœ¨æ•°æ®æ›´æ–°é˜¶æ®µï¼Œé¦–å…ˆå‰é¢æœ‰æåˆ°è¿‡ï¼ŒTaro Next çš„æ›´æ–°æ˜¯ DOM çº§åˆ«çš„ï¼Œæ¯” Data çº§åˆ«çš„æ›´æ–°æ›´åŠ é«˜æ•ˆï¼Œå› ä¸º <strong>Data ç²’åº¦æ›´æ–°å®é™…ä¸Šæ˜¯æœ‰å†—ä½™çš„ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ Data çš„æ”¹å˜æœ€åéƒ½ä¼šå¼•èµ· DOM çš„æ›´æ–°</strong>ã€‚</p><p>å…¶æ¬¡ï¼ŒTaro åœ¨æ›´æ–°çš„æ—¶å€™å°† Taro DOM Tree çš„ <code>path</code> è¿›è¡Œå‹ç¼©ï¼Œè¿™ç‚¹ä¹Ÿæå¤§çš„æå‡äº†æ€§èƒ½ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/88800/24/8941/14939/5e0ae644E20bba3bd/053ee53bd79136fb.jpg" alt="image" class="img_ROth"></p><p>æœ€ç»ˆçš„ç»“æœæ˜¯ï¼šåœ¨æŸäº›ä¸šåŠ¡åœºæ™¯å†™ï¼Œ<code>add</code>ã€<code>select</code> æ•°æ®ï¼ŒTaro Next çš„æ€§èƒ½æ¯”åŸç”Ÿçš„è¿˜è¦å¥½ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="taro-benchmark">taro-benchmark<a class="hash-link" href="#taro-benchmark" title="Direct link to heading">â€‹</a></h4><p>å½“ç„¶ï¼Œå®éªŒçš„æ•°æ®æ€»å½’ä¼šæœ‰ç¼ºé™·ï¼Œæœ€ç»ˆå…·ä½“çš„æ€§èƒ½è¡¨ç°ï¼Œè¿˜è¦é å„ç§å¤æ‚ä¸šåŠ¡åœºæ™¯çš„æ£€éªŒã€‚å¤§å®¶å¦‚æœå¯¹ Taro Next çš„æ€§èƒ½æ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥è‡ªè¡Œè·‘ä¸€ä¸‹ <a href="https://github.com/NervJS/taro-benchmark" target="_blank" rel="noopener noreferrer">taro-benchmark</a> åŒ…ï¼Œå¯¹æ¯”ä¸€ä¸‹ç»“æœã€‚</p><p>æˆ‘ä»¬ä¹Ÿåœ¨ä¸€ç›´æŒç»­çš„å…¨æ–¹ä½ä¼˜åŒ– Taro Next çš„æ€§èƒ½ï¼Œå…·ä½“å¯ä»¥å…³æ³¨ Taro Next çš„æœ€æ–°çš„ Commit ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ€»ç»“åŠå±•æœ›">æ€»ç»“åŠå±•æœ›<a class="hash-link" href="#æ€»ç»“åŠå±•æœ›" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="taro-æœªæ¥è§„åˆ’">Taro æœªæ¥è§„åˆ’<a class="hash-link" href="#taro-æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h3><p>Taro Next å°†ä¼šåœ¨ä¸ä¹…ä¹‹åçš„ 3.0 ç‰ˆæœ¬æ­£å¼å‘å¸ƒï¼Œæ”¯æŒä½¿ç”¨ React/Vue å¼€å‘è·¨ç«¯å°ç¨‹åºï¼Œç„¶ååœ¨ä¼šåœ¨åç»­çš„è¿­ä»£ä¸­æ‹“å±•è‡³å…¶ä»–ç«¯ï¼Œå¹¶å®Œå–„å¯¹åº”çš„ç”Ÿæ€ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/104194/34/9098/36249/5e0ae850E1926a0d9/4474804a6361b846.jpg" alt="image" class="img_ROth"></p><p>Taro å›¢é˜Ÿè¿˜æ˜¯ä¼šå°†æ”¯æŒçš„é‡ç‚¹æ”¾åœ¨ React/Vueï¼ŒFlutter å’Œ Angular ä¼šåƒå¿«åº”ç”¨ä¸€æ ·ï¼Œäº¤ç»™ç¤¾åŒºæ¥é€‚é…å’Œç»´æŠ¤ï¼Œå¿«åº”ç”¨å°±æ˜¯åä¸ºçš„ <a href="https://github.com/Qiyu8" target="_blank" rel="noopener noreferrer">Qiyu8</a> å’Œ <a href="https://github.com/Issacpeng" target="_blank" rel="noopener noreferrer">Issacpeng</a> åœ¨å¸®æˆ‘ä»¬è¿›è¡Œé€‚é…ï¼Œéå¸¸æ„Ÿè°¢ä»–ä»¬ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜æ‰“é€ äº† ã€ŒTaro ç§»åŠ¨ç«¯ä¸€ç«™å¼ç ”å‘å¹³å°ã€ï¼Œå°†å…ˆå‰ç§¯ç´¯çš„å¤šç«¯å¼€å‘å·¥ä½œæµå’Œå·¥ç¨‹åŒ–çš„æ–¹æ¡ˆè¿›è¡Œäº†ç»Ÿä¸€ï¼Œå¹¶å†…ç½®äº†æ•°æ®ç›‘æ§ã€ç»„ä»¶å¸‚åœºä»¥åŠå¯è§†åŒ–æ­å»ºï¼Œå½“å‰æ­£å¤„äºå†…æµ‹é˜¶æ®µã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/97914/23/9143/45747/5e0aea39Ed36b0144/2b82d4f2fe7d8553.jpg" alt="image" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€ç‚¹æ€è€ƒ">ä¸€ç‚¹æ€è€ƒ<a class="hash-link" href="#ä¸€ç‚¹æ€è€ƒ" title="Direct link to heading">â€‹</a></h3><ul><li><strong>ä¸šåŠ¡å­µåŒ–æŠ€æœ¯ï¼ŒæŠ€æœ¯æœåŠ¡ä¸šåŠ¡</strong>ï¼šè¿™ä¹Ÿæ˜¯æ•´ä¸ª Taro é¡¹ç›®ä»åˆ›å»ºåˆ°è¿­ä»£è‡³ä»Šæœ€é‡è¦çš„ã€æ„Ÿå—æœ€æ·±çš„ä¸€ç‚¹ã€‚</li><li><strong>è‡ªä¸Šè€Œä¸‹ OR è‡ªä¸‹è€Œä¸Š</strong>ï¼šä»å¼€å‘è€…çš„è§’åº¦è‡ªä¸Šè€Œä¸‹çœ‹ï¼ŒReact/Vue çš„ä»£ç ä¹¦å†™æ–¹å¼å·®å¼‚æŒºå¤§çš„ï¼›ç„¶è€Œç«™åœ¨æµè§ˆå™¨çš„è§’åº¦è‡ªä¸‹è€Œä¸Šçš„çœ‹ï¼Œå®ƒä»¬çš„å·®åˆ«å…¶å®æ²¡é‚£ä¹ˆå¤§ï¼Œéƒ½æ˜¯è°ƒç”¨äº† BOM/DOM é‚£å‡ ä¸ªå¸¸ç”¨çš„ APIã€‚å¦‚æœæˆ‘ä»¬å†å¾€åº•å±‚ä¸€ç‚¹ï¼Œç«™åœ¨æ¸²æŸ“å±‚çš„è§’åº¦ï¼Œä¸åŒå¹³å°ä¹‹é—´çš„å·®å¼‚ä¼šä¸ä¼šä¹Ÿæ²¡é‚£ä¹ˆå¤§ï¼Ÿæ¯”å¦‚ï¼šFlutterã€‚</li><li><strong>Learn Once Write AnyWhere &amp; Write Once Run AnyWhere</strong>ï¼šå¾ˆå¤šå¼€å‘è€…æ›´å–œæ¬¢ React æå‡ºçš„<code>Learn Once Write AnyWhere</code>ï¼Œè€Œæˆ‘ä»¬ Taro çš„å£å·æ˜¯ <code>Write Once Run AnyWhere</code>ï¼Œè¿™ä¸€ç‚¹ä¹Ÿå¯¼è‡´æˆ‘ä»¬ç»å¸¸è¢«äººå–·ï¼Œè¿™é‡Œè¯´ä¸€ç‚¹æˆ‘è‡ªå·±çš„æƒ³æ³•ï¼š<code>Learn Once Write AnyWhere</code>å…¶å®æœ¬è´¨ä¸Šå¯¹å¼€å‘è€…æ›´å‹å¥½ï¼Œæ¯”å¦‚å¼€å‘è€…åªéœ€è¦å­¦ä¹  React æŠ€æœ¯æ ˆï¼Œå°±å¯ä»¥å¼€å‘ Web/ç§»åŠ¨ç«¯ åº”ç”¨ï¼Œä½†æ˜¯å¯¹é¡¹ç›®å°±æ²¡é‚£ä¹ˆå‹å¥½äº†ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½å¾—ç»´æŠ¤ä¸€ä»½ä»£ç ï¼›è€Œ <code>Write Once Run AnyWhere</code> æ˜¯å¯¹å¼€å‘è€…æ²¡é‚£ä¹ˆå‹å¥½ï¼ˆé€‚é…çš„ç«¯è¶Šå¤šï¼Œé€‚é…çš„æˆæœ¬å¿…ç„¶ä¹Ÿä¼šæ°´æ¶¨èˆ¹é«˜ï¼Œå¯¹å¼€å‘è€…è¦æ±‚ä¹Ÿå¾ˆå˜é«˜ï¼‰ï¼Œä½†æ˜¯æ ¹æ®æˆ‘ä»¬çš„å®è·µï¼Œå¯¹é¡¹ç›®ä¼šæ›´å‹å¥½ï¼Œã€Œä¸€å¥—ä»£ç ï¼Œå¤šç«¯é€‚é…ã€ã€‚å½“ç„¶ï¼Œè¿™é‡Œé€‚é…çš„ç²’åº¦ï¼Œå¹¶ä¸ä¸€å®šæ˜¯é¡¹ç›®çº§åˆ«çš„ï¼Œå…¶å®åœ¨æˆ‘ä»¬çš„å…·ä½“å®è·µä¸­ï¼Œæœ‰ç›¸å½“ä¸€éƒ¨åˆ†æ˜¯ï¼š<strong>ä¸šåŠ¡çº§ç”šè‡³æ˜¯é¡µé¢çº§çš„</strong>ã€‚</li></ul><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/106934/5/9153/29316/5e0af1fcE224a87c6/50b9bb5b5fffd7af.jpg" alt="image" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p>æ­£æ‰€è°“ã€Œå•ä¸ä¸æˆçº¿ï¼Œç‹¬æœ¨ä¸æˆæ—ã€ï¼ŒTaro å‘å±•è‡³ä»Šæ—©å·²ä¸åœ¨å±äºå•ä¸€å›¢é˜Ÿçš„é¡¹ç›®äº†ï¼Œè€Œæ˜¯æ•´ä¸ª Taro å¼€å‘ç¤¾åŒºå…±åŒçš„é¡¹ç›®ã€‚</p><p>æœ€åï¼Œè¿˜æ˜¯å€Ÿæ­¤æœºä¼šæ„Ÿè°¢ä¸€äº›ç¤¾åŒºæ‰€æœ‰å¸®åŠ©è¿‡ Taro çš„æˆé•¿çš„äººï¼Œç‰¹åˆ«æ˜¯ Taro çš„è´¡çŒ®è€…ä»¬ï¼Œéå¸¸æ„Ÿè°¢ï¼</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/94820/21/9064/358921/5e0aeb75E9b70a0a3/3245d0e963686d41.jpg" alt="image" class="img_ROth"></p><p>åŒæ—¶ä¹Ÿæ„Ÿè°¢å—é‚€æˆä¸º <a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">TaroUI</a> æ ¸å¿ƒç»´æŠ¤äººå‘˜çš„  <a href="https://github.com/Garfield550" target="_blank" rel="noopener noreferrer">Garfield550</a> (å°å§å§)ã€<a href="https://github.com/yinLiangDream" target="_blank" rel="noopener noreferrer">æ¢éŸ³</a>ã€<a href="https://github.com/lsqy" target="_blank" rel="noopener noreferrer">ShaoQian Liu</a>ï¼Œä»–ä»¬å°†æ”¯æ’‘èµ· TaroUI çš„åç»­è¿­ä»£ä¸ç»´æŠ¤ã€‚</p><p>å½“ç„¶è¿˜æœ‰åœ¨ç¤¾åŒºä¸­ä¹äºåŠ©äººã€ç§¯æè´¡çŒ®çš„ <a href="https://github.com/zacksleo" target="_blank" rel="noopener noreferrer">zacksleo</a> ã€<a href="https://github.com/fjc0k" target="_blank" rel="noopener noreferrer">Jay Fong</a>ã€<a href="https://github.com/loveonelong" target="_blank" rel="noopener noreferrer">loveonelong</a>ã€<a href="https://github.com/lolipop99" target="_blank" rel="noopener noreferrer">lolipop99</a>ã€<a href="https://github.com/bozaigao" target="_blank" rel="noopener noreferrer">æ³¢ä»”ç³•</a>ã€<a href="https://github.com/fwh1990" target="_blank" rel="noopener noreferrer">åŸç½ª</a>ã€<a href="https://github.com/lentoo/" target="_blank" rel="noopener noreferrer">lentoo</a> ã€<a href="https://taro-club.jd.com/user/%E7%99%BD%E9%A2%86%E5%A4%8F%E5%85%AC%E5%AD%90" target="_blank" rel="noopener noreferrer">ç™½é¢†å¤å…¬å­</a>  ã€<a href="https://github.com/YuanQuan" target="_blank" rel="noopener noreferrer">YuanQuan</a>ã€ <a href="https://github.com/tourze" target="_blank" rel="noopener noreferrer">tourze</a>ã€ <a href="https://github.com/lingxiao-Zhu" target="_blank" rel="noopener noreferrer">lingxiaoZhu</a> ç­‰ç­‰ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜è¦æ„Ÿè°¢ä¸€ç›´é»˜é»˜ä¸º Taro å‘å±•æä¾›å®è´µå»ºè®®çš„ç ”å‘å›¢é˜Ÿï¼šè…¾è®¯äº‘ã€æ•°å­—å¹¿ä¸œã€è…¾è®¯CDCã€ç½‘æ˜“ä¸¥é€‰ã€åä¸ºå¼€æºå›¢é˜Ÿã€æ‹›è”æ¶ˆè´¹é‡‘èç­‰ç­‰ã€‚</p><p>é•¿é£ç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµæ²§æµ·ã€‚</p><p>æ¬¢è¿å…³æ³¨å‡¹å‡¸å®éªŒå®¤åšå®¢ï¼š<a href="https://aotu.io/" target="_blank" rel="noopener noreferrer">aotu.io</a></p><p>æˆ–è€…å…³æ³¨å‡¹å‡¸å®éªŒå®¤å…¬ä¼—å·ï¼ˆAOTULabsï¼‰ï¼Œä¸å®šæ—¶æ¨é€æ–‡ç« ï¼š</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/108283/1/3007/99032/5e0d8287E22d9f58b/f081485ab0043781.jpg" alt="image" class="img_ROth"></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[äº¬å–œé¦–é¡µï¼ˆå¾®ä¿¡è´­ç‰©å…¥å£ï¼‰è·¨ç«¯å¼€å‘ä¸ä¼˜åŒ–å®è·µ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-12-03-jingxi-index</link>
            <guid>2019-12-03-jingxi-index</guid>
            <pubDate>Tue, 03 Dec 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/103274/2/4226/201268/5de6455aEf651e021/8013f336e45fc79c.png" alt="image" class="img_ROth"></p><p>ä½œè€…ä»æŠ€æœ¯é€‰å‹ã€å¼€å‘å®å½•å†åˆ°æ€§èƒ½ä¼˜åŒ–ä¸‰ä¸ªç»´åº¦å¯¹å¾®ä¿¡è´­ç‰©å…¥å£ã€Œäº¬å–œã€é¦–é¡µæ”¹ç‰ˆåšäº†ç®€å•æ€»ç»“ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯ä»‹ç»">èƒŒæ™¯ä»‹ç»<a class="hash-link" href="#èƒŒæ™¯ä»‹ç»" title="Direct link to heading">â€‹</a></h2><p>éšç€ä»Šå¹´çš„åŒåä¸€è½ä¸‹å¸·å¹•ï¼Œäº¬å–œï¼ˆåŸäº¬ä¸œæ‹¼è´­ï¼‰ä¹Ÿè¿æ¥äº†é¦–æ·ã€‚åŒåä¸€å‰å¤•å¾®ä¿¡è´­ç‰©ä¸€çº§å…¥å£åˆ‡æ¢ä¸ºäº¬å–œå°ç¨‹åºï¼Œé¡¹ç›®é¡ºåˆ©é€šè¿‡è¿‘äº¿çº§çš„æµé‡è€ƒéªŒï¼Œåœ¨æ­¤ä¸å¤§å®¶åˆ†äº«ä¸€ç‚¹è‡ªå·±å‚ä¸çš„å·¥ä½œã€‚</p><p>åœ¨æ¥æ‰‹é¡¹ç›®å‰ï¼Œäº¬å–œä¸šåŠ¡å·²åœ¨çº¿ä¸Šç¨³å®šè¿è¡Œè¾ƒé•¿æ—¶é—´ã€‚ä½†ç»è¿‡ä¸€æ®µæ—¶é—´è¿­ä»£ç»´æŠ¤åï¼Œå‘ç°é¦–é¡µå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li>H5 ç‰ˆæœ¬é¦–é¡µé’ˆå¯¹ä¸åŒæ¸ é“å¼€å‘äº†å¤šå¥—é¡µé¢ï¼Œå¯¹å¼€å‘è€…ç»´æŠ¤å’Œå†…å®¹è¿è¥æ¥è¯´å­˜åœ¨è¾ƒå¤§æŒ‘æˆ˜ï¼Œéœ€æŠ•å…¥å¤§é‡äººåŠ›æˆæœ¬ï¼›</li><li>é¡¹ç›®æŠ€æœ¯æ ˆä¸ç»Ÿä¸€ï¼Œåˆ†åˆ«æœ‰ä¼ ç»Ÿ H5 å¼€å‘ã€åŸç”Ÿå°ç¨‹åºå¼€å‘ã€wqVue æ¡†æ¶å¼€å‘ï¼Œä¸¥é‡å½±å“é¡¹ç›®å¤æ‚åº¦ï¼Œè¿­ä»£è¿‡ç¨‹è‹¦ä¸å ªè¨€ï¼›</li><li>H5ã€å°ç¨‹åºä»¥åŠ RN ä¸‰ç«¯å­˜åœ¨å„è‡ªæ„å»ºå’Œå‘å¸ƒæµç¨‹ï¼Œæ¶‰åŠè¾ƒå¤šå·¥å…·åŠå¤æ‚ç³»ç»Ÿæµç¨‹ï¼Œå½±å“ä¸šåŠ¡äº¤ä»˜æ•ˆç‡ã€‚</li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œäº¬å–œè¿æ¥ä¸€æ¬¡æ”¹ç‰ˆå¥‘æœºã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¹ç‰ˆç›®æ ‡">æ”¹ç‰ˆç›®æ ‡<a class="hash-link" href="#æ”¹ç‰ˆç›®æ ‡" title="Direct link to heading">â€‹</a></h2><p>ä»å‰ç«¯è§’åº¦æ¥çœ‹ï¼Œæœ¬æ¬¡æ”¹ç‰ˆè¦å®ç°ä»¥ä¸‹ç›®æ ‡ï¼š</p><ul><li>å‡çº§å¹¶ç»Ÿä¸€é¡¹ç›®æŠ€æœ¯æ ˆï¼Œè§£å†³é¡¹ç›®æŠ€æœ¯æ ˆæ··ä¹±çš„ç°çŠ¶ï¼›</li><li>ä½¿ç”¨ä¸€å¥—ä»£ç ï¼Œé€‚é…å¾®ä¿¡å…¥å£ã€æ‰‹ Q å…¥å£ã€å¾®ä¿¡å°ç¨‹åºã€äº¬ä¸œ APPã€äº¬å–œ APPã€M ç«™å…­å¤§ä¸šåŠ¡åœºæ™¯ï¼Œå‡å°‘å¤šå¥—é¡µé¢çš„ç»´æŠ¤æˆæœ¬ï¼Œæå‡äº¤ä»˜æ•ˆç‡ï¼›</li><li>é€šè¿‡è®© RN æŠ€æœ¯åœ¨ä¸šåŠ¡ä¸Šçš„è½åœ°ï¼Œå®Œå–„å›¢é˜Ÿåœ¨ App ç«¯çš„æŠ€æœ¯å‚¨å¤‡ï¼›</li><li>ä¼˜åŒ–é¡µé¢æ€§èƒ½åŠä½“éªŒï¼Œä¸ºä¸‹æ²‰å¸‚åœºç”¨æˆ·æä¾›ä¼˜è´¨çš„äº§å“ä½“éªŒï¼›</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æŠ€æœ¯é€‰å‹">æŠ€æœ¯é€‰å‹<a class="hash-link" href="#æŠ€æœ¯é€‰å‹" title="Direct link to heading">â€‹</a></h2><p>äº¬å–œä¸šåŠ¡æ‹¥æœ‰éå¸¸ä¸°å¯Œçš„äº§å“å½¢æ€ï¼Œæ¶µç›–äº† H5ã€å¾®ä¿¡å°ç¨‹åºä»¥åŠç‹¬ç«‹ APP ä¸‰ç§ä¸åŒçš„ç«¯ï¼Œå¯¹æ”¯æŒå¤šç«¯çš„å¼€å‘æ¡†æ¶æœ‰ç€å¤©ç„¶çš„éœ€æ±‚ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/99778/13/1485/65058/5dc00468E7d60a4e0/5bb82c1ec5ce3dd7.jpg" alt="äº¬å–œä¸°å¯Œçš„äº§å“å½¢æ€" class="img_ROth"></p><p>åœ¨æŠ€æœ¯é€‰å‹ä¸Šï¼Œæˆ‘ä»¬é€‰æ‹©å›¢é˜Ÿè‡ªç ”çš„ <a href="https://github.com/NervJS/taro/" target="_blank" rel="noopener noreferrer" title="Taro">Taro</a> å¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆã€‚</p><blockquote><p>Taro æ˜¯ä¸€å¥—éµå¾ª React è¯­æ³•è§„èŒƒçš„å¤šç«¯å¼€å‘è§£å†³æ–¹æ¡ˆã€‚</p><p>ç°å¦‚ä»Šå¸‚é¢ä¸Šç«¯çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€React-Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰å„ç§ç«¯å¤§è¡Œå…¶é“ï¼Œå½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚</p><p>ä½¿ç”¨ Taroï¼Œæˆ‘ä»¬å¯ä»¥åªä¹¦å†™ä¸€å¥—ä»£ç ï¼Œå†é€šè¿‡ Taro çš„ç¼–è¯‘å·¥å…·ï¼Œå°†æºä»£ç åˆ†åˆ«ç¼–è¯‘å‡ºå¯ä»¥åœ¨ä¸åŒç«¯ï¼ˆå¾®ä¿¡/ç™¾åº¦/æ”¯ä»˜å®/å­—èŠ‚è·³åŠ¨/QQ å°ç¨‹åºã€å¿«åº”ç”¨ã€H5ã€React-Native ç­‰ï¼‰è¿è¡Œçš„ä»£ç ã€‚</p></blockquote><p>é€‰å®ƒæœ‰ä¸¤ä¸ªåŸå› ï¼Œä¸€æ¥æ˜¯ Taro å·²ç»æˆç†Ÿï¼Œå†…éƒ¨å’Œå¤–éƒ¨éƒ½æœ‰å¤§é‡å®è·µï¼Œå†…éƒ¨æœ‰äº¬ä¸œ 7FRESHã€äº¬ä¸œåˆ°å®¶ç­‰ï¼Œå¤–éƒ¨æœ‰æ·˜ç¥¨ç¥¨ã€çŒ«çœ¼è¯•ç”¨ç­‰å¤šä¸ªæ¡ˆä¾‹ï¼Œå¯ä»¥æ”¾å¿ƒæŠ•å…¥åˆ°ä¸šåŠ¡å¼€å‘ï¼›äºŒæ¥å›¢é˜Ÿæˆå‘˜éƒ½æ‹¥æœ‰ä½¿ç”¨ Taro æ¥å¼€å‘å†…éƒ¨ç»„ä»¶åº“çš„ç»éªŒï¼Œå¯¹ä¸šåŠ¡å¿«é€Ÿå®Œæˆæœ‰ä¿éšœã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/98736/39/2685/263027/5dd3b44dE4cc40299/6e5a359d73f0ef7f.png" alt="ç»„ä»¶åº“" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘å®å½•">å¼€å‘å®å½•<a class="hash-link" href="#å¼€å‘å®å½•" title="Direct link to heading">â€‹</a></h2><p>ç”±äºé¦–é¡µæ”¹ç‰ˆçš„å¼€å‘æ’æœŸå¹¶ä¸å……è£•ï¼Œå› æ­¤å……åˆ†åœ°å¤ç”¨å·²æœ‰åŸºç¡€èƒ½åŠ›ï¼ˆæ¯”å¦‚åƒè¯·æ±‚ã€ä¸ŠæŠ¥ã€è·³è½¬ç­‰å¿…ä¸å¯å°‘çš„å…¬å…±ç±»åº“ï¼‰ï¼Œèƒ½å¤§é‡å‡å°‘æˆ‘ä»¬é‡å¤çš„å·¥ä½œé‡ã€‚è¯è™½å¦‚æ­¤ï¼Œä½†åœ¨ä¸‰ç«¯ç»Ÿä¸€å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä»é‡åˆ°ä¸å°‘é—®é¢˜åŒæ—¶ä¹Ÿå¸¦æ¥è§£å†³æ–¹æ¡ˆï¼Œä»¥ä¸‹æˆ‘ä»¬ä¸€ä¸€é˜è¿°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="h5-ç¯‡">H5 ç¯‡<a class="hash-link" href="#h5-ç¯‡" title="Direct link to heading">â€‹</a></h3><p>æˆ‘ä»¬æ‰€æœ‰çš„é¡µé¢éƒ½ä¾èµ–ç°æœ‰ä¸šåŠ¡çš„å…¨å±€å…¬å…±å¤´å°¾åŠæœç´¢æ ç­‰ç»„ä»¶ï¼Œè¿™å°±ä¸å¯é¿å…çš„éœ€è¦å°† Taro å¼€å‘æµç¨‹èå…¥åˆ°ç°æœ‰å¼€å‘å’Œå‘å¸ƒæµç¨‹ä¸­å»ã€‚åŒæ—¶å…¬å…±ç»„ä»¶éƒ½æ˜¯é€šè¿‡ <a href="https://en.wikipedia.org/wiki/Server_Side_Includes" target="_blank" rel="noopener noreferrer" title="SSI">SSI</a> çš„æ–¹å¼å¼•å…¥å’Œç»´æŠ¤çš„ï¼Œä¸ºäº†èƒ½åœ¨è¿è¡Œ <code>npm run dev:h5</code> æ—¶é¢„è§ˆåˆ°å®Œæ•´çš„é¡µé¢æ•ˆæœï¼Œéœ€è¦å¯¹ <code>index.html</code> æ¨¡ç‰ˆä¸­çš„ SSI è¯­æ³•è¿›è¡Œè§£æï¼Œ<code>index.html</code> æ¨¡ç‰ˆæ–‡ä»¶ä»£ç ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">zh-CN</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">äº¬å–œ</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--#include virtual="/sinclude/common/head_inc.shtml"--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">m_common_header</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:#36acaa">display</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">:</span><span class="token tag special-attr attr-value value css language-css" style="color:#e3116c">none</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">;</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--S æœç´¢æ¡†--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">search_block</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">search_block</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">smartboxBlock</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:#36acaa">display</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">:</span><span class="token tag special-attr attr-value value css language-css" style="color:#e3116c">none</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:#393A34">;</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--E æœç´¢æ¡†--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">app</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">wx_wrap</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--#include virtual="/sinclude/common/foot.shtml"--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¯ä»¥çœ‹åˆ°æ¨¡ç‰ˆä¸­å­˜åœ¨å¾ˆå¤šç±»ä¼¼ <code>&lt;!--#include virtual="..." --&gt;</code> æ ¼å¼çš„ä»£ç ï¼Œè¿™äº›å°±æ˜¯é€šè¿‡ SSI æ–¹å¼å¼•å…¥çš„ H5 å…¬å…±ç»„ä»¶ï¼Œå®ƒçš„ <code>virtual</code> å±æ€§æŒ‡å‘çš„æ–‡ä»¶ä¸å­˜åœ¨äºæœ¬åœ°è€Œæ˜¯å­˜åœ¨äºæœåŠ¡å™¨ä¸Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯åœ¨æœ¬åœ°è§£æè¿™äº›æ–‡ä»¶ï¼Œç¡®ä¿èƒ½é¢„è§ˆåˆ°å®Œæ•´çš„é¡µé¢æ•ˆæœï¼Œä¸ç„¶å¼€å‘è°ƒè¯•èµ·æ¥å°±éå¸¸çš„ä½æ•ˆã€‚å¥½åœ¨ Taro æœ‰æš´éœ²å‡º webpack çš„é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥è‡ªå®šä¹‰åŠ è½½å™¨ï¼ˆè¿™é‡Œå°±å« <code>ssi-loader</code>ï¼‰æ¥è§£æè¿™äº›ä»£ç çš„è·¯å¾„ï¼Œç„¶åè¯·æ±‚æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å†…å®¹å¹¶è¿›è¡Œæ›¿æ¢å³å¯ï¼Œè¦å®ç°è¿™ä¸ªåŠŸèƒ½åªéœ€åœ¨é¡¹ç›®çš„ <code>config/dev.js</code> ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç å³å¯ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">h5</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">webpackChain</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">chain</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> webpack</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      chain</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">merge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">module</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">rule</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">ssiLoader</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token literal-property property" style="color:#36acaa">test</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\.html</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token literal-property property" style="color:#36acaa">use</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token literal-property property" style="color:#36acaa">loader</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'html-loader'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token literal-property property" style="color:#36acaa">loader</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'ssi-loader'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token literal-property property" style="color:#36acaa">options</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">locations</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token literal-property property" style="color:#36acaa">include</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'https://wqs.jd.com'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™æ ·å°±è§£å†³äº†æœ¬åœ°å¼€å‘è°ƒè¯•éš¾ç‚¹ï¼Œç„¶åå¼€å¼€å¿ƒå¿ƒçš„è¿›è¡Œé¡µé¢å¼€å‘ã€‚</p><p>å½“é¡µé¢å¼€å‘å®Œæˆä¹‹åï¼Œæ¥ä¸‹æ¥é‡åˆ°çš„é—®é¢˜å°±æ˜¯å¦‚ä½•å°†å‰ç«¯èµ„æºéƒ¨ç½²åˆ°æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒã€‚ç”±äºç°æœ‰å¼€å‘å’Œå‘å¸ƒæµç¨‹éƒ½æ˜¯åŸºäºå†…éƒ¨å·²æœ‰çš„å¹³å°ï¼Œæˆ‘ä»¬ä¸´æ—¶å®šåˆ¶ä¸€å¥—ä¹Ÿä¸å¤ªç°å®ï¼Œæ‰€ä»¥éœ€è¦å°†å®ƒèå…¥åˆ° Taro çš„æµç¨‹ä¸­å»ï¼Œè¿™é‡Œæˆ‘ä»¬å¼•å…¥äº† <code>gulp</code> æ¥æ•´åˆå„ç§æ„å»ºå’Œå‘å¸ƒç­‰æ“ä½œï¼Œåªè¦æ„å»ºå‡ºç¬¦åˆå‘å¸ƒå¹³å°è§„èŒƒçš„ç›®å½•å³å¯åˆ©ç”¨å®ƒçš„é™æ€èµ„æºæ„å»ºã€ç‰ˆæœ¬æ§åˆ¶åŠæœåŠ¡å™¨å‘å¸ƒç­‰èƒ½åŠ›ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ‰“é€šäº†æ•´ä¸ªå¼€å‘å’Œå‘å¸ƒæµç¨‹ã€‚</p><p>è¿™å¥—æ‹¼å‡‘èµ·æ¥çš„æµç¨‹è¿˜å­˜åœ¨ä¸å°‘çš„é—®é¢˜ï¼Œå¯¹äºæ–°æ¥æ‰‹çš„åŒå­¦æœ‰ä¸€ç‚¹å°ç¹çï¼Œæœ‰ç€ä¸å°‘æ”¹å–„çš„ç©ºé—´ï¼Œè¿™ä¹Ÿæ˜¯æ¥ä¸‹æ¥çš„é‡ç‚¹å·¥ä½œæ–¹å‘ã€‚å¦å¤– Taro çš„ H5 ç«¯ä¹‹å‰æ˜¯åŸºäº SPA æ¨¡å¼ï¼Œå¯¹äºæœ‰ç€å¤šé¡µå¼€å‘éœ€æ±‚çš„é¡¹ç›®æ¥è¯´ä¸å¤ªå‹å¥½ï¼Œå½“æ—¶åé¦ˆç»™ Taro å›¢é˜Ÿè´Ÿè´£ H5 çš„åŒå­¦ï¼Œå¾ˆå¿«å¾—åˆ°äº†å“åº”ï¼Œç›®å‰ Taro å·²æ”¯æŒ H5 å¤šé¡µå¼€å‘æ¨¡å¼ï¼Œæ”¯æŒéå¸¸è¿…é€Ÿã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åºç¯‡">å°ç¨‹åºç¯‡<a class="hash-link" href="#å°ç¨‹åºç¯‡" title="Direct link to heading">â€‹</a></h3><p>ç”±äºå¼€å‘å®Œ H5 ç‰ˆä¹‹åï¼Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘å°±å·²ç»å¤„ç†å®Œäº†ï¼Œæ¥ä¸‹æ¥åªéœ€è¦å¤„ç†å°ç¨‹åºä¸‹çš„ä¸€äº›ç‰¹æ®Šé€»è¾‘ï¼ˆæ¯”å¦‚åˆ†äº«ã€å‰ç«¯æµ‹é€Ÿä¸ŠæŠ¥ç­‰ï¼‰å³å¯ï¼Œå·®å¼‚æ¯”è¾ƒå¤§çš„å°±æ˜¯å¼€å‘å’Œå‘å¸ƒæµç¨‹ã€‚</p><p>è¿™é‡Œè®²ä¸€ä¸‹å¦‚ä½•åœ¨ä¸€ä¸ªåŸç”Ÿå°ç¨‹åºé¡¹ç›®ä¸­ä½¿ç”¨ Taro è¿›è¡Œå¼€å‘ï¼Œå› ä¸ºæˆ‘ä»¬çš„ Taro é¡¹ç›®è·Ÿå·²æœ‰çš„åŸç”Ÿå°ç¨‹åºé¡¹ç›®æ˜¯ç‹¬ç«‹çš„ä¸¤ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥éœ€è¦å°† Taro é¡¹ç›®çš„å°ç¨‹åºä»£ç ç¼–è¯‘åˆ°å·²æœ‰çš„åŸç”Ÿå°ç¨‹åºé¡¹ç›®ç›®å½•ä¸‹ï¼Œç¬¬ä¸€æ­¥è¦åšçš„å°±æ˜¯è°ƒæ•´ Taro é…ç½® <code>config/index.js</code>ï¼ŒæŒ‡å®šç¼–è¯‘è¾“å‡ºç›®å½•ä»¥åŠç¦ç”¨ app æ–‡ä»¶è¾“å‡ºé˜²æ­¢è¦†ç›–å·²æœ‰æ–‡ä»¶ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// è‡ªå®šä¹‰è¾“å‡ºæ ¹ç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">outputRoot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">argv</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'weapp'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../.temp'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'dist'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ä¸è¾“å‡º app.js å’Œ app.json æ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">weapp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">appOutput</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç”±äºäº¬å–œä»¥å‰æ˜¯ä¸»è´­å°ç¨‹åºçš„ä¸€ä¸ªæ ç›®ï¼Œåé¢ç‹¬ç«‹æˆäº†ç‹¬ç«‹çš„å°ç¨‹åºï¼Œä½†æ˜¯æ ¸å¿ƒè´­ç‰©æµç¨‹è¿˜æ˜¯å¤ç”¨çš„ä¸»è´­å°ç¨‹åºï¼Œæ‰€ä»¥è¿™è®©æƒ…å†µå˜å¾—æ›´åŠ å¤æ‚ã€‚è¿™é‡Œè¿˜æ˜¯é€šè¿‡ <code>gulp</code> æ¥è¿›è¡Œç¹ççš„ç›®å½•æ–‡ä»¶å¤„ç†ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„å°ç¨‹åºé¡µé¢å’Œç»„ä»¶éƒ½éœ€è¦ç»§æ‰¿ä¸»è´­å°ç¨‹åºçš„ <code>JDPage</code> å’Œ <code>JDComponent</code> åŸºç±»ï¼Œæ‰€ä»¥åœ¨è¿›è¡Œæ–‡ä»¶å¤åˆ¶ä¹‹å‰éœ€è¦è¿›è¡Œä»£ç æ›¿æ¢ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// WEAPP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> basePath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">../.temp</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> destPaths </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">basePath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/pages/index/</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">basePath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/pages/components/</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> destFiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> destPaths</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">item</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">**/*.js</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * åŸºç±»æ›¿æ¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">replaceBaseComponent</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">files</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gulp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">src</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">files </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> destFiles</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">base</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> basePath </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex" style="color:#36acaa">\b(Page|Component)(\(require\(['"](.*? "'"")\/npm\/)(.*)(createComponent.*)</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">match</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> p1</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> p2</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> p3</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> p4</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> p5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p5 </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">indexOf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'true'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p5 </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">indexOf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'!0'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Page'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Component'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Page'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> p5 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p5</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'))'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'), true)'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ–°ï¼špage.jsåŸºç±»è¦å¤šä¼ ä¸€ä¸ªå‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> reservedParts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p2 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> p4 </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> p5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// const type = p1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// const reservedParts = p2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> rootPath </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> clsName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> type </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Page'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'JDPage'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'JDComponent'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> baseFile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> type </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Page'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'page.taro.js'</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'component.js'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">ğŸŒ Replace with \`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">clsName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">\` successfully: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation keyword" style="color:#00009f">this</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">file</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">path</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">replace</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">                </span><span class="token template-string interpolation regex regex-delimiter" style="color:#36acaa">/</span><span class="token template-string interpolation regex regex-source language-regex" style="color:#36acaa">.*?wxapp\/</span><span class="token template-string interpolation regex regex-delimiter" style="color:#36acaa">/</span><span class="token template-string interpolation punctuation" style="color:#393A34">,</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">                </span><span class="token template-string interpolation string" style="color:#e3116c">'wxapp/'</span><span class="token template-string interpolation"></span><br></span><span class="token-line" style="color:#393A34"><span class="token template-string interpolation">              </span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">new (require("</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">rootPath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/bases/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">baseFile</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">").</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">clsName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">reservedParts</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pipe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gulp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">basePath</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// åŸºç±»æ›¿æ¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gulp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">task</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'replace-base-component'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">replaceBaseComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿˜æœ‰å¾ˆå¤šç±»ä¼¼è¿™æ ·çš„éªšæ“ä½œï¼Œè™½ç„¶æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯åªéœ€è¦å¤„ç†ä¸€æ¬¡ï¼Œåç»­ä¹Ÿå¾ˆå°‘æ”¹åŠ¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="rn-ç¯‡">RN ç¯‡<a class="hash-link" href="#rn-ç¯‡" title="Direct link to heading">â€‹</a></h3><p>å¯¹äº RN å¼€å‘ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å°†å®ƒè½åœ°åˆ°å®é™…çš„ä¸šåŠ¡é¡¹ç›®ä¸­ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯ä¼´éšç€å„ç§æœªçŸ¥çš„å‘ä¸æ–­å‰è¡Œï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿå‹æƒ…æç¤ºä¸€ä¸‹ï¼Œå¯¹äºä»æœªä½¿ç”¨è¿‡çš„æŠ€æœ¯ï¼Œè¿˜æ˜¯éœ€è¦ä¸€äº›è€å¿ƒçš„ï¼Œé‡åˆ°é—®é¢˜å‹¤æŸ¥å‹¤é—®ã€‚</p><p>ç”±äºäº¬å–œ APP æ˜¯å¤ç”¨äº¬ä¸œæŠ€æœ¯ä¸­å°çš„åŸºç¡€æ¡†æ¶å’Œ JDReact å¼•æ“ï¼Œæ‰€ä»¥æ•´ä¸ªçš„å¼€å‘å’Œéƒ¨ç½²éƒ½æ˜¯éµå¾ª JDReact å·²æœ‰çš„æµç¨‹ï¼Œç”»äº†ä¸€å¼ å¤§è‡´çš„æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/84738/19/1551/59434/5dc02754E930f59f2/ebe7b01308771a91.png" alt="äº¬å–œå¼€å‘å‘å¸ƒæµç¨‹" class="img_ROth"></p><blockquote><p>JDReact å¹³å°æ˜¯åœ¨ Facebook ReactNative å¼€æºæ¡†æ¶åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†æ·±åº¦äºŒæ¬¡å¼€å‘å’ŒåŠŸèƒ½æ‰©å±•ã€‚ä¸ä»…æ‰“é€šäº† Android/iOS/Web ä¸‰ç«¯å¹³å°ï¼Œè€Œä¸”å¯¹äº¬ä¸œç§»åŠ¨ç«¯åŸºç¡€ä¸šåŠ¡èƒ½åŠ›è¿›è¡Œäº† SDK çº§åˆ«çš„å°è£…ï¼Œæä¾›äº†ç»Ÿä¸€ã€æ˜“äºå¼€å‘çš„ APIã€‚ä¸šåŠ¡å¼€å‘è€…å¯ä»¥é€šè¿‡ JDReact SDK å¹³å°è¿›è¡Œå¿«é€Ÿäº¬ä¸œä¸šåŠ¡å¼€å‘ï¼Œå¹¶ä¸”ä¸ä¾èµ–å‘ç‰ˆå°±èƒ½æ— ç¼é›†æˆåˆ°å®¢æˆ·ç«¯(android/iOS)æˆ–è€…è½¬æ¢æˆ Web é¡µé¢è¿›è¡Œçº¿ä¸Šéƒ¨ç½²ï¼ŒçœŸæ­£å®ç°äº†ä¸€æ¬¡å¼€å‘ï¼Œå¿«é€Ÿéƒ¨ç½²ä¸‰ç«¯ã€‚</p></blockquote><p>ç”±äºäº¬å–œ APP çš„ JDReact æ¨¡å—éƒ½æ˜¯ç‹¬ç«‹çš„ git ä»“åº“ï¼Œæ‰€ä»¥éœ€è¦è°ƒæ•´æˆ‘ä»¬ Taro é¡¹ç›®é…ç½® <code>config/index.js</code> çš„ç¼–è¯‘è¾“å‡ºè·¯å¾„å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">rn</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">outPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../jdreact-jsbundle-jdreactpingouindex'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™æ ·ï¼Œå½“æˆ‘ä»¬è¿è¡Œ <code>yarn run dev:rn</code> è¿›è¡Œæœ¬åœ°å¼€å‘æ—¶ï¼Œæ–‡ä»¶è‡ªåŠ¨ç¼–è¯‘åˆ°äº† JDReact é¡¹ç›®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥ç”¨æ¨¡æ‹Ÿå™¨æˆ–è€…çœŸæœºæ¥è¿›è¡Œé¢„è§ˆè°ƒè¯•äº†ã€‚å½“æˆ‘ä»¬åœ¨è¿›è¡Œæœ¬åœ°å¼€å‘è°ƒè¯•çš„æ—¶å€™ï¼Œæœ€é«˜æ•ˆçš„æ–¹å¼è¿˜æ˜¯æ¨èç”¨ Taro å®˜æ–¹æä¾›çš„ <a href="https://github.com/NervJS/taro-native-shell" target="_blank" rel="noopener noreferrer" title="`taro-native-shell`"><code>taro-native-shell</code></a> åŸç”Ÿ React Native å£³å­æ¥å¯åŠ¨æˆ‘ä»¬çš„é¡¹ç›®ï¼Œè¯¦ç»†çš„é…ç½®å‚ç…§è¯¥é¡¹ç›®çš„ README è¿›è¡Œé…ç½®å³å¯ã€‚</p><p>ç”±äº React Native å®˜æ–¹æä¾›çš„ <a href="https://facebook.github.io/react-native/docs/debugging.html#chrome-developer-tools" target="_blank" rel="noopener noreferrer" title="Remote Debugger">Remote Debugger</a> åŠŸèƒ½éå¸¸å¼±ï¼Œæ¨èä½¿ç”¨ <a href="https://github.com/jhen0409/react-native-debugger" target="_blank" rel="noopener noreferrer" title="React Native Debugger">React Native Debugger</a> æ¥è¿›è¡Œæœ¬åœ° RN è°ƒè¯•ï¼Œæä¾›äº†æ›´ä¸ºä¸°å¯Œçš„åŠŸèƒ½ï¼ŒåŸºæœ¬æ¥è¿‘ H5 å’Œå°ç¨‹åºçš„è°ƒè¯•ä½“éªŒã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/93257/12/1534/249244/5dc0282eE862961c6/bf7b8367ac970ecf.png" alt="React Native Debugger ç•Œé¢" class="img_ROth"></p><p>è¿™æ ·æˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸€ä¸ªæ­£å¸¸çš„å¼€å‘è°ƒè¯•ç¯å¢ƒï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡Œé«˜æ•ˆçš„å¼€å‘äº†ï¼Œç”±äºæˆ‘ä»¬å‰é¢åœ¨ H5 å’Œå°ç¨‹åºç‰ˆæœ¬é˜¶æ®µå·²ç»å®Œæˆäº†ç»å¤§éƒ¨åˆ†çš„ä¸šåŠ¡é€»è¾‘å¼€å‘ï¼Œæ‰€ä»¥é’ˆå¯¹ RN ç‰ˆæœ¬çš„ä¸»è¦å·¥ä½œé›†ä¸­åœ¨ iOS å’Œå®‰å“ä¸åŒæœºå‹çš„æ ·å¼å’Œäº¤äº’é€‚é…ä¸Šã€‚</p><p>åœ¨æ ·å¼é€‚é…è¿™å—ï¼Œä¸å¾—ä¸æä¸‹ Taro é’ˆå¯¹æˆ‘ä»¬å¸¸è§çš„åœºæ™¯æä¾›äº†ä¸€äº›æœ€ä½³å®è·µï¼Œå¯ä»¥ä½œä¸ºå¸ƒå±€å‚è€ƒï¼š</p><ul><li>å›ºå®šå°ºå¯¸ï¼ˆæŒ‰é’®ã€æ–‡å­—å¤§å°ã€é—´è·ï¼‰ï¼šå†™ PX / Px / pX</li><li>ä¿æŒå®½é«˜æ¯”ï¼ˆæ¯”å¦‚ banner å›¾ç‰‡ï¼‰ï¼š<code>Image</code> ç»„ä»¶å¤„ç†</li><li>é—´è·å›ºå®šï¼Œå†…å®¹è‡ªé€‚åº”ï¼ˆæ¯”å¦‚äº§å“å¡ç‰‡å®½åº¦ï¼‰ï¼šä½¿ç”¨ <code>flex</code> å¸ƒå±€</li><li>æŒ‰å±å¹•ç­‰æ¯”ç¼©æ”¾ï¼šä½¿ç”¨ px å•ä½ï¼Œç¼–è¯‘æ—¶å¤„ç†ï¼ˆ<code>scalePx2dp</code> åŠ¨æ€è®¡ç®—ï¼‰</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="taro-rn-æœ€ä½³å®è·µé›†é”¦">Taro RN æœ€ä½³å®è·µé›†é”¦<a class="hash-link" href="#taro-rn-æœ€ä½³å®è·µé›†é”¦" title="Direct link to heading">â€‹</a></h4><p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°ä¸å°‘å…¼å®¹æ€§é—®é¢˜ï¼Œè¿™é‡Œæ•´ç†å‡ºæ¥ä»¥ä¾›å¤§å®¶å‚è€ƒï¼š</p><ul><li><p>æ–‡æœ¬è¦ç”¨ <code>&lt;Text&gt;</code> æ ‡ç­¾åŒ…èµ·æ¥ï¼Œå› ä¸º RN æ²¡æœ‰ <code>textNode</code> çš„æ¦‚å¿µï¼›</p></li><li><p>ä½¿ç”¨ Swiper æ—¶åœ¨å¤–é¢åŒ…ä¸€ä¸ª Viewï¼Œå¦åˆ™è®¾ç½® <code>margin</code> åä¼šå¯¼è‡´å®‰å“ä¸‹é«˜åº¦å¼‚å¸¸ï¼›</p></li><li><p><code>Cannot read property 'x' of undefined</code>ï¼ŒSwiper åº•å±‚ä½¿ç”¨çš„ react-native-swiper å¯¼è‡´çš„é—®é¢˜ï¼ŒDisable Remote JS Debug å°±ä¸ä¼šå‡ºç°ã€‚</p></li><li><p>å›¾ç‰‡é»˜è®¤å°ºå¯¸ä¸å¯¹ï¼ŒRN ä¸ä¼šè‡ªåŠ¨å¸®åŠ©è®¾ç½®å›¾ç‰‡å°ºå¯¸ï¼Œè€Œæ˜¯äº¤ç»™å¼€å‘è€…è‡ªå·±å¤„ç†ï¼Œæ•…æ„è¿™æ ·è®¾è®¡çš„ï¼›</p></li><li><p>Image ç»„ä»¶ä¸Šä¸å¯ä»¥è®¾ç½® onClick</p></li><li><p>å®ç°åŸºçº¿å¯¹é½ï¼š<code>vertical-align: baseline</code>ï¼Œç”¨ <code>&lt;Text&gt;</code> æŠŠéœ€è¦åŸºçº¿å¯¹é½çš„ç»„ä»¶åŒ…ä½å³å¯ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript literal-property property" style="color:#36acaa">fontSize</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">20</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">abc</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript literal-property property" style="color:#36acaa">fontSize</span><span class="token tag script language-javascript operator" style="color:#393A34">:</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">40</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">123</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>å°½é‡é¿å…ä½¿ç”¨ <code>line-height</code> ï¼Œåœ¨å®‰å“å’Œ iOS ä¸‹è¡¨ç°ä¸ä¸€è‡´ï¼Œè€Œä¸”å³ä½¿è®¾ç½®ä¸ºä¸ <code>fontSize</code> ç›¸åŒä¹Ÿä¼šå¯¼è‡´è£å‰ªï¼›</p></li><li><p>android è°ƒè¯•ç”Ÿäº§ç¯å¢ƒçš„ bundleï¼Œæ‘‡æ‰‹æœºï¼Œé€‰ Dev Settingï¼Œå–æ¶ˆå‹¾é€‰ç¬¬ä¸€é¡¹ Dev å³å¯ï¼›</p></li><li><p>iOS è°ƒè¯•ç”Ÿäº§ç¯å¢ƒçš„ bundleï¼Œ<code>AppDelegate.m</code> ä¸­å¢åŠ ä¸€è¡Œè¯­å¥å…³é—­ dev å³å¯ï¼š</p><div class="codeBlockContainer_H5s7 language-objc theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-objc codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RCTBundleURLProvider sharedSettings</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> setEnableDev</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">false</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ‰¾åˆ°è¿™è¡Œï¼Œå¹¶åœ¨å®ƒçš„ä¸Šé¢å¢åŠ ä¸Šé¢è¿™è¡Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  jsCodeLocation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">RCTBundleURLProvider sharedSettings</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> jsBundleURLForBundleRoot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">@"index"</span><span class="token plain"> fallbackResource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">nil</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p><code>&lt;Text&gt;</code> ä¸ <code>&lt;View&gt;</code> æ”¯æŒçš„ style å±æ€§ä¸ç›¸åŒã€‚</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; [Text Style Props](https://facebook.github.io/react-native/docs/text-style-props "Text Style Props") &amp; [View Style Props](https://facebook.github.io/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>react-native/docs/view-style-props)</p></li><li><p>render æ–¹æ³•ä¸­ä¸è¦è¿”å›ç©ºå­—ç¬¦ä¸²</p><p>ä¸‹é¢çš„ä»£ç åœ¨ android ä¸‹ä¼šæŠ¥é”™ï¼ˆempty_string å†…å®¹ä¸ºç©ºå­—ç¬¦ä¸²ï¼‰</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">empty_string </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å› ä¸º <code>empty_string &amp;&amp; &lt;Text&gt;&lt;/Text&gt;</code> çš„è¿”å›å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼ŒRN å°è¯•æŠŠå­—ç¬¦ä¸²æ·»åŠ åˆ° View çš„ children æ—¶åœ¨å®‰å“ç¯å¢ƒä¸‹ä¼šæŠ¥é”™ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token known-class-name class-name">Error</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Cannot</span><span class="token plain"> add a child that doesn't have a </span><span class="token maybe-class-name">YogaNode</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p><code>border-radius</code> å¯¼è‡´èƒŒæ™¯è‰²å¼‚å¸¸ï¼Œå•ç‹¬ç»™æŸä¸ªè§’è®¾ç½®åœ†è§’æ—¶ï¼Œæ²¡æœ‰è®¾ç½®åœ†è§’çš„è¾¹ä¼šå‡ºç°ä¸€å—ä¸èƒŒæ™¯è‰²é¢œè‰²ç›¸åŒï¼Œä½†åŠé€æ˜çš„è‰²å—ã€‚</p><ol><li>æ·»åŠ å¤–å±‚å®¹å™¨è®¾ç½®åœ†è§’ä¸è¶…å‡ºéšè—</li><li>å…¨éƒ¨è§’éƒ½è®¾ç½®åœ†è§’ç„¶åä½¿ç”¨ <code>transform:tanslate()</code> è—èµ·ä¸æƒ³è¦çš„åœ†è§’</li></ol></li><li><p>é€æ˜ View æ— æ³•ç‚¹å‡»çš„é—®é¢˜ï¼Œç»™è®¾ç½®äº† onClick çš„å…ƒç´ æ·»åŠ é€æ˜èƒŒæ™¯è‰²å³å¯ï¼š</p></li></ul><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">style</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">backgroundColor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"transparent"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä¸å¯ä»¥ç”¨ scss å†™ï¼Œåªæœ‰å†™åœ¨ JSX ä¸Šçš„æ‰æœ‰æ•ˆï¼ŒTaro ç¼–è¯‘æ—¶å¯èƒ½æŠŠé€æ˜èƒŒæ™¯è‰²å¿½ç•¥äº†ã€‚</p><ul><li><p>ä¸€åƒç´ ç¼éš™é—®é¢˜</p><p>å¯èƒ½æ˜¯ RN å¸ƒå±€å¼•æ“çš„é—®é¢˜ï¼Œæˆ–å•ä½è½¬æ¢ä»¥åŠæµè§ˆå™¨æ¸²æŸ“ä¸­çš„ç²¾åº¦æŸå¤±é—®é¢˜ã€‚å¯ä»¥è°ƒæ•´é¡µé¢ç»“æ„æ¥ç»•è¿‡ã€‚
æˆ–è€…ç®€å•ç²—æš´ä¸€ç‚¹ï¼Œè®¾ç½®è´Ÿ margin å€¼ç›–ä½ç¼éš™ã€‚</p></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è·¨å¹³å°å¼€å‘">è·¨å¹³å°å¼€å‘<a class="hash-link" href="#è·¨å¹³å°å¼€å‘" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="js-æ–‡ä»¶">JS æ–‡ä»¶<a class="hash-link" href="#js-æ–‡ä»¶" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_IyCF" id="1æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼">1ã€æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼<a class="hash-link" href="#1æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼" title="Direct link to heading">â€‹</a></h5><p>è¦"å®Œç¾"çš„ç¼–è¯‘å‡ºä¸‰ç«¯ä»£ç ï¼Œé¦–å…ˆè¦è§£å†³çš„æ˜¯å…¬å…±ç±»åº“çš„é€‚é…é—®é¢˜ï¼Œå¥½åœ¨å…„å¼Ÿä¸šåŠ¡å›¢é˜Ÿå·²ç»æ²‰æ·€æœ‰å®Œæˆåº¦è¾ƒé«˜çš„ä¸‰ç«¯å…¬å…±ç±»åº“ï¼Œåˆ©ç”¨ Taro æä¾›çš„è·¨å¹³å°å¼€å‘èƒ½åŠ›ï¼ŒæŠ¹å¹³ä¸‰ç«¯æ–¹æ³•åå’Œå‚æ•°ä¸ç»Ÿä¸€çš„æƒ…å†µï¼Œå³å¯å¾ˆå¥½çš„è§£å†³å…¬å…±ç±»åº“çš„é€‚é…é—®é¢˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ goto.h5.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ goto.rn.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ goto.weapp.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ request.h5.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ request.rn.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ request.weapp.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä»¥ <code>request</code> å…¬å…±ç»„ä»¶ä¸ºä¾‹ï¼Œä¸‰ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><p>request.h5.js</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">request</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@legos/request'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> request </span><span class="token exports punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>request.rn.js</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">request</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@wqvue/jdreact-request'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> request </span><span class="token exports punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>request.weapp.jsï¼ˆç”±äºå°ç¨‹åºçš„å…¬å…±ç»„ä»¶æ²¡æœ‰å‘å¸ƒè‡³ npmï¼Œè¿™é‡Œå¼•ç”¨çš„æœ¬åœ°é¡¹ç›®æºæ–‡ä»¶ï¼‰</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> request </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../../../common/request/request.js'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token exports punctuation" style="color:#393A34">{</span><span class="token exports"> request </span><span class="token exports punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¦‚é‡åˆ°éœ€è¦é€‚é…çš„æ–¹æ³•å‚æ•°ä¸ä¸€è‡´æˆ–è€…å¢åŠ é¢å¤–å¤„ç†çš„æƒ…å†µï¼Œå¯è¿›è¡Œå†åŒ…è£…ç¡®ä¿æœ€ç»ˆè¾“å‡ºçš„æ¥å£ä¸€è‡´ï¼Œå¦‚ä¸‹ï¼š</p><p>goto.rn.js</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">jump</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@wqvue/jdreact-jump'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">url</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> params </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> options </span><span class="token parameter operator" style="color:#393A34">=</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">jump</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">des</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'m'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">source</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'JDPingou'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> goto</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ–‡ä»¶å¼•å…¥çš„æ—¶å€™æˆ‘ä»¬æ­£å¸¸ä½¿ç”¨å°±å¥½ï¼ŒTaro åœ¨ç¼–è¯‘çš„æ—¶å€™ä¸ºæˆ‘ä»¬ç¼–è¯‘å¯¹åº”çš„å¹³å°çš„æ–‡ä»¶</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">goto</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./goto.js'</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h5 class="anchor anchorWithStickyNavbar_IyCF" id="2æ¡ä»¶ç¼–è¯‘çš„æ–¹å¼">2ã€æ¡ä»¶ç¼–è¯‘çš„æ–¹å¼<a class="hash-link" href="#2æ¡ä»¶ç¼–è¯‘çš„æ–¹å¼" title="Direct link to heading">â€‹</a></h5><p>è§£å†³äº†å…¬å…±ç±»åº“é€‚é…ä¹‹åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡ä»£ç å¼€å‘äº†ï¼ŒåŒæ ·ä¸šåŠ¡ä»£ç åœ¨ä¸‰ç«¯ä¹Ÿå¯èƒ½å­˜å·®å¼‚çš„æƒ…å†µï¼Œå¯ä»¥ç”¨ Taro æä¾›çš„ç¯å¢ƒå˜é‡æ¥è¾¾åˆ°ç›®çš„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TARO_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'h5'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">speedReport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// [æµ‹é€Ÿä¸ŠæŠ¥] é¦–å±æ¸²æŸ“å®Œæˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TARO_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'weapp'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  speed</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">mark</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">report</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// [æµ‹é€Ÿä¸ŠæŠ¥] é¦–å±æ¸²æŸ“å®Œæˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TARO_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'rn'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  speed</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">mark</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">report</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// [æµ‹é€Ÿä¸ŠæŠ¥] é¦–å±æ¸²æŸ“å®Œæˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="css-æ–‡ä»¶">CSS æ–‡ä»¶<a class="hash-link" href="#css-æ–‡ä»¶" title="Direct link to heading">â€‹</a></h4><p>ä»¥ä¸Šæ˜¯ js çš„ä»£ç å¤„ç†æ–¹å¼ï¼Œå¯¹äº css æ–‡ä»¶åŠä»£ç ï¼ŒåŒæ ·ä¹Ÿæœ‰ç±»ä¼¼çš„å¤„ç†ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="1æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼-1">1ã€æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼<a class="hash-link" href="#1æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼-1" title="Direct link to heading">â€‹</a></h5><p>æ¯”å¦‚ RN ç›¸å¯¹äº H5 å’Œå°ç¨‹åºçš„æ ·å¼å°±å­˜åœ¨æ¯”è¾ƒå¤§çš„å·®å¼‚ï¼ŒRN æ”¯æŒçš„æ ·å¼æ˜¯ CSS çš„å­é›†ï¼Œæ‰€ä»¥å¾ˆå¤šçœ‹èµ·æ¥å¾ˆå¸¸è§çš„æ ·å¼æ˜¯ä¸æ”¯æŒçš„ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œå·®å¼‚åŒ–å¤„ç†ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ index.base.scss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ index.rn.scss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ index.scss</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™é‡Œä»¥ <code>index.base.scss</code> ä½œä¸ºä¸‰ç«¯éƒ½èƒ½å…¼å®¹çš„å…¬å…±æ ·å¼ï¼ˆåå­—å¯ä»¥ä»»å–ï¼Œä¸ä¸€å®šä¸º xxx.base.scssï¼‰ï¼Œ<code>index.rn.scss</code> åˆ™ä¸º RN ç«¯ç‹¬ç‰¹çš„æ ·å¼ï¼Œ<code>index.scss</code> åˆ™ä¸º H5 å’Œå°ç¨‹åºç‹¬ç‰¹çš„æ ·å¼ï¼Œå› ä¸º H5 å’Œå°ç¨‹åºæ ·å¼åŸºæœ¬ä¸Šæ²¡æœ‰ä»€ä¹ˆå·®å¼‚ï¼Œè¿™é‡Œåˆä¸ºä¸€ä¸ªæ–‡ä»¶å¤„ç†ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="2æ¡ä»¶ç¼–è¯‘çš„æ–¹å¼-1">2ã€æ¡ä»¶ç¼–è¯‘çš„æ–¹å¼<a class="hash-link" href="#2æ¡ä»¶ç¼–è¯‘çš„æ–¹å¼-1" title="Direct link to heading">â€‹</a></h5><p>Taro ä¹Ÿæ”¯æŒæ ·å¼æ–‡ä»¶å†…çš„æ¡ä»¶ç¼–è¯‘ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* #ifdef %PLATFORM% */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‡å®šå¹³å°ä¿ç•™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* #endif */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* #ifndef %PLATFORM% */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‡å®šå¹³å°å‰”é™¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* #endif */</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>%PLATFORM%</code> çš„å–å€¼è¯·å‚è€ƒ <a title="Taro å†…ç½®ç¯å¢ƒå˜é‡" href="/taro-docs/docs/envs">Taro å†…ç½®ç¯å¢ƒå˜é‡</a></p><p>ä»¥ä¸‹ä¸ºç¤ºä¾‹ä»£ç ï¼š</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">.selector </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#fff</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* #ifndef RN */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">box-shadow</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> </span><span class="token color function" style="color:#d73a49">rgba</span><span class="token color punctuation" style="color:#393A34">(</span><span class="token color number" style="color:#36acaa">0</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">0</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">0</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">.1</span><span class="token color punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* #endif */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç¼–è¯‘ä¸º H5 å’Œå°ç¨‹åºçš„æ ·å¼ä¸ºï¼š</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">.selector </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#fff</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">box-shadow</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token unit">px</span><span class="token plain"> </span><span class="token color function" style="color:#d73a49">rgba</span><span class="token color punctuation" style="color:#393A34">(</span><span class="token color number" style="color:#36acaa">0</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">0</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">0</span><span class="token color punctuation" style="color:#393A34">,</span><span class="token color"> </span><span class="token color number" style="color:#36acaa">.1</span><span class="token color punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>RN çš„æ ·å¼ä¸ºï¼š</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">.selector </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#fff</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä¸¤ç§æ–¹å¼é€‰å…¶ä¸€å³å¯ï¼Œè¿™æ ·å°±èƒ½å¼€å¼€å¿ƒå¿ƒçš„ç¼–å†™ä¸šåŠ¡ä»£ç äº†ã€‚</p><p>æœ‰äº›è®¸é—æ†¾çš„æ˜¯äº§å“ç»ç†å¯¹è¿™æ¬¡æ–°ç‰ˆé¦–é¡µæœ‰ç€æ˜ç¡®çš„ä¸Šçº¿ä¼˜å…ˆçº§ï¼šå…ˆ H5 ç‰ˆï¼Œå†å¾®ä¿¡å°ç¨‹åºç‰ˆï¼Œæœ€åæ˜¯ RN ç‰ˆï¼Œè¿™å°±ä¸ºåç»­ RN ç‰ˆæœ¬è·Ÿ H5 å’Œ å°ç¨‹åºç‰ˆæœ¬åˆ†é“æ‰¬é•³åŸ‹ä¸‹äº†ä¼ç¬”ï¼Œæ¡ä»¶å…è®¸çš„è¯å»ºè®®ä¼˜å…ˆä»¥ RN ç‰ˆæœ¬ä¸ºåŸºå‡†è¿›è¡Œå¼€å‘ï¼Œä»¥å…å¼€å‘å®Œæˆ H5 å’Œå°ç¨‹åºä¹‹åå‘ç°å¯¹ç»“æ„å’Œæ ·å¼è¿›è¡Œå¤§çš„è°ƒæ•´ï¼Œå› ä¸º RN å¯¹æ ·å¼ç¡®å®ä¼šå¼±ä¸€äº›ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å›¾ç‰‡ä¼˜åŒ–">å›¾ç‰‡ä¼˜åŒ–<a class="hash-link" href="#å›¾ç‰‡ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h4><p>ç”µå•†æ€§è´¨çš„ç½‘ç«™ï¼Œä¼šå­˜åœ¨å¤§é‡çš„ç´ ææˆ–å•†å“å›¾ç‰‡ï¼Œ å¾€å¾€è¿™äº›ä¼šå¯¹é¡µé¢é€ æˆè¾ƒå¤§çš„æ€§èƒ½å½±å“ã€‚å¾—ç›Šäºäº¬ä¸œå›¾åºŠæœåŠ¡ï¼Œæä¾›å¼ºå¤§çš„å›¾ç‰‡å®šåˆ¶åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬åœ¨å›¾ç‰‡ä¼˜åŒ–æ–¹é¢çœå»å¤§é‡å·¥ä½œã€‚ä»¥å¼•å…¥å•†å“å›¾ç‰‡ <code>"https://img10.360buyimg.com/mobilecms/s355x355_jfs/t1/55430/24/116/143859/5cd27c99E71cc323f/0e8da8810fb49796.jpg!q70.dpg.webp"</code> ä¸ºæ ·æœ¬ï¼Œæˆ‘ä»¬å¯¹å›¾ç‰‡åº”ç”¨åšäº†éƒ¨åˆ†ä¼˜åŒ–ï¼š</p><ul><li>æ ¹æ®å®¹å™¨å¤§å°é€‚å½“è£å‰ªå›¾ç‰‡å°ºå¯¸ï¼šs355x355_jfs</li><li>æ ¹æ®ç½‘ç»œç¯å¢ƒè®¾ç½®å›¾ç‰‡å“è´¨å‚æ•°ï¼š0e8da8810fb49796.jpg!q70</li><li>æ ¹æ®æµè§ˆå™¨ç¯å¢ƒåˆç†é€‰æ‹©å›¾ç‰‡ç±»å‹ï¼š0e8da8810fb49796.jpg!q70.dpg.webp</li></ul><p>ä¸º Image æ ‡ç­¾è®¾ç½® lazyload å±æ€§ï¼Œè¿™æ ·å¯ä»¥åœ¨ H5 å’Œå°ç¨‹åºä¸‹è·å¾—æ‡’åŠ è½½åŠŸèƒ½ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ¥å£èšåˆç›´å‡º">æ¥å£èšåˆç›´å‡º<a class="hash-link" href="#æ¥å£èšåˆç›´å‡º" title="Direct link to heading">â€‹</a></h4><p>èµ·åˆäº¬å–œé¦–é¡µçš„é¦–å±æ•°æ®æ¶‰åŠçš„åç«¯æ¥å£å¤šè¾¾ 20 ä½™ä¸ªï¼Œå¯¼è‡´æ•´ä½“æ•°æ®è¿”å›æ—¶é—´è¾ƒé•¿ï¼›ä¸ºäº†è§£å†³æ­¤é¡¹ç—›ç‚¹ï¼Œæˆ‘ä»¬è”åˆåç«¯å›¢é˜Ÿï¼Œç‹¬ç«‹å¼€å‘é¦–å±ä¸“ç”¨çš„<strong>èšåˆç›´å‡ºæ¥å£</strong>ã€‚ä¸€æ–¹é¢ï¼Œå°†ä¼—å¤šæ¥å£è¯·æ±‚åˆå¹¶æˆä¸€ä¸ªï¼Œå‡å°‘æ¥å£è”åŠ¨è¯·æ±‚å¸¦æ¥çš„æ€§èƒ½æŸè€—ï¼›å¦ä¸€æ–¹é¢ï¼Œå°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘æŒªåˆ°åç«¯å¤„ç†ï¼Œå‰ç«¯åªè´Ÿè´£è§†å›¾æ¸²æŸ“å’Œäº¤äº’å³å¯ï¼Œå‡å°‘å‰ç«¯ä»£ç å¤æ‚åº¦ï¼›é€šè¿‡æ­¤é¡¹ä¼˜åŒ–ï¼Œé¡µé¢æ€§èƒ½å’Œä½“éªŒå¾—åˆ°æå¤§æ”¹å–„ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç¼“å­˜ä¼˜å…ˆç­–ç•¥">ç¼“å­˜ä¼˜å…ˆç­–ç•¥<a class="hash-link" href="#ç¼“å­˜ä¼˜å…ˆç­–ç•¥" title="Direct link to heading">â€‹</a></h4><p>ç”±äºäº¬å–œä¸šåŠ¡ä¸»è¦å›´ç»•ä¸‹æ²‰å¸‚åœºï¼Œå…¶ç”¨æˆ·ç¾¤ä½“çš„ç½‘ç»œç¯å¢ƒä¼šæ›´åŠ å¤æ‚ï¼Œè¦ä¿éšœé¡µé¢çš„æ€§èƒ½ï¼Œå‡å°‘ç½‘ç»œå»¶æ—¶æ˜¯ä¸€é¡¹é‡è¦æªæ–½ã€‚</p><p>ä¸ºäº†æå‡ç”¨æˆ·äºŒæ¬¡è®¿é—®çš„åŠ è½½æ€§èƒ½ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨<strong>ç¼“å­˜ä¼˜å…ˆç­–ç•¥</strong>ã€‚å³ç”¨æˆ·æ¯æ¬¡è®¿é—®é¡µé¢æ—¶æ‰€è¯·æ±‚çš„ä¸»æ¥å£æ•°æ®å†™å…¥æœ¬åœ°ç¼“å­˜ï¼ŒåŒæ—¶ç”¨æˆ·æ¯æ¬¡è®¿é—®éƒ½ä¼˜å…ˆåŠ è½½ç¼“å­˜æ•°æ®ï¼Œå½¢æˆä¸€å¥—è§„èŒƒçš„æ•°æ®è¯»å–æœºåˆ¶ã€‚é€šè¿‡ä¼˜å…ˆè¯»å–æœ¬åœ°ç¼“å­˜æ•°æ®ï¼Œå¯è®©é¡µé¢å†…å®¹åœ¨æçŸ­æ—¶é—´å†…å®Œæˆæ¸²æŸ“ï¼›å¦å¤–ï¼Œæœ¬åœ°ç¼“å­˜æ•°æ®äº¦å¯ä½œä¸ºé¡µé¢å…œåº•æ•°æ®ï¼Œåœ¨ç”¨æˆ·ç½‘ç»œè¶…æ—¶æˆ–æ•…éšœæ—¶ä½¿ç”¨ï¼Œå¯é¿å…é¡µé¢ç©ºçª—çš„æƒ…æ™¯å‡ºç°ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/ling/jfs/t1/50956/35/15492/42652/5dc2eaecE30ebcffd/c7e8c52679a3f2fe.jpg" alt="ç¼“å­˜ä¼˜å…ˆç­–ç•¥" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="é«˜æ€§èƒ½ç€‘å¸ƒæµé•¿åˆ—è¡¨">é«˜æ€§èƒ½ç€‘å¸ƒæµé•¿åˆ—è¡¨<a class="hash-link" href="#é«˜æ€§èƒ½ç€‘å¸ƒæµé•¿åˆ—è¡¨" title="Direct link to heading">â€‹</a></h4><p>é¦–é¡µç´§æ¥ç€é¦–å±åŒºåŸŸçš„æ˜¯ä¸€ä¸ªæ”¯æŒä¸‹æ»‘åŠ è½½çš„ç€‘å¸ƒæµé•¿åˆ—è¡¨ï¼Œæ¯æ¬¡æ»‘åˆ°åº•éƒ¨éƒ½ä¼šå¼‚æ­¥æ‹‰å– 20 æ¡æ•°æ®ï¼Œæ€»è®¡ä¼šæ‹‰å–å°†è¿‘ 500 æ¡æ•°æ®ï¼Œè¿™åœ¨ iOS ä¸‹äº¤äº’ä½“éªŒè¿˜æ¯”è¾ƒæ­£å¸¸ã€‚ä½†æ˜¯åœ¨é…ç½®è¾ƒä½çš„å®‰å“æœºå‹ä¸‹ï¼Œå½“æ»‘åŠ¨åˆ° 2 åˆ° 3 å±ä¹‹åå°±å¼€å§‹å‡ºç°ä¸¥é‡å¡é¡¿ï¼Œç”šè‡³ä¼šé—ªé€€ã€‚</p><p>é’ˆå¯¹è¿™ç§åœºæ™¯ä¹Ÿå°è¯•è¿‡ç”¨ FlatList å’Œ SectionList ç»„ä»¶æ¥ä¼˜åŒ–ï¼Œä½†æ˜¯å®ƒä»¬éƒ½è¦æ±‚è§„åˆ™ç­‰é«˜çš„åˆ—è¡¨æ¡ç›®ï¼Œäºæ˜¯ä¸å¾—ä¸è‡ªå·±æ¥å®ç°ä¸è§„åˆ™çš„ç€‘å¸ƒæµæ— é™æ»šåŠ¨åŠ è½½ã€‚å…¶æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡åˆ¤æ–­åˆ—è¡¨çš„æ¡ç›®æ˜¯å¦åœ¨è§†çª—å†…æ¥å†³å®šå›¾ç‰‡æ˜¯å¦æ¸²æŸ“ï¼Œè¦ä¼˜åŒ–å¾—æ›´å½»åº•äº›å¾—è¯ï¼Œç”šè‡³å¯ä»¥ç§»é™¤æ¡ç›®å†…æ‰€æœ‰å†…å®¹åªä¿ç•™å®¹å™¨ï¼Œä»¥è¾¾åˆ°å‡å°‘å†…å®¹èŠ‚ç‚¹ä»¥åŠå†…å­˜å ç”¨ï¼Œä¸è¿‡åœ¨å¿«é€Ÿè¿›è¡Œæ»‘åŠ¨æ—¶æ¯”è¾ƒå®¹æ˜“å‡ºç°ä¸€ç‰‡ç™½æ¡†ï¼Œç®—æ˜¯ä¸ºäº†æ€§èƒ½æŸå¤±ä¸€äº›ä½“éªŒï¼Œæ•´ä½“ä¸Šæ¥è¯´æ˜¯å¯ä»¥æ¥å—å¾—ã€‚</p><p>ç”±äº RN ä¸‹åœ¨è·å–å…ƒç´ åæ ‡åç§»ç­‰æ•°æ®ç›¸å¯¹ H5 å’Œå°ç¨‹åºè¦éº»çƒ¦å¾—åˆ°ï¼Œå…·ä½“çš„å®ç°ç»†èŠ‚å¯ä»¥æŸ¥çœ‹æŠ½ç¦»å‡ºæ¥çš„ç®€å•å®ç°<a href="https://github.com/aNd1coder/taro-waterfall" target="_blank" rel="noopener noreferrer" title="Taro é«˜æ€§èƒ½ç€‘å¸ƒæµç»„ä»¶ï¼ˆfor RNï¼‰">Taro é«˜æ€§èƒ½ç€‘å¸ƒæµç»„ä»¶ï¼ˆfor RNï¼‰</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/105266/16/1522/210358/5dc18d19E6401cb7a/ad1ab2372f08e6c4.jpg" alt="ä¸‰ç«¯è¾¾åˆ°åƒç´ çº§åˆ«çš„è¿˜åŸ" class="img_ROth"></p><p>è¿™ç¯‡æ–‡ç« ä»æŠ€æœ¯é€‰å‹ã€å¼€å‘å®å½•å†åˆ°æ€§èƒ½ä¼˜åŒ–ä¸‰ä¸ªç»´åº¦å¯¹äº¬å–œé¦–é¡µæ”¹ç‰ˆåšäº†ç®€å•æ€»ç»“ã€‚æ•´ä¸ªé¡¹ç›®å®è·µä¸‹æ¥ï¼Œè¯å® Taro å¼€å‘æ¡†æ¶ å·²å®Œå…¨å…·å¤‡æŠ•å…¥å¤§å‹å•†ä¸šé¡¹ç›®çš„æ¡ä»¶ã€‚è™½åœ¨å¤šç«¯å¼€å‘é€‚é…ä¸Šè€—è´¹äº†ä¸€äº›æ—¶é—´ï¼Œä½†ä»æ¯”å„ç«¯ç‹¬ç«‹å¼€å‘ç»´æŠ¤å·¥ä½œé‡è¦å°‘ï¼›åœ¨å‰ç«¯èµ„æºåŒ®ä¹çš„ä»Šå¤©ï¼Œé€‰æ‹©æˆç†Ÿçš„å¼€å‘å·¥å…·æ¥æ§åˆ¶æˆæœ¬ã€æå‡æ•ˆç‡ï¼Œå·²æ˜¯å„å›¢é˜Ÿçš„é¦–è¦å·¥ä½œç›®æ ‡ã€‚ åŒæ—¶ï¼Œäº¬å–œä½œä¸ºäº¬ä¸œæˆ˜ç•¥çº§ä¸šåŠ¡ï¼Œæ‹¥æœ‰åƒä¸‡çº§åˆ«çš„æµé‡å…¥å£ï¼Œæˆ‘ä»¬å¯¹é¡µé¢çš„ä½“éªŒä¼˜åŒ–å’Œæ€§èƒ½æ”¹è¿›è¿œä¸æ­¢äºæ­¤ï¼Œå¸Œæœ›æ¯ä¸€æ¬¡å¾®å°çš„æ”¹åŠ¨èƒ½ä¸ºç”¨æˆ·å¸¦æ¥æ„‰æ‚¦çš„æ„Ÿå—ï¼Œå§‹ç»ˆä¸ºç”¨æˆ·æä¾›ä¼˜è´¨çš„äº§å“ä½“éªŒã€‚</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro é‚€ä½ åŠ å…¥ç¤¾åŒºå…±å»º â€” ç¤¾åŒºå…±å»ºå€¡è®®ä¹¦]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-10-24-taro-open</link>
            <guid>2019-10-24-taro-open</guid>
            <pubDate>Thu, 24 Oct 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[Taro ä½œä¸ºä¸€ä¸ªå¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œè‡ªè¯ç”Ÿä»¥æ¥ä¸€ç›´ä¿æŒç€é«˜é€Ÿçš„å‘å±•æ€åŠ¿ï¼Œ ä»ä¸€ä¸ªå•ä¸€çš„å¼€å‘æ¡†æ¶å‘å±•åˆ°å¦‚ä»ŠæœåŠ¡æ•°ä¸‡åå¼€å‘è€…çš„å¤šç«¯è§£å†³æ–¹æ¡ˆï¼ŒTaro çš„æˆé•¿æœ‰ Taro å›¢é˜Ÿä¸å¿˜åˆå¿ƒçš„åŠªåŠ›ï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œç¦»ä¸å¼€ç¤¾åŒºå¹¿å¤§å¼€å‘è€…çš„æ”¯æŒå’Œå¸®åŠ©ã€‚]]></description>
            <content:encoded><![CDATA[<p><a href="https://taro.jd.com" target="_blank" rel="noopener noreferrer">Taro</a> ä½œä¸ºä¸€ä¸ªå¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œè‡ªè¯ç”Ÿä»¥æ¥ä¸€ç›´ä¿æŒç€é«˜é€Ÿçš„å‘å±•æ€åŠ¿ï¼Œ ä»ä¸€ä¸ªå•ä¸€çš„å¼€å‘æ¡†æ¶å‘å±•åˆ°å¦‚ä»ŠæœåŠ¡æ•°ä¸‡åå¼€å‘è€…çš„å¤šç«¯è§£å†³æ–¹æ¡ˆï¼ŒTaro çš„æˆé•¿æœ‰ Taro å›¢é˜Ÿä¸å¿˜åˆå¿ƒçš„åŠªåŠ›ï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œç¦»ä¸å¼€ç¤¾åŒºå¹¿å¤§å¼€å‘è€…çš„æ”¯æŒå’Œå¸®åŠ©ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€æºé¢ä¸´ç€ä»€ä¹ˆ">å¼€æºé¢ä¸´ç€ä»€ä¹ˆ<a class="hash-link" href="#å¼€æºé¢ä¸´ç€ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹ä¸€ç»„æ•°æ®ã€‚</p><p>Taro ä»å¼€æºåˆ°å½“å‰è¡Œæ–‡ä¸ºæ­¢ï¼Œæ€»å…±æœ‰ <strong>5227</strong> æ¬¡ commitsï¼Œå‘å¸ƒäº† <strong>235</strong> ä¸ªç‰ˆæœ¬ï¼ŒåŒæ—¶æœ‰ <strong>3908</strong> ä¸ª issues è¢«å¼€å¯ï¼Œåœ¨ Taro å›¢é˜Ÿå’Œç¤¾åŒºçš„åŠªåŠ›ä¸‹ï¼Œå·²ç»å…³é—­äº† <strong>3296</strong> ä¸ªï¼Œè¿˜æœ‰è¿‘ <strong>600</strong> ä¸ª issues æœ‰å¾…è§£å†³ï¼Œè€Œæ¯å‘¨ Taro çš„æ–°å¼€å¯çš„ issues ä¹Ÿåœ¨ <strong>50</strong> ä¸ªå·¦å³ï¼›åŒæ—¶ä¹Ÿæ”¶è·äº† <strong>709</strong> ä¸ª PRï¼Œåˆå…¥äº† <strong>656</strong> ä¸ªã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œ<a href="https://taro-club.jd.com/" target="_blank" rel="noopener noreferrer">Taro äº¤æµç¤¾åŒº</a> å‘å¸–æ•°ä¹Ÿè¾¾åˆ° <strong>3000</strong> ä¸ªï¼Œæ¯å‘¨ä»¥ <strong>200</strong> ä¸ªå·¦å³çš„å¢é€Ÿåœ¨å¢åŠ ï¼Œè€Œ <a href="/taro-docs/docs">Taro å®˜æ–¹æ–‡æ¡£</a> ä½œä¸º Taro å…¥é—¨åŠå¼€å‘å¿…å¤‡çš„èµ„æºï¼Œæ¯å‘¨çš„è®¿é—®é‡è¾¾åˆ°äº† <strong>20w</strong>ã€‚</p><p>åŒæ—¶ Taro è¿˜æœ‰ <strong>20 ä½™</strong> ä¸ª <strong>500</strong> äººå·¦å³çš„å¼€å‘è€…äº¤æµå¾®ä¿¡ç¾¤ï¼Œä»¥åŠ 10 ä½™ä¸ªè·Ÿå„å°ç¨‹åºå®˜æ–¹å›¢é˜Ÿã€å„å¤§å…¬å¸ç ”å‘å›¢é˜Ÿçš„ç ”è®¨ç¾¤ï¼Œæ¯å¤© Taro å›¢é˜Ÿçš„å¼€å‘äººå‘˜éƒ½è¦é­å—å¤§è§„æ¨¡çš„ä¿¡æ¯è½°ç‚¸ã€‚</p><p>ç”±æ­¤å¯è§ï¼ŒTaro ç›®å‰æ‹¥æœ‰åºå¤§ä¸”æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºï¼Œæ¯å¤©éƒ½ä¼šäº§ç”Ÿå¤§é‡çš„ä¿¡æ¯ï¼Œæˆ–æ˜¯é—®é¢˜ï¼Œæˆ–æ˜¯å»ºè®®ï¼Œæˆ–æ˜¯ä»£ç æäº¤ï¼Œæˆ–æ˜¯æœ‰ç”¨çš„è½®å­ã€‚å½“ç¤¾åŒºå˜å¾—è¶Šæ¥è¶Šå¤§åï¼Œå¦‚ä½•è¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†ï¼Œæå‡ç¤¾åŒºæ•´ä½“çš„ä½¿ç”¨ä½“éªŒï¼Œä¾¿æˆäº†å›°æ‰° Taro å›¢é˜Ÿçš„é—®é¢˜ï¼Œè¿«åˆ‡éœ€è¦åœ¨æ–¹æ¡ˆè¿­ä»£ä¸ç¤¾åŒºç»´æŠ¤ä¹‹é—´å¯»æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä»¥ä½¿ Taro å¯ä»¥èµ°å¾—æ›´è¿œï¼Œå‘å±•å¾—æ›´å¥½ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ¥è‡ªç¤¾åŒºçš„åŠ›é‡">æ¥è‡ªç¤¾åŒºçš„åŠ›é‡<a class="hash-link" href="#æ¥è‡ªç¤¾åŒºçš„åŠ›é‡" title="Direct link to heading">â€‹</a></h2><p>æ­£æ‰€è°“ã€Œå•ä¸ä¸æˆçº¿ï¼Œç‹¬æœ¨ä¸æˆæ—ã€ã€‚</p><p>Taro å‘å±•è‡³ä»Šæ—©å·²ä¸åœ¨å±äºå•ä¸€å›¢é˜Ÿçš„é¡¹ç›®äº†ï¼Œè€Œæ˜¯æ•´ä¸ª Taro å¼€å‘ç¤¾åŒºå…±åŒçš„é¡¹ç›®ã€‚åœ¨ Taro æ‰€å±çš„ NervJS ç»„ç»‡çš„<a href="https://github.com/orgs/NervJS/people" target="_blank" rel="noopener noreferrer">æˆå‘˜</a> ä¸­ä¹Ÿå·²ç»åŠ å…¥äº†åƒåä¸ºã€è…¾è®¯ç­‰å…¶ä»–å…¬å¸çš„ç ”å‘äººå‘˜ï¼Œå…±åŒå»ºè®¾é¡¹ç›®ï¼Œè€Œæ•´ä¸ªç¤¾åŒºçš„è´¡çŒ®è€…ä¹Ÿè¾¾åˆ°äº† <strong>230</strong> ä½ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/ling/jfs/t1/51716/38/13586/794849/5da564c9Ef215f164/cd2069db4f105db4.jpg" alt="WX20191010-150217@2x.png" class="img_ROth"></p><p>è€Œåœ¨æ‰€æœ‰çš„ç¤¾åŒºè´¡çŒ®ä¸­ï¼Œéœ€è¦ç‰¹åˆ«æ„Ÿè°¢ï¼š</p><ul><li><a href="https://github.com/nanjingboy/" target="_blank" rel="noopener noreferrer">Tom Huang</a> ï¼Œç‹¬ç«‹ä¸º Taro å¼€å‘æ‰€æœ‰ç«¯çš„ MobX æ”¯æŒ</li><li><a href="https://github.com/js-newbee/" target="_blank" rel="noopener noreferrer">jsNewbee</a>ï¼Œä¸º Taro è´¡çŒ®äº†ä¸€ä¸ªå®Œæ•´æ”¯æŒ å°ç¨‹åº + H5 + React Native çš„<a href="https://github.com/qit-team/taro-yanxuan" target="_blank" rel="noopener noreferrer">å¤šç«¯æ ·ä¾‹</a></li><li><a href="https://github.com/Qiyu8/" target="_blank" rel="noopener noreferrer">Chunlin</a>ï¼Œæ¥è‡ªåä¸ºï¼Œä¸º Taro å®Œå–„äº†å¿«åº”ç”¨çš„è½¬æ¢æ”¯æŒ</li></ul><p>åŒæ—¶ä¹Ÿæ„Ÿè°¢å—é‚€æˆä¸º <a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">TaroUI</a> æ ¸å¿ƒç»´æŠ¤äººå‘˜çš„  <a href="https://github.com/Garfield550" target="_blank" rel="noopener noreferrer">Garfield550</a> (å°å§å§)ã€<a href="https://github.com/yinLiangDream" target="_blank" rel="noopener noreferrer">æ¢éŸ³</a>ã€<a href="https://github.com/lsqy" target="_blank" rel="noopener noreferrer">ShaoQian Liu</a>ï¼Œä»–ä»¬å°†æ”¯æ’‘èµ· TaroUI çš„åç»­è¿­ä»£ä¸ç»´æŠ¤ã€‚</p><p>å½“ç„¶è¿˜æœ‰åœ¨ç¤¾åŒºä¸­ä¹äºåŠ©äººã€ç§¯æè´¡çŒ®çš„ <a href="https://github.com/zacksleo" target="_blank" rel="noopener noreferrer">zacksleo</a> ã€<a href="https://github.com/fjc0k" target="_blank" rel="noopener noreferrer">Jay Fong</a>ã€<a href="https://github.com/loveonelong" target="_blank" rel="noopener noreferrer">loveonelong</a>ã€<a href="https://github.com/lolipop99" target="_blank" rel="noopener noreferrer">lolipop99</a>ã€<a href="https://github.com/bozaigao" target="_blank" rel="noopener noreferrer">æ³¢ä»”ç³•</a>ã€<a href="https://github.com/fwh1990" target="_blank" rel="noopener noreferrer">åŸç½ª</a>ã€<a href="https://github.com/lentoo/" target="_blank" rel="noopener noreferrer">lentoo</a> ã€<a href="https://taro-club.jd.com/user/%E7%99%BD%E9%A2%86%E5%A4%8F%E5%85%AC%E5%AD%90" target="_blank" rel="noopener noreferrer">ç™½é¢†å¤å…¬å­</a>  ã€YuanQuanã€ tourzeã€ lingxiaoZhu ç­‰ç­‰ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜è¦æ„Ÿè°¢ä¸€ç›´é»˜é»˜ä¸º Taro å‘å±•æä¾›å®è´µå»ºè®®çš„ç ”å‘å›¢é˜Ÿï¼šè…¾è®¯äº‘ã€æ•°å­—å¹¿ä¸œã€è…¾è®¯CDCã€ç½‘æ˜“ä¸¥é€‰ã€åä¸ºå¼€æºå›¢é˜Ÿã€æ‹›è”æ¶ˆè´¹é‡‘èç­‰ç­‰</p><p>ç¤¾åŒºçš„åŠ›é‡ä¸€ç›´åœ¨æ”¯æ’‘ Taro å‰è¿›ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚ä»Š Taro é¢ä¸´çš„ç¤¾åŒºç»´æŠ¤é—®é¢˜æˆ‘ä»¬å¸Œæœ›å¯ä»¥äº¤ç»™ç¤¾åŒºæ¥è¿›è¡Œè‡ªæˆ‘ç®¡ç†ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœŸå¾…ä½ çš„åŠ å…¥">æœŸå¾…ä½ çš„åŠ å…¥<a class="hash-link" href="#æœŸå¾…ä½ çš„åŠ å…¥" title="Direct link to heading">â€‹</a></h2><p>ä¸ºäº†èƒ½å¤Ÿè®©ç¤¾åŒºæ›´åŠ é«˜æ•ˆã€å¥åº·çš„è¿è½¬ä¸‹å»ï¼ŒTaro å®˜æ–¹å›¢é˜Ÿå¸Œæœ›èƒ½å¤Ÿä»ç¤¾åŒºä¸­å¸å¼•å¼€å‘è€…æ¥å…±åŒç»´æŠ¤ï¼Œè¿›è¡Œç¤¾åŒºå…±å»ºã€‚</p><p>ç¤¾åŒºå…±å»ºæœ¬æ¬¡æ‹Ÿå¼€æ”¾ä¸‰å¤§ç±»è§’è‰²ï¼ŒTaro å›¢é˜Ÿä¼šä¸ºæ¯ä¸€ç±»è§’è‰²è®¾å®šä¸€å®šé—¨æ§›ä»¥åŠæ¿€åŠ±æœºåˆ¶ï¼Œä»è€Œä¿è¯æ•´ä½“è´¨é‡ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="èƒ½åŠ›å®Œå–„">èƒ½åŠ›å®Œå–„<a class="hash-link" href="#èƒ½åŠ›å®Œå–„" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>å¤´è¡”</th><th>å‡†å…¥æœºåˆ¶</th><th>æƒç›Š</th></tr></thead><tbody><tr><td>è®¤è¯å¼€å‘è€…</td><td>1. ä¸º Taro å®ç°è¿‡ç‹¬ç«‹åŠŸèƒ½ç‰¹æ€§ <br> 2. ä»£ç  commit æ•°åŠä»£ç è´¡çŒ®é‡è¾¾åˆ°ä¸€å®šæ ‡å‡†</td><td>1. è·å– Taro é¡¹ç›® developer æƒé™ <br> 2. æ¥è‡ª Taro å›¢é˜Ÿå®šæœŸç¤¼å“ä¸å¼€æºè®¤è¯è¯ä¹¦ <br> 3. Readme åŠå®˜ç½‘ã€æ–‡æ¡£å±•ç¤º</td></tr><tr><td>ä»£ç è´¡çŒ®è€…</td><td>ä¸º Taro æäº¤è¿‡ PR</td><td>Readme åŠå®˜ç½‘ã€æ–‡æ¡£å±•ç¤º</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤¾åŒºç®¡ç†">ç¤¾åŒºç®¡ç†<a class="hash-link" href="#ç¤¾åŒºç®¡ç†" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>å¤´è¡”</th><th>å‡†å…¥æœºåˆ¶</th><th>æƒç›Š</th><th>èŒè´£</th></tr></thead><tbody><tr><td>ç¤¾åŒºç‰ˆä¸»</td><td>1. é€šè¿‡ç¤¾åŒºæŠ¥åï¼Œé´é€‰åäº§ç”Ÿ <br> 2. é€šè¿‡è€ƒå¯Ÿåœ¨ Taro ç¤¾åŒºçš„æ´»è·ƒç¨‹åº¦ï¼Œç”± Taro å›¢é˜Ÿè¿›è¡Œå®šå‘é‚€è¯·</td><td>1. Readme åŠå®˜ç½‘ã€æ–‡æ¡£å±•ç¤º <br> 2. æ‰€æå‡ºç‰¹æ€§ä¼šä¼˜å…ˆè€ƒè™‘åœ¨ Taro ç‰ˆæœ¬ä¸­åŠ å…¥ <br>3. æ¥è‡ª Taro å›¢é˜Ÿå®šæœŸç¤¼å“ä¸å¼€æºè®¤è¯è¯ä¹¦</td><td>1. è´Ÿè´£ç¤¾åŒºå„ç‰ˆå—çš„ç®¡ç†<br>2. å®šæœŸå‘å¸ƒç‰ˆå—ç›¸å…³ä¸»é¢˜å¸– <br> 3. å®šæœŸæ”¶é›†ç‰ˆå—é—®é¢˜å¸–å­ï¼Œè¿›è¡Œæ±‡æ€»ï¼Œåé¦ˆç»™ Taro å›¢é˜Ÿ <br> 4. å¯¹ç‰ˆå—å†…å¸–å­è¿›è¡Œå®¡æ ¸ï¼Œå‰”é™¤æ— ç”¨ã€è¿åæ³•å¾‹ç­‰å¸–å­</td></tr><tr><td>GitHub Issues ç®¡ç†å‘˜</td><td>1. é€šè¿‡ç¤¾åŒºæŠ¥åï¼Œé´é€‰åäº§ç”Ÿ <br> 2. é€šè¿‡è€ƒå¯Ÿåœ¨ Taro ç¤¾åŒºçš„æ´»è·ƒç¨‹åº¦ï¼Œç”± Taro å›¢é˜Ÿè¿›è¡Œå®šå‘é‚€è¯·</td><td>1. Readme åŠå®˜ç½‘ã€æ–‡æ¡£å±•ç¤º <br> 2. æ‰€æå‡ºç‰¹æ€§ä¼šä¼˜å…ˆè€ƒè™‘åœ¨ Taro ç‰ˆæœ¬ä¸­åŠ å…¥  <br>3. æ¥è‡ª Taro å›¢é˜Ÿå®šæœŸç¤¼å“ä¸å¼€æºè®¤è¯è¯ä¹¦ <br> 4. å‚ä¸ GitHub robot å®Œå–„</td><td>1. è´Ÿè´£å¯¹ GitHub issues ç­”ç–‘è§£æƒ‘ä»¥åŠæ‰“æ ‡åˆ†ç±» <br> 2. è´Ÿè´£æ¯å‘¨æ±‡æ€» issuesï¼Œå¹¶å°† issues æäº¤åˆ° Taro å›¢é˜Ÿ  <br>3. è´Ÿè´£æ¯å‘¨ç²¾é€‰ issuesï¼Œå¹¶å°†æ•°æ®åŒæ­¥åˆ° Taro ç¤¾åŒº</td></tr><tr><td>äº¤æµç¾¤ç®¡ç†å‘˜</td><td>1. é€šè¿‡ç¤¾åŒºæŠ¥åï¼Œé´é€‰åäº§ç”Ÿ <br> 2. é€šè¿‡è€ƒå¯Ÿåœ¨ Taro ç¤¾åŒºçš„æ´»è·ƒç¨‹åº¦ï¼Œç”± Taro å›¢é˜Ÿè¿›è¡Œå®šå‘é‚€è¯·</td><td>1. Readme åŠå®˜ç½‘ã€æ–‡æ¡£å±•ç¤º <br> 2. æ‰€æå‡ºç‰¹æ€§ä¼šä¼˜å…ˆè€ƒè™‘åœ¨ Taro ç‰ˆæœ¬ä¸­åŠ å…¥ <br>3. æ¥è‡ª Taro å›¢é˜Ÿå®šæœŸç¤¼å“ä¸å¼€æºè®¤è¯è¯ä¹¦ <br>4. å‚ä¸ ç¾¤å°åŠ©æ‰‹ å®Œå–„</td><td>1. è´Ÿè´£ç¾¤å†…å†…å®¹çš„ç®¡ç†ï¼Œåˆ›é€ è‰¯å¥½çš„æ²Ÿé€šäº¤æµç¯å¢ƒ  <br> 2. è´Ÿè´£ç¾¤å†…é—®é¢˜çš„ç­”ç–‘è§£æƒ‘ï¼Œå¼•å¯¼å¼€å‘è€…å»ç¤¾åŒºã€GitHub issues è·å–ç­”æ¡ˆ <br>3. è´Ÿè´£æ“ä½œç¤¾åŒºç¾¤ç®¡ç†å·¥å…·ï¼Œæ•´ç†ç¾¤å†…é—®é¢˜ï¼ŒåŒæ­¥åˆ° Taro ç¤¾åŒº</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_IyCF" id="çŸ¥è¯†æ„å»º">çŸ¥è¯†æ„å»º<a class="hash-link" href="#çŸ¥è¯†æ„å»º" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>å½¢å¼</th><th>æäº¤æ–¹å¼</th><th>æƒç›Š</th></tr></thead><tbody><tr><td>Taro è¯¾ç¨‹è§†é¢‘å½•åˆ¶</td><td>é€šè¿‡é‚®ç®±å‘é€ä¸ªäººä¿¡æ¯åŠè¯•è®²è§†é¢‘<br>é‚®ç®±ï¼š<a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a><br>å†…å®¹ï¼š<br>1. ä¸ªäººä¿¡æ¯ï¼šä¸»æ”»æŠ€æœ¯æ–¹å‘ã€ä»ä¸šç»å†ã€å…¬å¼€åˆ†äº«ç»éªŒç­‰ <br>2. è¯•è®²è§†é¢‘é“¾æ¥é€šè¿‡é´é€‰åï¼ŒTaro å›¢é˜Ÿä¼šä¸ä½ è”ç³»æ²Ÿé€šåç»­çš„è§†é¢‘å½•åˆ¶äº‹å®œ</td><td>æˆä¸º Taro å®˜æ–¹åˆä½œä¼™ä¼´ï¼Œè§†é¢‘è¯¾ç¨‹ç»ç”± Taro å›¢é˜Ÿå®¡æ ¸åï¼ŒTaro å›¢é˜Ÿä¼šå…¨åŠ›ååŠ©è¿›è¡Œè¿è¥æ¨å¹¿</td></tr><tr><td>Taro å¼€å‘å®è·µæ–‡ç« æ’°å†™</td><td>é€šè¿‡é‚®ç®±æŠ•ç¨¿<br>é‚®ç®±ï¼š<a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a><br>å†…å®¹ï¼š<br>1. md æ–‡ä»¶ï¼ˆè‹¥ä¸ºç³»åˆ—æ–‡ç« è¯·æ·»åŠ å¤§çº²ï¼‰ <br>2. æ˜¯å¦åœ¨ Taro æ¸ é“é¦–å‘é€šè¿‡é´é€‰åï¼ŒTaro å›¢é˜Ÿä¼šä¸ä½ è”ç³»æ²Ÿé€šåç»­å‘å¸ƒäº‹å®œ</td><td>æˆä¸º Taro å®˜æ–¹åˆä½œä¼™ä¼´ï¼Œæ–‡ç« ç»ç”± Taro å›¢é˜Ÿå®¡æ ¸åï¼Œä¼šé€šè¿‡ Taro ç›¸å…³ä¼˜è´¨æ¸ é“è¿›è¡Œå‘å¸ƒ</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p>Taro ä½œä¸ºä¸€ä¸ªå¤šç«¯å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œè¿˜å¤„åœ¨åˆçº§çš„å‘å±•é˜¶æ®µï¼Œæ˜¯ä¸€ä¸ªå‘å±•ä¸­çš„æ–¹æ¡ˆï¼Œåœ¨ä¸ä¹…çš„æœªæ¥æˆ‘ä»¬ä¼šæœ‰æ›´å¤šæ–°çš„åŠŸèƒ½ã€ç‰¹æ€§æ¨å‘å¼€å‘è€…ï¼Œç”šè‡³å¯èƒ½ä¹Ÿæœ‰é¢ è¦†æ€§çš„ä¸œè¥¿å‡ºç°ï¼Œè®© Taro æˆä¸ºä¸€ä¸ªæ›´æ£’çš„æ–¹æ¡ˆã€‚ç›®å‰ Taro å·²ç»ç¿»è¿‡äº†ä¸€åº§åº§å‘å±•çš„å±±å³°ï¼Œä½†ä»–æ­£åœ¨å‘æ›´é«˜å±±å³°è¿ˆè¿›ã€‚</p><p>é•¿é£ç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµæ²§æµ·ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-è¯šé‚€ä½ çš„åŠ å…¥">Taro è¯šé‚€ä½ çš„åŠ å…¥<a class="hash-link" href="#taro-è¯šé‚€ä½ çš„åŠ å…¥" title="Direct link to heading">â€‹</a></h2><p>è”ç³»é‚®ç®±ï¼š<a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a>
é‚®ä»¶æ ‡é¢˜ï¼šã€å…±å»ºã€‘+ ä½ æƒ³è¯´çš„è¯</p><p> åŠ å…¥ Taro å¾®ä¿¡ç¾¤ï¼ŸåŠ ã€Œ Taroå°åŠ©æ‰‹ã€ï¼ˆå¾®ä¿¡å·: jdtesterï¼‰å›å¤ <code>taro</code> å³å¯ã€‚</p><p> <img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/81131/13/700/35411/5cef439fE8acf6ac4/2319513fc07404e6.png" alt="Taroå°åŠ©æ‰‹" class="img_ROth"></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ç©è½¬ Taro è·¨ç«¯ä¹‹ flex å¸ƒå±€ç¯‡]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-09-25-taro-flex</link>
            <guid>2019-09-25-taro-flex</guid>
            <pubDate>Wed, 25 Sep 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[ç©è½¬ Taro è·¨ç«¯ä¹‹ flex å¸ƒå±€ç¯‡ï¼Œå¸¦ä½ äº†è§£ flex å¸ƒå±€åœ¨å„å°ç¨‹åºç«¯çš„è¡¨ç°è¯¦æƒ…å¹¶ç»™å‡ºæœ€ä½³å®è·µ demo]]></description>
            <content:encoded><![CDATA[<blockquote><p>ç©è½¬ Taro è·¨ç«¯ä¹‹ flex å¸ƒå±€ç¯‡ï¼Œå¸¦ä½ äº†è§£ flex å¸ƒå±€åœ¨å„å°ç¨‹åºç«¯çš„è¡¨ç°è¯¦æƒ…å¹¶ç»™å‡ºæœ€ä½³å®è·µ demo</p></blockquote><p>Taro æ˜¯ä¸€å¥—éµå¾ª React è¯­æ³•è§„èŒƒçš„è·¨å¹³å°å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯ç›®å‰å½“æˆ‘ä»¬ä½¿ç”¨ Taro çš„æ—¶å€™ï¼Œåœ¨ä¸åŒå¹³å°ä¸Šçš„å¼€å‘ä½“éªŒè¿˜æœ‰ä¸ä¸€è‡´çš„åœ°æ–¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéƒ½æœŸå¾…æœ‰ä¸€å¥—è·¨å¹³å°ç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿä»¥æœ€å°å·®å¼‚çš„æ–¹å¼å‘å¼€å‘è€…æä¾›æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚</p><h1>ç©è½¬Taroè·¨ç«¯ä¹‹flexå¸ƒå±€ç¯‡</h1><p>åœ¨è·¨å¹³å°å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œä¸åŒå¹³å°ä¹‹é—´çš„å·®å¼‚å°¤å…¶ä½“ç°åœ¨æ ·å¼çš„ç»Ÿä¸€ä¸Šï¼Œç”±äºä¸åŒå¹³å°å¯¹æ ·å¼çš„æ”¯æŒç¨‹åº¦å¹¶ä¸ä¸€è‡´ï¼ŒTaro å¾ˆéš¾èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘çš„æ‰‹æ®µæ¥å¯¹è·¨å¹³å°æ ·å¼è¿›è¡Œç»Ÿä¸€ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ”¯æŒè·¨å¹³å°çš„è§£å†³æ–¹æ¡ˆæ¥å¯¹æ ·å¼è¿›è¡Œç»Ÿä¸€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è·¨å¹³å°æ ·å¼">è·¨å¹³å°æ ·å¼<a class="hash-link" href="#è·¨å¹³å°æ ·å¼" title="Direct link to heading">â€‹</a></h2><p>è€ƒè™‘é¡µé¢å¸ƒå±€å’Œæ ·å¼ H5 æ˜¯æœ€ä¸ºçµæ´»çš„ï¼Œå°ç¨‹åºæ¬¡ä¹‹ï¼ŒReact Native å’Œå¿«åº”ç”¨æœ€å¼±ï¼Œç»Ÿä¸€è·¨å¹³å°æ ·å¼åº”å½“ä¼˜å…ˆå¯¹é½çŸ­æ¿ï¼Œä¹Ÿå°±æ˜¯è¦ä»¥ React Native å’Œå¿«åº”ç”¨çš„çº¦æŸæ¥ç®¡ç†æ ·å¼ï¼ŒåŒæ—¶å…¼é¡¾å°ç¨‹åºçš„é™åˆ¶ï¼Œè€Œ Flexbox å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>åœ¨æ„å»ºé¡µé¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Flexbox é«˜æ•ˆåœ°å®Œæˆé¡µé¢ä»£ç ï¼Œè™½ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰å±æ€§éƒ½å¯ä»¥å…¨å¹³å°é€‚åº”çš„ï¼Œä½†æ˜¯å®ƒåœ¨å…¨å¹³å°éƒ½èƒ½å¤Ÿå¾—åˆ°è¶³å¤Ÿçš„æ”¯æŒï¼Œè€Œä¸”æ‰€æœ‰å¹³å°å¯ä»¥å¾ˆå®¹æ˜“é€šè¿‡å®ƒæ¥ç»˜åˆ¶é€šç”¨æ€§å¾ˆé«˜çš„é¡µé¢ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Flexbox æ–¹æ¡ˆæ¥å®Œæˆè¿™ä¸ªè·¨å¹³å°æ¼”ç¤ºé¡¹ç›®ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/ling/jfs/t1/62729/39/11317/546281/5d8a1c6dE2a8f223e/056e2327640ccf83.png" alt="taro flexbox æ•ˆæœå›¾" class="img_ROth"></p><p><a href="https://nervjs.github.io/taro-flexbox/" target="_blank" rel="noopener noreferrer">é¢„è§ˆåœ°å€</a></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="flexbox-å¸ƒå±€-flexible-box-layout">Flexbox å¸ƒå±€ (Flexible Box Layout)<a class="hash-link" href="#flexbox-å¸ƒå±€-flexible-box-layout" title="Direct link to heading">â€‹</a></h3><p>Flexbox æ˜¯å¼¹æ€§å¸ƒå±€æ¨¡å—(CSS Flexible Box Layout Module)å¸¸ç”¨çš„ç®€ç§°ï¼Œæ˜¯ä¸€ç§ç”¨äºåœ¨å•ä¸ªç»´åº¦ä¸­æ˜¾ç¤ºé¡¹ç›®è¡Œæˆ–åˆ—çš„å¸ƒå±€æ¨¡å‹ã€‚åœ¨è§„èŒƒä¸­ï¼Œ Flexbox è¢«æè¿°ä¸ºç”¨æˆ·ç•Œé¢è®¾è®¡çš„å¸ƒå±€æ¨¡å‹ã€‚ Flexbox çš„å…³é”®ç‰¹æ€§æ˜¯ flex å¸ƒå±€ä¸­çš„é¡¹ç›®å¯ä»¥å¢é•¿å’Œç¼©å°ã€‚å¯ä»¥å°†ç©ºé—´åˆ†é…ç»™é¡¹ç›®æœ¬èº«ï¼Œæˆ–è€…åœ¨é¡¹ç›®ä¹‹é—´æˆ–å‘¨å›´åˆ†é…ç©ºé—´ã€‚</p><p>åœ¨ Flexbox ä¸­ï¼Œé‡‡ç”¨ <em>flex å¸ƒå±€</em> çš„å…ƒç´ ï¼Œç§°ä¸º <strong>flex å®¹å™¨</strong>(flex container)ï¼Œ flex å®¹å™¨æ‰€æœ‰çš„å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º <strong>flex å…ƒç´ </strong>(flex item)ã€‚<strong>Flex å®¹å™¨</strong> é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´(main-axis)å’Œå‚ç›´çš„äº¤å‰è½´(cross-axis)ã€‚<strong>flex å…ƒç´ </strong> é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®(ä¸è¾¹æ¡†çš„äº¤å‰ç‚¹)å«åš <em>main-start</em> ï¼Œç»“æŸä½ç½®å«åš <em>main end</em> ;äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åš <em>cross-start</em> ï¼Œç»“æŸä½ç½®å«åš <em>cross-end</em> ;å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åš <em>main-size</em> ï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åš <em>cross-size</em> ã€‚</p><p><img loading="lazy" src="https://www.w3.org/TR/css-flexbox-1/images/flex-direction-terms.svg" alt="flex-direction-terms" class="img_ROth"></p><p>Flexbox å¯ä»¥å¯¹é½ä¸»è½´æˆ–æ¨ªè½´ä¸Šçš„é¡¹ç›®ï¼Œä»è€Œæä¾›å¯¹ä¸€ç»„é¡¹ç›®çš„å¤§å°å’Œå¯¹é½çš„é«˜çº§æ§åˆ¶ï¼Œå¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ flex-directionã€align-items å’Œ justify-content ä¸‰ä¸ªæ ·å¼å±æ€§å°±å·²ç»èƒ½æ»¡è¶³å¤§å¤šæ•°å¸ƒå±€éœ€æ±‚ï¼Œæ¢è€Œè¨€ä¹‹å¦‚æœç†Ÿæ‚‰ Flexbox å°±å¯ä»¥åº”å¯¹å¤§å¤šæ•°åœºæ™¯ä¸‹çš„å¸ƒå±€éœ€æ±‚ã€‚</p><blockquote><p>æ³¨æ„ï¼Œè®¾ä¸º Flex å¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„ <em>float</em> ã€ <em>clear</em> å’Œ <em>vertical-align</em> å±æ€§å°†å¤±æ•ˆã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="flex-container-å±æ€§">Flex Container å±æ€§<a class="hash-link" href="#flex-container-å±æ€§" title="Direct link to heading">â€‹</a></h3><p>åœ¨è§„èŒƒä¸­ï¼Œ Flex Container ä¸Šï¼Œä¸€å…±æœ‰ä¸ƒä¸ªå±æ€§å¯ä»¥è®¾ç½®ï¼Œä½†æ˜¯ flex-flow åœ¨ React Native ä¸Šæ˜¯ä¸æ”¯æŒçš„ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex-direction">flex-direction<a class="hash-link" href="#flex-direction" title="Direct link to heading">â€‹</a></h4><p>flex-direction å±æ€§æŒ‡å®šäº†flex å…ƒç´ æ˜¯å¦‚ä½•åœ¨ flex å®¹å™¨ä¸­å¸ƒå±€çš„ï¼Œå®šä¹‰äº†ä¸»è½´çš„æ–¹å‘(æ­£æ–¹å‘æˆ–åæ–¹å‘)ã€‚</p><p>æ”¯æŒçš„å€¼å¦‚ä¸‹ï¼š
|å€¼|æ„ä¹‰|
|--|--|
|row|flex å®¹å™¨çš„ä¸»è½´è¢«å®šä¹‰ä¸ºä¸æ–‡æœ¬æ–¹å‘ç›¸åŒã€‚ ä¸»è½´èµ·ç‚¹å’Œä¸»è½´ç»ˆç‚¹ä¸å†…å®¹æ–¹å‘ç›¸åŒã€‚|
|row-reverse|è¡¨ç°å’Œ row ç›¸åŒï¼Œä½†æ˜¯ç½®æ¢äº†ä¸»è½´èµ·ç‚¹å’Œä¸»è½´ç»ˆç‚¹ã€‚|
|column|flex å®¹å™¨çš„ä¸»è½´å’Œå—è½´ç›¸åŒã€‚ä¸»è½´èµ·ç‚¹ä¸ä¸»è½´ç»ˆç‚¹å’Œä¹¦å†™æ¨¡å¼çš„å‰åç‚¹ç›¸åŒã€‚|
|column-reverse|è¡¨ç°å’Œ column ç›¸åŒï¼Œä½†æ˜¯ç½®æ¢äº†ä¸»è½´èµ·ç‚¹å’Œä¸»è½´ç»ˆç‚¹ã€‚|</p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè§„èŒƒä¸‹ flex-direction çš„é»˜è®¤å€¼æ˜¯ row ï¼Œè€Œåœ¨ React Native ä¸­åˆ™ä¸º columnï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šæ·»åŠ äº†è¿™ä¸ªçš„æ ·å¼</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token selector" style="color:#00009f">.flex </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> flex</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">flex-direction</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex-wrap">flex-wrap<a class="hash-link" href="#flex-wrap" title="Direct link to heading">â€‹</a></h4><p>flex-wrap æŒ‡å®š flex å…ƒç´ å•è¡Œæ˜¾ç¤ºè¿˜æ˜¯å¤šè¡Œæ˜¾ç¤ºã€‚å¦‚æœå…è®¸æ¢è¡Œï¼Œè¿™ä¸ªå±æ€§å…è®¸æ§åˆ¶è¡Œçš„å †å æ–¹å‘ã€‚é»˜è®¤å€¼ä¸º nowrapã€‚</p><p>æ”¯æŒçš„å€¼å¦‚ä¸‹ï¼š
|å€¼|æ„ä¹‰|
|--|--|
|nowrap|ä¸æ¢è¡Œã€‚flex å…ƒç´ è¢«æ‘†æ”¾åˆ°åˆ°ä¸€è¡Œï¼Œè¿™å¯èƒ½å¯¼è‡´æº¢å‡º flex å®¹å™¨ã€‚äº¤å‰è½´çš„èµ·ç‚¹ä¼šæ ¹æ® flex-direction çš„å€¼ç›¸å½“äº start æˆ– beforeã€‚|
|wrap|flex å…ƒç´ è¢«æ‰“æ–­åˆ°å¤šä¸ªè¡Œä¸­ã€‚äº¤å‰è½´çš„èµ·ç‚¹ä¼šæ ¹æ® flex-direction çš„å€¼é€‰æ‹©ç­‰äºstart æˆ–beforeã€‚äº¤å‰è½´çš„ç»ˆç‚¹ä¸ºç¡®å®šçš„äº¤å‰è½´çš„èµ·ç‚¹çš„å¦ä¸€ç«¯ã€‚|
|wrap-reverse|å’Œ wrap çš„è¡Œä¸ºä¸€æ ·ï¼Œä½†æ˜¯äº¤å‰è½´çš„èµ·ç‚¹å’Œäº¤å‰è½´çš„ç»ˆç‚¹äº’æ¢ã€‚|</p><blockquote><p>ä½¿ç”¨ flex-wrap å±æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ wrap-reverse å€¼åœ¨ React Native ä¸Šæ˜¯ä¸æ”¯æŒçš„ã€‚</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex-flow">flex-flow<a class="hash-link" href="#flex-flow" title="Direct link to heading">â€‹</a></h4><p>flex-flow å±æ€§æ˜¯ flex-direction å’Œ flex-wrap çš„ç®€å†™ã€‚é»˜è®¤å€¼ä¸º row nowrapã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;'flex-direction'&gt; || &lt;'flex-wrap'&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>flex-flow å±æ€§ä¸è¢« React Native å’Œå¿«åº”ç”¨æ”¯æŒ</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="align-items">align-items<a class="hash-link" href="#align-items" title="Direct link to heading">â€‹</a></h4><p>align-items å±æ€§å°†æ‰€æœ‰ç›´æ¥å­èŠ‚ç‚¹ä¸Šçš„ align-self å€¼è®¾ç½®ä¸ºä¸€ä¸ªç»„ã€‚ align-self å±æ€§è®¾ç½®é¡¹ç›®åœ¨å…¶åŒ…å«å—ä¸­åœ¨äº¤å‰è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ã€‚é»˜è®¤å€¼ä¸º stretchã€‚</p><table><thead><tr><th>å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>stretch</td><td>flex å…ƒç´ åœ¨äº¤å‰è½´æ–¹å‘æ‹‰ä¼¸åˆ°ä¸å®¹å™¨ç›¸åŒçš„é«˜åº¦æˆ–å®½åº¦ï¼ˆflex å…ƒç´ ä¸èƒ½å›ºå®šå°ºå¯¸ï¼‰</td></tr><tr><td>flex-start</td><td>äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½</td></tr><tr><td>flex-end</td><td>äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½</td></tr><tr><td>center</td><td>äº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½</td></tr><tr><td>baseline</td><td>å…ƒç´ ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½</td></tr></tbody></table><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">normal | stretch | &lt;baseline-position&gt; | [ &lt;overflow-position&gt;? &lt;self-position&gt; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">where </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;baseline-position&gt; = [ first | last ]? baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;overflow-position&gt; = unsafe | safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;self-position&gt; = center | start | end | self-start | self-end | flex-start | flex-end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>baseline å€¼ä¸è¢« React Native å’Œå¿«åº”ç”¨æ”¯æŒ</p><p>space-evenlyã€startã€endã€self-startã€self-endã€leftã€rightã€first baselineã€last baselineã€safeã€unsafe åœ¨ flex å¸ƒå±€ä¸­é€šç”¨æ€§ä½</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="align-content">align-content<a class="hash-link" href="#align-content" title="Direct link to heading">â€‹</a></h4><p>align-content å±æ€§è®¾ç½®äº†å¦‚ä½•æ²¿ç€ flex å®¹å™¨çš„äº¤å‰è½´å’Œåœ¨ flex å…ƒç´ ä¹‹é—´å’Œå‘¨å›´åˆ†é…ç©ºé—´ã€‚é»˜è®¤å€¼ä¸º stretchã€‚</p><blockquote><p>è¯¥å±æ€§å¯¹å•è¡Œå¼¹æ€§ç›’å­æ¨¡å‹æ— æ•ˆã€‚ï¼ˆå³ï¼šå¸¦æœ‰ flex-wrap: nowrap çš„ flex å®¹å™¨ï¼‰ã€‚</p></blockquote><table><thead><tr><th>å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>stretch</td><td>æ‹‰ä¼¸æ‰€æœ‰ flex å…ƒç´ æ¥å¡«æ»¡å‰©ä½™ç©ºé—´ã€‚å‰©ä½™ç©ºé—´å¹³å‡çš„åˆ†é…ç»™æ¯ä¸€ä¸ª flex å…ƒç´ </td></tr><tr><td>flex-start</td><td>æ‰€æœ‰ flex å…ƒç´ ä»å‚ç›´è½´èµ·ç‚¹å¼€å§‹å¡«å……ã€‚ç¬¬ä¸€ä¸ª flex å…ƒç´ çš„å‚ç›´è½´èµ·ç‚¹è¾¹å’Œ flex å®¹å™¨çš„å‚ç›´è½´èµ·ç‚¹è¾¹å¯¹é½ã€‚æ¥ä¸‹æ¥çš„æ¯ä¸€ä¸ª flex å…ƒç´ ç´§è·Ÿå‰ä¸€ä¸ª flex å…ƒç´ ã€‚</td></tr><tr><td>flex-end</td><td>æ‰€æœ‰ flex å…ƒç´ ä»å‚ç›´è½´æœ«å°¾å¼€å§‹å¡«å……ã€‚æœ€åä¸€ä¸ª flex å…ƒç´ çš„å‚ç›´è½´ç»ˆç‚¹å’Œå®¹å™¨çš„å‚ç›´è½´ç»ˆç‚¹å¯¹é½ã€‚åŒæ—¶æ‰€æœ‰åç»­ flex å…ƒç´ ä¸å‰ä¸€ä¸ªå¯¹é½ã€‚</td></tr><tr><td>center</td><td>æ‰€æœ‰ flex å…ƒç´ æœå‘å®¹å™¨çš„ä¸­å¿ƒå¡«å……ã€‚æ¯ flex å…ƒç´ äº’ç›¸ç´§æŒ¨ï¼Œç›¸å¯¹äºå®¹å™¨å±…ä¸­å¯¹é½ã€‚å®¹å™¨çš„å‚ç›´è½´èµ·ç‚¹è¾¹å’Œç¬¬ä¸€ä¸ª flex å…ƒç´ çš„è·ç¦»ç›¸ç­‰äºå®¹å™¨çš„å‚ç›´è½´ç»ˆç‚¹è¾¹å’Œæœ€åä¸€ä¸ª flex å…ƒç´ çš„è·ç¦»ã€‚</td></tr><tr><td>space-between</td><td>æ‰€æœ‰ flex å…ƒç´ åœ¨å®¹å™¨ä¸­å¹³å‡åˆ†å¸ƒã€‚ç›¸é‚»ä¸¤ flex å…ƒç´ é—´è·ç›¸ç­‰ã€‚å®¹å™¨çš„å‚ç›´è½´èµ·ç‚¹è¾¹å’Œç»ˆç‚¹è¾¹åˆ†åˆ«ä¸ç¬¬ä¸€ä¸ª flex å…ƒç´ å’Œæœ€åä¸€ä¸ª flex å…ƒç´ çš„è¾¹å¯¹é½ã€‚</td></tr><tr><td>space-around</td><td>æ‰€æœ‰ flex å…ƒç´ åœ¨ flex å®¹å™¨ä¸­å¹³å‡åˆ†å¸ƒï¼Œç›¸é‚»ä¸¤ flex å…ƒç´ é—´è·ç›¸ç­‰ã€‚å®¹å™¨çš„å‚ç›´è½´èµ·ç‚¹è¾¹å’Œç»ˆç‚¹è¾¹åˆ†åˆ«ä¸ç¬¬ä¸€ä¸ª flex å…ƒç´ å’Œæœ€åä¸€ä¸ª flex å…ƒç´ çš„è·ç¦»æ˜¯ç›¸é‚»ä¸¤ flex å…ƒç´ é—´è·çš„ä¸€åŠã€‚</td></tr><tr><td>space-evenly</td><td>flex å…ƒç´ éƒ½æ²¿ç€ä¸»è½´å‡åŒ€åˆ†å¸ƒåœ¨æŒ‡å®šçš„ flex å…ƒç´ ä¸­ã€‚ç›¸é‚» flex å…ƒç´ ä¹‹é—´çš„é—´è·ï¼Œä¸»è½´èµ·å§‹ä½ç½®åˆ°ç¬¬ä¸€ä¸ª flex å…ƒç´ çš„é—´è·,ï¼Œä¸»è½´ç»“æŸä½ç½®åˆ°æœ€åä¸€ä¸ª flex å…ƒç´ çš„é—´è·ï¼Œéƒ½å®Œå…¨ä¸€æ ·ã€‚</td></tr></tbody></table><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">normal | &lt;baseline-position&gt; | &lt;content-distribution&gt; | &lt;overflow-position&gt;? &lt;content-position&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">where </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;baseline-position&gt; = [ first | last ]? baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;content-distribution&gt; = space-between | space-around | space-evenly | stretch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;overflow-position&gt; = unsafe | safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;content-position&gt; = center | start | end | flex-start | flex-end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>React Native ä¸­éœ€è¦ç‰ˆæœ¬å·åœ¨ 0.58 ä»¥ä¸Š</p><p>ä¸” flex-wrap å±æ€§å€¼éœ€è¦ä¸º wrap</p><p>åŒæ—¶åªå¯¹æ¨ªè½´ç”Ÿæ•ˆ(å³ flex-direction å±æ€§ä¸º column æˆ– column-reverse)</p><p>baseline å€¼ä¸è¢« React Native æ”¯æŒ</p><p>space-evenlyã€startã€endã€leftã€rightã€first baselineã€last baselineã€safeã€unsafe åœ¨ flex å¸ƒå±€ä¸­é€šç”¨æ€§ä½</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="justify-content">justify-content<a class="hash-link" href="#justify-content" title="Direct link to heading">â€‹</a></h4><p>justify-content å±æ€§å®šä¹‰äº†æµè§ˆå™¨å¦‚ä½•åˆ†é…é¡ºç€ flex å®¹å™¨ä¸»è½´çš„ flex å…ƒç´ ä¹‹é—´åŠå…¶å‘¨å›´çš„ç©ºé—´ã€‚</p><table><thead><tr><th>å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>flex-start</td><td>ä»è¡Œé¦–å¼€å§‹æ’åˆ—ã€‚æ¯è¡Œç¬¬ä¸€ä¸ª flex å…ƒç´ ä¸è¡Œé¦–å¯¹é½ï¼ŒåŒæ—¶æ‰€æœ‰åç»­çš„ flex å…ƒç´ ä¸å‰ä¸€ä¸ªå¯¹é½ã€‚</td></tr><tr><td>flex-end</td><td>ä»è¡Œå°¾å¼€å§‹æ’åˆ—ã€‚æ¯è¡Œæœ€åä¸€ä¸ª flex å…ƒç´ ä¸è¡Œå°¾å¯¹é½ï¼Œå…¶ä»–å…ƒç´ å°†ä¸åä¸€ä¸ªå¯¹é½ã€‚</td></tr><tr><td>center</td><td>ä¼¸ç¼©å…ƒç´ å‘æ¯è¡Œä¸­ç‚¹æ’åˆ—ã€‚æ¯è¡Œç¬¬ä¸€ä¸ªå…ƒç´ åˆ°è¡Œé¦–çš„è·ç¦»å°†ä¸æ¯è¡Œæœ€åä¸€ä¸ªå…ƒç´ åˆ°è¡Œå°¾çš„è·ç¦»ç›¸åŒã€‚</td></tr><tr><td>space-between</td><td>åœ¨æ¯è¡Œä¸Šå‡åŒ€åˆ†é… flex å…ƒç´ ã€‚ç›¸é‚»å…ƒç´ é—´è·ç¦»ç›¸åŒã€‚æ¯è¡Œç¬¬ä¸€ä¸ªå…ƒç´ ä¸è¡Œé¦–å¯¹é½ï¼Œæ¯è¡Œæœ€åä¸€ä¸ªå…ƒç´ ä¸è¡Œå°¾å¯¹é½ã€‚</td></tr><tr><td>space-around</td><td>åœ¨æ¯è¡Œä¸Šå‡åŒ€åˆ†é… flex å…ƒç´ ã€‚ç›¸é‚»å…ƒç´ é—´è·ç¦»ç›¸åŒã€‚æ¯è¡Œç¬¬ä¸€ä¸ªå…ƒç´ åˆ°è¡Œé¦–çš„è·ç¦»å’Œæ¯è¡Œæœ€åä¸€ä¸ªå…ƒç´ åˆ°è¡Œå°¾çš„è·ç¦»å°†ä¼šæ˜¯ç›¸é‚»å…ƒç´ ä¹‹é—´è·ç¦»çš„ä¸€åŠã€‚</td></tr><tr><td>space-evenly</td><td>flex å…ƒç´ éƒ½æ²¿ç€ä¸»è½´å‡åŒ€åˆ†å¸ƒåœ¨æŒ‡å®šçš„ flex å…ƒç´ ä¸­ã€‚ç›¸é‚» flex å…ƒç´ ä¹‹é—´çš„é—´è·ï¼Œä¸»è½´èµ·å§‹ä½ç½®åˆ°ç¬¬ä¸€ä¸ª flex å…ƒç´ çš„é—´è·,ï¼Œä¸»è½´ç»“æŸä½ç½®åˆ°æœ€åä¸€ä¸ª flex å…ƒç´ çš„é—´è·ï¼Œéƒ½å®Œå…¨ä¸€æ ·ã€‚</td></tr></tbody></table><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">normal | &lt;content-distribution&gt; | &lt;overflow-position&gt;? [ &lt;content-position&gt; | left | right ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">where </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;content-distribution&gt; = space-between | space-around | space-evenly | stretch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;overflow-position&gt; = unsafe | safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;content-position&gt; = center | start | end | flex-start | flex-end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>baseline å€¼ä¸è¢« React Native æ”¯æŒ</p><p>stretchã€space-evenlyã€startã€endã€leftã€rightã€first baselineã€last baselineã€safeã€unsafe åœ¨ flex å¸ƒå±€ä¸­é€šç”¨æ€§ä½</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="place-content">place-content<a class="hash-link" href="#place-content" title="Direct link to heading">â€‹</a></h4><p>place-content å±æ€§æ˜¯ align-content å’Œ justify-content çš„ç®€å†™ã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;'align-content'&gt; &lt;'justify-content'&gt;?</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>å¦‚æœç¬¬äºŒä¸ªå€¼ä¸å­˜åœ¨ï¼Œä¸”ç¬¬ä¸€ä¸ªå€¼é€‚ç”¨äºç”¨äºä¸¤è€…ï¼Œåˆ™ç¬¬äºŒä¸ªå€¼å¤ç”¨ç¬¬ä¸€ä¸ª</li><li>å¦‚æœç¬¬äºŒä¸ªå€¼ä¸å­˜åœ¨ï¼Œä¸”ç¬¬ä¸€ä¸ªå€¼ä¸é€‚ç”¨äºç”¨äºä¸¤è€…ï¼Œåˆ™æ•´ä¸ªå€¼æ— æ•ˆ</li></ul><blockquote><p>place-content å±æ€§ä¸è¢« React Native æ”¯æŒ</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="flex-item-å±æ€§">Flex Item å±æ€§<a class="hash-link" href="#flex-item-å±æ€§" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Flex Item ä¸Šï¼ŒåŒæ ·ä¹Ÿæœ‰å…­ä¸ªå±æ€§ï¼Œè€Œ order å±æ€§åœ¨ React Native ä¸Šä¸æ”¯æŒã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="order">order<a class="hash-link" href="#order" title="Direct link to heading">â€‹</a></h4><p>order å±æ€§è§„å®šäº† flex å®¹å™¨ä¸­çš„ flex å…ƒç´ åœ¨å¸ƒå±€æ—¶çš„é¡ºåºã€‚flex å…ƒç´ æŒ‰ç…§ order å±æ€§çš„å€¼çš„å¢åºè¿›è¡Œå¸ƒå±€ã€‚æ‹¥æœ‰ç›¸åŒ order å±æ€§å€¼çš„ flex å…ƒç´ æŒ‰ç…§å®ƒä»¬åœ¨æºä»£ç ä¸­å‡ºç°çš„é¡ºåºè¿›è¡Œå¸ƒå±€ã€‚é»˜è®¤å€¼ä¸º 0ã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;integer&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>order å±æ€§ä¸è¢« React Native æ”¯æŒ</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex-grow">flex-grow<a class="hash-link" href="#flex-grow" title="Direct link to heading">â€‹</a></h4><p>flex-grow å±æ€§å®šä¹‰ flex å…ƒç´ çš„æ‹‰ä¼¸å› å­ã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;number&gt; | inherit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>è´Ÿå€¼æ— æ•ˆ</p><p>React Native ä¸Šé»˜è®¤å€¼ä¸º 0</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex-shrink">flex-shrink<a class="hash-link" href="#flex-shrink" title="Direct link to heading">â€‹</a></h4><p>flex-shrink å±æ€§æŒ‡å®šäº† flex å…ƒç´ çš„æ”¶ç¼©è§„åˆ™ã€‚flex å…ƒç´ ä»…åœ¨é»˜è®¤å®½åº¦ä¹‹å’Œå¤§äºå®¹å™¨çš„æ—¶å€™æ‰ä¼šå‘ç”Ÿæ”¶ç¼©ï¼Œå…¶æ”¶ç¼©çš„å¤§å°æ˜¯ä¾æ® flex-shrink çš„å€¼ã€‚é»˜è®¤å€¼ä¸º 1ã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;number&gt; | inherit</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>è´Ÿå€¼æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p><p>React Native ä¸Šé»˜è®¤å€¼ä¸º 1</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex-basis">flex-basis<a class="hash-link" href="#flex-basis" title="Direct link to heading">â€‹</a></h4><p>flex-basis æŒ‡å®šäº† flex å…ƒç´ åœ¨ä¸»è½´æ–¹å‘ä¸Šçš„åˆå§‹å¤§å°ã€‚å¦‚æœä¸ä½¿ç”¨  box-sizing æ”¹å˜ç›’æ¨¡å‹çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§å°±å†³å®šäº† flex å…ƒç´ çš„å†…å®¹ç›’ï¼ˆcontent-boxï¼‰çš„å°ºå¯¸ã€‚</p><blockquote><p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ª flex å…ƒç´ åŒæ—¶è®¾ç½®äº† flex-basis (auto é™¤å¤–)å’Œ width (æˆ–è€… flex-direction: column æ—¶è®¾ç½®äº† height )ï¼Œflex-basis æƒçº§æ›´é«˜ã€‚</p></blockquote><p>è¯­æ³•è§„èŒƒ</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">content | &lt;'width'&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>&lt;'width'&gt;<ul><li>width å€¼å¯ä»¥æ˜¯<code> &lt;length&gt;</code>; </li><li>è¯¥å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç›¸å¯¹äºå…¶çˆ¶å¼¹æ€§ç›’å®¹å™¨ä¸»è½´å°ºå¯¸çš„ç™¾åˆ†æ•° ã€‚</li><li>è´Ÿå€¼æ˜¯ä¸è¢«å…è®¸çš„ã€‚</li><li>é»˜è®¤ä¸º 0ã€‚</li></ul></li><li>content<ul><li>åŸºäº flex å…ƒç´ çš„å†…å®¹è‡ªåŠ¨è°ƒæ•´å¤§å°ã€‚</li></ul></li></ul><blockquote><p>React Native ä¸Šä½¿ç”¨ ScrollView ç»„ä»¶ä¼šå¯¼è‡´å±æ€§å¤±æ•ˆ</p><p>å¦‚æœæ²¡æœ‰è¶³å¤Ÿç©ºé—´ï¼Œç»„ä»¶ä¸ä¼šå‘ç”Ÿæ”¶ç¼© (åº”è¯¥æ˜¯è®¾ç½®äº† flex-shrink å±æ€§å€¼é»˜è®¤ä¸º 0)</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="flex">flex<a class="hash-link" href="#flex" title="Direct link to heading">â€‹</a></h4><p>flex è§„å®šäº† flex å…ƒç´ å¦‚ä½•ä¼¸é•¿æˆ–ç¼©çŸ­ä»¥é€‚åº” flex å®¹å™¨ä¸­çš„å¯ç”¨ç©ºé—´ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å†™å±æ€§ï¼Œç”¨æ¥è®¾ç½® flex-grow, flex-shrink ä¸ flex-basisã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">none | [ &lt;'flex-grow'&gt; &lt;'flex-shrink'&gt;? || &lt;'flex-basis'&gt; ]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>initial<ul><li>å…ƒç´ ä¼šæ ¹æ®è‡ªèº«å®½é«˜è®¾ç½®å°ºå¯¸ã€‚</li><li>å®ƒä¼šç¼©çŸ­è‡ªèº«ä»¥é€‚åº” flex å®¹å™¨ï¼Œä½†ä¸ä¼šä¼¸é•¿å¹¶å¸æ”¶ flex å®¹å™¨ä¸­çš„é¢å¤–è‡ªç”±ç©ºé—´æ¥é€‚åº” flex å®¹å™¨ ã€‚</li><li>ç›¸å½“äºå°†å±æ€§è®¾ç½®ä¸º"flex: 0 1 auto"ã€‚</li></ul></li><li>auto<ul><li>å…ƒç´ ä¼šæ ¹æ®è‡ªèº«çš„å®½åº¦ä¸é«˜åº¦æ¥ç¡®å®šå°ºå¯¸ï¼Œä½†æ˜¯ä¼šä¼¸é•¿å¹¶å¸æ”¶ flex å®¹å™¨ä¸­é¢å¤–çš„è‡ªç”±ç©ºé—´ï¼Œä¹Ÿä¼šç¼©çŸ­è‡ªèº«æ¥é€‚åº” flex å®¹å™¨ã€‚</li><li>è¿™ç›¸å½“äºå°†å±æ€§è®¾ç½®ä¸º "flex: 1 1 auto"ã€‚</li></ul></li><li>none<ul><li>å…ƒç´ ä¼šæ ¹æ®è‡ªèº«å®½é«˜æ¥è®¾ç½®å°ºå¯¸ã€‚</li><li>å®ƒæ˜¯å®Œå…¨éå¼¹æ€§çš„ï¼šæ—¢ä¸ä¼šç¼©çŸ­ï¼Œä¹Ÿä¸ä¼šä¼¸é•¿æ¥é€‚åº” flex å®¹å™¨ã€‚</li><li>ç›¸å½“äºå°†å±æ€§è®¾ç½®ä¸º"flex: 0 0 auto"ã€‚</li></ul></li></ul><blockquote><p>åœ¨ React Native ä¸­åªèƒ½ä¸º number ç±»å‹</p><ul><li>å½“ flex &gt; 0 æ—¶ï¼Œç»„ä»¶å¤§å°å°†ä¸å…¶å¼¹æ€§å€¼æˆæ¯”ä¾‹ã€‚å› æ­¤ï¼Œflex è®¾ç½®ä¸º 2 çš„ç»„ä»¶å°†å ç”¨ç©ºé—´çš„ä¸¤å€ä½œä¸º flex è®¾ç½®ä¸º 1 çš„ç»„ä»¶</li><li>å½“ flex = 0 æ—¶ï¼Œç»„ä»¶æ ¹æ® width å’Œ height ç¡®å®šå¤§å°ï¼Œä¸”ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</li><li>å½“ flex = -1 æ—¶ï¼Œç»„ä»¶é€šå¸¸æ ¹æ® width å’Œ height ç¡®å®šå¤§å°ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œç»„ä»¶å°†æ”¶ç¼©åˆ° minWidth å’Œ minHeightã€‚</li></ul><p>åœ¨å¿«åº”ç”¨ä¸­ï¼Œflex çš„å¿«æ·å€¼è®¾ç½®å‡æ˜¯æ— æ•ˆå€¼</p></blockquote><h4 class="anchor anchorWithStickyNavbar_IyCF" id="align-self">align-self<a class="hash-link" href="#align-self" title="Direct link to heading">â€‹</a></h4><p>align-self ä¼šå¯¹é½å½“å‰ flex è¡Œä¸­çš„ flex å…ƒç´ ï¼Œå¹¶è¦†ç›– align-items çš„å€¼. å¦‚æœä»»ä½• flex å…ƒç´ çš„ä¾§è½´æ–¹å‘ margin å€¼è®¾ç½®ä¸º autoï¼Œåˆ™ä¼šå¿½ç•¥ align-selfã€‚</p><p>è¯­æ³•æ ¼å¼</p><div class="codeBlockContainer_H5s7 language-conf theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-conf codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">auto | normal | stretch | &lt;baseline-position&gt; | &lt;overflow-position&gt;? &lt;self-position&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">where </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;baseline-position&gt; = [ first | last ]? baseline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;overflow-position&gt; = unsafe | safe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;self-position&gt; = center | start | end | self-start | self-end | flex-start | flex-end</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><blockquote><p>baseline å€¼ä¸è¢« React Native å’Œå¿«åº”ç”¨æ”¯æŒ</p><p>startã€endã€self-startã€self-endã€first baselineã€last baselineã€safeã€unsafe åœ¨ flex å¸ƒå±€ä¸­é€šç”¨æ€§ä½</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç»„ä»¶åŒ–å¼€å‘">ç»„ä»¶åŒ–å¼€å‘<a class="hash-link" href="#ç»„ä»¶åŒ–å¼€å‘" title="Direct link to heading">â€‹</a></h2><p>ä¸åŒçš„å¹³å°å¦‚ Webã€React-Nativeã€å¾®ä¿¡å°ç¨‹åºç­‰å„æœ‰ç‰¹è‰²ï¼Œå¹³å°ä¹‹é—´çš„å·®å¼‚å¾ˆå¤§ï¼Œä¼šå¯¼è‡´å¾ˆå¤šé¢å¤–çš„å¼€å‘æˆæœ¬ã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è¦å®Œæˆä¸€ä¸ªè·¨å¹³å°é¡¹ç›®è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¼€å§‹ä»æ¯”è¾ƒå®¹æ˜“å…¥æ‰‹çš„æ–¹å‘è€ƒè™‘ï¼Œå¦‚æœé‡‡ç”¨æ¨¡å—åŒ–ç»„ä»¶æˆ–æ˜¯ css-in-js çš„æ–¹æ¡ˆå»å®Œæˆæ ·å¼çš„æ„å»ºä¼šæ˜¯ä¸€ä¸ªå¥½çš„æ–¹æ¡ˆä¹ˆï¼Ÿ</p><p>åœ¨ç›®å‰çš„å‰ç«¯ç”Ÿæ€ä¸­ï¼Œæ¨¡å—åŒ–ç»„ä»¶å¼€å‘ä¼šæ˜¯ä¸ªå¾ˆæ£’çš„æ–¹æ¡ˆï¼Œè¦†ç›–æ¨¡å¼ä¸‹æ„å»ºå¼€ç®±å³ç”¨çš„ç»„ä»¶åŒæ—¶å¯ä»¥æä¾›æ–¹æ³•æ¥è¦†ç›–æ ·å¼å†å¥½ä¸è¿‡äº†ï¼Œä½†æ˜¯å¦‚æœæ”¾åˆ°å°ç¨‹åºå¼€å‘çš„æ¨¡å¼ä¸­ï¼Œè¿™å°±ä¼šæœ‰ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœæˆ‘ä»¬åœ¨å±‚çº§æ ·å¼è¡¨ä¸­å†™åˆ°çš„æ ·å¼ï¼Œæ˜¯ä¸èƒ½ç›´æ¥ä¼ ç»™ç»„ä»¶æ¥è¦†ç›–æ ·å¼çš„ï¼Œç»„ä»¶å’Œç»„ä»¶çš„éš”ç¦»åœ¨ä¸åŒå°ç¨‹åºä¸­å¾ˆéš¾è¢«æ‰“ç ´ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* CustomComp.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">CustomComp</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> defaultProps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">className</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">''</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">props</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">className</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">è¿™æ®µæ–‡æœ¬çš„é¢œè‰²ä¸ä¼šç”±ç»„ä»¶å¤–çš„ class å†³å®š</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* MyPage.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyPage</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">CustomComp</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">red-text</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-css theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-css codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* MyPage.scss */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.red-text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color">red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¦‚æœå¤§å®¶å°è¯•ä¸Šè¿°çš„å†™æ³•ï¼Œä¼šå‘ç° red-text ç±»ä¸­çš„æ ·å¼å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œé‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¦‚æœè€ƒè™‘æ˜¯ä½¿ç”¨ css-in-js ä¼šå¥½ä¹ˆï¼Ÿå¾ˆé—æ†¾ï¼Œå¦‚æœä½ ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å°†ä¸ä¼šä¸ºè¿™äº›éœ€è¦è¿è¡Œæ—¶å¤„ç†çš„æ ·å¼è¡¥å…¨å‰ç¼€ã€‚</p><p>è¿™ä¸¤ä¸ªæ–¹æ¡ˆéƒ½ä¸æ˜¯åˆé€‚çš„æ–¹æ¡ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¯•ç€å»æ‰“ç ´å°ç¨‹åºçš„ç»„ä»¶é™åˆ¶ä¹ˆï¼Ÿæˆ‘ä»¬åœ¨å¾®ä¿¡å°ç¨‹åºå®˜æ–¹çš„æ–‡æ¡£ä¸­æ‰¾åˆ° externalClasses è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥å…ˆæ¥å°è¯•ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* CustomComp.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">CustomComp</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> externalClasses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'my-class'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">my-class</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">è¿™æ®µæ–‡æœ¬çš„é¢œè‰²ç”±ç»„ä»¶å¤–çš„ class å†³å®š</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* MyPage.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyPage</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">CustomComp</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">red-text</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-css theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-css codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* MyPage.scss */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.red-text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color">red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä½†æ˜¯è¿™ä¹Ÿå¹¶éæ‰€æœ‰çš„å¼€å‘å¹³å°éƒ½èƒ½å¤Ÿæä¾›ç»™å¼€å‘è€…ç›¸å…³çš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½è½¬æ¢ç›®å…‰åˆ°å¦ä¸€ä¸ª addGlobalClass æ–¹æ³•ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä»…åœ¨æ‰€æœ‰å°ç¨‹åºéƒ½èƒ½å¤Ÿæ”¯æŒï¼ŒTaro åœ¨ React Native ç«¯ä¸Šä¹Ÿæä¾›äº†åŒæ ·çš„æ–¹æ³•ç»™å¤§å®¶ï¼Œè¿™æ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥é¿å¼€ css modules è¿™ä¸ªä½“éªŒç¨å·®çš„æ–¹æ³•ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* CustomComp.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">CustomComp</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">addGlobalClass</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">red-text</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">è¿™æ®µæ–‡æœ¬çš„é¢œè‰²ç”±ç»„ä»¶å¤–çš„ class å†³å®š</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-css theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-css codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* ç»„ä»¶å¤–çš„æ ·å¼å®šä¹‰ */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token selector class" style="color:#00009f">.red-text</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">color</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token color">red</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p>åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰é€šç”¨æ”¯æŒçš„æ–¹æ³•å†™åˆ° scss æ–‡ä»¶ä¸­ï¼Œå¦‚æœå¤§å®¶éœ€è¦å¯ä»¥ç›´æ¥ä½¿ç”¨æˆ‘ä»¬å·²ç»æä¾›çš„ flexbox æ ·å¼ï¼ŒæŒ‰å¦‚ä¸‹æ–¹æ³•åœ¨è‡ªå·±å…¨å±€çš„å±‚çº§æ ·å¼è¡¨ä¸­å¼•å…¥æˆ‘ä»¬å·²ç»æä¾›çš„æ ·å¼ã€‚</p><div class="codeBlockContainer_H5s7 language-scss theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-scss codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">@import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'https://raw.githubusercontent.com/NervJS/taro-flexbox/master/flexbox-demo/src/asset/flex.scss'</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é‚£ä¹ˆå…³äº Flex å¸ƒå±€çš„çŸ¥è¯†ï¼Œå¦‚æœæ–‡ä¸­æœ‰é—æ¼çš„ï¼Œå¤§å®¶å¯ä»¥è·Ÿç€æˆ‘ä»¬çš„é¡¹ç›®æ¥æ¢³ç†çŸ¥è¯†ï¼Œä¹Ÿå¯ä»¥åˆ° <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout#%E5%8F%82%E8%80%83" target="_blank" rel="noopener noreferrer">MDN</a> ä¸ŠæŸ¥çœ‹ç›¸å…³çš„æ–‡æ¡£ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯åœ¨ Flexbox å¸ƒå±€ä¸­ gapã€row-gapã€column-gap å±æ€§åœ¨ Grid å¸ƒå±€ä¸­æ™®éæ”¯æŒï¼Œä½†æ˜¯åœ¨ Flex å¸ƒå±€ä¸­å´åªæœ‰ Firefox å®Œæˆäº†é€‚é…ï¼Œæ‰€ä»¥æš‚ä¸”ä¸è¡¨,</p><p>åŒæ · justify-content å±æ€§çš„ space-evenly å€¼åœ¨ web ç«¯é€šç”¨æ€§å¾ˆä½ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</p><blockquote><p>gapã€row-gapã€column-gap in flex</p><p><img loading="lazy" src="https://github.com/NervJS/taro-flexbox/wiki/space-evently-desktop.png?raw=true" alt="gap_in_flex" class="img_ROth"></p></blockquote><blockquote><p>space-evently on desktop</p><p><img loading="lazy" src="https://github.com/NervJS/taro-flexbox/wiki/space-evently-mobile.png?raw=true" alt="space-evently-desktop" class="img_ROth"></p></blockquote><blockquote><p>space-evently on mobile</p><p><img loading="lazy" src="https://github.com/NervJS/taro-flexbox/wiki/gap_in_flex.png?raw=true" alt="space-evently-mobile" class="img_ROth"></p></blockquote><p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥ä¸ºä½ æä¾›ä¸€äº›å¸®åŠ©ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å±æ€§å¯¹ç…§è¡¨">å±æ€§å¯¹ç…§è¡¨<a class="hash-link" href="#å±æ€§å¯¹ç…§è¡¨" title="Direct link to heading">â€‹</a></h3><table><thead><tr><th>å±æ€§</th><th align="center">Chrome</th><th align="center">Firefox</th><th align="center">Android webview</th><th align="center">Safari on iOS</th><th align="center">å¾®ä¿¡å°ç¨‹åº</th><th align="center">æ”¯ä»˜å®å°ç¨‹åº</th><th align="center">ç™¾åº¦å°ç¨‹åº</th><th align="center">å¤´æ¡å°ç¨‹åº</th><th align="center">QQå°ç¨‹åº</th><th align="center">React Native</th></tr></thead><tbody><tr><td>flex-direction</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">éƒ¨åˆ†å·®å¼‚</td></tr><tr><td>flex-wrap</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">wrap-reverse ä¸æ”¯æŒ</td></tr><tr><td>flex-flow</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">ä¸æ”¯æŒ</td></tr><tr><td>align-items</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">baseline ä¸æ”¯æŒ</td></tr><tr><td>align-content</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">0.58+ (éƒ¨åˆ†å·®å¼‚)</td></tr><tr><td>justify-content</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">baseline ä¸æ”¯æŒ</td></tr><tr><td>place-content</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">ä¸æ”¯æŒ</td></tr><tr><td>order</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">ä¸æ”¯æŒ</td></tr><tr><td>flex-grow</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td></tr><tr><td>flex-shrink</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td></tr><tr><td>flex-basis</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">éƒ¨åˆ†å·®å¼‚</td></tr><tr><td>flex</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">è¯­æ³•ä¸åŒ</td></tr><tr><td>align-self</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">âœ”</td><td align="center">baseline ä¸æ”¯æŒ</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç›¸å…³é“¾æ¥">ç›¸å…³é“¾æ¥<a class="hash-link" href="#ç›¸å…³é“¾æ¥" title="Direct link to heading">â€‹</a></h3><ul><li>é¢„è§ˆåœ°å€ï¼š<a href="https://nervjs.github.io/taro-flexbox/" target="_blank" rel="noopener noreferrer">https://nervjs.github.io/taro-flexbox/</a></li><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/NervJS/taro-flexbox" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-flexbox</a></li><li>å‚è€ƒåœ°å€<ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout#Reference" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout#Reference</a></li><li><a href="https://facebook.github.io/react-native/docs/flexbox" target="_blank" rel="noopener noreferrer">https://facebook.github.io/react-native/docs/flexbox</a></li><li><a href="https://github.com/startheart/cml-flexbox" target="_blank" rel="noopener noreferrer">https://github.com/startheart/cml-flexbox</a></li></ul></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ä½¿ç”¨ React Hooks é‡æ„ä½ çš„å°ç¨‹åº]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-07-10-taro-hooks</link>
            <guid>2019-07-10-taro-hooks</guid>
            <pubDate>Wed, 10 Jul 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://storage.360buyimg.com/taro-club-img/b42116392c909d0680788853011c70db" alt="image" class="img_ROth"></p><blockquote><p>æœ¬æ–‡ç”±ä½™æ¾ˆåœ¨ GMTC å…¨çƒå¤§å‰ç«¯æŠ€æœ¯ 2019 çš„æ¼”è®²ï¼š<a href="https://gmtc.infoq.cn/2019/beijing/presentation/1706" target="_blank" rel="noopener noreferrer">ã€Šä½¿ç”¨ React Hooks é‡æ„ä½ çš„å°ç¨‹åºã€‹</a>æ•´ç†è€Œæˆã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="èƒŒæ™¯">èƒŒæ™¯<a class="hash-link" href="#èƒŒæ™¯" title="Direct link to heading">â€‹</a></h2><p>ä¸€ç›´å…³æ³¨å°ç¨‹åºå¼€å‘çš„æœ‹å‹åº”è¯¥ä¼šæ³¨æ„åˆ°ï¼Œæœ€å¼€å§‹å°ç¨‹åºå°±æ˜¯ä¸ºäº†å¾®å‹åˆ›æ–°å‹ä¸šåŠ¡æ‰“é€ çš„ä¸€ä¸ªæ¡†æ¶ï¼Œæœ€å¤šåªèƒ½è¿è¡Œ 1m çš„åŒ…ã€‚å¯æ˜¯åæ¥å‘ç°å¾ˆå¤šå‚å•†æŠŠè¶Šæ¥è¶Šå¤šçš„ä¸šåŠ¡æ¬åˆ°äº†å°ç¨‹åºä¸Šï¼Œå°ç¨‹åºçš„èƒ½åŠ›ä¹Ÿåœ¨ä¸æ–­åœ°å¼€æ”¾ï¼Œå˜å¾—è¶Šæ¥è¶Šå¼ºå¤§ã€‚äºæ˜¯åæ¥æ‰“åŒ…é™åˆ¶ä¸Šå‡åˆ°äº† 2mï¼Œç„¶åå¼•å…¥äº†åˆ†åŒ…ï¼Œç°åœ¨å·²ç»å·²ç»å¯ä»¥ä¸Šä¼  8m çš„å°ç¨‹åºã€‚å…¶å®è¿™ä¸ªä½“ç§¯å·²ç»å¯ä»¥å®ç°éå¸¸å·¨å‹éå¸¸å¤æ‚çš„ä¸šåŠ¡äº†ã€‚å°±ä» Taro çš„ç”¨æˆ·æ¥çœ‹ï¼Œä¾‹å¦‚äº¬ä¸œè´­ç‰©å°ç¨‹åºå’Œ 58 åŒåŸå°ç¨‹åºä¸ç®¡ä»ä»£ç çš„æ•°é‡è¿˜æ˜¯å¤æ‚åº¦éƒ½ä¸äºšäº PC ç«¯ä¸šåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¯´å‰ç«¯å¼€å‘çš„å¤æ‚åº¦æ­£åœ¨å‘å°ç¨‹åºç«¯è½¬ç§»ã€‚</p><p>è€Œå°ç¨‹åºå¼€å‘å…¶å®ä¹Ÿæ˜¯å‰ç«¯å¼€å‘çš„ä¸€ä¸ªå­é›†ï¼Œåœ¨æ•´ä¸ªå‰ç«¯ä¸šç•Œï¼Œæˆ‘ä»¬åˆæ˜¯æ€ä¹ˆè§£å†³å¤æ‚åº¦è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬çœ‹çœ‹ Reactï¼šReact Core Team æˆå‘˜ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ Redux çš„ä½œè€… Dan Abramov åœ¨ 2018 å¹´çš„ ReactConf å‘å¤§å®¶é¦–æ¬¡ä»‹ç»äº† React Hooksã€‚React Hooks æ˜¯ä¸ºäº†è§£å†³ Class Component çš„ä¸€äº›é—®é¢˜è€Œå¼•å…¥çš„ï¼š</p><ul><li>Class Component ç»„ä»¶é—´çš„é€»è¾‘éš¾ä»¥å¤ç”¨ã€‚å› ä¸º  JavaScript ä¸åƒ Go æˆ– C++ ä¸€æ ·ï¼ŒClass å¯ä»¥å¤šé‡ç»§æ‰¿ï¼Œç±»çš„é€»è¾‘çš„å¤ç”¨å°±æˆäº†ä¸€ä¸ªé—®é¢˜ï¼›</li><li>å¤æ‚ç»„ä»¶éš¾ä»¥ç†è§£ã€‚Class Component ç»å¸¸ä¼šåœ¨ç”Ÿå‘½å‘¨æœŸåšä¸€äº›æ•°æ®è·å–äº‹ä»¶ç›‘å¬çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œè¿™æ ·çš„æƒ…å†µä¸‹æˆ‘ä»¬å°±å¾ˆéš¾æŠŠç»„ä»¶æ‹†åˆ†ä¸ºæ›´å°çš„åŠ›åº¦ï¼›</li><li>Class ä»¤äººè¿·æƒ‘ã€‚å¾ˆå¤šæ–°æ‰‹åº”è¯¥ä¼šè¢« Class ç»„ä»¶ç»‘å®šäº‹ä»¶çš„ <code>this</code> è¿·æƒ‘è¿‡ï¼Œç»‘å®šäº‹ä»¶å¯ä»¥ç”¨ bindï¼Œå¯ä»¥ç›´æ¥å†™ç®­å¤´å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å†™ç±»å±æ€§å‡½æ•°ï¼Œä½†åˆ°åº•å“ªç§æ–¹æ³•æ‰æ˜¯æœ€å¥½çš„å‘¢ï¼Ÿè€Œåˆ°äº† ES 2018ï¼Œclass è¿˜æœ‰å¤šç§è¯­æ³•ï¼Œä¾‹å¦‚è£…é¥°å™¨ï¼Œä¾‹å¦‚ private fileds è¿™äº›å¥‡å¥‡æ€ªæ€ªçš„è¯­æ³•ä¹Ÿä¸ºæ–°æ‰‹å¢åŠ äº†æ›´å¤šçš„å›°æƒ‘ã€‚</li></ul><p>è€Œå¯¹äº Vue è€Œè¨€ä¹Ÿæœ‰ç›¸åŒçš„é—®é¢˜ï¼ŒVue çš„ä½œè€…å°¤ç‰æºªè€å¸ˆåœ¨ VueConf China 2019 ä¹Ÿç»™ Vue 3.0 å¼•å…¥äº†ä¸€ä¸ªå« <em>Functional-based API</em> çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å— React Hooks å¯å‘è€Œå¢åŠ çš„æ–° APIã€‚ç”±äº Vue 2.0 ç»„ä»¶ç»„åˆçš„æ¨¡å¼æ˜¯å¯¹è±¡å­—é¢é‡å½¢å¼ï¼Œæ‰€ä»¥ <em>Functional-based API</em> å¯ä»¥ä½œä¸º Mixins çš„æ›¿ä»£ï¼Œé…åˆæ–°çš„å“åº”å¼ API ä½œä¸ºæ–°çš„ç»„ä»¶ç»„åˆæ¨¡å¼ã€‚é‚£ä¹ˆå¯¹äº Vue 3.0 æˆ‘ä»¬è¿˜çŸ¥ä¹‹ç”šå°‘ï¼Œä»¥åçš„ API ä¹Ÿæœ‰å¯èƒ½æ”¹å˜ï¼Œä½†æˆ–è®¸æ˜¯è‹±é›„æ‰€è§ç•¥åŒï¼ŒReact å’Œ Vue å¯¹äºé™ä½å‰ç«¯å¼€å‘å¤æ‚åº¦è¿™ä¸€é—®é¢˜éƒ½ä¸çº¦è€ŒåŒåœ°é€‰æ‹©äº† Hooks è¿™ä¸€æ–¹æ¡ˆï¼Œè¿™åˆ°åº•æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p><img loading="lazy" src="https://i.loli.net/2019/07/02/5d1af3a5e84b022890.png" alt="why_hooks.png" class="img_ROth"></p><p>æˆ‘ä»¬å¯ä»¥ä¸€ä¸‹ä¹‹å‰çš„ç»„ä»¶ç»„åˆæ–¹æ¡ˆï¼Œé¦–å…ˆæ˜¯ <em>Mixins</em>ï¼Œçº¢è‰²åœˆçš„ <em>Mixins</em>ï¼Œé»„è‰²çš„æ˜¯ç»„ä»¶ï¼Œæˆ‘ä»¬çŸ¥é“ <em>Mixins</em> å…¶å®å°±æ˜¯æŠŠå¤šä¸ªå¯¹è±¡ç»„åˆæˆä¸€ä¸ªå¯¹è±¡ï¼Œ<em>Mixins</em> çš„è¿‡ç¨‹å°±æœ‰ç‚¹åƒè°ƒç”¨ <code>Object.assgin</code> æ–¹æ³•ã€‚é‚£ <em>Mixins</em> æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿé¦–å…ˆæ˜¯å‘½åç©ºé—´è€¦åˆï¼Œå¦‚æœå¤šä¸ªå¯¹è±¡åŒåå‚æ•°ï¼Œè¿™äº›å‚æ•°å°±ä¼šè€¦åˆåœ¨ä¸€èµ·ï¼›å…¶æ¬¡ç”±äº <em>Mixins</em> å¿…é¡»æ˜¯è¿è¡Œæ—¶æ‰èƒ½çŸ¥é“å…·ä½“æœ‰ä»€ä¹ˆå‚æ•°ï¼Œæ‰€ä»¥æ˜¯ TypeScript æ˜¯æ— æ³•åšé™æ€æ£€æŸ¥çš„ï¼›ç¬¬ä¸‰æ˜¯ç»„ä»¶å‚æ•°ä¸æ¸…æ™°ï¼Œåœ¨ <em>Mixins</em> ä¸­ç»„ä»¶çš„ props å’Œå…¶ä»–å‚æ•°æ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œå¾ˆå®¹æ˜“è¢«å…¶å®ƒçš„ <em>Mixins</em> è¦†ç›–æ‰ã€‚</p><p>ä¸ºäº†è§£å†³ <em>Mixins</em> çš„é—®é¢˜ï¼Œåæ¥å‘å±•å‡ºäº†é«˜é˜¶ç»„ä»¶ï¼ˆ<em>HOC</em>ï¼‰çš„æ–¹å¼ï¼Œé«˜é˜¶ç»„ä»¶å°±å’Œå›¾é‡Œä¸€æ ·ï¼Œä¸€ä¸ªç»„ä»¶åµŒå¥—ç€å¦å¤–çš„ç»„ä»¶ã€‚å®ƒçš„ç¡®è§£å†³äº† <em>Mixins</em> çš„ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚å‘½åç©ºé—´è§£è€¦ï¼Œç”±äºæ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°ç»„ä»¶ï¼Œå°±ä¸å­˜åœ¨å‘½åç©ºé—´é—®é¢˜äº†ï¼›å…¶æ¬¡å®ƒä¹Ÿèƒ½å¾ˆå¥½åœ°åšé™æ€æ£€æŸ¥ï¼›ä½†å®ƒä¾ç„¶æ²¡æœ‰åŠæ³•å¤„ç†ç»„ä»¶ props çš„é—®é¢˜ï¼Œprops è¿˜æ˜¯æœ‰å¯èƒ½ä¼šåœ¨é«˜é˜¶ç»„ä»¶ä¸­è¢«æ›´æ”¹ï¼›è€Œä¸”å®ƒè¿˜æœ‰äº†æ–°çš„é—®é¢˜ï¼Œæ¯å¤šç”¨ä¸€æ¬¡é«˜é˜¶ç»„ä»¶ï¼Œéƒ½ä¼šå¤šå‡ºä¸€ä¸ªç»„ä»¶å®ä¾‹ã€‚</p><p>æœ€åæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Hooksï¼Œç´«è‰²çš„åœˆåœˆæ˜¯ Hooksï¼Œå°±åƒå›¾é‡Œä¸€æ ·ï¼ŒHooks éƒ½åœ¨åŒä¸€ä¸ªç»„ä»¶é‡Œï¼ŒHooks ä¹‹é—´è¿˜å¯ä»¥ç›¸äº’è°ƒç”¨ã€‚å› ä¸º Hooks è·‘åœ¨ä¸€ä¸ªæ™®é€šå‡½æ•°å¼ç»„ä»¶é‡Œï¼Œæ‰€ä»¥ä»–è‚¯å®šæ˜¯æ²¡æœ‰å‘½åç©ºé—´çš„é—®é¢˜ï¼ŒåŒæ—¶ TypeScript ä¹Ÿèƒ½å¯¹æ™®é€šå‡½æ•°åšå¾ˆå¥½çš„é™æ€æ£€æŸ¥ï¼Œè€Œä¸” Hooks ä¹Ÿä¸èƒ½æ›´æ”¹ç»„ä»¶çš„ Propsï¼Œä¼ å…¥çš„æ˜¯å•¥æœ€åå¯ç”¨çš„å°±æ˜¯å•¥ï¼›æœ€å Hooks ä¹Ÿä¸ä¼šç”Ÿæˆæ–°çš„ç»„ä»¶ï¼Œæ‰€ä»¥ä»–æ˜¯å•ç»„ä»¶å®ä¾‹ã€‚</p><p><img loading="lazy" src="https://i.loli.net/2019/07/02/5d1af4ef2dd5a56009.png" alt="taroxhooks.png" class="img_ROth"></p><p>åœ¨ Taro 1.3 ç‰ˆæœ¬ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€å¤§å †ç‰¹æ€§ï¼Œå…¶ä¸­çš„é‡å¤´æˆå°±æ˜¯ React Hooks çš„æ”¯æŒã€‚è™½ç„¶ React Hooks æ­£å¼ç¨³å®šçš„æ—¶é—´å¹¶ä¸é•¿ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºè¿™ä¸ªç‰¹æ€§èƒ½æœ‰æ•ˆåœ°ç®€åŒ–å¼€å‘æ¨¡å¼ï¼Œæå‡å¼€å‘æ•ˆç‡å’Œå¼€å‘ä½“éªŒã€‚å³ä¾¿ Hooks çš„ç”Ÿæ€å’Œæœ€ä½³å®è·µè¿˜å°šæœªå®Œå–„ï¼Œä½†æˆ‘ä»¬ç›¸ä¿¡æœªæ¥ Hooks ä¼šæˆä¸º React å¼€å‘æ¨¡å¼çš„ä¸»æµï¼Œä¹Ÿä¼šæ·±åˆ»åœ°å½±å“å…¶å®ƒæ¡†æ¶æœªæ¥çš„ API æ„æˆã€‚æ‰€ä»¥åœ¨ Taro çš„è§„åˆ’ä¸­æˆ‘ä»¬ä¹ŸæŠŠ Hooks æ”¾åœ¨äº†å¾ˆé‡è¦çš„ä½ç½®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä»€ä¹ˆæ˜¯-hooks">ä»€ä¹ˆæ˜¯ Hooksï¼Ÿ<a class="hash-link" href="#ä»€ä¹ˆæ˜¯-hooks" title="Direct link to heading">â€‹</a></h2><p>ç›¸ä¿¡ç¬”è€…æ‰¯äº†é‚£ä¹ˆå¤šï¼Œå¤§å®¶å¯¹ Hooks åº”è¯¥äº§ç”Ÿäº†ä¸€äº›å…´è¶£ï¼Œé‚£ä»€ä¹ˆæ˜¯ Hooks å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼ŒHooks å°±æ˜¯ä¸€ç»„åœ¨ React ç»„ä»¶ä¸­è¿è¡Œçš„å‡½æ•°ï¼Œè®©ä½ åœ¨ä¸ç¼–å†™ Class çš„æƒ…å†µä¸‹ä½¿ç”¨ state åŠå…¶å®ƒç‰¹æ€§ã€‚å…·ä½“æ¥è¯´ï¼ŒHooks å¯ä»¥è¡¨ç°ä¸ºä»¥ä¸‹çš„å½¢å¼ï¼š</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="usestate-ä¸å†…éƒ¨çŠ¶æ€"><code>useState</code> ä¸å†…éƒ¨çŠ¶æ€<a class="hash-link" href="#usestate-ä¸å†…éƒ¨çŠ¶æ€" title="Direct link to heading">â€‹</a></h3><p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸ªåŸç”Ÿå°ç¨‹åºçš„ç®€å•æ¡ˆä¾‹ï¼Œä¸€ä¸ªç®€å•è®¡æ•°å™¨ç»„ä»¶ï¼Œç‚¹å‡»æŒ‰é’®å°± + 1ï¼Œç›¸ä¿¡æ¯ä½å‰ç«¯å¼€å‘æœ‹å‹éƒ½å¯ä»¥è½»æ¾åœ°å†™ä¸€ä¸ªè®¡æ•°å™¨ç»„ä»¶ã€‚ä½†æˆ‘ä»¬å¯ä»¥ç¨å¾®æ”¹ä¸€ä¸‹ä»£ç ï¼ŒæŠŠäº‹ä»¶å¤„ç†å‡½æ•°æ”¹ä¸ºç®­å¤´å‡½æ•°ã€‚å¦‚æœæ˜¯è¿™æ ·ä»£ç å°±è·‘ä¸äº†äº†ã€‚äº‹å®ä¸Šåœ¨åŸç”Ÿå¼€å‘ä¸­ <code>this</code> çš„é—®é¢˜æ˜¯ä¸€ä»¥è´¯ä¹‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸è¦å¼€ä¸ªæ–°å˜é‡æŠŠ <code>this</code> ç¼“å­˜èµ·æ¥ï¼Œå«åš <code>self</code> ä»€ä¹ˆçš„æ¥é¿å…ç±»ä¼¼çš„é—®é¢˜ã€‚æˆ‘ä»¬ä¹‹å‰ä¹Ÿæåˆ°è¿‡ï¼Œå¦‚æœé‡‡ç”¨ ES6 çš„ Class æ¥ç»„ç»‡ç»„ä»¶åŒæ ·ä¹Ÿä¼šé‡åˆ° <code>this</code> æŒ‡å‘ä¸æ¸…æ™°çš„é—®é¢˜ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function maybe-class-name" style="color:#d73a49">Page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">increment</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è¿™é‡Œå†™ç®­å¤´å‡½æ•°å°±è·‘ä¸äº†äº†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å†æ¥çœ‹çœ‹æˆ‘ä»¬çš„ hooks å†™æ³•ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªå« useState çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªåˆå§‹å€¼å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œå¦‚æœæ˜¯å†™åç«¯çš„åŒå­¦åº”è¯¥å¯¹è¿™ä¸ªæ¨¡å¼æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå°±åƒ Koa æˆ–è€… Go ä¸€æ ·ï¼Œä¸€ä¸ªå‡½æ•°è¿”å›ä¸¤ä¸ªå€¼æˆ–è€…è¯´å«ä¸€ä¸ªå…ƒç»„ï¼Œä¸è¿‡æˆ‘ä»¬è¿”å›çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰çš„çŠ¶æ€ï¼Œä¸€ä¸ªæ˜¯è®¾ç½®è¿™ä¸ªçŠ¶æ€çš„å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨è¿™ä¸ªè®¾ç½®çŠ¶æ€çš„ <code>setState</code> å‡½æ•°éƒ½ä¼šä½¿å¾—æ•´ä¸ªç»„ä»¶è¢«é‡æ–°æ¸²æŸ“ã€‚ç„¶åç”¨ ES6 çš„ç»“æ„è¯­æ³•æŠŠå®ƒä¿©è§£æ„å‡ºæ¥ä½¿ç”¨ã€‚</p><p>ç„¶åæˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªå¢åŠ çš„å‡½æ•°ï¼ŒæŠŠä»–ç»‘å®šåˆ° <code>onClick</code> äº‹ä»¶ä¸Šã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// è¿”å›ä¸€ä¸ªå€¼å’Œä¸€ä¸ªè®¾ç½®å€¼çš„å‡½æ•°              </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ¯æ¬¡è®¾ç½®å€¼ä¹‹åä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">You clicked </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"> times</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">increment</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        Click me</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åŒæ ·æ˜¯éå¸¸ç®€å•çš„ä»£ç ã€‚å¦‚æœä½ ç†Ÿæ‚‰ Taro ä¹‹å‰çš„ç‰ˆæœ¬çš„è¯å°±ä¼šçŸ¥é“è¿™æ ·çš„ä»£ç åœ¨ä»¥å‰çš„ Taro æ˜¯è·‘ä¸äº†çš„ï¼Œä¸è¿‡ Taro 1.3 ä¹‹åäº‹ä»¶ä¼ å‚å¯ä»¥ä¼ å…¥ä»»ä½•åˆæ³•å€¼ï¼Œä½ å¦‚æœæƒ³ç›´æ¥å†™ç®­å¤´å‡½æ•°æˆ–è€…å†™ä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„å‡½æ•°ä¹Ÿæ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>å¤§å®¶å¯ä»¥å‘ç°æˆ‘ä»¬ä½¿ç”¨çš„ Hooks å°±æ˜¯ä¸€ä¸ªéå¸¸ç®€å•éå¸¸ normal çš„å‡½æ•°ï¼Œæ²¡æœ‰ <code>this</code> æ²¡æœ‰ classï¼Œæ²¡æœ‰ç±»æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰äº† <code>this</code>ï¼Œå†ä¹Ÿä¸ä¼šå‡ºç°é‚£ç§ <code>this</code>ã€<code>self</code> å‚»å‚»åˆ†ä¸æ¸…æ¥šçš„æƒ…å†µã€‚</p><p>å¤§å®¶å¯ä»¥è®°ä½è¿™ä¸ªç®€å•çš„è®¡æ•°å™¨ç»„ä»¶ï¼Œä»¥åä¹‹åè®²çš„å¾ˆå¤šæ¡ˆä¾‹æ˜¯åŸºäºè¿™ä¸ªç»„ä»¶åšçš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="useeffect-ä¸å‰¯ä½œç”¨"><code>useEffect</code> ä¸å‰¯ä½œç”¨<a class="hash-link" href="#useeffect-ä¸å‰¯ä½œç”¨" title="Direct link to heading">â€‹</a></h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€äº›çš„ä¾‹å­ï¼Œä¸€ä¸ªå€’è®¡æ—¶ç»„ä»¶ï¼Œæˆ‘ä»¬ç‚¹å‡»æŒ‰é’®å°±å¼€å§‹å€’è®¡æ—¶ï¼Œå†ç‚¹å‡»å°±åœæ­¢å€’è®¡æ—¶ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªç»„ä»¶é‡Œæœ‰ä¸¤ä¸ªå˜é‡ï¼Œ<code>start</code> ç”¨äºæ§åˆ¶æ˜¯å¦å¼€å§‹è®¡æ—¶ï¼Œ<code>time</code> å°±æ˜¯æˆ‘ä»¬çš„å€’è®¡æ—¶æ—¶é—´ã€‚è¿™é‡Œæ³¨æ„æˆ‘ä»¬éœ€è¦å¤šæ¬¡æ¸…é™¤ <code>interval</code>ï¼Œè€Œåœ¨ç°å®ä¸šåŠ¡å¼€å‘ä¸­ï¼Œè¿™ä¸ª <code>touchStart</code> å‡½æ•°å¯èƒ½ä¼šå¤æ‚å¾—å¤šï¼Œä¸€ä¸å°å¿ƒå°±ä¼šæå‰æ¸…é™¤ <code>interval</code> æˆ–å¿˜è®°æ¸…é™¤ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function maybe-class-name" style="color:#d73a49">Page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">start</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toggleStart</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">start</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">start</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">interval</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">time</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">onUnload</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">toggleStart</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {{time}} </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œæˆ‘ä»¬ Hooks çš„ä¾‹å­ä¼šæ˜¯è¿™æ ·ï¼šæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª <code>useEffect</code> å‡½æ•°ã€‚ä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡ï¼Œæ¯æ¬¡è°ƒç”¨ <code>useState</code> è¿”å›çš„ <code>setState</code> å‡½æ•°éƒ½ä¼šé‡æ–°è°ƒç”¨æ•´ä¸ªå‡½æ•°ï¼Œå…¶å®å°±åŒ…æ‹¬äº† <code>useEffect</code> å‡½æ•°ï¼Œ<code>useEffect</code> æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå°±æ˜¯å‰¯ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯ <code>effect</code> å‡½æ•°ï¼Œä»–ä¸æ¥å—ä¹Ÿä¸è¿”å›ä»»ä½•å‚æ•°ã€‚
ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¾èµ–æ•°ç»„ï¼Œå½“æ•°ç»„ä¸­çš„å˜é‡å˜åŒ–æ—¶å°±ä¼šè°ƒç”¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•° <code>effect</code> å‡½æ•°ã€‚
<code>Effect</code> å‡½æ•°è¿˜å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°åœ¨ä¸‹ä¸€æ¬¡ <code>effect</code> å‡½æ•°è¢«è°ƒç”¨æ—¶æˆ–æ¯æ¬¡ç»„ä»¶è¢«æ³¨é”€æ—¶æˆ–è€…å°±ä¼šè°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œæ¸…æ¥šæ‰ä¸€äº›äº‹ä»¶çš„è®¢é˜…æˆ–è€… interval ä¹‹ç±»å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„éœ²çš„è¡Œä¸ºã€‚
åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ <code>start</code> æ¯æ¬¡å˜åŒ–å°±ä¼šé‡æ–°è·‘ä¸€æ¬¡ <code>effect</code> å‡½æ•°ï¼Œæ¯éš”ä¸€ç§’ä¼šè®¾ç½®ä¸€æ¬¡ <code>time</code> çš„å€¼è®©å®ƒå‡ä¸€ï¼Œä½†è¿™æ ·çš„å†™æ³•æ˜¯æœ‰é—®é¢˜çš„ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setStart </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setTime </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// effect å‡½æ•°ï¼Œä¸æ¥å—ä¹Ÿä¸è¿”å›ä»»ä½•å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> interval</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// setTime(time - 1) âŒ time åœ¨ effect é—­åŒ…å‡½æ•°é‡Œæ˜¯æ‹¿ä¸åˆ°å‡†ç¡®å€¼çš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// âœ… åœ¨ setTime çš„å›è°ƒå‡½æ•°å‚æ•°é‡Œå¯ä»¥æ‹¿åˆ°å¯¹åº” state çš„æœ€æ–°å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// clean-up å‡½æ•°ï¼Œå½“å‰ç»„ä»¶è¢«æ³¨é”€æ—¶è°ƒç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> start </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ä¾èµ–æ•°ç»„ï¼Œå½“æ•°ç»„ä¸­å˜é‡å˜åŒ–æ—¶ä¼šè°ƒç”¨ effect å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript function" style="color:#d73a49">setStart</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript operator" style="color:#393A34">!</span><span class="token tag script language-javascript" style="color:#00009f">start</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å› ä¸ºæˆ‘ä»¬åœ¨ <code>setInterval</code> è¿™ä¸ªå‡½æ•°çš„é—­åŒ…ä¸­ï¼Œæˆ‘ä»¬æ•æ‰åˆ° <code>time</code> è¿™ä¸ªå˜é‡çš„å€¼ä¸èƒ½å’Œæœ€æ–°çš„å€¼å¯¹åº”å¾—ä¸Šï¼Œ<code>time</code> çš„å€¼æœ‰å¯èƒ½åœ¨æˆ‘ä»¬æ„æ–™ä¹‹å¤–åœ°è¢«æ›´æ”¹äº†å¤šæ¬¡ã€‚è§£å†³çš„æ–¹æ¡ˆä¹Ÿå¾ˆç®€å•ï¼Œä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡ <code>useState</code> è¿”å›çš„ <code>setState</code> æ–¹æ³•ï¼Œå¯ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå°±æ˜¯ <code>state</code> æœ€æ–°çš„å€¼ï¼Œæ‰€ä»¥åªè¦æˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªå‡½æ•°å°±å¥½äº†ã€‚è¿™æ˜¯å…¶ä¸­ä¸€ç§æ–¹æ³•ã€‚</p><p>è¿˜æœ‰å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>useRef</code> Hooksï¼Œ<code>useRef</code> å¯ä»¥è¿”å›ä¸€ä¸ªå¯å˜çš„å¼•ç”¨ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œè¿™ä¸ªæœ‰ <code>current</code> å±æ€§ï¼Œè€Œ <code>current</code> çš„å€¼æ˜¯å¯å˜çš„ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œï¼Œæ¯æ¬¡æ›´æ”¹ <code>currentTime.current</code> éƒ½æ˜¯åŒæ­¥çš„ï¼Œè€Œä¸” <code>currentTime</code> æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥ <code>currentTime.current</code> ä¸€å®šæ˜¯å¯æ§çš„ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setStart </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setTime </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> currentTime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ç”Ÿæˆä¸€ä¸ªå¯å˜å¼•ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// effect å‡½æ•°ï¼Œä¸æ¥å—ä¹Ÿä¸è¿”å›ä»»ä½•å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> interval</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currentTime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token operator" style="color:#393A34">--</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// currentTime.current æ˜¯å¯å˜çš„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">interval</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// clean-up å‡½æ•°ï¼Œå½“å‰ç»„ä»¶è¢«æ³¨é”€æ—¶è°ƒç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> start </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ä¾èµ–æ•°ç»„ï¼Œå½“æ•°ç»„ä¸­å˜é‡å˜åŒ–æ—¶ä¼šè°ƒç”¨ effect å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript function" style="color:#d73a49">setStart</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript operator" style="color:#393A34">!</span><span class="token tag script language-javascript" style="color:#00009f">start</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è™½ç„¶è¯´æˆ‘ä»¬å¯ä»¥ <code>useRef</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ²¡å¿…è¦è¿™æ ·åšã€‚å› ä¸º <code>setTime</code> ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°çš„æ–¹æ³•æ˜¾ç„¶å¯è¯»æ€§æ›´é«˜ã€‚çœŸæ­£æœ‰å¿…è¦çš„æ˜¯æŠŠæˆ‘ä»¬çš„ <code>interval</code> å˜é‡ä½œä¸ºä¸€ä¸ª refï¼Œæˆ‘ä»¬åœ¨å‡½æ•°æœ€é¡¶å±‚çš„ä½œç”¨åŸŸæŠŠ <code>interval</code> ä½œä¸ºä¸€ä¸ª refï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°çš„ä»»ä½•ä¸€ä¸ªåœ°æ–¹æŠŠä»–æ¸…é™¤ï¼Œè€ŒåŸæ¥çš„ä»£ç ä¸­æˆ‘ä»¬æŠŠ <code>interval</code> ä½œä¸ºä¸€ä¸ªæ™®é€šçš„å˜é‡æ”¾åœ¨ effect å‡½æ•°é‡Œï¼Œè¿™æ ·å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªäº‹ä»¶ä¹Ÿéœ€è¦æ¸…é™¤ intervalï¼Œè¿™å°±æ²¡æ³•åšåˆ°äº†ã€‚ä½†æ˜¯ç”¨ <code>useRef</code> ç”Ÿæˆå¯å˜å¼•ç”¨å°±æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setStart </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setTime </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">60</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> interval </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// interval å¯ä»¥åœ¨è¿™ä¸ªä½œç”¨åŸŸé‡Œä»»ä½•åœ°æ–¹æ¸…é™¤å’Œè®¾ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// effect å‡½æ•°ï¼Œä¸æ¥å—ä¹Ÿä¸è¿”å›ä»»ä½•å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      interval</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// âœ… åœ¨ setTime çš„å›è°ƒå‡½æ•°å‚æ•°é‡Œå¯ä»¥æ‹¿åˆ°å¯¹åº” state çš„æœ€æ–°å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">interval</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// clean-up å‡½æ•°ï¼Œå½“å‰ç»„ä»¶è¢«æ³¨é”€æ—¶è°ƒç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> start </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ä¾èµ–æ•°ç»„ï¼Œå½“æ•°ç»„ä¸­å˜é‡å˜åŒ–æ—¶ä¼šè°ƒç”¨ effect å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript function" style="color:#d73a49">setStart</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript operator" style="color:#393A34">!</span><span class="token tag script language-javascript" style="color:#00009f">start</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="usecontext-ä¸è·¨ç»„ä»¶é€šä¿¡"><code>useContext</code> ä¸è·¨ç»„ä»¶é€šä¿¡<a class="hash-link" href="#usecontext-ä¸è·¨ç»„ä»¶é€šä¿¡" title="Direct link to heading">â€‹</a></h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªè·¨ç»„ä»¶é€šä¿¡çš„ä¾‹å­ï¼Œä¾‹å¦‚æˆ‘ä»¬æœ‰ä¸‰ä¸ªç»„ä»¶ï¼Œ<em>page</em> ç»„ä»¶æœ‰ä¸€ä¸ª <em>child</em> ç»„ä»¶ï¼Œ<em>child</em> ç»„ä»¶æœ‰ä¸€ä¸ª <em>counter</em> ç»„ä»¶ï¼Œè€Œæˆ‘ä»¬ <em>counter</em> ç»„ä»¶çš„ <code>count</code> å€¼å’Œ <code>setCount</code> å‡½æ•°ï¼Œæ˜¯ç”± <em>page</em> ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„ã€‚è¿™ç§æƒ…å†µåœ¨ä¸€ä¸ªå¤æ‚ä¸šåŠ¡çš„å¼€å‘ä¸­ä¹Ÿç»å¸¸èƒ½é‡åˆ°ï¼Œåœ¨åŸç”Ÿå°ç¨‹åºå¼€å‘ä¸­æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„æŠŠæˆ‘ä»¬ <code>counter</code> çš„å€¼å’Œå‡½æ•°æ‰‹åŠ¨åœ°ä¾æ¬¡åœ°ä¼ é€’ä¸‹å»ï¼Œè€Œè¿™æ ·çš„ä¼ é€’å¿…é¡»æ˜¯æ˜¾å¼çš„ï¼Œä½ éœ€è¦åœ¨ JavaScript ä¸­è®¾ç½® props çš„å‚æ•°ï¼Œä¹Ÿéœ€è¦åœ¨ WXML é‡Œè®¾ç½® props çš„å‚æ•°ï¼Œä¸€ä¸ªä¹Ÿä¸èƒ½å°‘ï¼Œå°‘äº†å°±è·‘ä¸åŠ¨ã€‚æˆ‘ä»¬è¿˜æ³¨æ„åˆ°å³ä¾¿ child ç»„ä»¶æ²¡æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œä»–ä¹Ÿå¿…é¡»è¦è®¾ç½®ä¸€ä¸ª <code>triggerEvent</code> çš„å‡½æ•°å’Œ props çš„ç±»å‹å£°æ˜ã€‚è¿™æ ·çš„å†™æ³•æ— ç–‘æ˜¯éå¸¸éº»çƒ¦è€Œä¸”é™åˆ¶å¾ˆå¤§çš„ã€‚</p><div class="codeBlockContainer_H5s7 language-html theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-html codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- page.wxml --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">child</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- child.wxml --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">counter</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- counter.wxml --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    You clicked {{count}} times</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">butto</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">increment</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Click me</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// page.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function maybe-class-name" style="color:#d73a49">Page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// child.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function maybe-class-name" style="color:#d73a49">Component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">properties</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">methods</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">triggerEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'increment'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// counter.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function maybe-class-name" style="color:#d73a49">Component</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">properties</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">methods</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">triggerEvent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'increment'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹ Hooks çš„å†™æ³•ï¼Œé¦–å…ˆæˆ‘ä»¬ç”¨ <code>Taro.createContext</code> åˆ›å»ºä¸€ä¸ª <code>context</code> å¯¹è±¡ï¼Œåœ¨æˆ‘ä»¬ <em>page</em> ç»„ä»¶é‡ŒæŠŠæˆ‘ä»¬çš„ <code>count</code> å’Œ <code>setCount</code> å‡½æ•°ä½œä¸ºä¸€ä¸ªå¯¹è±¡ä¼ å…¥åˆ° <code>Context.Provider</code> çš„ <code>value</code> é‡Œã€‚ç„¶ååœ¨æˆ‘ä»¬çš„ <em>Counter</em> ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>useContext</code> è¿™ä¸ª Hooks æŠŠæˆ‘ä»¬çš„ <code>count</code> å’Œ <code>setCount</code> å–å‡ºæ¥ï¼Œå°±ç›´æ¥å¯ä»¥ä½¿ç”¨äº†ã€‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> CounterContext </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// page.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">Page</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">CounterContext.Provider</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"> count</span><span class="token tag script language-javascript punctuation" style="color:#393A34">,</span><span class="token tag script language-javascript" style="color:#00009f"> setCount </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Child</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">CounterContext.Provider</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// child.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">Child</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Counter</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// counter.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CounterContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        You clicked </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"> times</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript function" style="color:#d73a49">setCount</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript" style="color:#00009f">count </span><span class="token tag script language-javascript operator" style="color:#393A34">+</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">1</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        Click me</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¤§å®¶å¯ä»¥å‘ç°ä½¿ç”¨ Context çš„ä»£ç æ¯”åŸæ¥çš„ä»£ç ç²¾ç®€äº†å¾ˆå¤šï¼Œå‚æ•°ä¸éœ€è¦ä¸€çº§ä¸€çº§åœ°æ˜¾å¼ä¼ é€’ï¼Œ<em>child</em> ç»„ä»¶ä¹Ÿå’Œäº‹å®ä¸€æ ·ï¼Œæ²¡æœ‰ä¸€è¡Œå¤šä½™çš„é€»è¾‘ã€‚ä½†ç²¾ç®€ä¸æ˜¯æœ€å¤§çš„å¥½å¤„ã€‚æœ€å¤§çš„å¥½å¤„æ˜¯å¤§å®¶å¯ä»¥å‘ç°æˆ‘ä»¬çš„ Context å¯ä»¥ä¼ é€’ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼Œç†Ÿæ‚‰å°ç¨‹åºåŸç”Ÿå¼€å‘çš„åŒå­¦å¯èƒ½ä¼šçŸ¥é“ï¼Œæ‰€æœ‰ props çš„ä¼ é€’éƒ½ä¼šè¢«å°ç¨‹åºåºåˆ—åŒ–æ‰ï¼Œå¦‚æœä¼ é€’äº†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡æœ€ç»ˆä¼šå˜æˆä¸€ä¸ª JSONã€‚ä½†æ˜¯ç”¨ Taro çš„ context åˆ™æ²¡æœ‰è¿™å±‚é™åˆ¶ï¼Œä½ å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¸¦æœ‰å‡½æ•°çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥åƒæ˜¯ <code>imutabale</code> æˆ–è€… <code>obserable</code> è¿™æ ·å¤æ‚çš„å¯¹è±¡ã€‚åœ¨ taro 1.3 æˆ‘ä»¬å¯¹ props ç³»ç»Ÿè¿›è¡Œäº†ä¸€æ¬¡é‡æ„ï¼ŒTaro çš„ context å’Œ props ä¸€æ ·ï¼Œå±æ€§ä¼ é€’æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œæƒ³ä¼ å•¥å°±ä¼ å•¥ã€‚</p><p>å¦å¤–ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ç‚¹çš„æ˜¯ï¼Œcontext çš„ä¼ é€’å¯ä»¥æ— è§†çˆ¶çº§ç»„ä»¶çš„æ›´æ–°ç­–ç•¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­å³ä¾¿æˆ‘ä»¬é€šè¿‡ <code>shouldComponentUpdate()</code> ç¦æ­¢äº† <em>child</em> ç»„ä»¶çš„æ›´æ–°ï¼Œä½† <em>counter</em> ä½œä¸ºå®ƒçš„å­ç»„ä»¶ä¾ç„¶æ˜¯å¯ä»¥æ›´æ–°çš„ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥è®©æˆ‘ä»¬åšæ€§èƒ½ä¼˜åŒ–çš„æ—¶å€™æ›´ä¸ºçµæ´»ä¸€äº›ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="hooks-åœ¨å°ç¨‹åºå®æˆ˜">Hooks åœ¨å°ç¨‹åºå®æˆ˜<a class="hash-link" href="#hooks-åœ¨å°ç¨‹åºå®æˆ˜" title="Direct link to heading">â€‹</a></h2><p>è®²å®Œäº† Hooks çš„åŸºæœ¬ä½¿ç”¨ï¼Œæœ‰äº›åŒå­¦ä¼šè§‰å¾—ï¼šå’¦ï¼Œæˆ‘æ€ä¹ˆè§‰å¾—ä½ è¿™å‡ ä¸ªä¸œè¥¿æ„Ÿè§‰å¹³å¹³æ— å¥‡ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«çš„ã€‚ä½†å®é™…ä¸Šè¿™äº›åŸºç¡€çš„ Hooks å•ç‹¬æ‹¿å‡ºæ¥çœ‹çš„ç¡®ä¸èƒ½ç©å‡ºä»€ä¹ˆèŠ±æ ·ï¼Œä½†ä»–ä»¬ç»„åˆèµ·æ¥å´èƒ½è¿¸å‘å¼ºå¤§çš„åŠ›é‡ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è‡ªå®šä¹‰-hooks">è‡ªå®šä¹‰ Hooks<a class="hash-link" href="#è‡ªå®šä¹‰-hooks" title="Direct link to heading">â€‹</a></h3><p>å¤§å®¶åœ¨ä¸šåŠ¡å¼€å‘å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„éœ€æ±‚ï¼Œå®ç°ä¸€ä¸ªåŒå‡»äº‹ä»¶ï¼Œå¦‚æœä½ æ˜¯ä» H5 å¼€å‘è¿‡æ¥çš„å¯èƒ½ä¼šç›´æ¥å†™ <code>onDoubleClick</code>ï¼Œä½†å¾ˆé—æ†¾ï¼Œå°ç¨‹åºç»„ä»¶æ˜¯æ²¡æœ‰ <code>doubleClick</code> è¿™ä¸ªäº‹ä»¶çš„ã€‚å½“ç„¶ï¼Œå¦‚æœä½ ä½¿ç”¨ Taro åˆç”¨äº† TypeScript å°±ä¸ä¼šçŠ¯è¿™æ ·çš„é”™è¯¯ï¼Œç¼–è¾‘å™¨å°±å›ç›´æ¥ç»™ä½ æŠ¥é”™ <code>Text</code> ç»„ä»¶æ²¡æœ‰è¿™ä¸ªå±æ€§ã€‚</p><p>äºæ˜¯ä½ å°±è‡ªå·±å®ç°äº†ä¸€ä¸ªåŒå‡»äº‹ä»¶ï¼Œä»£ç å¤§æ¦‚æ˜¯è¿™æ ·ï¼Œæœ‰ä¸€ä¸ªä¸Šæ¬¡ç‚¹å‡»çš„æ—¶é—´ä½œä¸ºçŠ¶æ€ï¼Œæ¯æ¬¡è§¦å‘å•æœºäº‹ä»¶çš„æ—¶å€™å’Œä¸Šæ¬¡ç‚¹å‡»çš„æ—¶é—´åšå¯¹æ¯”ï¼Œå¦‚æœé—´éš”è¿‡å°ï¼Œé‚£ä»–å°±æ˜¯ä¸€ä¸ªåŒå‡»äº‹ä»¶ã€‚ä»£ç éå¸¸ç®€å•ï¼Œä½†æˆ‘ä»¬ä¸ç¦å°±ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜é—®é¢˜ï¼Œæ¯ä¸€æ¬¡ç»™ä¸€ä¸ªç»„ä»¶åŠ å•å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬å°±æ¯æ¬¡éƒ½åŠ è¿™ä¹ˆä¸€å¨ä»£ç å—ï¼Ÿ</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">EditableText</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> title </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> lastClickTime</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setClickTime </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> editing</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setEditing </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        editing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">TextInput</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">editing</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">editing</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript parameter" style="color:#00009f">e</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript keyword" style="color:#00009f">const</span><span class="token tag script language-javascript" style="color:#00009f"> currentTime </span><span class="token tag script language-javascript operator" style="color:#393A34">=</span><span class="token tag script language-javascript" style="color:#00009f"> e</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">timeStamp</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript keyword" style="color:#00009f">const</span><span class="token tag script language-javascript" style="color:#00009f"> gap </span><span class="token tag script language-javascript operator" style="color:#393A34">=</span><span class="token tag script language-javascript" style="color:#00009f"> currentTime </span><span class="token tag script language-javascript operator" style="color:#393A34">-</span><span class="token tag script language-javascript" style="color:#00009f"> lastClickTime</span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript keyword" style="color:#00009f">if</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript" style="color:#00009f">gap </span><span class="token tag script language-javascript operator" style="color:#393A34">&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">0</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">&amp;&amp;</span><span class="token tag script language-javascript" style="color:#00009f"> gap </span><span class="token tag script language-javascript operator" style="color:#393A34">&lt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript number" style="color:#36acaa">300</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript comment" style="color:#999988;font-style:italic">// double click</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">                </span><span class="token tag script language-javascript function" style="color:#d73a49">setEditing</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript boolean" style="color:#36acaa">true</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript function" style="color:#d73a49">setClickTime</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript" style="color:#00009f">currentTime</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å†™ä¸€ä¸ªè‡ªå®šä¹‰ Hooksï¼Œä»£ç å’ŒåŸæ¥çš„ä»£ç ä¹Ÿå·®ä¸å¤šï¼Œ<code>useDoubleClick</code> ä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œä½†å½“æˆ‘ä»¬è°ƒç”¨ <code>useDoubleClick</code> æ—¶å€™è¿”å›ä¸€ä¸ªåä¸º <code>textOnDoubleClick</code> çš„å‡½æ•°ï¼Œåœ¨åœ¨ Text ç»„ä»¶çš„äº‹ä»¶ä¼ å‚ä¸­ï¼Œæˆ‘ä»¬å†åœ¨ <code>textOnDoubleClick</code> å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯è§¦å‘åŒå‡»æ¡ä»¶æ—¶å€™çš„å‡½æ•°ã€‚å½“æˆ‘ä»¬ç»™è¿™ä¸ªè‡ªå®šä¹‰ Hooks åšäº†æŸ¯é‡ŒåŒ–ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åšåˆ°çŸ¥é“ Hook ä½¿ç”¨æ—¶æ‰æš´éœ²å›è°ƒå‡½æ•°:</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDoubleClick</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> lastClickTime</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setClickTime </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">callback</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> currentTime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeStamp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> gap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> currentTime </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> lastClickTime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gap </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> gap </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      callback </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setClickTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currentTime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">EditableText</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> title </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> editing</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setEditing </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> textOnDoubleClick </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDoubleClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        editing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">TextInput</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">editing</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">editing</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript function" style="color:#d73a49">textOnDoubleClick</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript function" style="color:#d73a49">setEditing</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript boolean" style="color:#36acaa">true</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æŸ¯é‡ŒåŒ–å‡½æ•°å¥½åƒæœ‰ä¸€ç‚¹ç‚¹ç»•ï¼Œä½†ä¸€æ—¦æˆ‘ä»¬å®Œæˆäº†è¿™ä¸€æ­¥ï¼Œè¿™ç§æˆ‘ä»¬çš„è‡ªå®šä¹‰ hooks å°±å¯ä»¥åƒå¤šæ¬¡è°ƒç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">EditableText</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> title </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> textOnDoubleClick </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDoubleClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> buttonOnDoubleClick </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useDoubleClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ä»»ä½•å®ç°å•å‡»ç±»å‹çš„ç»„ä»¶éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åŒå‡»çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript function" style="color:#d73a49">textOnDoubleClick</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript operator" style="color:#393A34">...</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Text</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript function" style="color:#d73a49">buttonOnDoubleClick</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript operator" style="color:#393A34">...</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ¯ä¸€ä¸ªå¤§å®¶ä¸å¦¨è¯•æƒ³å¦‚æœæŒ‰ç…§æˆ‘ä»¬ä¼ ç»Ÿçš„ render props å®ç°ï¼Œæ¯æ¬¡éƒ½è¦å¤šå†™ä¸€ä¸ª container ç»„ä»¶ï¼Œå¦‚æœç”¨ Mixins æˆ–é«˜é˜¶ç»„ä»¶æ¥å®ç°å°±æ›´éº»çƒ¦ï¼Œæˆ‘ä»¬éœ€è¦åŸºäºæ¯ä¸ªä¸åŒç±»å‹çš„ç»„ä»¶åˆ›é€ ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚è€Œä½¿ç”¨ Hooksï¼Œä»»ä½•ä¸€ä¸ªå®ç°äº†å•æœºç±»å‹çš„ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡æˆ‘ä»¬çš„è‡ªå®šä¹‰ Hook å®ç°åŒå‡»æ•ˆæœï¼Œä¸ç®¡ä»å®ƒçš„å†…éƒ¨å®ç°æ¥çœ‹ï¼Œè¿˜æ˜¯ä»å®ƒæš´éœ²çš„ API æ¥çœ‹éƒ½æ˜¯éå¸¸ä¼˜é›…çš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ€§èƒ½ä¼˜åŒ–">æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬è°ˆä¸€ä¸‹æ€§èƒ½ä¼˜åŒ–ï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿæœ‰è¿‡è¿™ç§æƒ…å†µï¼Œæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œä»–åªéœ€æ‹¿åˆ°ä»–çš„ props è¦æ¸²æŸ“ä¸€æ¬¡ï¼Œä»æ­¤ä¹‹åä»–å°±å†ä¹Ÿä¸éœ€è¦æ›´æ–°äº†ã€‚å¯¹äºä¼ ç»Ÿè€Œè¨€çš„ Class Component æˆ‘ä»¬å¯ä»¥è®¾ç½® <code>shouldComponentUpdate()</code> è¿”å› <code>false</code>ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Numbers</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">shouldComponentUpdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token function" style="color:#d73a49">expensive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">array</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">i</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œå¯¹äºå‡½æ•°å¼ç»„ä»¶è€Œè¨€ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åšä¸€æ ·çš„äº‹æƒ…ã€‚Taro å’Œ React ä¸€æ ·æä¾› <code>Taro.memo</code> APIï¼Œä»–çš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥å—ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°å’Œæˆ‘ä»¬çš„ <code>shouldComponentUpdate()</code> ä¸€æ ·ï¼Œåˆ¤æ–­ç»„ä»¶åœ¨ä»€ä¹ˆæ ·çš„æƒ…å†µä¸‹éœ€è¦æ›´æ–°ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰ä¼ å…¥çš„è¯ï¼Œ<code>Taro.memo</code> çš„æ•ˆæœå°±å’Œ <code>Taro.PureComponent</code> ä¸€æ ·ï¼Œå¯¹æ–°æ—§ props åšä¸€å±‚æµ…å¯¹æ¯”ï¼Œå¦‚æœæµ…å¯¹æ¯”ä¸ç›¸ç­‰åˆ™æ›´æ–°ç»„ä»¶ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Numbers</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> array </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token function" style="color:#d73a49">expensive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token parameter">i</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">memo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Numbers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç¬¬äºŒç§æƒ…å†µæˆ‘ä»¬å¯ä»¥çœ‹çœ‹æˆ‘ä»¬çš„è€æœ‹å‹ï¼Œè®¡æ•°å™¨ç»„ä»¶ã€‚ä½†æ˜¯è¿™ä¸ªè®¡æ•°å™¨ç»„ä»¶å’Œè€æœ‹å‹æœ‰ä¸¤ç‚¹ä¸ä¸€æ ·ï¼šç¬¬ä¸€æ˜¯æ¯æ¬¡ç‚¹å‡» + 1ï¼Œè®¡æ•°å™¨éœ€è¦è°ƒç”¨ <code>expensive</code> å‡½æ•°å¾ªç¯ 1 äº¿æ¬¡æ‰èƒ½æ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„å€¼ï¼Œç¬¬äºŒç‚¹æ˜¯å®ƒå¤šäº†ä¸€ä¸ª <code>Input</code> ç»„ä»¶ã€‚åœ¨æˆ‘ä»¬çœŸå®çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œè¿™ç§æƒ…å†µä¹Ÿå¾ˆå¸¸è§ï¼šæˆ‘ä»¬çš„ç»„ä»¶å¯èƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡æ˜‚è´µçš„æ•°æ®å¤„ç†æ‰èƒ½å¾—åˆ°æœ€ç»ˆæƒ³è¦çš„å€¼ï¼Œä½†è¿™ä¸ªç»„ä»¶åˆè¿˜æœ‰å¤šä¸ª state æ§åˆ¶å…¶å®ƒçš„ç»„ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¦‚æœæ­£å¸¸ä¹¦å†™ä¸šåŠ¡é€»è¾‘æ˜¯æœ‰æ€§èƒ½é—®é¢˜çš„ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setValue</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">expensive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1e9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      sum </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">You</span><span class="token plain"> clicked </span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">expensive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> times</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Input</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> onChange</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token parameter">event</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å› ä¸ºæˆ‘ä»¬ <code>count</code> çš„å€¼è·Ÿ <code>Input</code> çš„å€¼æ²¡æœ‰å…³ç³»ï¼Œä½†æˆ‘ä»¬æ¯æ¬¡æ”¹å˜ <code>Input</code> çš„å€¼ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå¾ªç¯ä¸€äº¿æ¬¡çš„ <code>expensive()</code> å‡½æ•°å°±ä¼šé‡æ–°è°ƒç”¨ã€‚è¿™æ ·æƒ…å†µæ˜¾ç„¶æ˜¯ä¸èƒ½æ¥å—çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>useMemo</code> APIã€‚<code>useMemo</code> çš„ç­¾åå’Œ <code>useEffect</code> æœ‰ç‚¹åƒï¼ŒåŒºåˆ«å°±åœ¨äº <code>useMemo</code> çš„ç¬¬ä¸€ä¸ªå‡½æ•°æœ‰è¿”å›å€¼ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„å€¼åŒæ—¶ä¹Ÿæ˜¯ <code>useMemo</code> å‡½æ•°çš„è¿”å›å€¼ã€‚è€Œç¬¬äºŒä¸ªå‚æ•°åŒæ ·æ˜¯ä¾èµ–æ•°ç»„ï¼Œåªæœ‰å½“è¿™ä¸ªæ•°ç»„çš„æ•°æ®å˜åŒ–æ—¶å€™ï¼Œ<code>useMemo</code> çš„å‡½æ•°æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œå¦‚æœæ•°ç»„æ²¡æœ‰å˜åŒ–ï¼Œé‚£å°±ç›´æ¥ä»ç¼“å­˜ä¸­å–æ•°æ®ã€‚åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬åªéœ€è¦ <code>count</code> å˜åŒ–æ‰è¿›è¡Œè®¡ç®—ï¼Œè€Œ Input value å˜åŒ–æ— éœ€è®¡ç®—ã€‚</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Counter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setCount </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setValue</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">''</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> expensive </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useMemo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      sum </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> count </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// âœ… åªæœ‰ count å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">You</span><span class="token plain"> </span><span class="token maybe-class-name">Clicked</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">expensive</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> times</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Text</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Input</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">val</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> onChange</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token parameter">event</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">detail</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æˆ‘ä»¬åˆšæ‰æåˆ°çš„ä¸¤ä¸ª memo çš„ API ï¼Œä»–çš„å…¨ç§°å…¶å®æ˜¯ <em>Memoization</em>ã€‚ç”±äº Hooks éƒ½æ˜¯åœ¨æ™®é€šå‡½æ•°ä¸­è¿è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšå¥½æ€§èƒ½ä¼˜åŒ–ï¼Œä¸€å®šè¦å¥½å¥½åˆ©ç”¨ç¼“å­˜å’Œè®°å¿†åŒ–è¿™ä¸€æŠ€æœ¯ã€‚</p><blockquote><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œè®°å¿†åŒ–ï¼ˆMemoizationï¼‰æ˜¯ä¸€ç§æé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦çš„ä¼˜åŒ–æŠ€æœ¯ã€‚é€šè¿‡å‚¨å­˜å¤§è®¡ç®—é‡å‡½æ•°çš„è¿”å›å€¼ï¼Œå½“è¿™ä¸ªç»“æœå†æ¬¡è¢«éœ€è¦æ—¶å°†å…¶ä»ç¼“å­˜æå–ï¼Œè€Œä¸ç”¨å†æ¬¡è®¡ç®—æ¥èŠ‚çœè®¡ç®—æ—¶é—´ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¤§è§„æ¨¡çŠ¶æ€ç®¡ç†">å¤§è§„æ¨¡çŠ¶æ€ç®¡ç†<a class="hash-link" href="#å¤§è§„æ¨¡çŠ¶æ€ç®¡ç†" title="Direct link to heading">â€‹</a></h3><p>æåˆ°çŠ¶æ€ç®¡ç†ï¼ŒReact ç¤¾åŒºæœ€æœ‰åçš„å·¥å…·å½“ç„¶æ˜¯ Reduxã€‚åœ¨ <code>react-redux@7</code> ä¸­æ–°å¼•ç”¨äº†ä¸‰ä¸ª API:</p><ol><li><code>useSelector</code>ã€‚å®ƒæœ‰ç‚¹åƒ <code>connect()</code> å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•° <code>mapStateToProps</code>ï¼ŒæŠŠæ•°æ®ä» state ä¸­å–å‡ºæ¥ï¼›</li><li><code>useStore</code> ã€‚è¿”å› <code>store</code> æœ¬èº«ï¼›</li><li><code>useDispatch</code>ã€‚è¿”å› <code>store.dispatch</code>ã€‚</li></ol><p>åœ¨ Taro ä¸­å…¶å®ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡çš„ <code>createContext</code> å’Œ <code>useContext</code> ç›´æ¥å°±æŠŠ <code>useStore</code> å’Œ <code>useDispatch</code> å®ç°äº†ã€‚è€ŒåŸºäº <code>useStore</code> å’Œ <code>useDispatch</code> ä»¥åŠ <code>useState</code>ï¼Œ<code>useMemo</code>ï¼Œ<code>useEffect</code> ä¹Ÿå¯ä»¥å®ç° <code>useSelector</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>react-redux@7</code> çš„æ–° API å…¨éƒ½æ˜¯æ™®é€š Hooks æ„å»ºè€Œæˆçš„è‡ªå®šä¹‰ Hooksã€‚å½“ç„¶æˆ‘ä»¬ä¹ŸæŠŠ <code>react-redux@7</code> çš„æ–°åŠŸèƒ½ç§»æ¤åˆ°äº† <code>@tarojs/redux</code>ï¼Œåœ¨ Taro 1.3 ç‰ˆæœ¬ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™å‡ ä¸ª APIã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="hooks-çš„å®ç°">Hooks çš„å®ç°<a class="hash-link" href="#hooks-çš„å®ç°" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬ç°åœ¨å¯¹ Hooks å·²ç»æœ‰äº†ä»¥ä¸‹çš„äº†è§£ï¼Œä¸€ä¸ªåˆæ³•çš„ Hooks ï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹éœ€æ±‚æ‰èƒ½æ‰§è¡Œ: </p><ul><li>åªèƒ½åœ¨å‡½æ•°å¼å‡½æ•°ä¸­è°ƒç”¨</li><li>åªèƒ½åœ¨å‡½æ•°æœ€é¡¶å±‚ä¸­è°ƒç”¨</li><li>ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ä¸­è°ƒç”¨</li><li>ä¸èƒ½åœ¨å¾ªç¯ä¸­è°ƒç”¨</li><li>ä¸èƒ½åœ¨åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨</li></ul><p>æˆ‘æƒ³è¯·å¤§å®¶æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ª Hook å‡½æ•°éœ€è¦æ»¡è¶³ä»¥ä¸Šçš„éœ€æ±‚å‘¢ï¼Ÿæˆ‘æƒ³è¯·å¤§å®¶ä»¥å¯ä»¥æ¡†æ¶å¼€å‘è€…çš„è§’åº¦å»æ€è€ƒä¸‹è¿™ä¸ªé—®é¢˜ï¼Œè€Œä¸æ˜¯ä»¥ API çš„è°ƒç”¨è€…çš„è§’åº¦å»é€†å‘åœ°æ€è€ƒã€‚å½“ä¸€ä¸ª Hook å‡½æ•°è¢«è°ƒç”¨çš„æ—¶ï¼Œè¿™ä¸ª Hook å‡½æ•°çš„å†…éƒ¨å®ç°åº”è¯¥å¯ä»¥è®¿é—®åˆ°å½“å‰æ­£åœ¨æ‰§è¡Œçš„ç»„ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ Hooks API çš„å…¥å‚å´æ²¡æœ‰ä¼ å…¥è¿™ä¸ªç»„ä»¶ï¼Œé‚£ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ ·çš„è®¾è®¡æ‰å¯ä»¥è®©æˆ‘ä»¬çš„ hook å‡½æ•°è®¿é—®åˆ°æ­£åœ¨æ‰§è¡Œçš„ç»„ä»¶ï¼Œä¹Ÿèƒ½å¤Ÿå‡†ç¡®åœ°å®šä½è‡ªå·±å‘¢ï¼Ÿ</p><p>èªæ˜çš„æœ‹å‹æˆ–è®¸å·²ç»çŒœåˆ°äº†ï¼Œè¿™äº›æ‰€æœ‰çº¿ç´¢éƒ½æŒ‡å‘ä¸€ä¸ªç»“æœï¼Œ<strong>Hooks å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‰é¡ºåºæ‰§è¡Œçš„å‡½æ•°</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡æ•´ä¸ªç»„ä»¶æ‰§è¡Œå¤šå°‘æ¬¡ï¼Œæ¸²æŸ“å¤šå°‘æ¬¡ï¼Œç»„ä»¶ä¸­ Hooks çš„é¡ºåºéƒ½æ˜¯ä¸ä¼šå˜çš„ã€‚</p><p>æˆ‘ä»¬è¿˜çŸ¥é“å¦å¤–ä¸€æ¡è§„åˆ™ï¼ŒHooks æ˜¯ React å‡½æ•°å†…éƒ¨çš„å‡½æ•°ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ï¼Œè¦å®ç° Hooks æœ€å…³é”®çš„é—®é¢˜åœ¨äºä¸¤ä¸ª:</p><ol><li>æ‰¾åˆ°æ­£åœ¨æ‰§è¡Œçš„ React å‡½æ•°</li><li>æ‰¾åˆ°æ­£åœ¨æ‰§è¡Œçš„ Hooks çš„é¡ºåºã€‚</li></ol><p>æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªå…¨å±€çš„å¯¹è±¡å« <code>CurrentOwner</code>ï¼Œå®ƒæœ‰ä¸¤ä¸ªå±æ€§ï¼Œç¬¬ä¸€ä¸ªæ˜¯ <code>current</code>ï¼Œä»–æ˜¯æ­£åœ¨æ‰§è¡Œçš„ <code>Taro</code> å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶åŠ è½½å’Œæ›´æ–°æ—¶è®¾ç½®å®ƒçš„å€¼ï¼ŒåŠ è½½æˆ–æ›´æ–°å®Œæ¯•ä¹‹åå†è®¾ç½®ä¸º <code>null</code>ï¼›ç¬¬äºŒä¸ªå±æ€§æ˜¯ <code>index</code>ï¼Œå®ƒå°±æ˜¯ <code>CurrentOwner.current</code> ä¸­ Hooks çš„é¡ºåºï¼Œæ¯æ¬¡æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ª Hook å‡½æ•°å°±è‡ªå¢ 1ã€‚</p><div class="codeBlockContainer_H5s7 language-typescript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-typescript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">CurrentOwner</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  current</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token maybe-class-name">Component</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  index</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ­£åœ¨æ‰§è¡Œçš„ Taro å‡½æ•°,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// åœ¨ç»„ä»¶åŠ è½½å’Œé‡æ–°æ¸²æŸ“å‰è®¾ç½®å®ƒçš„å€¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  current</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Taro å‡½æ•°ä¸­ hooks çš„é¡ºåº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ¯æ‰§è¡Œä¸€ä¸ª Hook è‡ªå¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  index</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ React ä¸­å…¶å®ä¹Ÿæœ‰è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸”ä½ è¿˜å¯ä»¥ä½¿ç”¨å®ƒï¼Œå®ƒå«åš <code>__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner</code>ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æƒ³ç»™ React 15 å®ç° Hooksï¼Œå…¶å®ä¹Ÿå¯ä»¥åšåˆ°çš„ã€‚ä½†ä¹Ÿæ­£å¦‚å®ƒçš„åå­—ä¸€æ ·ï¼Œå¦‚æœä½ ç”¨äº†è¯´ä¸å®šå°±è¢« fire äº†ï¼Œè¢«ä¼˜åŒ–äº†ï¼Œæ‰€ä»¥æ›´å¥½çš„æ–¹æ¡ˆè¿˜æ˜¯ç›´æ¥ä½¿ç”¨æˆ‘ä»¬ taroã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°æˆ‘ä»¬çš„ <code>getHook</code> å‡½æ•°ï¼ŒåŒæ ·å¾ˆç®€å•ï¼Œå¦‚æœ <code>CurrenOwner.current</code> æ˜¯ <code>null</code>ï¼Œé‚£è¿™å°±ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„ hook å‡½æ•°ï¼Œæˆ‘ä»¬ç›´æ¥æŠ¥é”™ã€‚å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œæˆ‘ä»¬å°±æŠŠ hook çš„ <code>index</code> + 1ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠç»„ä»¶çš„ Hooks éƒ½ä¿å­˜åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼Œå¦‚æœ <code>index</code> å¤§äº Hooks çš„é•¿åº¦ï¼Œè¯´æ˜ Hooks æ²¡æœ‰è¢«åˆ›é€ ï¼Œæˆ‘ä»¬å°± push ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œé¿å…ä¹‹åå–å€¼å‘ç”Ÿ runtime errorã€‚ç„¶åæˆ‘ä»¬ç›´æ¥è¿”å›æˆ‘ä»¬çš„ Hookã€‚</p><div class="codeBlockContainer_H5s7 language-typescript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-typescript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getHook</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Hook</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">CurrentOwner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">invalid hooks call: hooks can only be called in a taro component.</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">CurrentOwner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">index</span><span class="token operator" style="color:#393A34">++</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// hook åœ¨è¯¥ Taro å‡½æ•°ä¸­çš„ ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Hook</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">CurrentOwner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hooks</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ‰€æœ‰çš„ hooks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">index </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> hooks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœ hook è¿˜æ²¡æœ‰åˆ›å»º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hooks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> </span><span class="token maybe-class-name">Hook</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¯¹è±¡å°±æ˜¯ hook çš„å†…éƒ¨çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> hooks</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// è¿”å›æ­£åœ¨æ‰§è¡Œçš„ hook çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ—¢ç„¶æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†æˆ‘ä»¬æ­£åœ¨æ‰§è¡Œçš„ Hooksï¼Œå®Œæ•´åœ°å®ç° Hooks ä¹Ÿå°±ä¸éš¾äº†ã€‚ä¹‹å‰æˆ‘ä»¬è®¨è®ºè¿‡ <code>useState</code> çš„ç­¾åï¼Œç°åœ¨æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥åœ°çœ‹ä»–çš„å®ç°ã€‚</p><p>é¦–å…ˆå¦‚æœ <code>initState</code> æ˜¯å‡½æ•°ï¼Œç›´æ¥æ‰§è¡Œå®ƒã€‚å…¶æ¬¡è°ƒç”¨æˆ‘ä»¬æˆ‘ä»¬ä¹‹å‰å†™å¥½çš„ <code>getHook</code> å‡½æ•°ï¼Œå®ƒè¿”å›çš„å°±æ˜¯ Hook çš„çŠ¶æ€ã€‚æ¥ä¸‹æ¥å°±æ˜¯ useState çš„ä¸»é€»è¾‘ï¼Œå¦‚æœ hook è¿˜æ²¡æœ‰çŠ¶æ€çš„è¯ï¼Œæˆ‘ä»¬å°±å…ˆæŠŠæ­£åœ¨æ‰§è¡Œçš„ç»„ä»¶ç¼“å­˜èµ·æ¥ï¼Œç„¶å <code>useState</code> è¿”å›çš„ï¼Œå°±æ˜¯æˆ‘ä»¬çš„ <code>hook.state</code>, å…¶å®å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå€¼å½“ç„¶å°±æ˜¯æˆ‘ä»¬ <code>initState</code>ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¦‚æœæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å°±æ‰§è¡Œå®ƒï¼Œå¦åˆ™å°±ç›´æ¥æŠŠå‚æ•°èµ‹å€¼ç»™æˆ‘ä»¬ çš„ <code>hook.state</code> ç¬¬ä¸€ä¸ªå€¼ï¼Œèµ‹å€¼å®Œæ¯•ä¹‹åæˆ‘ä»¬æŠŠå½“å‰çš„ç»„ä»¶åŠ å…¥åˆ°æ›´æ–°é˜Ÿåˆ—ï¼Œç­‰å¾…æ›´æ–°ã€‚</p><div class="codeBlockContainer_H5s7 language-typescript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-typescript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">useState</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">S</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initialState</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">S</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">S</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">S</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Dispatch</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">SetStateAction</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">S</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">isFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initialState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœ initialState æ˜¯å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initialState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">initialState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å°±ç›´æ¥æ‰§è¡Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hook </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getHook</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">as</span><span class="token plain"> </span><span class="token maybe-class-name">HookState</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">S</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ‰¾åˆ°è¯¥å‡½æ•°ä¸­å¯¹åº”çš„ hook</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">isUndefined</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å¦‚æœ hook è¿˜æ²¡æœ‰çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">component</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ­£åœ¨æ‰§è¡Œçš„ Taro å‡½æ•°ï¼Œç¼“å­˜èµ·æ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// hook.state å°±æ˜¯æˆ‘ä»¬è¦è¿”å›çš„å…ƒç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      initialState</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> action</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">enqueueRender</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">component</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// åŠ å…¥æ›´æ–°é˜Ÿåˆ—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> hook</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// å·²ç»åˆ›å»º hook å°±ç›´æ¥è¿”å›</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æœ€åæˆ‘ä»¬æŠŠ <code>hook.state</code> è¿”å›å‡ºå»å°±å¤§åŠŸå‘Šæˆäº†ã€‚</p><p>Taro çš„ Hooks æ€»å…±æœ‰å…«ä¸ª APIï¼Œ <code>useState</code> çš„å®ç°å¤§å®¶å¯ä»¥å‘ç°éå¸¸ç®€å•ï¼Œä½†å…¶å®å®ƒçš„ä»£ç é‡å’Œå¤æ‚åº¦æ˜¯æ‰€æœ‰ Hooks çš„å®ç°ä¸­ç¬¬äºŒé«˜çš„ã€‚æ‰€ä»¥å…¶å® Hooks ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé»‘ç§‘æŠ€ï¼Œå¤§å®¶å¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ€»ç»“ä¸å±•æœ›">æ€»ç»“ä¸å±•æœ›<a class="hash-link" href="#æ€»ç»“ä¸å±•æœ›" title="Direct link to heading">â€‹</a></h2><p>åœ¨ 2018 å¹´ Ember.js çš„ä½œè€…æå‡ºè¿‡ä¸€ä¸ªè§‚ç‚¹ï¼Œ<em>Compilers are the New Frameworks</em>ï¼Œç¼–è¯‘å™¨å³æ¡†æ¶ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ‹¿ React æ¥ä¸¾ä¾‹ï¼Œå•å•ä¸€ä¸ª React å…¶å®æ²¡ä»€ä¹ˆç”¨ï¼Œä½ è¿˜éœ€è¦é…åˆ <em>create-react-app</em>, <em>eslint-plugin-react-hooks</em>, <em>prettier</em> ç­‰ç­‰ç¼–è¯‘ç›¸å…³çš„å·¥å…·æœ€ç»ˆæ‰èƒ½æ„æˆä¸€ä¸ªæ¡†æ¶ï¼Œè€Œè¿™äº›å·¥å…·ä¹Ÿæ°å·§æ˜¯ React Core Team çš„äººåˆ›é€ çš„ã€‚è€Œè¿™æ ·è¶‹åŠ¿ä¸ä»…ä»…å‘ç”Ÿåœ¨ React èº«ä¸Šï¼Œå¤§å®¶å¯ä»¥å‘ç°åœ¨2018å¹´ï¼Œå°¤ç‰æºªè€å¸ˆçš„ä¸»è¦å·¥ä½œå°±æ˜¯å¼€å‘ <em>vue-cli</em>ã€‚è€Œå¯¹ä¸€äº›æ›´æ¿€è¿›çš„æ¡†æ¶ï¼Œä¾‹å¦‚ <em>svelte</em>ï¼Œå®ƒçš„æ¡†æ¶å°±æ˜¯ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨å°±æ˜¯æ¡†æ¶ã€‚</p><p>è€Œåˆ°äº† 2019 å¹´ï¼Œæˆ‘æƒ³æå‡ºä¸€ä¸ªæ–°æ¦‚å¿µï¼Œå«æ¡†æ¶å³ç”Ÿæ€ã€‚å°±æ‹¿ Taro æ¥è¯´ï¼Œä½¿ç”¨ Taro ä½ å¯ä»¥å¤ç”¨ React ç”Ÿæ€çš„ä¸œè¥¿ï¼ŒåŒæ—¶ Taro è¿˜æœ‰ <code>taro doctor</code>ï¼ŒTaro å¼€å‘è€…ç¤¾åŒºï¼ŒTaro ç‰©æ–™å¸‚åœºï¼Œè¿˜æœ‰è…¾è®¯å°ç¨‹åºÂ·äº‘å¼€å‘ç­‰ç­‰å¤šä¸ªåˆä½œä¼™ä¼´ä¸€èµ·æ„æˆäº† Taro ç”Ÿæ€ï¼Œè€Œæ•´ä¸ª Taro ç”Ÿæ€æ‰æ˜¯æ¡†æ¶ã€‚åœ¨è¿‡å»çš„åŠå¹´ï¼Œæˆ‘ä»¬æŒç»­æ”¹è¿›å¹¶ä¼˜åŒ–äº† Taro æ¡†æ¶çš„è¡¨ç°ï¼Œä»¥ä¸Šæåˆ°çš„ç‰¹æ€§ä¸åŠŸèƒ½åœ¨ Taro 1.3 å…¨éƒ¨éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚è€Œåœ¨æ¡†æ¶ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿæ·±è€•ç¤¾åŒºï¼Œæ¨å‡ºäº† Taro ç‰©æ–™å¸‚åœºå’Œ Taro å¼€å‘è€…ç¤¾åŒºï¼Œå¹¶å’Œè…¾è®¯å°ç¨‹åºÂ·äº‘å¼€å‘åˆä½œä¸¾åŠäº†ç‰©æ–™å¼€å‘ç«èµ›ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è¯šæŒšé‚€è¯·ä½ ä¸€èµ·æ¥å‚ä¸ç¤¾åŒºè´¡çŒ®ï¼Œè®©å°ç¨‹åºå¼€å‘å˜å¾—æ›´å¥½ã€æ›´å¿«ã€æ›´æ–¹ä¾¿ï¼š</p><ul><li>Taro å®˜ç½‘ï¼š<a href="https://taro.jd.com/" target="_blank" rel="noopener noreferrer">https://taro.jd.com/</a></li><li>Taro ç‰©æ–™å¸‚åœºï¼š<a href="https://taro-ext.jd.com/" target="_blank" rel="noopener noreferrer">https://taro-ext.jd.com/</a></li><li>Taro å¼€å‘è€…ç¤¾åŒºï¼š<a href="https://taro-club.jd.com/" target="_blank" rel="noopener noreferrer">https://taro-club.jd.com/</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro ã€Œç‰©æ–™å¸‚åœºã€åŠã€Œäº¤æµç¤¾åŒºã€ æƒŠå–œä¸Šçº¿]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-06-21-taro-ext-club</link>
            <guid>2019-06-21-taro-ext-club</guid>
            <pubDate>Fri, 21 Jun 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[æˆ‘ä»¬ä¸ä»…å¸¦æ¥äº†ç„•ç„¶ä¸€æ–°çš„ Taro å®˜ç½‘ï¼Œè¿˜ä¸€æ¬¡æ€§æ¨å‡ºäº† Taro ç‰©æ–™å¸‚åœº å’Œ Taro å¼€å‘è€…ç¤¾åŒºã€‚å¸®åŠ© Taro å®ç°ä» å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ åˆ° å¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆ çš„è½¬å‹ã€‚]]></description>
            <content:encoded><![CDATA[<p>æˆ‘ä»¬ä¸ä»…å¸¦æ¥äº†ç„•ç„¶ä¸€æ–°çš„ <a href="https://taro.jd.com" target="_blank" rel="noopener noreferrer">Taro å®˜ç½‘</a>ï¼Œè¿˜ä¸€æ¬¡æ€§æ¨å‡ºäº† <a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer">Taro ç‰©æ–™å¸‚åœº</a> å’Œ <a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer">Taro å¼€å‘è€…ç¤¾åŒº</a>ã€‚å¸®åŠ© Taro å®ç°ä» <strong>å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶</strong> åˆ° <strong>å¤šç«¯ç»Ÿä¸€å¼€å‘è§£å†³æ–¹æ¡ˆ</strong> çš„è½¬å‹ã€‚</p><p>Taro ç‰©æ–™å¸‚åœºï¼š<a href="https://taro-ext.jd.com/" target="_blank" rel="noopener noreferrer">https://taro-ext.jd.com/</a>
Taro å¼€å‘è€…ç¤¾åŒºï¼š<a href="https://taro-club.jd.com/" target="_blank" rel="noopener noreferrer">https://taro-club.jd.com/</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç‰©æ–™å¸‚åœº--è®©æ¯ä¸€ä¸ªè½®å­äº§ç”Ÿä»·å€¼">ç‰©æ–™å¸‚åœº â€” â€œè®©æ¯ä¸€ä¸ªè½®å­äº§ç”Ÿä»·å€¼â€<a class="hash-link" href="#ç‰©æ–™å¸‚åœº--è®©æ¯ä¸€ä¸ªè½®å­äº§ç”Ÿä»·å€¼" title="Direct link to heading">â€‹</a></h2><p>éšç€ Taro å—åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ï¼Œè®¸å¤š Taro é¡¹ç›®ä¹Ÿæ­£å¼æŠ•å…¥ç”Ÿäº§ï¼Œæ¶µç›–åŒ…æ‹¬ ç”µå•†ã€å·¥å…·ã€æœåŠ¡ ç­‰å¤šç§ç±»å‹ï¼Œä¹Ÿæ¶Œç°äº†è®¸å¤šä¼˜ç§€æ¡ˆä¾‹ã€‚</p><p>ä½†é¡¹ç›®å¼€å‘ä¸­ï¼Œå¼€å‘è€…éƒ½ä¸å¾—ä¸é¢ä¸´é‡å¤çš„é€»è¾‘å¼€å‘ï¼Œå¯¹ç°æœ‰çš„é€»è¾‘è¿›è¡Œ Taro ä»£ç çš„é€‚é…ç­‰é—®é¢˜ï¼Œä¸¥é‡å½±å“å¼€å‘æ•ˆèƒ½ã€‚</p><p><strong>å¼€æºçš„æ—¶ä»£ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›é—­é—¨é€ è½¦ï¼Œæˆ‘ä»¬è¯šé‚€å¼€å‘è€…ä»¬å…±åŒæ‰“é€ å®Œæ•´çš„ å¤šç«¯é€‚é… ç”Ÿæ€ï¼Œä¸€èµ·æ²‰æ·€ä¼˜ç§€çš„å¼€å‘ç‰©æ–™ï¼Œè¿›è€Œèµ‹èƒ½æ›´å¤šçš„å¼€å‘è€…ã€‚</strong></p><p>å› æ­¤ï¼Œç‰©æ–™å¸‚åœºåº”è¿è€Œç”Ÿã€‚</p><p>æˆ‘ä»¬å°†ç‰©æ–™åˆ’åˆ†ä¸º 4 ä¸ªå¤§ç±»ï¼šç»„ä»¶ã€UI åº“ã€æ¨¡ç‰ˆã€SDKã€‚æ¯ä¸ªç‰©æ–™éƒ½é…æœ‰è¯´æ˜æ–‡æ¡£ï¼Œå¹¶å¯¹æ”¯æŒçš„ç«¯è¿›è¡Œæ ‡è®°ï¼Œæ–¹ä¾¿æ¥å…¥ä½¿ç”¨ã€‚</p><p>ç‰©æ–™çš„è·å–æ–¹å¼ä¹Ÿç›¸å½“çµæ´»ï¼Œå¯é€šè¿‡ ZIP/TAR åŒ…ä¸‹è½½ï¼Œä¹Ÿå¯ç›´æ¥é€šè¿‡ä½œè€…æä¾›çš„ NPM æˆ– GitHub åœ°å€ä¸‹è½½ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥å¯¹ç‰©æ–™è¿›è¡Œè¯„è®ºã€æ”¶è—å’Œæ‰“åˆ†ï¼Œè¿™å°†ä½œä¸ºè¡¡é‡ç‰©æ–™è´¨é‡çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œä¸ºç­›é€‰ç‰©æ–™æä¾›å‚è€ƒã€‚</p><p><img loading="lazy" src="https://img12.360buyimg.com/ling/jfs/t1/60468/2/4173/311061/5d249803Ef06153d5/bf6c7bf4ae9deda0.png" alt="https://taro-ext.jd.com" class="img_ROth"></p><p>åç»­ï¼Œæˆ‘ä»¬å°†åŠ å…¥æ‰“èµåŠŸèƒ½ï¼Œå¼€å‘è€…é€šè¿‡å‘å¸ƒä¼˜è´¨çš„ç‰©æ–™ï¼Œç»™ä¸åˆ«äººä¾¿åˆ©çš„åŒæ—¶ï¼Œè‡ªå·±å¯ä»¥æ”¶è·ä¸€å®šçš„å¥–åŠ±ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä¼šä¸æ–­å®Œå–„ç‰©æ–™è´¨é‡è¯„å®šæ ‡å‡†ï¼Œåˆ¶å®šç”¨æˆ·ç§¯åˆ†ä½“ç³»ï¼Œç­‰ç­‰ã€‚è¿™éƒ½å°†ä¿ƒè¿›æ•´ä¸ªç”Ÿæ€æ›´åŠ å¥åº·è€Œå…¨é¢çš„å‘å±•ã€‚</p><blockquote><p>å¦‚æœä½ å¯¹ç‰©æ–™å¸‚åœºæœ‰ä»»ä½•å»ºè®®ï¼Œæˆ–æœ‰æ„æ„¿å‚ä¸ç‰©æ–™å¸‚åœºçš„å»ºè®¾ï¼Œæ¬¢è¿éšæ—¶ä¸æˆ‘ä»¬è”ç³»ï¼š<a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a>ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘è€…ç¤¾åŒº--è®©æ¯ä¸€æ¬¡äº¤æµè¢«æ²‰æ·€">å¼€å‘è€…ç¤¾åŒº â€” â€œè®©æ¯ä¸€æ¬¡äº¤æµè¢«æ²‰æ·€â€<a class="hash-link" href="#å¼€å‘è€…ç¤¾åŒº--è®©æ¯ä¸€æ¬¡äº¤æµè¢«æ²‰æ·€" title="Direct link to heading">â€‹</a></h2><p>ç›®å‰ï¼ŒTaro å…±æ”¶åˆ°äº† 2k å¤šä¸ª GitHub Issueï¼Œå¹¶å»ºç«‹äº†åå¤šä¸ªå¼€å‘äº¤æµå¾®ä¿¡ç¾¤ï¼ˆæ¯ä¸ªç¾¤ä¸Šé™äººæ•° 500ï¼‰ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›ä¸å¼€å‘è€…è¿›è¡ŒåŠæ—¶ä¸”é¡ºç•…çš„äº¤æµï¼Œæ›´å¸Œæœ›æ¯ä¸€æ¬¡çš„é—®é¢˜ç­”ç–‘ã€ç»éªŒäº¤æµéƒ½èƒ½è¢«æ²‰æ·€ï¼Œåˆ†äº«ç»™æ›´å¤šå¼€å‘è€…ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬æ¸´æœ›å¼€å‘è€…ä¹‹é—´å¯ä»¥å¼€æ”¾äº’åŠ©ï¼Œå› æ­¤æˆ‘ä»¬æ‰“é€ äº†ä¸€ä¸ªå…¨æ–°çš„å¼€å‘è€…ç¤¾åŒºã€‚</p><p>å¼€å‘è€…å¯é€šè¿‡ç¤¾åŒºå¤šä¸ªç‰ˆå—äº¤æµé—®é¢˜ã€å…±äº«ç»éªŒã€å‘å¸ƒæ¡ˆä¾‹ï¼Œç­‰ç­‰ã€‚</p><p>Taro ç¤¾åŒºåŸºäº NodeBB å¼€å‘ï¼Œå…±è®¾æœ‰ 12 ä¸ªç‰ˆå—ï¼ŒåŒ…æ‹¬ Taroã€Taro UI åŠå…¶å¯¹åº”è½¬æ¢çš„ 8 ä¸ªç«¯ï¼Œæœ‰æ•ˆåœ°å¯¹å†…å®¹åšäº†å½’ç±»ã€‚æ­¤å¤–ï¼Œè¿˜è®¾ç½®äº† æ–°é—» ç‰ˆå—ï¼Œç”¨äºå‘å¸ƒ Taro æ–°é—»ã€å…¬å‘Šã€è§„åˆ’ç­‰ï¼›æ‹›è˜ ç‰ˆå—ï¼Œè®© Taro æ±‚èŒè€…å’Œæ‹›è˜è€…å¿«é€ŸåŒ¹é…ï¼›çŒæ°´ ç‰ˆå—ï¼Œæä¾›ä¸€ä¸ªå¥åº·æ–‡æ˜çš„äº¤æµï¼ˆyouï¼‰å¹³å°ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/44845/24/4669/389115/5d249802Ea7d24923/6652e638c889128c.png" alt="https://taro-club.jd.com" class="img_ROth"></p><p>ä¸ºäº†åŠ å¼ºç¤¾åŒºå†…å®¹çš„ç®¡ç†ï¼Œæˆ‘ä»¬æ²‰æ·€äº†ä¸€å¥—è‡ªåŠ¨åŒ–çš„ç¤¾åŒºç®¡ç†è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡æ™ºèƒ½åˆ†æå¾®ä¿¡ç¾¤èŠè®°å½•ï¼Œå¯¹æœ‰æ•ˆä¿¡æ¯è¿›è¡Œç­›é€‰å’Œæ•´åˆï¼Œè‡ªåŠ¨åŒæ­¥è‡³ç¤¾åŒºï¼›å¹¶ä½¿ç”¨æ’ä»¶ GitHub Embed å°† GitHub Issue ç›´æ¥å¯¼å…¥ï¼Œä»è€Œæ‰“é€š GitHubã€å¾®ä¿¡ã€ç¤¾åŒº ä¸‰æ–¹å¹³å°ï¼Œæ—¨åœ¨è®©ç¤¾åŒºå†…å®¹æ›´åŠæ—¶ã€æ›´å…¨é¢ã€‚</p><blockquote><p>å¦‚æœä½ å¯¹å¼€å‘è€…ç¤¾åŒºæœ‰ä»»ä½•å»ºè®®ï¼Œæˆ–æœ‰æ„æ„¿å‚ä¸ç¤¾åŒºçš„å»ºè®¾ä¸ç®¡ç†å·¥ä½œï¼Œæ¬¢è¿éšæ—¶ä¸æˆ‘ä»¬è”ç³»ï¼š<a href="mailto:taro@jd.com" target="_blank" rel="noopener noreferrer">taro@jd.com</a>ã€‚</p></blockquote><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å®˜ç½‘--å…¨æ–°é¢è²Œè“„åŠ¿å¾…å‘">å®˜ç½‘ â€” â€œå…¨æ–°é¢è²Œï¼Œè“„åŠ¿å¾…å‘â€<a class="hash-link" href="#å®˜ç½‘--å…¨æ–°é¢è²Œè“„åŠ¿å¾…å‘" title="Direct link to heading">â€‹</a></h2><p>å¼€æºè¿‘ä¸€å¹´ï¼ŒTaro æˆé•¿äº†è®¸å¤šã€‚ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬è¯•å›¾ç”¨ React æ¥å®ç°å¾®ä¿¡å°ç¨‹åºå¼€å‘ï¼›è€Œç°åœ¨ï¼Œæˆ‘ä»¬æœŸå¾…çš„æ˜¯ï¼ŒTaro åœ¨ç§»åŠ¨ç«¯å¼€å‘ã€å¤šç«¯é€‚é…é¢†åŸŸå¯ä»¥æ— å¾€ä¸åˆ©ã€‚</p><p>Taro æ­£åœ¨ç»å†ç”±å†…è€Œå¤–çš„æˆé•¿ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯¹ Taro å“ç‰Œè¿›è¡Œäº†å…¨æ–°å‡çº§ï¼Œæ—¨åœ¨èµ‹äºˆå…¶ç‹¬ç‰¹çš„å“ç‰Œé£æ ¼ã€‚</p><p>å…¨æ–°çš„å®˜ç½‘å°†ä½œä¸ºå“ç‰ŒåŒ–çš„ä¸€ä¸ªçª—å£ï¼Œä¸ä»…å¸¦æ¥äº†å…¨æ–°çš„è§†è§‰ä½“éªŒï¼Œå†…å®¹ä¸Šæ›´æ˜¯å¢åŠ äº†ç”Ÿæ€èƒ½åŠ›å’Œä¸šç•Œåˆä½œçš„å±•ç¤ºï¼Œå¹¶ä¸°å¯Œäº†åº”ç”¨æ¡ˆä¾‹å’Œå­¦ä¹ èµ„æ–™ï¼Œæ–¹ä¾¿å¼€å‘è€…è¿…é€Ÿä¸Šæ‰‹ Taroã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/ling/jfs/t1/74056/33/4068/719706/5d249804E8e1ee173/c6196956418ed998.png" alt="https://taro.jd.com" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ„¿æ™¯">æ„¿æ™¯<a class="hash-link" href="#æ„¿æ™¯" title="Direct link to heading">â€‹</a></h2><p>è¿™ä¸€åˆ‡ä»…ä»…æ˜¯èµ·æ­¥ï¼Œæœªæ¥æˆ‘ä»¬è¿˜å°†æ¨å‡ºæ›´å¤šå¹³å°ã€å·¥å…·ã€æœåŠ¡ï¼ŒåŠªåŠ›å°† Taro æ‰“é€ ä¸ºåå‰¯å…¶å®çš„ç§»åŠ¨ç«¯è§£å†³æ–¹æ¡ˆã€‚</p><p>å¸Œæœ›é€šè¿‡æˆ‘ä»¬çš„ç‚¹æ»´åŠªåŠ›ï¼Œåˆ›é€ å‡ºæ›´å¥½çš„ç§»åŠ¨ç«¯å¼€å‘ç¯å¢ƒï¼Œè®©å·¥ä½œå›å½’ç®€å•ã€è®©ç”Ÿæ´»æ—¥ç›Šä¸°æ»¡ã€‚</p><p>ç›¸å…³ç½‘å€ï¼š</p><ul><li>Taro å®˜ç½‘ï¼š<a href="https://taro.jd.com" target="_blank" rel="noopener noreferrer">https://taro.jd.com</a></li><li>Taro ç‰©æ–™å¸‚åœº: <a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer">https://taro-ext.jd.com</a></li><li>Taro ç¤¾åŒºï¼š<a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer">https://taro-club.jd.com</a></li><li>GitHub: <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro 1.3 éœ‡æ’¼å‡çº§ï¼šå…¨é¢æ”¯æŒ JSX è¯­æ³•å’Œ HOOKS]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-06-13-taro-1-3</link>
            <guid>2019-06-13-taro-1-3</guid>
            <pubDate>Thu, 13 Jun 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[åœ¨ Taro 1.2 å‘å¸ƒä¹‹åï¼ŒTaro åœ¨ä¸šç•Œæ”¶è·äº†å·¨å¤§çš„èµèª‰å’Œå…³æ³¨ï¼šGitHub ä¸Š Star æ•°é‡è¶…è¿‡ 19000 ç²’ï¼ŒNPM ä¸‹è½½é‡ä¹Ÿç¨³å±…åŒç±»å¼€å‘æ¡†æ¶ä¹‹é¦–ï¼ŒåŒæ—¶ Taro å›¢é˜Ÿä¹Ÿå’Œè…¾è®¯ã€ç™¾åº¦ã€åä¸ºç­‰æ•°åå®¶ä¸šç•Œå·¨å¤´çš„ç ”å‘å›¢é˜Ÿå±•å¼€äº†æ·±å…¥å’Œæœ‰æ•ˆçš„åˆä½œã€‚]]></description>
            <content:encoded><![CDATA[<p>åœ¨ Taro 1.2 å‘å¸ƒä¹‹åï¼ŒTaro åœ¨ä¸šç•Œæ”¶è·äº†å·¨å¤§çš„èµèª‰å’Œå…³æ³¨ï¼šGitHub ä¸Š Star æ•°é‡è¶…è¿‡ 19000 ç²’ï¼ŒNPM ä¸‹è½½é‡ä¹Ÿç¨³å±…åŒç±»å¼€å‘æ¡†æ¶ä¹‹é¦–ï¼ŒåŒæ—¶ Taro å›¢é˜Ÿä¹Ÿå’Œè…¾è®¯ã€ç™¾åº¦ã€åä¸ºç­‰æ•°åå®¶ä¸šç•Œå·¨å¤´çš„ç ”å‘å›¢é˜Ÿå±•å¼€äº†æ·±å…¥å’Œæœ‰æ•ˆçš„åˆä½œã€‚</p><p>Taro 1.3 æ˜¯æˆ‘ä»¬é…é…¿æœ€ä¹…çš„ç‰ˆæœ¬ï¼šç»å†äº†æ¨ªè·¨ 6 ä¸ªæœˆçš„å¼€å‘æ—¶é—´ï¼Œè¿‘ 2000 æ¬¡çš„ä»£ç æäº¤ï¼Œè¿‘ç™¾ä½å¼€å‘è€…çš„å…±åŒå‚ä¸ã€‚æˆ‘ä»¬ç»ˆäºåœ¨ä»Šå¤©éª„å‚²åœ°å‘å¸ƒäº† Taro 1.3ã€‚</p><p>Taro 1.3 çš„ç‰¹æ€§åŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li>æ”¯æŒå¿«åº”ç”¨å’Œ QQ å°ç¨‹åºçš„å¼€å‘</li><li>å…¨é¢æ”¯æŒ JSX è¯­æ³•å’Œ React Hooks</li><li>å¤§å¹…æé«˜ H5 æ€§èƒ½å’Œå¯ç”¨æ€§</li><li>Taro Doctor</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒå¿«åº”ç”¨å’Œ-qq-å°ç¨‹åºçš„å¼€å‘">æ”¯æŒå¿«åº”ç”¨å’Œ QQ å°ç¨‹åºçš„å¼€å‘<a class="hash-link" href="#æ”¯æŒå¿«åº”ç”¨å’Œ-qq-å°ç¨‹åºçš„å¼€å‘" title="Direct link to heading">â€‹</a></h2><p>å¿«åº”ç”¨çš„å¼€å‘æ¨¡å¼éå¸¸ç‰¹åˆ«ï¼Œå®ƒçš„ APIã€ç»„ä»¶ç³»ç»Ÿã€ç»„ä»¶åº“å’Œå…¶ä»–å°ç¨‹åºç«¯å·®å¼‚éå¸¸å¤§ï¼Œå¹¶ä¸”å¿«åº”ç”¨åªæ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œå„å®¶å®‰å“å‚å•†å¯¹è¿è¡Œæ—¶çš„å®ç°ä¹Ÿå„ä¸ç›¸åŒã€‚è€Œè¿™å—ã€Œç¡¬éª¨å¤´ã€ç»ˆäºä¹Ÿè¢« Taro å•ƒä¸‹äº†ã€‚</p><p>QQ å°ç¨‹åºä½œä¸ºæ–°å…´çš„å°ç¨‹åºç±»å®¹å™¨ï¼Œå¤§å®¶æ™®éå¯¹å®ƒçŸ¥ä¹‹ç”šå°‘ï¼Œä½† Taro ä¹Ÿç‡å…ˆå®ç°äº†å¯¹ QQ å°ç¨‹åºçš„æ”¯æŒã€‚</p><p>æ”¯æŒå¿«åº”ç”¨å’Œ QQ å°ç¨‹åºæ„å‘³ç€ Taro çœŸæ­£å¯¹ä¸šç•Œä¸»æµå°ç¨‹åºå®ç°äº†ã€Œå…¨è¦†ç›–ã€ï¼Œä¸ç®¡ä½ çš„ä¸šåŠ¡è¦æ”¯æŒå“ªä¸€ä¸ªå°ç¨‹åºç«¯ï¼Œåªè¦ç»´æŠ¤ä¸€å¥—ä»£ç ï¼ŒTaro å°±èƒ½ç”Ÿæˆå¯¹åº”å°ç¨‹åºå¹³å°çš„ä»£ç ã€‚åŒæ—¶ Taro ä¹Ÿæˆä¸ºäº†ä¸šç•Œé¦–ä¸ªåŒæ—¶æ”¯æŒå¾®ä¿¡å°ç¨‹åºã€ç™¾åº¦æ™ºèƒ½å°ç¨‹åºã€å­—èŠ‚è·³åŠ¨å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€å¿«åº”ç”¨ã€QQ å°ç¨‹åºå…± 6 ç«¯å°ç¨‹åºçš„å¼€å‘æ¡†æ¶ã€‚</p><p><img loading="lazy" src="https://i.loli.net/2019/06/12/5d00a06c3241c16517.png" alt="taro.jd.com.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…¨é¢æ”¯æŒ-jsx-è¯­æ³•å’Œ-react-hooks">å…¨é¢æ”¯æŒ JSX è¯­æ³•å’Œ React Hooks<a class="hash-link" href="#å…¨é¢æ”¯æŒ-jsx-è¯­æ³•å’Œ-react-hooks" title="Direct link to heading">â€‹</a></h2><p>ä½œä¸ºä½¿ç”¨ React å’Œ JSX è¯­æ³•çš„å¼€å‘æ¡†æ¶ï¼ŒTaro æ—©æœŸçš„ç‰ˆæœ¬åœ¨ç¼–è¯‘å™¨å’Œç¼–è¾‘å™¨æ£€æŸ¥å·¥å…·éƒ½å¯¹è¯­æ³•åšäº†é«˜å¼ºåº¦çš„é™åˆ¶ã€‚è€Œåœ¨ Taro 1.3 ä¸­ï¼Œå¼€å‘è€…å¯ä»¥å……åˆ†å‘æŒ¥è‡ªå·±çš„åˆ›é€ åŠ›å’Œæƒ³è±¡åŠ›ï¼Œå¯ä»¥ä»»æ„åœ°å†™ <code>if-else</code>ï¼Œå¯ä»¥ä»»æ„åœ°å†™åŒ¿åå‡½æ•°ï¼Œå¯ä»¥æŠŠ JSX æ”¾åœ¨ç±»å‡½æ•°ä¸­ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨æ™®é€šå‡½æ•°ä¸­ï¼Œç­‰ç­‰ã€‚åªè¦ç¼–è¯‘å™¨å’Œå’Œ ESLint ä¸æŠ¥é”™ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ã€‚</p><p>è™½ç„¶ React Hooks æ­£å¼ç¨³å®šçš„æ—¶é—´å¹¶ä¸é•¿ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºè¿™ä¸ªç‰¹æ€§èƒ½æœ‰æ•ˆåœ°ç®€åŒ–å¼€å‘æ¨¡å¼ï¼Œæå‡å¼€å‘æ•ˆç‡å’Œå¼€å‘ä½“éªŒã€‚å³ä¾¿ Hooks çš„ç”Ÿæ€å’Œæœ€ä½³å®è·µè¿˜å°šæœªå®Œå–„ï¼Œä½†æˆ‘ä»¬ç›¸ä¿¡æœªæ¥ Hooks ä¼šæˆä¸º React å¼€å‘æ¨¡å¼çš„ä¸»æµï¼Œä¹Ÿä¼šæ·±åˆ»åœ°å½±å“å…¶å®ƒæ¡†æ¶æœªæ¥çš„ API æ„æˆã€‚æ‰€ä»¥æˆ‘ä»¬ä¼˜å…ˆæŠŠ React Hooks å¸¦åˆ°äº† Taro ä¸­ï¼Œè¿˜å†™äº†ä¸¤ä¸ªå°ä¾‹å­å±•ç¤ºå¦‚ä½•åœ¨ Taro ä¸­ä½¿ç”¨ Hooksï¼š</p><p>V2EX: <a href="https://github.com/NervJS/taro-v2ex-hooks" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-v2ex-hooks</a></p><p>TodoMVC: <a href="https://github.com/NervJS/taro-todomvc-hooks" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-todomvc-hooks</a></p><p><img loading="lazy" src="https://i.loli.net/2019/06/12/5d00a06a479f225719.png" alt="carbon.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å…¨æ–°ç”Ÿå‘½å‘¨æœŸå’Œ-context-api">å…¨æ–°ç”Ÿå‘½å‘¨æœŸå’Œ Context API<a class="hash-link" href="#å…¨æ–°ç”Ÿå‘½å‘¨æœŸå’Œ-context-api" title="Direct link to heading">â€‹</a></h2><p>åœ¨ Taro 1.3 æˆ‘ä»¬è¿˜å®ç°äº† React 16 çš„æ–°ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>static getDerivedStateFromProps()</code> å’Œ <code>getSnapshotBeforeUpdate()</code>ã€‚å½“æ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ³¨å…¥åˆ°ç±»ç»„ä»¶æ—¶ï¼Œè€çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å°†ä¸ä¼šè¢«è°ƒç”¨ï¼Œæ²¡æœ‰ä½¿ç”¨æ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°åˆ™ä¸ä¼šå½±å“åŸæœ‰ç”Ÿå‘½å‘¨æœŸçš„è°ƒç”¨ã€‚å°±å¤šæ•°æƒ…å†µè€Œè¨€ï¼Œæˆ‘ä»¬æ›´æ¨èä½¿ç”¨æ–°çš„ç”Ÿå‘½å‘¨æœŸæ¥æ„å»ºä½ çš„ç±»ç»„ä»¶ï¼Œå› ä¸ºè¿™æ ·èƒ½å‡å°‘ä¸€æ¬¡æ¸²æŸ“å’Œæ›´æ–°çš„å¼€é”€ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹<a href="/taro-docs/docs/apis/about/tarocomponent#static-getderivedstatefromprops">ç›¸å…³æ–‡æ¡£</a>ã€‚</p><p>Taro 1.3 è¿˜å®ç°äº† React 16 çš„ <code>createContext</code>ã€<code>contextType</code> å’Œ <code>useContext</code> APIã€‚æ–° Context é€šè¿‡å£°æ˜å¼çš„ API æ¥ä¼ é€’ç»„ä»¶çš„æ›´æ–°ï¼Œä½¿å¾—Taro è·¨ç»„ä»¶é€šä¿¡å’Œå…±äº«çŠ¶æ€æ›´ä¸ºç›´è§‚ã€‚åŒæ—¶ï¼Œä¾‹å¦‚ <code>react-redux</code> è¿™æ ·çš„çƒ­é—¨åº“ä¹Ÿæ­£åœ¨åŸºäº <code>Context</code> å’Œ <code>Hooks</code> è¿›è¡Œé‡æ„ï¼Œæˆ‘ä»¬ä¹Ÿéå¸¸æœŸå¾…ä¸ç¤¾åŒºä¸€èµ·æ¢ç´¢ React/Taro æ–°çš„å¼€å‘ä¸è®¾è®¡æ¨¡å¼ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¤§å¹…æé«˜-h5-æ€§èƒ½å’Œå¯ç”¨æ€§">å¤§å¹…æé«˜ H5 æ€§èƒ½å’Œå¯ç”¨æ€§<a class="hash-link" href="#å¤§å¹…æé«˜-h5-æ€§èƒ½å’Œå¯ç”¨æ€§" title="Direct link to heading">â€‹</a></h2><p>ä½œä¸ºé™¤å¾®ä¿¡å°ç¨‹åºä¹‹å¤–éœ€æ±‚é‡æœ€é«˜çš„ç«¯ï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½éƒ¨ç½²äº†é‡è¦çš„å¼€å‘æˆ˜åŠ›åœ¨ H5 ç«¯ã€‚è€Œåœ¨ Taro 1.3 ä¸­ï¼Œæˆ‘ä»¬ä¼˜åŒ–äº†ç¼–è¯‘ä»£ç çš„æ–¹å¼ï¼Œå®ç°äº†èµ„æºæœ€å°å¼•å…¥å’ŒæŒ‰éœ€å¼•å…¥ï¼Œå°†åŸæœ‰æœ€å°é¡¹ç›®çš„ç¼–è¯‘å¤§å°é™ä½äº† 80% å·¦å³ã€‚è¿™å¯¹äºç½‘ç»œçŠ¶å†µä¸ä½³çš„ H5 ç«¯æ— ç–‘æ˜¯å·¨å¤§çš„æå‡ã€‚</p><p>H5 ç«¯çš„ API æ•°é‡å’Œè´¨é‡ä¹Ÿå¾—åˆ°äº†å¤§å¹…åœ°å¢é•¿ï¼ŒTaro 1.3 æ–°å¢äº† 28 ä¸ª H5 APIï¼Œè§£å†³äº†ä¸Šç™¾ä¸ª H5 ç›¸å…³çš„ issueã€‚</p><p>å…³äº H5 ç«¯æ€§èƒ½æ›´æ„Ÿå…´è¶£å¯ä»¥æŸ¥çœ‹æ–‡ç« :<a href="https://aotu.io/notes/2019/02/28/taro-h5-optimize/" target="_blank" rel="noopener noreferrer">ã€Šå†³æˆ˜æ€§èƒ½ä¹‹å·… - Taro H5 è½¬æ¢ä¸ä¼˜åŒ–å‡çº§ã€‹</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-doctor">Taro Doctor<a class="hash-link" href="#taro-doctor" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬è¿˜ä» Flutter Doctor ä¸­å¾—åˆ°å¯å‘ï¼Œå¼€å‘äº† Taro Doctorã€‚ Taro Doctor å°±åƒä¸€ä¸ªåŒ»ç”Ÿä¸€æ ·ï¼Œå¯ä»¥è¯Šæ–­é¡¹ç›®çš„ä¾èµ–ã€è®¾ç½®ã€ç»“æ„ï¼Œä»¥åŠä»£ç çš„è§„èŒƒæ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œå¹¶å°è¯•ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚</p><p>ä½†å’ŒçœŸæ­£çš„åŒ»ç”Ÿä¸ä¸€æ ·ï¼ŒTaro Doctor ä¸éœ€è¦æ’é˜ŸæŒ‚å·ï¼Œä¹Ÿä¸ç”¨èŠ±é’±ã€‚ä½ åªéœ€è¦åœ¨ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼š<code>taro doctor</code>ï¼Œå°±åƒå›¾é‡Œä¸€æ ·ï¼š</p><p><img loading="lazy" src="https://i.loli.net/2019/04/19/5cb992ee1b2f1.png" alt="taro-doctor.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è¿˜æœ‰æ›´å¤š">è¿˜æœ‰æ›´å¤š<a class="hash-link" href="#è¿˜æœ‰æ›´å¤š" title="Direct link to heading">â€‹</a></h2><p>é™¤äº†ä»¥ä¸Šçš„ç‰¹æ€§ä¹‹å¤–ï¼ŒTaro 1.3 è¿˜åšäº†è®¸å¤šé¢å¤–çš„å·¥ä½œï¼Œè¿™äº›å·¥ä½œå¯èƒ½å¯¹æ—¥å¸¸å¼€å‘å½±å“ä¸å¤§ï¼Œä½†ä¸º Taro çš„ç¨³å®šæ€§ä»¥åŠå°†æ¥æ›´å¤šçš„å¯èƒ½æ€§å¤¯å®äº†åŸºç¡€ï¼š</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç»„ä»¶ä¼ å‚propsç³»ç»Ÿé‡æ„">ç»„ä»¶ä¼ å‚ï¼ˆpropsï¼‰ç³»ç»Ÿé‡æ„<a class="hash-link" href="#ç»„ä»¶ä¼ å‚propsç³»ç»Ÿé‡æ„" title="Direct link to heading">â€‹</a></h3><p>åœ¨  Taro 1.0 åˆ° 1.2 çš„å°ç¨‹åºç«¯ï¼Œæˆ‘ä»¬ä¸€ç›´ä½¿ç”¨åŸç”Ÿå°ç¨‹åºæ¡†æ¶çš„ç»„ä»¶ä¼ å‚ç³»ç»Ÿï¼Œä½†å°ç¨‹åºç»„ä»¶ç³»ç»Ÿæ²¡åŠæ³•ä¼ é€’å‡½æ•°çš„å€¼ï¼Œä¹Ÿæ— æ³•ä¼ é€’éå…·åå‚æ•°ï¼Œå¹¶ä¸”å„å°ç¨‹åºç»„ä»¶çš„å®ç°å„ä¸ç›¸åŒã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåœ¨ Taro 1.3 ä¸­æˆ‘ä»¬è‡ªå·±å®ç°äº†ä¸€å¥—ç»„ä»¶ä¼ å‚ç³»ç»Ÿã€‚æ–°ç³»ç»Ÿä¼šä½¿å¾—ä¼ å‚ç›¸å…³çš„ä»£ç æ›´ä¸ºå¯é ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æˆ‘ä»¬æ”¯æŒæ›´å¤š JSX è¯­æ³•çš„åŸºç¡€ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å‘½ä»¤è¡Œå·¥å…·cli-é‡æ„">å‘½ä»¤è¡Œå·¥å…·ï¼ˆCLIï¼‰ é‡æ„<a class="hash-link" href="#å‘½ä»¤è¡Œå·¥å…·cli-é‡æ„" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro 1.3ï¼Œæˆ‘ä»¬å°†å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨ TypeScript è¿›è¡Œäº†é‡æ„å¹¶é€æ­¥æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹ã€‚é‡æ„ä¹‹åæˆ‘ä»¬å¯ä»¥æ›´åŠ å¤§èƒ†åœ°ä¸º CLI æ·»åŠ æ–°åŠŸèƒ½ï¼Œæ›¿æ¢è€æ—§ä¾èµ–ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¼šå°† CLI çš„åŠŸèƒ½ä»¥ API çš„å½¢å¼æš´éœ²å‡ºæ¥ï¼Œèµ‹èƒ½ç»™å…¶å®ƒå¼€å‘å·¥å…·å’Œæˆ‘ä»¬çš„åˆä½œä¼™ä¼´ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç§»åŠ¨ç«¯å®¹å™¨æ›´æ¢">ç§»åŠ¨ç«¯å®¹å™¨æ›´æ¢<a class="hash-link" href="#ç§»åŠ¨ç«¯å®¹å™¨æ›´æ¢" title="Direct link to heading">â€‹</a></h3><p>æˆ‘ä»¬å’Œäº¬ä¸œçš„ <a href="https://ares.jd.com/platform" target="_blank" rel="noopener noreferrer">ARES</a> å›¢é˜Ÿåˆä½œï¼ŒæŠŠåŸæœ‰çš„ç§»åŠ¨ç«¯å®¹å™¨ <a href="https://expo.io" target="_blank" rel="noopener noreferrer">expo</a> æ›¿æ¢ä¸ºæ·±åº¦å®šåˆ¶çš„ JDReactã€‚JDReact å¤§å¹…æå‡äº† Taro ç§»åŠ¨ç«¯çš„å¯æ§æ€§ï¼Œå¯ä»¥è®©æˆ‘ä»¬çªç ´ <code>expo</code> çš„æ£è‚˜ï¼Œå¼•å…¥åŸç”Ÿç§»åŠ¨ç«¯ä»£ç ï¼Œæä¾›å®šåˆ¶åŠŸèƒ½å’Œ APIï¼Œå¹¶ä¸”æ€§èƒ½å’Œç¨³å®šæ€§çš„è¡¨ç°éƒ½ä¼šæ›´å¥½ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒå¼€å‘å°ç¨‹åºæ’ä»¶">æ”¯æŒå¼€å‘å°ç¨‹åºæ’ä»¶<a class="hash-link" href="#æ”¯æŒå¼€å‘å°ç¨‹åºæ’ä»¶" title="Direct link to heading">â€‹</a></h3><p>å°ç¨‹åºæ’ä»¶æ˜¯å°ç¨‹åºå¸¦æ¥çš„ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ç‰¹æ€§ï¼Œå¯ä»¥æå¤§åœ°æé«˜ä»£ç å¤ç”¨ç‡ï¼Œé™ä½åŒ…å¤§å°ï¼Œä¸ºå¼€å‘è€…å¸¦æ¥è¯¸å¤šä¾¿åˆ©ï¼Œç›®å‰å¾®ä¿¡ã€æ”¯ä»˜å®å°ç¨‹åºå·²ç»æ”¯æŒæ’ä»¶åŠŸèƒ½ã€‚è€Œä» 1.3 ç‰ˆæœ¬å¼€å§‹ï¼ŒTaro æ”¯æŒç›´æ¥å¼€å‘å¾®ä¿¡ä¸æ”¯ä»˜å®å°ç¨‹åºæ’ä»¶ï¼Œè¿™æ„å‘³ç€ Taro é¡¹ç›®å°†å’Œå°ç¨‹åºæ’ä»¶æ— ç¼å¯¹æ¥ï¼Œä¸å†æœ‰å¼€å‘æ¨¡å¼åˆ‡æ¢çš„æˆæœ¬ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒå°ç¨‹åºäº‘å¼€å‘">æ”¯æŒã€Œå°ç¨‹åºÂ·äº‘å¼€å‘ã€<a class="hash-link" href="#æ”¯æŒå°ç¨‹åºäº‘å¼€å‘" title="Direct link to heading">â€‹</a></h3><p>ã€Œå°ç¨‹åºÂ·äº‘å¼€å‘ã€æ˜¯å¾®ä¿¡å°ç¨‹åºè”åˆè…¾è®¯äº‘å›¢é˜Ÿæä¾›çš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒæ˜¯ä¸€æ¬¾ Serverless æœåŠ¡ï¼Œä¸ºå¼€å‘è€…æä¾›äº†ã€Œäº‘å‡½æ•°ã€ã€ã€Œäº‘æ•°æ®åº“ã€å’Œã€Œäº‘æ–‡ä»¶å­˜å‚¨ã€ä¸‰å¤§èƒ½åŠ›ï¼Œå¹¶ä¸”å°†è¿™äº›èƒ½åŠ›å°è£…æˆç‰¹å®šçš„æ¥å£ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºå¾®ä¿¡å°ç¨‹åºçš„åç«¯æœåŠ¡ã€‚ä¸ºäº†è®© Taro å¼€å‘è€…èƒ½å¤Ÿäº«å—åˆ°ã€Œå°ç¨‹åºÂ·äº‘å¼€å‘ã€çš„èƒ½åŠ›ï¼ŒTaro ä¹ŸåŠ å…¥äº†å¯¹ã€Œå°ç¨‹åºÂ·äº‘å¼€å‘ã€çš„æ”¯æŒï¼Œä¸ºã€Œå°ç¨‹åºÂ·äº‘å¼€å‘ã€æä¾›äº†åˆå§‹åŒ–æ¨¡æ¿ï¼Œå¹¶ä¸”å°†å°ç¨‹åºäº‘ç›¸å…³çš„ API è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿å¼€å‘è€…è¿›è¡Œä½¿ç”¨ã€‚åŒæ—¶ï¼Œã€Œå°ç¨‹åºÂ·äº‘å¼€å‘ã€å·²æä¾› H5 ç‰ˆæœ¬çš„ SDKï¼ŒTaro æ”¯æŒå°†å°ç¨‹åºã€H5 çš„è°ƒç”¨æ–¹å¼è¿›è¡Œç»Ÿä¸€å°è£…ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ‰“é€  Serverless çš„å¤šç«¯åº”ç”¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å‡çº§å…¼å®¹æ€§">å‡çº§å…¼å®¹æ€§<a class="hash-link" href="#å‡çº§å…¼å®¹æ€§" title="Direct link to heading">â€‹</a></h2><p>æ­£å¦‚å‰é¢æ‰€æåˆ°ï¼ŒTaro 1.3 æ˜¯ä¸€ä¸ªé…é…¿æ—¶é—´æœ€ä¹…ï¼Œæ‹¥æœ‰ç‰¹æ€§æœ€å¤šçš„å¤§ç‰ˆæœ¬ï¼Œå¯¹ Taro åº•å±‚ä¹Ÿè¿›è¡Œäº†ä¸å°çš„é‡æ„ï¼Œæ‰€ä»¥ï¼Œ1.3 ç‰ˆæœ¬çš„å‡çº§å¸¦äº†ä»¥ä¸‹ 2 ä¸ªå…¼å®¹æ€§é—®é¢˜ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="jsx-ä¸­çš„äº‹ä»¶ç›‘å¬å‡½æ•°å¿…é¡»ç»‘å®šä½œç”¨åŸŸ">JSX ä¸­çš„äº‹ä»¶ç›‘å¬å‡½æ•°å¿…é¡»ç»‘å®šä½œç”¨åŸŸ<a class="hash-link" href="#jsx-ä¸­çš„äº‹ä»¶ç›‘å¬å‡½æ•°å¿…é¡»ç»‘å®šä½œç”¨åŸŸ" title="Direct link to heading">â€‹</a></h4><p>åœ¨ä¹‹å‰çš„ Taro ç‰ˆæœ¬ä¸­ï¼ŒJSX ä¸­ç»‘å®šçš„äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œæ˜¯å¯ä»¥ä¸éœ€è¦ç»‘å®šä»»ä½•ä½œç”¨åŸŸï¼Œå°±èƒ½è®¿é—®åˆ°ç»„ä»¶å®ä¾‹çš„ï¼Œä¾‹å¦‚</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Taro</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> View</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Button </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Test</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">hello</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'noclick'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">clickHandler</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">hello</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'click'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">styles</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">index</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">clickHandler</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">ç‚¹å‡»</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>&lt;Button /&gt;</code> æŒ‰é’®ç»‘å®šçš„ç‚¹å‡»äº‹ä»¶ï¼Œåœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­æ˜¯èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œçš„ï¼ŒTaro ä¼šé»˜è®¤å°† <code>clickHandler</code> çš„ä½œç”¨åŸŸç»‘å®šä¸ºå½“å‰ç»„ä»¶å®ä¾‹ï¼Œä½†æ˜¯è¿™å¹¶ä¸ç¬¦åˆ React ä¸­çš„å®é™…æƒ…å†µï¼Œæ‰€ä»¥ï¼Œåœ¨ 1.3 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸€é—®é¢˜è¿›è¡Œäº†ä¿®å¤ï¼Œç°åœ¨ JSX ä¸­çš„äº‹ä»¶ç›‘å¬å‡½æ•°å¿…é¡»ç»‘å®šä½œç”¨åŸŸï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p><p>ä¸Šè¿°ä»£ç ä¸­ JSX éƒ¨åˆ†å¯ä»¥ä¿®æ”¹ä¸ºå¦‚ä¸‹</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">styles</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">index</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript function" style="color:#d73a49">clickHandler</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript function" style="color:#d73a49">bind</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">ç‚¹å‡»</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥åœ¨ <code>constructor</code> ä¸­å°†å‡½æ•°è¿›è¡Œæå‰ç»‘å®šä½œç”¨åŸŸï¼Œ</p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clickHandlerBind </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">clickHandler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">bind</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f">styles</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">index</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript keyword" style="color:#00009f">this</span><span class="token tag script language-javascript punctuation" style="color:#393A34">.</span><span class="token tag script language-javascript" style="color:#00009f">clickHandlerBind</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">ç‚¹å‡»</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿˜æœ‰ä¸€ç§åšæ³•æ˜¯ï¼Œå°† <code>clickHandler</code> å†™æˆç®­å¤´å‡½æ•°ï¼Œè¿™ç§æ–¹å¼åœ¨æ–°æ—§ç‰ˆæœ¬ä¸­å‡å¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æš‚æ—¶æ— æ³•åœ¨åŸç”Ÿåº”ç”¨ä¸­ä½¿ç”¨-taro-ç»„ä»¶">æš‚æ—¶æ— æ³•åœ¨åŸç”Ÿåº”ç”¨ä¸­ä½¿ç”¨ Taro ç»„ä»¶<a class="hash-link" href="#æš‚æ—¶æ— æ³•åœ¨åŸç”Ÿåº”ç”¨ä¸­ä½¿ç”¨-taro-ç»„ä»¶" title="Direct link to heading">â€‹</a></h4><p>åœ¨ä¹‹å‰ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨ Taro ç¼–è¯‘åçš„ç»„ä»¶æ˜¯å¯ä»¥ç›´æ¥ç”¨åœ¨åŸç”Ÿé¡¹ç›®ä¸­çš„ï¼Œä»¥æå‡å¤ç”¨æ€§ï¼Œä½† 1.3 ç‰ˆæœ¬ç”±äºç»„ä»¶çš„ props ç³»ç»Ÿå½»åº•é‡æ„äº†ï¼Œå‡çº§ 1.3 åæš‚æ—¶æ— æ³•åœ¨åŸç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨ Taro ç»„ä»¶ï¼Œæˆ‘ä»¬æ­£åœ¨ç§¯æå¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨åç»­ç‰ˆæœ¬ä¸­å°†ç»§ç»­æ”¯æŒè¿™ä¸€ç‰¹æ€§ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="åœ¨æ¡†æ¶ä¹‹å¤–">åœ¨æ¡†æ¶ä¹‹å¤–<a class="hash-link" href="#åœ¨æ¡†æ¶ä¹‹å¤–" title="Direct link to heading">â€‹</a></h2><p>Taro å›¢é˜Ÿé™¤äº† 1.3 ç‰ˆæœ¬ä¸­å®Œå–„å¤šç«¯é€‚é…ï¼Œæé«˜æ¡†æ¶å¼€å‘ä½“éªŒå’Œå¼€å‘æ•ˆç‡ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ç”Ÿæ€å»ºè®¾ä¸Šä»˜å‡ºäº†è¯¸å¤šåŠªåŠ›ï¼Œå…¶ä¸­åŒ…æ‹¬å…¨æ–°å‡çº§çš„å®˜ç½‘ï¼Œç‰©æ–™/æ’ä»¶å¸‚åœºï¼Œç‹¬ç«‹çš„ç¤¾åŒº/è®ºå›ã€‚</p><p>æˆ‘ä»¬è®¤ä¸ºï¼ŒTaro èƒ½å¤Ÿå®‰èº«ç«‹å‘½çš„æœ¬é’±æ˜¯ä½œä¸ºå¼€å‘æ¡†æ¶çš„ç¡¬å®åŠ›ï¼Œä½†çœŸæ­£å†³å®š Taro èƒ½èµ°å¤šè¿œå´æ˜¯ç”Ÿæ€ã€ç¤¾åŒºä»¥åŠåˆä½œä¼™ä¼´ã€‚
æˆ‘ä»¬åœ¨ 1.3 å·²ç»æŠŠå®åŠ›å¤§å¹…å¢å¼ºï¼Œç°åœ¨é‚€è¯·ä½ ä¸€èµ·å‚ä¸æˆ–è§‚å¯Ÿ Taro åœ¨ç”Ÿæ€å’Œç¤¾åŒºçš„å»ºè®¾ï¼š</p><ul><li>Taro å®˜ç½‘ï¼š<a href="https://taro.jd.com" target="_blank" rel="noopener noreferrer">https://taro.jd.com</a></li><li>Taro ç‰©æ–™å¸‚åœº: <a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer">https://taro-ext.jd.com</a></li><li>Taro ç¤¾åŒºï¼š<a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer">https://taro-club.jd.com</a></li><li>GitHub: <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å°ç¨‹åºæ¡†æ¶å…¨é¢æµ‹è¯„]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-03-12-mini-program-framework-full-review</link>
            <guid>2019-03-12-mini-program-framework-full-review</guid>
            <pubDate>Tue, 12 Mar 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://storage.jd.com/taro-resource/review.jpg" alt="image" class="img_ROth"></p><p>æœ€è¿‘å‰ç«¯å±Šå¤šç«¯æ¡†æ¶é¢‘å‡ºï¼Œç›¸ä¿¡å¾ˆå¤šæœ‰ä»£ç å¤šç«¯è¿è¡Œéœ€æ±‚çš„å¼€å‘è€…éƒ½ä¼šäº§ç”Ÿä¸€äº›ç–‘æƒ‘ï¼šè¿™äº›æ¡†æ¶éƒ½æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿåˆ°åº•åº”è¯¥ç”¨å“ªä¸ªï¼Ÿ</p><p>ä½œä¸º Taro å¼€å‘å›¢é˜Ÿä¸€å‘˜ï¼Œç¬”è€…æƒ³åœ¨æœ¬æ–‡å°½é‡ç«™åœ¨ä¸€ä¸ªå®¢è§‚å…¬æ­£çš„è§’åº¦å»è¯„ä»·å„ä¸ªæ¡†æ¶çš„é€‰å‹å’Œä¼˜åŠ£ã€‚ä½†å®¥äºåˆ©ç›Šç›¸å…³ï¼Œæœ¬æ–‡çš„è§‚ç‚¹å¾ˆå¯èƒ½æ˜¯å¸¦æœ‰åå‘æ€§çš„ï¼Œå¤§å®¶å¯ä»¥å¸¦ç€æ‰¹åˆ¤çš„çœ¼å…‰å»çœ‹å¾…ï¼Œæƒå½“æŠ›ç –å¼•ç‰ã€‚</p><p>é‚£ä¹ˆï¼Œå½“æˆ‘ä»¬åœ¨è®¨è®ºå¤šç«¯æ¡†æ¶æ—¶ï¼Œæˆ‘ä»¬åœ¨è°ˆè®ºä»€ä¹ˆï¼š</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¤šç«¯">å¤šç«¯<a class="hash-link" href="#å¤šç«¯" title="Direct link to heading">â€‹</a></h2><p>ç¬”è€…ä»¥ä¸ºï¼Œç°åœ¨æµè¡Œçš„å¤šç«¯æ¡†æ¶å¯ä»¥å¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼š</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="1-å…¨åŒ…å‹">1. å…¨åŒ…å‹<a class="hash-link" href="#1-å…¨åŒ…å‹" title="Direct link to heading">â€‹</a></h4><p>è¿™ç±»æ¡†æ¶æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä»åº•å±‚çš„æ¸²æŸ“å¼•æ“ã€å¸ƒå±€å¼•æ“ï¼Œåˆ°ä¸­å±‚çš„ DSLï¼Œå†åˆ°ä¸Šå±‚çš„æ¡†æ¶å…¨éƒ¨ç”±è‡ªå·±å¼€å‘ï¼Œä»£è¡¨æ¡†æ¶æ˜¯ Qt å’Œ Flutterã€‚è¿™ç±»æ¡†æ¶ä¼˜ç‚¹éå¸¸æ˜æ˜¾ï¼šæ€§èƒ½ï¼ˆçš„ä¸Šé™ï¼‰é«˜ï¼›å„å¹³å°æ¸²æŸ“ç»“æœä¸€è‡´ã€‚ç¼ºç‚¹ä¹Ÿéå¸¸æ˜æ˜¾ï¼šéœ€è¦å®Œå…¨é‡æ–°å­¦ä¹  DSLï¼ˆQML/Dartï¼‰ï¼Œä»¥åŠéš¾ä»¥é€‚é…ä¸­å›½ç‰¹è‰²çš„ç«¯ï¼šå°ç¨‹åºã€‚</p><p>è¿™ç±»æ¡†æ¶æ˜¯æœ€åŸå§‹ä¹Ÿæ˜¯æœ€çº¯æ­£çš„çš„å¤šç«¯å¼€å‘æ¡†æ¶ï¼Œç”±äºåº•å±‚åˆ°ä¸Šå±‚æ¯ä¸ªç¯èŠ‚éƒ½æŒæ¡åœ¨è‡ªå·±æ‰‹é‡Œï¼Œä¹Ÿèƒ½æœ€å¤§å¯èƒ½åœ°å»ä¿è¯å¼€å‘å’Œè·¨ç«¯ä½“éªŒä¸€è‡´ã€‚ä½†å®ƒä»¬çš„æ¡†æ¶ç ”å‘æˆæœ¬å·¨å¤§ï¼Œæ¸²æŸ“å¼•æ“ã€å¸ƒå±€å¼•æ“ã€DSLã€ä¸Šå±‚æ¡†æ¶æ¯ä¸ªéƒ¨åˆ†éƒ½éœ€è¦å¤§é‡äººåŠ›å¼€å‘ç»´æŠ¤ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="2-web-æŠ€æœ¯å‹">2. Web æŠ€æœ¯å‹<a class="hash-link" href="#2-web-æŠ€æœ¯å‹" title="Direct link to heading">â€‹</a></h4><p>è¿™ç±»æ¡†æ¶æŠŠ Web æŠ€æœ¯ï¼ˆJavaScriptï¼ŒCSSï¼‰å¸¦åˆ°ç§»åŠ¨å¼€å‘ä¸­ï¼Œè‡ªç ”å¸ƒå±€å¼•æ“å¤„ç† CSSï¼Œä½¿ç”¨ JavaScript å†™ä¸šåŠ¡é€»è¾‘ï¼Œä½¿ç”¨æµè¡Œçš„å‰ç«¯æ¡†æ¶ä½œä¸º DSLï¼Œå„ç«¯åˆ†åˆ«ä½¿ç”¨å„è‡ªçš„åŸç”Ÿç»„ä»¶æ¸²æŸ“ã€‚ä»£è¡¨æ¡†æ¶æ˜¯ React Native å’Œ Weexï¼Œè¿™æ ·åšçš„ä¼˜ç‚¹æœ‰ï¼š</p><ol><li>å¼€å‘è¿…é€Ÿ</li><li>å¤ç”¨å‰ç«¯ç”Ÿæ€</li><li>æ˜“äºå­¦ä¹ ä¸Šæ‰‹ï¼Œä¸ç®¡å‰ç«¯åç«¯ç§»åŠ¨ç«¯ï¼Œå¤šå¤šå°‘å°‘éƒ½ä¼šä¸€ç‚¹ JSã€CSS</li></ol><p>ç¼ºç‚¹æœ‰ï¼š</p><ol><li>äº¤äº’å¤æ‚æ—¶éš¾ä»¥å†™å‡ºé«˜æ€§èƒ½çš„ä»£ç ï¼Œè¿™ç±»æ¡†æ¶çš„è®¾è®¡å°±å¿…ç„¶å¯¼è‡´ <code>JS</code> å’Œ <code>Native</code>  ä¹‹é—´éœ€è¦é€šä¿¡ï¼Œç±»ä¼¼äºæ‰‹åŠ¿æ“ä½œè¿™æ ·é¢‘ç¹åœ°è§¦å‘é€šä¿¡å°±å¾ˆå¯èƒ½ä½¿å¾— UI æ— æ³•åœ¨ 16ms å†…åŠæ—¶ç»˜åˆ¶ã€‚React Native æœ‰ä¸€äº›å£°æ˜å¼çš„ç»„ä»¶å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œä½†å£°æ˜å¼çš„å†™æ³•å¾ˆéš¾æ»¡è¶³å¤æ‚äº¤äº’çš„éœ€æ±‚ã€‚</li><li>ç”±äºæ²¡æœ‰æ¸²æŸ“å¼•æ“ï¼Œä½¿ç”¨å„ç«¯çš„åŸç”Ÿç»„ä»¶æ¸²æŸ“ï¼Œç›¸åŒä»£ç æ¸²æŸ“çš„ä¸€è‡´æ€§æ²¡æœ‰ç¬¬ä¸€ç§é«˜ã€‚</li></ol><h4 class="anchor anchorWithStickyNavbar_IyCF" id="3-javascript-ç¼–è¯‘å‹">3. JavaScript ç¼–è¯‘å‹<a class="hash-link" href="#3-javascript-ç¼–è¯‘å‹" title="Direct link to heading">â€‹</a></h4><p>è¿™ç±»æ¡†æ¶å°±æ˜¯æˆ‘ä»¬è¿™ç¯‡æ–‡ç« çš„ä¸»è§’ä»¬ï¼š<code>Taro</code>ã€<code>WePY</code> ã€<code>uni-app</code>  ã€ <code>mpvue</code> ã€ <code>chameleon</code>ï¼Œå®ƒä»¬çš„åŸç†ä¹Ÿéƒ½å¤§åŒå°å¼‚ï¼šå…ˆä»¥ JavaScript ä½œä¸ºåŸºç¡€é€‰å®šä¸€ä¸ª DSL æ¡†æ¶ï¼Œä»¥è¿™ä¸ª DSL æ¡†æ¶ä¸ºæ ‡å‡†åœ¨å„ç«¯åˆ†åˆ«ç¼–è¯‘ä¸ºä¸åŒçš„ä»£ç ï¼Œå„ç«¯åˆ†åˆ«æœ‰ä¸€ä¸ªè¿è¡Œæ—¶æ¡†æ¶æˆ–å…¼å®¹ç»„ä»¶åº“ä¿è¯ä»£ç æ­£ç¡®è¿è¡Œã€‚</p><p>è¿™ç±»æ¡†æ¶æœ€å¤§ä¼˜ç‚¹å’Œåˆ›é€ çš„æœ€å¤§åŸå› å°±æ˜¯å°ç¨‹åºï¼Œå› ä¸ºç¬¬ä¸€ç¬¬äºŒç§æ¡†æ¶å…¶å®é™¤äº†å¯ä»¥è·¨ç³»ç»Ÿå¹³å°ä¹‹å¤–ï¼Œä¹Ÿéƒ½èƒ½ç¼–è¯‘è¿è¡Œåœ¨æµè§ˆå™¨ä¸­ã€‚(Qt æœ‰ Qt for WebAssembly, Flutter æœ‰ Hummingbirdï¼ŒReact Native æœ‰ <code>react-native-web</code>, Weex åŸç”Ÿæ”¯æŒ)</p><p>å¦å¤–ä¸€ä¸ªä¼˜ç‚¹æ˜¯åœ¨ç§»åŠ¨ç«¯ä¸€èˆ¬ä¼šç¼–è¯‘åˆ° React Native/Weexï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿéƒ½æ‹¥æœ‰ Web æŠ€æœ¯å‹æ¡†æ¶çš„ä¼˜ç‚¹ã€‚è¿™çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†å®é™…ä¸Š React Native/Weex çš„ç¼ºç‚¹ç¼–è¯‘å‹æ¡†æ¶ä¹Ÿæ— æ³•é¿å…ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<strong>ç¼–è¯‘å‹æ¡†æ¶çš„æŠ½è±¡ä¹Ÿä¸æ˜¯å…è´¹çš„</strong>ï¼šå½“ bug å‡ºç°æ—¶ï¼Œé—®é¢˜çš„æ ¹æºå¯èƒ½å‡ºåœ¨è¿è¡Œæ—¶ã€ç¼–è¯‘æ—¶ã€ç»„ä»¶åº“ä»¥åŠä¸‰è€…ä¾èµ–çš„åº“ç­‰ç­‰å„ä¸ªæ–¹é¢ã€‚åœ¨ Taro å¼€æºçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°±é‡åˆ°è¿‡ Babel çš„ bugï¼ŒReact Native çš„ bugï¼ŒJavaScript å¼•æ“çš„ bugï¼Œå½“ç„¶ä¹Ÿå°‘ä¸äº† Taro æœ¬èº«çš„ bugã€‚ç›¸ä¿¡å…¶å®ƒåŸç†ç›¸åŒçš„æ¡†æ¶ä¹Ÿæ— æ³•é¿å…è¿™ä¸€é—®é¢˜ã€‚</p><p>ä½†è¿™å¹¶ä¸æ„å‘³ç€è¿™ç±»ä¸ºäº†å°ç¨‹åºè€Œè®¾è®¡çš„å¤šç«¯æ¡†æ¶å°±éƒ½ä¸å ªå¤§ç”¨ã€‚é¦–å…ˆç°åœ¨å„å·¨å¤´è¶…çº§ App çš„å°ç¨‹åºç™¾èŠ±é½æ”¾ï¼Œæ¡†æ¶ä¼šä¸ºäº†æŠ¹å¹³å°ç¨‹åºåšäº†è®¸å¤šå·¥ä½œï¼Œè¿™äº›å·¥ä½œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦å¼€å‘è€…å…³å¿ƒçš„ã€‚å…¶æ¬¡æ˜¯è®¸å¤šä¸šåŠ¡ç±»å‹å¹¶ä¸éœ€è¦å¤æ‚çš„é€»è¾‘å’Œäº¤äº’ï¼Œæ²¡é‚£ä¹ˆå®¹æ˜“è§¦å‘åˆ°æ¡†æ¶åº•å±‚ä¾èµ–çš„ bugã€‚</p><p>é‚£ä¹ˆå½“ä½ çš„ä¸šåŠ¡é€‚åˆé€‰æ‹©ç¼–è¯‘å‹æ¡†æ¶æ—¶ï¼Œåœ¨ç¬”è€…çœ‹æ¥é¦–å…ˆè¦è€ƒè™‘çš„å°±æ˜¯é€‰æ‹© DSL çš„èµ·ç‚¹ã€‚å› ä¸ºæœ‰å¤šç«¯éœ€æ±‚ä¸šåŠ¡é€šå¸¸éƒ½å¸Œæœ›èƒ½å¿«é€Ÿå¼€å‘ï¼Œä¸€ä¸ªèƒ½å¤Ÿå¿«é€Ÿé€‚åº”å›¢é˜Ÿå¼€å‘èŠ‚å¥çš„ DSL å°±è‡³å…³é‡è¦ã€‚ä¸ç®¡æ˜¯ React è¿˜æ˜¯ Vueï¼ˆæˆ–è€…ç±» Vueï¼‰éƒ½æœ‰å®ƒä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®å›¢é˜ŸæŠ€æœ¯æ ˆå’Œåå¥½è‡ªè¡Œé€‰æ‹©ã€‚</p><p>å¦‚æœä¸ç®¡ä»€ä¹ˆ DSL éƒ½èƒ½æ¥å—ï¼Œé‚£å°±å¯ä»¥è¿›å…¥ä¸‹ä¸€ä¸ªç¯èŠ‚ï¼š</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç”Ÿæ€">ç”Ÿæ€<a class="hash-link" href="#ç”Ÿæ€" title="Direct link to heading">â€‹</a></h2><p>ä»¥ä¸‹å†…å®¹å‡ä»¥å„æ¡†æ¶ç°åœ¨ï¼ˆ2019 å¹´ 3 æœˆ 11æ—¥ï¼‰å·²å‘å¸ƒç¨³å®šç‰ˆä¸ºæ ‡å‡†è¿›è¡Œè®¨è®ºã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘å·¥å…·">å¼€å‘å·¥å…·<a class="hash-link" href="#å¼€å‘å·¥å…·" title="Direct link to heading">â€‹</a></h4><p>å°±å¼€å‘å·¥å…·è€Œè¨€ <code>uni-app</code> åº”è¯¥æ˜¯ä¸€éª‘ç»å°˜ï¼Œå®ƒçš„æ–‡æ¡£å†…å®¹æœ€ä¸ºç¿”å®ä¸°å¯Œï¼Œè¿˜è‡ªå¸¦äº† IDE å›¾å½¢åŒ–å¼€å‘å·¥å…·ï¼Œé¼ æ ‡ç‚¹ç‚¹ç‚¹å°±èƒ½ç¼–è¯‘æµ‹è¯•å‘å¸ƒã€‚</p><p>å…¶å®ƒçš„æ¡†æ¶éƒ½æ˜¯ä½¿ç”¨ CLI å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†å€¼å¾—æ³¨æ„çš„æ˜¯ <code>chameleon</code>  æœ‰ç‹¬ç«‹çš„è¯­æ³•æ£€æŸ¥å·¥å…·ï¼Œ<code>Taro</code> åˆ™å•ç‹¬å†™äº† ESLint è§„åˆ™å’Œè§„åˆ™é›†ã€‚</p><p>åœ¨è¯­æ³•æ”¯æŒæ–¹é¢ï¼Œ<code>mpvue</code>ã€<code>uni-app</code>ã€<code>Taro</code> ã€<code>WePY</code> å‡æ”¯æŒ TypeScriptï¼Œå››è€…ä¹Ÿéƒ½èƒ½é€šè¿‡ <code>typing</code> å®ç°ç¼–è¾‘å™¨è‡ªåŠ¨è¡¥å…¨ã€‚é™¤äº† API è¡¥å…¨ä¹‹å¤–ï¼Œå¾—ç›Šäº TypeScript å¯¹äº JSX çš„è‰¯å¥½æ”¯æŒï¼ŒTaro ä¹Ÿèƒ½å¯¹ç»„ä»¶è¿›è¡Œè‡ªåŠ¨è¡¥å…¨ã€‚</p><p>CSS æ–¹é¢ï¼Œæ‰€æœ‰æ¡†æ¶å‡æ”¯æŒ <code>SASS</code>ã€<code>LESS</code>ã€<code>Stylus</code>ï¼ŒTaro åˆ™å¤šä¸€ä¸ª <code>CSS Modules</code> çš„æ”¯æŒã€‚</p><p>æ‰€ä»¥è¿™ä¸€è½®æ¯”æ‹¼çš„ç»“æœåº”è¯¥æ˜¯ï¼š</p><p><code>uni-app</code>  &gt; <code>Taro</code> &gt;  <code>chameleon</code>  &gt; <code>WePY</code>ã€<code>mpvue</code></p><p> <img loading="lazy" src="https://storage.jd.com/taro-resource/develop_tools.png" alt="å¼€å‘å·¥å…·" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¤šç«¯æ”¯æŒåº¦">å¤šç«¯æ”¯æŒåº¦<a class="hash-link" href="#å¤šç«¯æ”¯æŒåº¦" title="Direct link to heading">â€‹</a></h4><p>åªä»æ”¯æŒç«¯çš„æ•°é‡æ¥çœ‹ï¼Œ<code>Taro</code> å’Œ <code>uni-app</code> ä»¥å…­ç«¯ç•¥å¾®é¢†å…ˆï¼ˆç§»åŠ¨ç«¯ã€H5ã€å¾®ä¿¡å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€å¤´æ¡å°ç¨‹åºï¼‰ï¼Œ<code>chameleon </code> å°‘äº†å¤´æ¡å°ç¨‹åºç´§éšå…¶åã€‚</p><p>ä½†å€¼å¾—ä¸€æçš„æ˜¯ <code>chameleon</code> æœ‰ä¸€å¥—è‡ªç ”<a href="//cmljs.org/doc/framework/polymorphism/intro.html" target="_blank" rel="noopener noreferrer">å¤šæ€åè®®</a>ï¼Œç¼–å†™å¤šç«¯ä»£ç çš„ä½“éªŒä¼šå¥½è®¸å¤šï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªèƒ½æˆ³åˆ°å¤šç«¯å¼€å‘ç—›ç‚¹çš„åŠŸèƒ½ã€‚<code>uni-app</code> åˆ™æœ‰ä¸€å¥—ç‹¬ç«‹çš„<a href="://uniapp.dcloud.io/platform" target="_blank" rel="noopener noreferrer">æ¡ä»¶ç¼–è¯‘è¯­æ³•</a>ï¼Œè¿™å¥—è¯­æ³•èƒ½åŒæ—¶ä½œç”¨äº <code>js</code>ã€æ ·å¼å’Œæ¨¡æ¿æ–‡ä»¶ã€‚<code>Taro</code> å¯ä»¥åœ¨ä¸šåŠ¡é€»è¾‘ä¸­æ ¹æ®ç¯å¢ƒå˜é‡ä½¿ç”¨æ¡ä»¶ç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<a href="/taro-docs/docs/envs">æ¡ä»¶ç¼–è¯‘æ–‡ä»¶</a>ï¼ˆç±»ä¼¼ React Native çš„æ–¹å¼ï¼‰ã€‚</p><p>åœ¨ç§»åŠ¨ç«¯æ–¹é¢ï¼Œ<code>uni-app</code> åŸºäº <code>weex</code> å®šåˆ¶äº†ä¸€å¥— <code>nvue</code> æ–¹æ¡ˆ å¼¥è¡¥ <code>weex</code> API çš„ä¸è¶³ï¼›<code>Taro</code> åˆ™æ˜¯æš‚æ—¶åŸºäº <code>expo</code> è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼›<code>chameleon</code> åœ¨ç§»åŠ¨ç«¯åˆ™æœ‰ä¸€å¥— SDK é…åˆå¤šç«¯åè®®ä¸åŸç”Ÿè¯­è¨€é€šä¿¡ã€‚</p><p>H5 æ–¹é¢ï¼Œ<code>chameleon</code> åŒæ ·æ˜¯ç”±å¤šæ€åè®®å®ç°æ”¯æŒï¼Œ<code>uni-app</code> å’Œ <code>Taro</code> åˆ™æ˜¯éƒ½åœ¨ H5 å®ç°äº†ä¸€å¥—å…¼å®¹çš„ç»„ä»¶åº“å’Œ APIã€‚</p><p><code>mpvue</code> å’Œ <code>WePY</code>  éƒ½æä¾›äº†è½¬æ¢å„ç«¯å°ç¨‹åºçš„åŠŸèƒ½ï¼Œä½†éƒ½æ²¡æœ‰ h5 å’Œç§»åŠ¨ç«¯çš„æ”¯æŒã€‚</p><p>æ‰€ä»¥æœ€åä¸€è½®å¯¹æ¯”çš„ç»“æœæ˜¯ï¼š</p><p><code>chameleon</code> &gt; <code>Taro</code>ã€<code>uni-app</code> &gt; <code>mpvue</code> &gt; <code>WePY</code></p><p><img loading="lazy" src="https://storage.jd.com/taro-resource/duoduan.png" alt="å¤šç«¯æ”¯æŒ" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç»„ä»¶åº“å·¥å…·åº“demo">ç»„ä»¶åº“/å·¥å…·åº“/demo<a class="hash-link" href="#ç»„ä»¶åº“å·¥å…·åº“demo" title="Direct link to heading">â€‹</a></h4><p>ä½œä¸ºå¼€æºæ—¶é—´æœ€é•¿çš„æ¡†æ¶ï¼Œ<code>WePY</code> ä¸ç®¡ä» Demoï¼Œç»„ä»¶åº“æ•°é‡ ï¼Œå·¥å…·åº“æ¥çœ‹éƒ½å æœ‰ä¸€å®šä¼˜åŠ¿ã€‚</p><p><code>uni-app</code> åˆ™æœ‰è‡ªå·±çš„æ’ä»¶å¸‚åœºå’Œ UI åº“ï¼Œå¦‚æœç®—ä¸Šæ”¶è´¹çš„æ¡†æ¶å’Œæ’ä»¶æ¯”èµ· <code>WePy</code> ä¹Ÿæ˜¯å®Œå…¨ä¸é‘å¤šè®©çš„ã€‚</p><p><code>Taro </code> ä¹Ÿæœ‰å®˜æ–¹ç»´æŠ¤çš„è·¨ç«¯ UI åº“ <code>taro-ui</code> ï¼Œå¦å¤–åœ¨çŠ¶æ€ç®¡ç†å·¥å…·ä¸Šä¹Ÿæœ‰éå¸¸ä¸°å¯Œçš„é€‰æ‹©ï¼ˆReduxã€MobXã€dvaï¼‰ï¼Œä½† demo çš„æ•°é‡ä¸å¦‚å‰ä¸¤ä¸ªã€‚ä½† <code>Taro</code> æœ‰ä¸€ä¸ªè½¬æ¢å¾®ä¿¡å°ç¨‹åºä»£ç ä¸º Taro ä»£ç çš„å·¥å…·ï¼Œå¯ä»¥å¼¥è¡¥è¿™ä¸€é—®é¢˜ã€‚</p><p>è€Œ <code>mpvue</code> æ²¡æœ‰å®˜æ–¹ç»´æŠ¤çš„ UI åº“ï¼Œ<code>chameleon</code> ç¬¬ä¸‰æ–¹çš„ demo å’Œå·¥å…·åº“ä¹Ÿè¿˜åŸºæœ¬æ²¡æœ‰ã€‚</p><p>æ‰€ä»¥è¿™è½®çš„æ’åºæ˜¯ï¼š</p><p><code>WePY</code>  &gt; <code>uni-app</code> ã€<code>taro</code> &gt; <code>mpvue</code> &gt; <code>chameleon</code></p><p><img loading="lazy" src="https://storage.jd.com/taro-resource/component.png" alt="ç»„ä»¶åº“/å·¥å…·åº“/demo" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ¥å…¥æˆæœ¬">æ¥å…¥æˆæœ¬<a class="hash-link" href="#æ¥å…¥æˆæœ¬" title="Direct link to heading">â€‹</a></h4><p>æ¥å…¥æˆæœ¬æœ‰ä¸¤ä¸ªæ–¹é¢ï¼š</p><p>ç¬¬ä¸€æ˜¯æ¡†æ¶æ¥å…¥åŸæœ‰å¾®ä¿¡å°ç¨‹åºç”Ÿæ€ã€‚ç”±äºç›®å‰å¾®ä¿¡å°ç¨‹åºå·²å‘ˆä¸€å®¶ç‹¬å¤§ä¹‹åŠ¿ï¼Œå¼€æºçš„ç»„ä»¶å’Œåº“ï¼ˆä¾‹å¦‚ <code>wxparse</code>ã€<code>echart</code>ã€<code>zan-ui</code>  ç­‰ï¼‰å¤šæ˜¯åŸºäºåŸç”Ÿå¾®ä¿¡å°ç¨‹åºæ¡†æ¶è¯­æ³•å†™æˆçš„ã€‚ç›®å‰çœ‹æ¥ <code>uni-app</code> ã€<code>Taro</code>ã€<code>mpvue</code> å‡æœ‰æ–‡æ¡£æˆ– demo åœ¨æ¡†æ¶ä¸­ç›´æ¥ä½¿ç”¨åŸç”Ÿå°ç¨‹åºç»„ä»¶/åº“ï¼Œ<code>WePY</code> ç”±äºè¿è¡Œæœºåˆ¶çš„é—®é¢˜ï¼Œå¾ˆå¤šæƒ…å†µéœ€è¦å°æ”¹ä¸€ä¸‹ç›®æ ‡åº“çš„æºç ï¼Œ<code>chameleon</code> åˆ™æ˜¯æä¾›äº†ä¸€ä¸ªæŒ‰æ­¥éª¤å¤§æ”¹ç›®æ ‡åº“æºç çš„è¿ç§»æ–¹å¼ã€‚</p><p>ç¬¬äºŒæ˜¯åŸæœ‰å¾®ä¿¡å°ç¨‹åºé¡¹ç›®éƒ¨åˆ†æ¥å…¥æ¡†æ¶é‡æ„ã€‚åœ¨è¿™ä¸ªæ–¹é¢ Taro åœ¨äº¬ä¸œè´­ç‰©å°ç¨‹åºä¸Šè¿›è¡Œäº†å¤§èƒ†çš„å®è·µï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹æ–‡ç« <a href="//aotu.io/notes/2018/09/11/taro-in-jd/" target="_blank" rel="noopener noreferrer">ã€ŠTaro åœ¨äº¬ä¸œè´­ç‰©å°ç¨‹åºä¸Šçš„å®è·µã€‹</a>ã€‚å…¶å®ƒæ¡†æ¶åˆ™æ²¡æœ‰æåˆ°ç›¸å…³å†…å®¹ã€‚</p><p>è€Œå¯¹äºä¸¤ç§æ¥å…¥æ–¹å¼ Taro éƒ½æä¾›äº† <code>taro convert</code> åŠŸèƒ½ï¼Œæ—¢å¯ä»¥å°†åŸæœ‰å¾®ä¿¡å°ç¨‹åºé¡¹ç›®è½¬æ¢ä¸º Taro å¤šç«¯ä»£ç ï¼Œä¹Ÿå¯ä»¥å°†å¾®ä¿¡å°ç¨‹åºç”Ÿæ€çš„ç»„ä»¶è½¬æ¢ä¸º Taro ç»„ä»¶ã€‚</p><p>æ‰€ä»¥è¿™è½®çš„æ’åºæ˜¯ï¼š</p><p><code>Taro</code> &gt;  <code>mpvue</code> ã€ <code>uni-app</code>  &gt; <code>WePY</code> &gt;  <code>chameleon</code>  </p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æµè¡Œåº¦">æµè¡Œåº¦<a class="hash-link" href="#æµè¡Œåº¦" title="Direct link to heading">â€‹</a></h4><p>ä» GitHub çš„ star æ¥çœ‹ï¼Œ<code>mpvue</code> ã€<code>Taro</code>ã€<code>WePY</code> çš„å·®è·éå¸¸å°ã€‚ä» NPM å’Œ CNPM çš„ CLI å·¥å…·ä¸‹è½½é‡æ¥çœ‹ï¼Œæ˜¯ Taroï¼ˆ3k/weekï¼‰&gt; mpvue (2k/w) &gt; WePY (1k/w)ã€‚ä½†å‘å¸ƒæ—¶é—´ä¹Ÿåˆšå¥½åè¿‡æ¥ã€‚ç¬”è€…ä¼°è®¡ä¸‰å®¶çš„æµè¡Œç¨‹åº¦å’Œæ¡ˆä¾‹éƒ½å·®ä¸å¤ªå¤šã€‚</p><p><code>uni-app</code> åˆ™å·ç§°æœ‰ä¸Šä¸‡æ¡ˆä¾‹ï¼Œä½†ä¸åƒå…¶å®ƒæ¡†æ¶ä¸€æ ·æœ‰ä¸€äº›å¤§å‚åº”ç”¨æ¡ˆä¾‹ã€‚å¦å¤–ä»å¼€å‘è€…çš„æ•°é‡æ¥çœ‹ä¹Ÿæ˜¯ <code>uni-app</code> é¢†å…ˆï¼Œå®ƒæ‹¥æœ‰ 20+ ä¸ª QQ äº¤æµç¾¤ï¼ˆæœ€å¤§äººæ•° 2000ï¼‰ã€‚</p><p>æ‰€ä»¥ä»æµè¡Œç¨‹åº¦æ¥çœ‹åº”è¯¥æ˜¯ï¼š</p><p><code>uni-app</code> &gt; <code>Taro</code>ã€<code>WePY</code>ã€<code>mpvue</code> &gt; <code>chameleon</code></p><p><img loading="lazy" src="https://storage.jd.com/taro-resource/popluar.png" alt="æµè¡Œåº¦" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€æºå»ºè®¾">å¼€æºå»ºè®¾<a class="hash-link" href="#å¼€æºå»ºè®¾" title="Direct link to heading">â€‹</a></h4><p>ä¸€ä¸ªå¼€æºä½œå“èƒ½èµ°å¤šè¿œæ˜¯ç”±æ¡†æ¶ç»´æŠ¤å›¢é˜Ÿå’Œç¬¬ä¸‰æ–¹å¼€å‘è€…å…±åŒå†³å®šçš„ã€‚è™½ç„¶å¼€æºå»ºè®¾ä¸èƒ½å…·ä½“åœ°é‡åŒ–ï¼Œä½†ä¾ç„¶æ˜¯è¡¡é‡ä¸€ä¸ªæ¡†æ¶/åº“ç”Ÿå‘½åŠ›çš„éå¸¸é‡è¦çš„æ ‡å‡†ã€‚</p><p>ä»ç¬¬ä¸‰æ–¹è´¡çŒ®è€…æ•°é‡æ¥çœ‹ï¼Œ<code>Taro</code> åœ¨è¿™ä¸€æ–¹é¢é¢†å…ˆï¼Œå¹¶ä¸” <code>Taro</code> çš„ä¸€äº›æ ¸å¿ƒåŒ…/åŠŸèƒ½ï¼ˆMobXã€CSS Modulesã€aliasï¼‰ä¹Ÿæ˜¯ç”±ç¬¬ä¸‰æ–¹å¼€å‘è€…è´¡çŒ®çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè…¾è®¯å¼€æºçš„ <code>omi</code> æ¡†æ¶å°ç¨‹åºéƒ¨åˆ†ä¹Ÿæ˜¯åŸºäº Taro å®Œæˆçš„ã€‚</p><p><code>WePY</code> åœ¨è…¾è®¯å¼€æºè®¡åˆ’çš„åŠ æŒä¸‹åœ¨è¿™ä¸€æ–¹é¢ä¹Ÿæœ‰ä¸é”™çš„è¡¨ç°ï¼›<code>mpvue</code> ç”±äºåœæ»å¼€å‘äº†å¾ˆä¹…å°±æ¯”è¾ƒè½åäº†ï¼›å¯èƒ½æ˜¯äº§å“ç­–ç•¥çš„åŸå› ï¼Œ<code>uni-app</code> åœ¨å¼€æºå»ºè®¾ä¸Šå¹¶ä¸çƒ­å¿ƒï¼Œç”šè‡³æœ‰äº›éƒ¨åˆ†ä»£ç éƒ½æ²¡æœ‰å¼€æºï¼›<code>chameleon</code> åˆšåˆšå¼€æºä¸ä¹…ï¼Œä½†å®ƒçš„ä»£ç å’Œæµ‹è¯•ç”¨ä¾‹éƒ½éå¸¸è§„èŒƒï¼Œä»¥åæˆ–è®¸ä¼šæœ‰ä¸é”™çš„è¡¨ç°ã€‚</p><p>é‚£ä¹ˆè¿™ä¸€è½®çš„å¯¹æ¯”ç»“æœæ˜¯ï¼š</p><p><code>Taro</code> &gt; <code>WePY</code> &gt; <code>mpvue</code> &gt; <code>chameleon</code>  &gt; <code>uni-app</code></p><p>æœ€åè¡¥ä¸€ä¸ªæ€»çš„ç”Ÿæ€å¯¹æ¯”å›¾è¡¨ï¼š</p><p><img loading="lazy" src="https://storage.jd.com/taro-resource/all.png" alt="æ€»è¡¨" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœªæ¥">æœªæ¥<a class="hash-link" href="#æœªæ¥" title="Direct link to heading">â€‹</a></h2><p>ä»å„æ¡†æ¶å·²ç»å…¬å¸ƒçš„è§„åˆ’æ¥çœ‹ï¼š</p><p><code>WePY</code>  å·²ç»å‘å¸ƒäº† <code>v2.0.alpha</code>  ç‰ˆæœ¬ï¼Œè™½ç„¶æ²¡æœ‰å…¬å¼€çš„æ–‡æ¡£å¯ä»¥æŸ¥é˜…åˆ° <code>2.0</code> ç‰ˆæœ¬æœ‰ä»€ä¹ˆæ–°åŠŸèƒ½/ç‰¹æ€§ï¼Œä½†æ®å…¶ä½œè€…ä»‹ç»ï¼Œ<code>WePY 2.0</code>  ä¼šæ”¾å¤§æ‹›ï¼Œæ˜¯ä¸€ä¸ªã€Œå¯¹å¾—èµ·å¼€å‘è€…ã€çš„ç‰ˆæœ¬ã€‚ç¬”è€…ä¹Ÿéå¸¸æœŸå¾… 2.0 æ­£å¼å‘å¸ƒå <code>WePY</code> çš„è¡¨ç°ã€‚</p><p><code>mpvue</code> å·²ç»å‘å¸ƒäº† <code>2.0</code> çš„ç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯æ›´æ–°äº†å…¶å®ƒç«¯å°ç¨‹åºçš„æ”¯æŒã€‚ä½†ä»ä»£ç æäº¤ï¼Œ issue çš„å›å¤/è§£å†³ç‡æ¥çœ‹ï¼Œ<code>mpvue</code> è¦æƒ³åœ¨æœªæ¥æœ‰ä½œä¸ºé¦–å…ˆè¦æ‰“æ¶ˆç¤¾åŒºå¯¹äº <code>mpvue</code> ä¸ç®¡ä¸é¡¾ä¸æ›´æ–°çš„è´¨ç–‘ã€‚</p><p><code>uni-app</code> å·²ç»åœ¨ç”Ÿæ€ä¸Šå»ºè®¾å¾—å¾ˆå¥½äº†ï¼Œåº”è¯¥ä¼šåœ¨æ­¤åŸºç¡€ä¹‹ä¸Šç»§ç»­ç¨³æ­¥å‘å±•ã€‚å¦‚æœ <code>uni-app</code> èƒ½åŠ å¼ºå¼€æºå¼€æ”¾ï¼Œå†åŠ å¼ºä¸å¤§å‚çš„åˆä½œï¼Œç›¸ä¿¡æœªæ¥è¿˜èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ã€‚</p><p><code>chameleon</code> çš„è§„åˆ’æ¯”è¾ƒå®å¤§ï¼Œè™½ç„¶æ˜¯æœ€åå‘çš„æ¡†æ¶ï¼Œä½†å·²ç»åœ¨è§„åˆ’æˆ–æ­£åœ¨å®ç°çš„åŠŸèƒ½æœ‰ï¼š</p><ul><li>å¿«åº”ç”¨å’Œç«¯æ‹“å±•åè®®</li><li>é€šç”¨ç»„ä»¶åº“å’Œå‚ç›´ç±»ç»„ä»¶åº“</li><li>é¢å‘ç ”å‘çš„å›¾å½¢åŒ–å¼€å‘å·¥å…·</li><li>é¢å‘éç ”å‘çš„å›¾å½¢åŒ–é¡µé¢æ­å»ºå·¥å…·</li></ul><p>å¦‚æœ <code>chameleon</code> æŠŠè¿™äº›åŠŸèƒ½éƒ½åšå‡ºæ¥çš„è¯ï¼Œå†ç»§ç»­å®Œå–„ç”Ÿæ€ï¼Œäº‰å–æ›´å¤šç¬¬ä¸‰æ–¹å¼€å‘è€…ï¼Œé‚£ä¹ˆåœ¨æœªæ¥  <code>chameleon</code>  å°†å¤§æœ‰å¯ä¸ºã€‚</p><p><code>Taro</code> çš„æœªæ¥ä¹Ÿä¸€æ ·å€¼å¾—æ†§æ†¬ã€‚Taro å³å°†è¦å‘å¸ƒçš„ <code>1.3</code> ç‰ˆæœ¬å°±ä¼šæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>å¿«åº”ç”¨æ”¯æŒ</li><li>Taro Doctorï¼Œè‡ªåŠ¨åŒ–æ£€æŸ¥é¡¹ç›®é…ç½®å’Œä»£ç åˆæ³•æ€§</li><li>æ›´å¤šçš„ JSX è¯­æ³•æ”¯æŒï¼Œ1.3 ä¹‹åé™åˆ¶ç”Ÿäº§åŠ›çš„è¯­æ³•åªæœ‰ <code>åªèƒ½ç”¨ map åˆ›é€ å¾ªç¯ç»„ä»¶</code> ä¸€æ¡</li><li>H5 æ‰“åŒ…ä½“ç§¯å¤§å¹…ç²¾ç®€</li></ul><p>åŒæ—¶ <code>Taro</code> ä¹Ÿæ­£åœ¨å¯¹ç§»åŠ¨ç«¯è¿›è¡Œå¤§è§„æ¨¡é‡æ„ï¼›å¼€å‘å›¾å½¢åŒ–å¼€å‘å·¥å…·ï¼›å¼€å‘ç»„ä»¶/ç‰©æ–™å¹³å°ä»¥åŠå›¾å½¢åŒ–é¡µé¢æ­å»ºå·¥å…·ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç»“è¯­">ç»“è¯­<a class="hash-link" href="#ç»“è¯­" title="Direct link to heading">â€‹</a></h2><p>é‚£è¯´äº†é‚£ä¹ˆå¤šï¼Œåˆ°åº•ç”¨å“ªä¸ªå‘¢ï¼Ÿ</p><p>å¦‚æœä¸ä»‹æ„å°é²œå’Œå­¦ä¹  DSL çš„è¯ï¼Œå®Œå…¨å¯ä»¥å°è¯• <code>WePY</code> 2.0  å’Œ <code>chameleon</code> ï¼Œä¸€ä¸ªæ˜¯é…é…¿äº†å¾ˆä¹…çš„ 2.0 å…¨æ–°å‡çº§ï¼Œä¸€ä¸ªæœ‰ä¸“é—¨é’ˆå¯¹å¤šç«¯å¼€å‘çš„å¤šæ€åè®®ã€‚</p><p><code>uni-app</code> å’Œ <code>Taro</code> ç›¸æ¯”èµ·æ¥å°±æ›´åƒæ˜¯ã€Œæ°´æ¡¶å‹ã€æ¡†æ¶ï¼Œä»å·¥å…·ã€UI åº“ï¼Œå¼€å‘ä½“éªŒã€å¤šç«¯æ”¯æŒç­‰å„æ–¹é¢æ¥çœ‹éƒ½æ²¡æœ‰æ˜æ˜¾çš„çŸ­æ¿ã€‚è€Œ <code>mpvue</code> ç”±äºå¼€å‘ä¸€åº¦åœæ»ï¼Œç°åœ¨çœ‹æ¥å„ä¸ªæ–¹é¢éƒ½ä¸å¦‚åœ¨å°ç¨‹åºç«¯åŸºäºå®ƒçš„ <code>uni-app</code> ã€‚</p><p>å½“ç„¶ï¼ŒTalk is cheapã€‚å¦‚æœå¯¹è¿™ä¸ªè¯é¢˜æœ‰æ›´å¤šå…´è¶£çš„åŒå­¦å¯ä»¥å» GitHub å¦è¡Œç ”ç©¶ï¼Œæœ‰ç©ºçœ‹ä»£ç ï¼Œæ²¡ç©ºçœ‹æäº¤ï¼š</p><ul><li>chameleon: <a href="https://github.com/didi/chameleon" target="_blank" rel="noopener noreferrer">https://github.com/didi/chameleon</a></li><li>mpvue: <a href="https://github.com/Meituan-Dianping/mpvue" target="_blank" rel="noopener noreferrer">https://github.com/Meituan-Dianping/mpvue</a></li><li>Taro: <a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro</a></li><li>uni-app: <a href="https://github.com/dcloudio/uni-app" target="_blank" rel="noopener noreferrer">https://github.com/dcloudio/uni-app</a></li><li>WePY: <a href="https://github.com/Tencent/wepy" target="_blank" rel="noopener noreferrer">https://github.com/Tencent/wepy</a></li></ul><p>(æŒ‰å­—æ¯é¡ºåºæ’åº)</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å†³æˆ˜æ€§èƒ½ä¹‹å·… - Taro H5 è½¬æ¢ä¸ä¼˜åŒ–å‡çº§]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-02-28-taro-h5-optimize</link>
            <guid>2019-02-28-taro-h5-optimize</guid>
            <pubDate>Thu, 28 Feb 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img10.360buyimg.com/img/jfs/t1/21860/12/8740/42390/5c790470E1d0bbce9/9f9bb78d01f7564b.png" alt="image" class="img_ROth"></p><p>ä½œä¸ºä¸€ä¸ªå¤šç«¯å¼€å‘æ¡†æ¶ï¼ŒTaro ä»é¡¹ç›®å‘èµ·æ—¶å°±å·²ç»æ”¯æŒç¼–è¯‘åˆ° H5 ç«¯ã€‚éšç€ Taro å¤šç«¯èƒ½åŠ›çš„ä¸æ–­æˆç†Ÿï¼Œæˆ‘ä»¬å¯¹ Taro H5 ç«¯åº”ç”¨çš„è¦æ±‚ä¹Ÿä¸æ–­æå‡ã€‚æˆ‘ä»¬å·²ç»ä¸å†æ»¡è¶³äºâ€œèƒ½è·‘â€ï¼Œæ›´å¸Œæœ› Taro èƒ½è·‘å¾—å¿«ã€‚</p><p>æˆ‘ä»¬ç»å¸¸æ”¶åˆ°ç”¨æˆ·åé¦ˆï¼šä¸ºä»€ä¹ˆä½¿ç”¨ Taro è„šæ‰‹æ¶åˆ›å»ºçš„ç©ºé¡¹ç›®ï¼Œæ‰“åŒ…åä»£ç ä½“ç§¯å´æœ‰ 400KB+ï¼›ä¹Ÿæœ‰ç”¨æˆ·åœ¨ Issue ä¸­æåˆ°ï¼ŒTaro çš„éƒ¨åˆ† Api å ç”¨ç©ºé—´å·¨å¤§ï¼Œäº‹å®ä¸ŠåŠŸèƒ½å´å¹¶ä¸å®Œç¾ï¼Œç­‰ç­‰ã€‚ä½œä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬éå¸¸é‡è§†ç¤¾åŒºå¼€å‘è€…ä»¬çš„æ„è§ã€‚æ‰€ä»¥åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å¯¹ Taro H5 ç«¯çš„æ€§èƒ½è¡¨ç°è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><p>ä½œä¸ºè¿è¡Œæ—¶çš„åŸºç¡€ï¼Œæ¯ä¸€ä¸ª Taro çš„ H5 ç«¯åº”ç”¨éƒ½éœ€è¦å¼•å…¥ @tarojs/components å’Œ @tarojs/taro-h5 ç­‰åŸºç¡€ä¾èµ–åŒ…ã€‚åœ¨ç¼–è¯‘ã€æ‰“åŒ…ä¹‹åï¼Œè¿™äº›ä¾èµ–åŒ…å¤§çº¦ä¼šåœ¨é¦–å±å ç”¨ 400KB ä»¥ä¸Šçš„ç©ºé—´ã€‚å¦‚æœå¼€å‘è€…è¿˜ä½¿ç”¨äº† UI åº“ï¼Œä¾‹å¦‚ Taro-UIï¼ŒåŸºç¡€ä½“ç§¯è¿˜ä¼šæ›´å¤§ï¼Œè¿™ä¸¥é‡é™åˆ¶äº† Taro H5 ç«¯åº”ç”¨çš„æ€§èƒ½ä¼˜åŒ–ç©ºé—´ã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬åœ¨ H5 ç«¯åº”ç”¨ä¸­å¹¶ä¸ä¼šä½¿ç”¨åˆ°å…¨éƒ¨çš„ Taro ç»„ä»¶å’Œ Apiã€‚å°†è¿™äº›ä¾èµ–åŒ…å…¨éƒ¨æ‰“åŒ…è¿›åº”ç”¨æ˜¯æ²¡æœ‰å¿…è¦ï¼Œä¹Ÿæ˜¯ä¸åˆç†çš„ã€‚è¿›è¡Œæ­»ç åˆ é™¤ï¼ˆDead code eliminationï¼‰ï¼Œè¿›ä¸€æ­¥ç¼©å‡ä»£ç ä½“ç§¯ï¼Œå°±æ˜¯æˆ‘ä»¬çš„ä¼˜åŒ–æ–¹å‘ä¹‹ä¸€ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ•ˆæœ">æ•ˆæœ<a class="hash-link" href="#æ•ˆæœ" title="Direct link to heading">â€‹</a></h2><p>åœ¨ä»‹ç»å…·ä½“ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€çœ‹ä¼˜åŒ–çš„æ•ˆæœï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šè®©ä½ æ›´æœ‰å…´è¶£äº†è§£åé¢çš„å†…å®¹ã€‚ç”¨ä¸€å¥è¯æ¥è¯´ï¼Œæ•ˆæœéå¸¸æ˜¾è‘—ã€‚</p><p>æˆ‘ä»¬å»ºç«‹äº†ä¸€ä¸ªç©ºé¡¹ç›®ï¼Œåœ¨é¡¹ç›®é…ç½®ä¸­åŠ å…¥äº†<code>webpack-bundle-analyzer</code>æ’ä»¶ä»¥æŸ¥çœ‹ç¼–è¯‘åˆ†æã€‚ä¸‹å›¾æ˜¯ä¼˜åŒ–å‰çš„æ‰“åŒ…æ–‡ä»¶åˆ†æç»“æœï¼š</p><p><img loading="lazy" src="https://img11.360buyimg.com/img/jfs/t1/19501/21/8687/76054/5c77fb63E5d040dc5/12bcea35b5b780fb.png" alt="before" class="img_ROth"></p><p>è€Œåœ¨ä¼˜åŒ–åï¼Œå¯¹æ¯”éå¸¸æ˜æ˜¾ï¼š</p><p><img loading="lazy" src="https://img12.360buyimg.com/img/jfs/t1/24494/22/8574/92373/5c77fb63E4402b50f/2312218a7dccedf7.png" alt="after" class="img_ROth"></p><p>ä¼˜åŒ–å‰ç”Ÿæˆçš„ä»£ç æ€»å¤§å°ä¸º 455KBï¼Œè€Œåœ¨ä¼˜åŒ–åä»…å‰©çº¦ 96KBï¼Œä»…æ˜¯åŸæ¥çš„ 1/5 å·¦å³ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä½ éœ€è¦åšä»€ä¹ˆ">ä½ éœ€è¦åšä»€ä¹ˆ<a class="hash-link" href="#ä½ éœ€è¦åšä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><p>å¾ˆç®€å•ï¼Œä½œä¸ºä½¿ç”¨è€…ï¼Œä½ ä¸éœ€è¦åšä»»ä½•ä»£ç ä¸Šçš„æ”¹åŠ¨ï¼Œåªéœ€è¦å°† Taro æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚ä½†åœ¨çœ‹ä¸è§çš„åœ°æ–¹ï¼ŒTaro å´é»˜é»˜åœ°åšäº†è®¸å¤šå·¥ä½œã€‚ä¸‹é¢ä¼šä»åŸç†å‡ºå‘ï¼Œè¯¦ç»†ä»‹ç» Taro çš„å·¥ä½œã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="åŸç†">åŸç†<a class="hash-link" href="#åŸç†" title="Direct link to heading">â€‹</a></h2><p><a href="https://en.wikipedia.org/wiki/Dead_code_elimination" target="_blank" rel="noopener noreferrer">æ­»ç åˆ é™¤ï¼ˆDead code eliminationï¼‰</a>æ˜¯ä¸€ç§ä»£ç ä¼˜åŒ–æŠ€æœ¯ï¼Œå¯ä»¥åˆ é™¤å¯¹åº”ç”¨ç¨‹åºæ‰§è¡Œç»“æœæ²¡æœ‰å½±å“çš„ä»£ç ã€‚Web Fundamentals çš„ä¸€ç¯‡æ–‡ç« æœ‰æåˆ°ï¼Œtreeshaking æ˜¯ç”± Rollup æå‡ºçš„ä¸€ç§æ­»ç åˆ é™¤çš„å½¢å¼ã€‚</p><blockquote><p>Tree shaking is a form of dead code elimination. The term was popularized by Rollup, but the concept of dead code elimination has existed for some time. </p><p>-- <a href="https://developers.google.com/web/fundamentals/performance/optimizing-javascript/tree-shaking/" target="_blank" rel="noopener noreferrer">Reduce JavaScript Payloads with Tree Shaking</a>, Jeremy Wagner</p></blockquote><p>é€šè¿‡åœ¨æ„å»ºæ—¶è¿›è¡Œé™æ€åˆ†æï¼Œç¼–è¯‘å·¥å…·å¯ä»¥åˆ†æå‡ºæˆ‘ä»¬ä»£ç ä¸­çœŸæ­£çš„ä¾èµ–å…³ç³»ã€‚treeshaking æŠŠæˆ‘ä»¬çš„ä»£ç æƒ³è±¡æˆä¸€æ£µæ ‘ï¼Œä»£ç çš„æ¯ä¸ªä¾èµ–é¡¹çœ‹ä½œæ ‘ä¸Šçš„èŠ‚ç‚¹ã€‚å°†æœªä½¿ç”¨è¿‡çš„ä¾èµ–é¡¹ä»æ„å»ºç»“æœä¸­ç§»é™¤ï¼Œè¿™å°±æ˜¯ treeshaking çš„åŸºæœ¬æ€æƒ³ã€‚</p><p>é‚£ä¹ˆï¼Œå‡è®¾æˆ‘ä»¬æ‰‹å¤´æœ‰ä¸€æ®µä»£ç ï¼Œæˆ‘ä»¬è¦æ€æ ·è¾¨åˆ«å…¶ä¸­å¯ä»¥åˆ é™¤çš„éƒ¨åˆ†å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œé€šè¿‡åˆ†æå‰¯ä½œç”¨ï¼š</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// add.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> addï¼ˆa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bï¼‰</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// add2.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'è¿™æ˜¯ä¸€ä¸ªlog'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> add2ï¼ˆa</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bï¼‰</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">add</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./add.js'</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¯ä»¥åˆ é™¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">add2</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./add2.js'</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// æœ‰å‰¯ä½œç”¨ï¼Œä¸èƒ½ç›´æ¥åˆ é™¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// EOF</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å‰¯ä½œç”¨è¿™ä¸ªåè¯å¯¹äºäº†è§£å‡½æ•°å¼ç¼–ç¨‹çš„åŒå­¦è‚¯å®šä¸é™Œç”Ÿã€‚ä¿®æ”¹å¤–éƒ¨çŠ¶æ€ï¼Œæˆ–è€…æ˜¯äº§ç”Ÿè¾“å‡ºç­‰ç­‰ï¼Œéƒ½æ˜¯å‰¯ä½œç”¨ï¼›è€Œå­˜åœ¨å‰¯ä½œç”¨çš„ä»£ç ï¼Œæ˜¯ä¸èƒ½è¢«ç›´æ¥ç§»é™¤çš„ã€‚ç±»ä¼¼ä¸Šé¢è¿™ä¸ªä»£ç ç¤ºæ„ï¼Œadd2 æ¨¡å—å°±æ˜¯å­˜åœ¨å‰¯ä½œç”¨çš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š">ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š<a class="hash-link" href="#ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š" title="Direct link to heading">â€‹</a></h3><p>é™¤äº† Rollup ä¹‹å¤–ï¼Œæ”¯æŒ treeshaking çš„å·¥å…·/æ’ä»¶è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ babel-plugin-transform-dead-code-eliminationã€uglifyã€terserç­‰ã€‚ webpack åœ¨ v2 ä¹‹åå°±å†…ç½®äº†å¯¹ treeshaking çš„æ”¯æŒï¼Œå¹¶åœ¨ webpack@4 ä¸­å¯¹ treeshaking åŠŸèƒ½è¿›è¡Œäº†æ‰©å±•ã€‚</p><p>Taro H5 ç«¯åœ¨æ„å»ºè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ webpack ä½œä¸ºæ„å»ºçš„æ ¸å¿ƒã€‚åœ¨ webpack ä¸­ä½¿ç”¨ treeshaking åŠŸèƒ½æœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><ol><li>å¦‚æœæ˜¯ npm æ¨¡å—ï¼Œéœ€è¦<code>package.json</code>ä¸­å­˜åœ¨<code>sideEffects</code>å­—æ®µï¼Œå¹¶ä¸”å‡†ç¡®é…ç½®äº†å­˜åœ¨å‰¯ä½œç”¨çš„æºä»£ç ã€‚</li><li>å¿…é¡»ä½¿ç”¨ ES6 æ¨¡å—è¯­æ³•ã€‚ç”±äºè¯¸å¦‚<code>babel-preset-env</code>ä¹‹ç±»çš„ babel é¢„é…ç½®åŒ…é»˜è®¤ä¼šå¯¹ä»£ç çš„æ¨¡å—æœºåˆ¶è¿›è¡Œæ”¹å†™ï¼Œè¿˜éœ€è¦å°†<code>modules</code>è®¾ç½®ä¸º<code>false</code>ï¼Œå°†æ¨¡å—è§£æçš„å·¥ä½œç›´æ¥äº¤ç»™ webpackã€‚</li><li>éœ€è¦å·¥ä½œåœ¨ webpack çš„<code>production</code>æ¨¡å¼ä¸‹ã€‚</li></ol><p>webpack çš„ treeshaking å·¥ä½œä¸»è¦åˆ†ä¸ºä¸¤æ­¥ã€‚ç¬¬ä¸€æ­¥æ˜¯åœ¨æ¨¡å—çº§åˆ«ç§»é™¤æœªä½¿ç”¨ä¸”æ— å‰¯ä½œç”¨çš„æ¨¡å—ï¼Œè¿™ä¸€æ­¥ç”± webpack çš„å†…ç½®æ’ä»¶å®Œæˆï¼›ç¬¬äºŒæ­¥æ˜¯åœ¨æ–‡ä»¶çº§åˆ«ç§»é™¤æœªä½¿ç”¨çš„ä»£ç ï¼Œè¿™ä¸€æ­¥ç”±ä»£ç å‹ç¼©å·¥å…· Terser å®Œæˆçš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç§»é™¤æœªä½¿ç”¨çš„æ¨¡å—">ç§»é™¤æœªä½¿ç”¨çš„æ¨¡å—<a class="hash-link" href="#ç§»é™¤æœªä½¿ç”¨çš„æ¨¡å—" title="Direct link to heading">â€‹</a></h3><p>å‰é¢æˆ‘ä»¬æåˆ°ï¼Œéœ€è¦åœ¨<code>package.json</code>ä¸­é…ç½®<code>sideEffects</code>å­—æ®µã€‚</p><p>åœ¨ <a href="https://webpack.js.org/guides/tree-shaking/#mark-the-file-as-side-effect-free" target="_blank" rel="noopener noreferrer">webpack æ–‡æ¡£</a> ä¸­æœ‰æåˆ°ï¼Œè¿™ä¸€ä¸¾åŠ¨æ­£æ˜¯ä¸ºäº†è®© webpack æ­£ç¡®åœ°è¯†åˆ«åˆ°æ²¡æœ‰å‰¯ä½œç”¨çš„ä»£ç æ¨¡å—ã€‚</p><p>åœ¨ webpack ä¸­ï¼Œæ¨¡å—ä¾èµ–åˆ†ææ˜¯ç”±å†…ç½®æ’ä»¶ <a href="https://sourcegraph.com/github.com/webpack/webpack/-/blob/lib/optimize/SideEffectsFlagPlugin.js" target="_blank" rel="noopener noreferrer">SideEffectsFlagPlugin</a> è¿›è¡Œçš„ã€‚</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/14100/24/8582/236551/5c77fbb1Ef1ec35cc/751d4324349728b8.png" alt="image-20190225220418363" class="img_ROth"></p><p>ç»è¿‡ <a href="https://sourcegraph.com/github.com/webpack/webpack/-/blob/lib/optimize/SideEffectsFlagPlugin.js" target="_blank" rel="noopener noreferrer">SideEffectsFlagPlugin</a>å¤„ç†åï¼Œæ²¡æœ‰ä½¿ç”¨è¿‡å¹¶ä¸”æ²¡æœ‰å‰¯ä½œç”¨çš„æ¨¡å—éƒ½ä¼šè¢«æ‰“ä¸Š<code>sideEffectFree</code>æ ‡è®°ã€‚</p><p>åœ¨ <a href="https://sourcegraph.com/github.com/webpack/webpack/-/blob/lib/optimize/ModuleConcatenationPlugin.js" target="_blank" rel="noopener noreferrer">ModuleConcatenationPlugin</a> ä¸­ï¼Œå¸¦ç€<code>sideEffectFree</code>æ ‡è®°çš„æ¨¡å—å°†ä¸ä¼šè¢«æ‰“åŒ…ï¼š</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/16074/5/8686/211783/5c77fbacE50bc5fe1/681ba09abcf55c11.png" alt="image-20190222111301698" class="img_ROth"></p><p>æ¥åˆ°è¿™é‡Œï¼Œwebpack å®Œæˆäº†åœ¨æ¨¡å—çº§åˆ«å¯¹æœªä½¿ç”¨æ¨¡å—çš„æ’é™¤ã€‚æ¥ä¸‹æ¥ï¼Œä¾é  Terserï¼Œwebpack å¯ä»¥åœ¨æ–‡ä»¶çº§åˆ«ï¼Œå¯¹æœªä½¿ç”¨ã€æ— å‰¯ä½œç”¨çš„ä»£ç è¿›è¡Œç§»é™¤ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç§»é™¤æœªä½¿ç”¨çš„ä»£ç ">ç§»é™¤æœªä½¿ç”¨çš„ä»£ç <a class="hash-link" href="#ç§»é™¤æœªä½¿ç”¨çš„ä»£ç " title="Direct link to heading">â€‹</a></h3><p>åœ¨ CommonJS è§„èŒƒä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>require</code>å‡½æ•°æ¥å¼•å…¥æ¨¡å—ï¼Œé€šè¿‡<code>module.exports</code>è¿›è¡Œå¯¼å‡ºã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­çš„ä»»ä½•åœ°æ–¹ç”¨ä»»ä½•æ–¹å¼å¼•å…¥å’Œå¯¼å‡ºæ¨¡å—ï¼šå¯ä»¥æ˜¯åœ¨æŸä¸ªéœ€è¦ç­‰å¾…ç”¨æˆ·è¾“å…¥çš„å›è°ƒå‡½æ•°ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨ç¬¦åˆæŸä¸ªæ¡ä»¶æ‰è¿›è¡Œå¼•å…¥ç­‰ç­‰ã€‚æ‰€ä»¥åœ¨ä½¿ç”¨ ES6 çš„æ¨¡å—ç³»ç»Ÿä¹‹å‰ï¼Œå¯¹ Javascript åšç¼–è¯‘æ—¶çš„ä¾èµ–å…³ç³»åˆ†ææ˜¯è¿‘ä¹ä¸å¯èƒ½çš„ï¼ˆå¹¶ä¸æ˜¯å®Œå…¨ä¸å¯èƒ½ã€‚prepack é€šè¿‡å®ç°ä¸€ä¸ª JS è§£é‡Šå™¨ï¼Œç”šè‡³å¯ä»¥åœ¨ç¼–è¯‘æ—¶æå‰è¿›è¡Œé™æ€è®¡ç®—ï¼‰ã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// utils.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">minus</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// index.js;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> utils </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'./utils.js'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åƒä¸Šé¢è¿™æ®µä»£ç ï¼Œè™½ç„¶æˆ‘ä»¬æœ€ç»ˆåªä½¿ç”¨äº†<code>add</code>å‡½æ•°ï¼Œä½†<code>minus</code>å‡½æ•°ä¹Ÿä¼šåœ¨æœ€ç»ˆçš„æ‰“åŒ…ä»£ç ä¸­å‡ºç°ï¼Œå› ä¸ºåœ¨ç¼–è¯‘æ—¶æ— æ³•å¿«é€Ÿå¾—çŸ¥æ˜¯å¦ä½¿ç”¨äº†<code>minus</code>å‡½æ•°ã€‚</p><p>åœ¨ ES6 çš„æ¨¡å—ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>import</code>/<code>export</code>è¯­æ³•æ¥è¿›è¡Œæ¨¡å—çš„å¼•å…¥å’Œå¯¼å‡ºã€‚ä¸ CommonJS è§„èŒƒä¸åŒçš„æ˜¯ï¼Œè¿™å¥—æ–°çš„æ¨¡å—ç³»ç»Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼š<code>import</code>/<code>export</code>è¡Œä¸ºåªèƒ½åœ¨ä»£ç çš„é¡¶å±‚ã€é»˜è®¤ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ç­‰ç­‰ã€‚è¿™äº›é™åˆ¶ä½¿ä»£ç æ¨¡å—çš„å¯¼å…¥ä¸å¯¼å‡ºå˜å¾—é™æ€åŒ–ï¼Œæ¨¡å—é—´çš„ä¾èµ–å…³ç³»åœ¨å¼€å‘æ—¶å·²ç»ç¡®å®šï¼Œç¼–è¯‘å™¨ä¹Ÿæ›´å®¹æ˜“è§£ææˆ‘ä»¬çš„ä»£ç ã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// utils.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">minus</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> b </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// index.js;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> add </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./utils.js'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ä½¿ç”¨ ES6 æ¨¡å—ç³»ç»Ÿæ”¹é€ åï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œ<code>minus</code>å‡½æ•°ç¡®å®æ²¡æœ‰è¢«ä½¿ç”¨è¿‡ï¼Œæ‰€ä»¥å¯ä»¥å®‰å…¨åœ°å°†å…¶ä»æœ€ç»ˆæ‰“åŒ…ä»£ç ä¸­ç§»é™¤ã€‚</p><p>å½“ç„¶ï¼Œå…·ä½“çš„åˆ†æè¿‡ç¨‹éå¸¸å¤æ‚ã€‚å˜é‡æå‡ã€object å–å€¼æ“ä½œã€<code>for(var i in list)</code> è¯­å¥ã€è‡ªæ‰§è¡Œå‡½æ•°ã€å‡½æ•°ä¼ å‚ï¼ˆ<code>onClick(function a () {â€¦})</code>ï¼‰ç­‰ç­‰ï¼Œéƒ½æœ‰å¯èƒ½å¯¼è‡´æ„æ–™ä¹‹å¤–çš„æƒ…å†µï¼Œä»è€Œå¯¼è‡´ treeshaking å¤±æ•ˆã€‚å¦‚æœæƒ³äº†è§£ Terser çš„å…·ä½“å¤„ç†è¿‡ç¨‹ï¼Œç™¾åº¦/Google ä¼šæ˜¯æœ€å¥½çš„è€å¸ˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-åšäº†ä»€ä¹ˆ">Taro åšäº†ä»€ä¹ˆ<a class="hash-link" href="#taro-åšäº†ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><p>Taro éœ€è¦å¯¹ä¾èµ–åŒ…åšä¸€äº›ä¿®æ”¹ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç»„ä»¶çš„-es-æ¨¡å—åŒ–">ç»„ä»¶çš„ ES æ¨¡å—åŒ–<a class="hash-link" href="#ç»„ä»¶çš„-es-æ¨¡å—åŒ–" title="Direct link to heading">â€‹</a></h3><p>åœ¨è¿›è¡Œç»„ä»¶åº“çš„ ES æ¨¡å—åŒ–æ”¹é€ ä¹‹å‰ï¼Œå¦‚æœè¦å‘å¸ƒ @tarojs/components åŒ…ï¼ŒTaro ä¼šæ‰§è¡Œå‘½ä»¤ <code>yarn build</code>ï¼Œä½¿ç”¨ webpack å¯¹æºä»£ç è¿›è¡Œæ‰“åŒ…ï¼Œè¾“å‡ºä¸º<code>dist/index.js</code>æ–‡ä»¶ã€‚ç”±äº webpack å¹¶ä¸æ”¯æŒè¾“å‡ºä¸º ES æ¨¡å—ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸ª UMD æ¨¡å—ã€‚</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/22354/16/8646/21917/5c77fbacEdee5c349/e6af50961d434f09.png" alt="image-20190225154632128" class="img_ROth"></p><p>è¿™ä¸ªæ–‡ä»¶å æ®äº† 462KB çš„ç©ºé—´ï¼Œå¹¶ä¸”ç”±äºæ¨¡å—è§„èŒƒç­‰é—®é¢˜ï¼Œæ— æ³•è¿›è¡Œ treeshakingã€‚æ‰€ä»¥å°±ç®—å¼€å‘è€…åœ¨ Taro çš„é¡¹ç›®ä¸­åªå¼•å…¥äº†ä¸¤ä¸ªç»„ä»¶ï¼Œæœ€ç»ˆçš„æ‰“åŒ…ç»“æœä¹Ÿä¼šåŒ…å«æ‰€æœ‰çš„å†…ç½®ç»„ä»¶ã€‚</p><p>äº‹å®ä¸Šï¼Œ@tarojs/components çš„æºç æœ¬èº«æ˜¯ä½¿ç”¨ ESM è§„èŒƒçš„ï¼š</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/14453/5/8776/198331/5c77fbacE24aec263/74ceb998fe9f5059.png" alt="image-20190225160508956" class="img_ROth"></p><p>æ‰€ä»¥åªè¦è®© webpack ç›´æ¥è§£æç»„ä»¶åº“çš„æºç ï¼Œæˆ‘ä»¬ç«‹å³å°±å¯ä»¥äº«å—åˆ° webpack è‡ªå¸¦ treeshaking å¸¦æ¥çš„å¥½å¤„äº†ã€‚</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/21781/18/8661/46118/5c77fbacE28c35efd/ba6ed6939fa041ba.png" alt="image-20190225162018328" class="img_ROth"></p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨<code>sideEffects</code>å±æ€§ä¸­å¯¹æ ·å¼æ–‡ä»¶åšäº†æ ‡è®°ï¼Œå¸®åŠ© webpack å¯¹æ ·å¼ä»£ç çš„å‰¯ä½œç”¨è¿›è¡Œè¯†åˆ«ï¼Œåœ¨é¡¹ç›®ç¼–è¯‘çš„ä»£ç ä¸­ä¿ç•™æ ·å¼ä»£ç ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="api-çš„-es-æ¨¡å—åŒ–">Api çš„ ES æ¨¡å—åŒ–<a class="hash-link" href="#api-çš„-es-æ¨¡å—åŒ–" title="Direct link to heading">â€‹</a></h3><p>åŒæ ·ï¼Œä»¥å‰åœ¨å‘å¸ƒ @tarojs/taro-h5 ä¹‹å‰ï¼ŒTaro ä¹Ÿéœ€è¦æ‰§è¡Œå‘½ä»¤ <code>yarn build</code>ï¼Œä½¿ç”¨ Rollup å¯¹æºä»£ç è¿›è¡Œæ‰“åŒ…ï¼Œè¾“å‡ºä¸º<code>dist/index.js</code>æ–‡ä»¶ï¼š</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/29124/32/8757/41440/5c77fbacEa1b2206c/fba8b10d73136327.png" alt="image-20190225162654885" class="img_ROth"></p><p>è¿™ä¸ªæ–‡ä»¶å æ®äº† 262KB çš„ç©ºé—´ã€‚åŒæ ·ï¼Œåªè¦æ˜¯ä¸ª Taro çš„ H5 ç«¯åº”ç”¨ï¼Œç”Ÿæˆçš„ä»£ç éƒ½ä¼šå…¨é‡å¼•å…¥è¿™ä¸ªæ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬å¯¹ @tarojs/taro-h5 è¿›è¡Œæ¨¡å—åŒ–æ”¹é€ çš„æ€è·¯ä¸ @tarojs/components ç›¸åŒã€‚æˆ‘ä»¬å¸Œæœ› @tarojs/taro-h5 æ¨¡å—æœ¬èº«éµå®ˆ ESM æ¨¡å—è§„èŒƒï¼Œé‚£å°±åªéœ€è¦æ ‡è®°ä¸€ä¸‹<code>sideEffects</code>ï¼Œå†ä¿®æ”¹ä¸€ä¸‹æ¨¡å—å…¥å£å°±å¥½ã€‚</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/16633/12/8583/53807/5c77fbacE239aa77a/0d515de24217f5b5.png" alt="image-20190225165957461" class="img_ROth"></p><p>ç²—ç•¥ä¸€çœ‹ï¼Œ@tarojs/taro-h5 è¿˜æŒº â€œESMâ€ çš„ï¼Œä½†è¿™è¿˜ä¸å¤Ÿã€‚æˆ‘ä»¬è¿˜éœ€è¦å°†è¿™äº› Api ä»¥ namedExports çš„å½¢å¼å¯¼å‡ºï¼Œå¼€å‘è€…ä½¿ç”¨<code>import { XXX } from '@tarojs/taro-h5'</code>å¯¼å…¥ Api å³å¯ã€‚</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/14351/23/8588/28303/5c77fbacEf0ec647b/0b8652e5a5bb49a7.png" alt="image-20190225172609369" class="img_ROth"></p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ã€‚åœ¨ Taro é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´ä½¿ç”¨çš„æ˜¯ defaultImportï¼Œå¹¶ä¸ä¼šä½¿ç”¨ Api çš„ <code>namedExports</code> å½¢å¼ï¼š</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro-h5'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">navigateTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getSystemInfo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Taro.xxx ...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åªè¦ Api æ˜¯é€šè¿‡å¯¹<code>Taro</code>å˜é‡å–å±æ€§è·å–ï¼Œ<code>Taro</code>å˜é‡å°±éœ€è¦å…·å¤‡æ‰€æœ‰çš„ Apiï¼Œtreeshaking ä¹Ÿå°±æ— ä»è°ˆèµ·ã€‚</p><p>æœ‰æ²¡æœ‰åŠæ³•æŠŠ defaultImport ä¿®æ”¹ä¸º namedImports å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚æˆ‘ä»¬å†™äº†ä¸€ä¸ª babel æ’ä»¶ babel-plugin-transform-taroapiï¼Œå°†æŒ‡å®šçš„ Api è°ƒç”¨æ›¿æ¢ä¸º namedImportsï¼ŒæœªæŒ‡å®šçš„å˜é‡åˆ™ä¿ç•™å±æ€§å–å€¼çš„å½¢å¼ã€‚å…·ä½“æºç å¯ä»¥åœ¨<strong>è¿™é‡Œ</strong>æŸ¥çœ‹ã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// const apis = new Set(['navigateTo', 'navigateBack', ...])</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">babel</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">preset</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'babel-preset-env'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ...,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'babel-plugin-transform-taroapi'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">packageName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro-h5'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        apis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™ä¸ªæ’ä»¶æ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºé…ç½®å‚æ•°ï¼š<code>packageName</code>å±æ€§æŒ‡å®šéœ€è¦è¿›è¡Œæ›¿æ¢çš„æ¨¡å—åï¼Œ<code>apis</code>æ¥å—ä¸€ä¸ª Set å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ Api çš„åˆ—è¡¨ã€‚</p><p>ä¸ºäº†é¿å…åæœŸæ‰‹åŠ¨ç»´æŠ¤ Api åˆ—è¡¨çš„æƒ…å†µï¼Œæˆ‘ä»¬ç»™ @tarojs/taro-h5 æ¨¡å—åŠ äº†ä¸€ä¸ªç¼–è¯‘ä»»åŠ¡ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„Rollup æ’ä»¶ï¼Œåœ¨æ‰§è¡Œ<code>yarn build</code>å‘½ä»¤æ—¶ç”Ÿæˆä¸€ä»½ Api åˆ—è¡¨ï¼š</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t1/11020/15/9616/262595/5c77fbadE6f554c3f/c4d4bc42d65508cd.png" alt="image-20190225210238592" class="img_ROth"></p><p>ä¸‹é¢æ˜¯ç¼–è¯‘å‰åçš„ä»£ç å¯¹æ¯”ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç¼–è¯‘å<code>setStorage</code>ã€<code>getStorage</code>çš„è°ƒç”¨éƒ½è¢«æ›¿æ¢ä¸º namedImportsã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ç¼–è¯‘å‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro-h5'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">initPxTransform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setStorage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'getStorage'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¼–è¯‘å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> setStorage </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> _setStorage</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getStorage </span><span class="token imports keyword module" style="color:#00009f">as</span><span class="token imports"> _getStorage </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro-h5'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Taro</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">initPxTransform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">_setStorage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">_getStorage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åˆ°è¿™é‡Œï¼Œè™½ç„¶è¿‡ç¨‹æ¯”è¾ƒè‰°è¾›ï¼Œä½†æˆ‘ä»¬å¯¹ @tarojs/taro-h5 çš„æ¨¡å—åŒ–æ”¹é€ ç»ˆäºå®Œæˆäº†ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœ€å">æœ€å<a class="hash-link" href="#æœ€å" title="Direct link to heading">â€‹</a></h2><p>æˆªè‡³ç›®å‰ï¼ŒTaro åœ¨ H5 ç«¯çš„å®Œæˆåº¦å·²ç»å¾ˆé«˜ï¼Œä½†æ˜¯å¹¶ä¸å®Œç¾ã€‚æœªæ¥ï¼Œåœ¨å¯¹å·²æœ‰é—®é¢˜è¿›è¡Œä¿®å¤çš„åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å°†ç»§ç»­ä¸º Taro H5 ç«¯å¸¦æ¥æ›´å¤šæ–°çš„ç‰¹æ€§ï¼Œæ¯”å¦‚å¯¹ç¤¾åŒºä¸­å‘¼å£°ç›¸å½“é«˜çš„<code>switchTab</code>ã€é¡µé¢æ»šåŠ¨ç›‘å¬<code>onPageScroll</code>ã€ä¸‹æ‹‰åˆ·æ–°<code>onPullDownRefresh</code>ç­‰ Api çš„æ”¯æŒï¼Œæ›´åŠ ç»Ÿä¸€çš„é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼Œä»¥åŠæ›´åŠ ç¨³å®šçš„å¤šé¡µé¢æ¨¡å¼ç­‰ç­‰ã€‚</p><p>Taro å‘å±•åˆ°ç°åœ¨ï¼Œç¦»ä¸å¼€ç¤¾åŒºçš„æ”¯æŒã€‚éå¸¸æ„Ÿè°¢åœ¨ githubã€å¾®ä¿¡ç¾¤ä¸­è¸Šè·ƒåé¦ˆçš„å¼€å‘è€…ä»¬ã€‚å¦‚æœä½ å¯¹Taroæœ‰ä»€ä¹ˆæƒ³æ³•æˆ–å»ºè®®ï¼ŒTaro éå¸¸æ¬¢è¿ä½ æ¥åæ§½æˆ–è§‚å…‰ï¼š</p><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro UI 2.0 å‘å¸ƒï¼šæ–°å¢è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½ï¼Œé€‚é…æ›´å¤šå°ç¨‹åº]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2019-02-25-taro-ui-2.0</link>
            <guid>2019-02-25-taro-ui-2.0</guid>
            <pubDate>Mon, 25 Feb 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[è½¬çœ¼é—´ï¼ŒTaro UI å‘å¸ƒå·²æœ‰åŠå¹´ï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒï¼Œè®©æˆ‘ä»¬æ”¶è·äº† GitHub 1400+ starã€‚åœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬ä¸æ–­å®Œå–„ç»„ä»¶åº“çš„åŠŸèƒ½å’Œç‰¹æ€§ï¼Œæ–°å¢äº†è®¸å¤šç»„ä»¶å’Œå°å·¥å…·ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº:]]></description>
            <content:encoded><![CDATA[<p>è½¬çœ¼é—´ï¼ŒTaro UI å‘å¸ƒå·²æœ‰åŠå¹´ï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒï¼Œè®©æˆ‘ä»¬æ”¶è·äº† <a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">GitHub</a> 1400+ starã€‚åœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬ä¸æ–­å®Œå–„ç»„ä»¶åº“çš„åŠŸèƒ½å’Œç‰¹æ€§ï¼Œæ–°å¢äº†è®¸å¤šç»„ä»¶å’Œå°å·¥å…·ï¼ŒåŒ…æ‹¬ä½†ä¸é™äº:</p><ul><li>æ–°å¢æ—¥å†ã€ç´¢å¼•é€‰æ‹©ã€åŒºåŸŸé€‰æ‹©ã€å›¾ç‰‡é€‰æ‹©ç­‰åä¸€ä¸ªç»„ä»¶</li><li>é€‚é…æ”¯ä»˜å®å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åº</li><li>æ–°å¢è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½</li><li>æ–°å¢ä¸»é¢˜ç”Ÿæˆå™¨ï¼Œä»¥å¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½</li><li>æ–°å¢ Issue Helperï¼Œä»¥å¸®åŠ©å¼€å‘è€…æ›´è§„èŒƒåœ°å¡«å†™ Issue</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°å¢ç»„ä»¶">æ–°å¢ç»„ä»¶<a class="hash-link" href="#æ–°å¢ç»„ä»¶" title="Direct link to heading">â€‹</a></h2><p>åœ¨ 1.0 ç‰ˆæœ¬å‘å¸ƒä¹‹åï¼Œæˆ‘ä»¬åˆé™†ç»­æ–°å¢äº†å¦‚ä¸‹åä¸€ä¸ªç»„ä»¶ï¼š</p><ul><li>è§†å›¾ç»„ä»¶ï¼šé¡µé¢æç¤ºã€ åˆ†éš”ç¬¦ã€å€’è®¡æ—¶ã€ å¹•å¸˜ ã€æ­¥éª¤æ¡</li><li>æ“ä½œåé¦ˆï¼šå…¨å±€ä¿¡æ¯ç»„ä»¶</li><li>è¡¨å•ï¼šå›¾ç‰‡é€‰æ‹©å™¨ã€åŒºåŸŸé€‰æ‹©å™¨ã€ç´¢å¼•é€‰æ‹©å™¨ã€æ—¥å†ç»„ä»¶ã€æœç´¢æ </li></ul><p>å…¶ä¸­ï¼Œåœ¨ç¤¾åŒºé‡Œå‘¼å£°æœ€é«˜çš„ç»„ä»¶ï¼Œéæ—¥å†ç»„ä»¶è«å±ã€‚ç”±äºæ—¥å†ç»„ä»¶å¤æ‚åº¦åé«˜ï¼Œè¦é€‚é…å¤šç«¯ç¯å¢ƒéš¾åº¦åå¤§ï¼Œçºµè§‚å¸‚é¢ä¸Šçš„å°ç¨‹åº UI ç»„ä»¶åº“ï¼ŒåŒ…å«æ—¥å†ç»„ä»¶çš„å¯¥å¯¥æ— å‡ ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬å›¢é˜Ÿçš„å¤§é±¼å…„ä»ç‹¬è‡ªæŒ‘èµ·é‡æ‹…ï¼Œå‡ ä¹å®Œç¾åœ°å®ç°äº†è¯¥ç»„ä»¶ï¼Œæ­¤å¤„æŒå£°çŒ®ç»™å¤§é±¼å…„ã€‚</p><p><strong>æ—¥å†ç»„ä»¶åŠŸèƒ½é¢„è§ˆï¼š</strong></p><p><img loading="lazy" src="https://misc.aotu.io/jimczj/calender.gif" alt="calender" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="é€‚é…æ”¯ä»˜å®å°ç¨‹åºç™¾åº¦å°ç¨‹åº">é€‚é…æ”¯ä»˜å®å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åº<a class="hash-link" href="#é€‚é…æ”¯ä»˜å®å°ç¨‹åºç™¾åº¦å°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>åœ¨ 1.0 ç‰ˆæœ¬é€‚é…å¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬é‡åˆ°äº†å¾ˆå¤šå›°éš¾ã€‚æ¯”å¦‚ï¼š</p><ul><li><p>å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨ Shadow DOM è¿›è¡Œæ¸²æŸ“ï¼Œå¼•èµ·äº†ä»¥ä¸‹å‡ ç§é—®é¢˜ï¼š</p><ul><li>ç»„ä»¶ä¹‹é—´æ— æ³•ä½¿ç”¨ç›¸é‚»é€‰æ‹©å™¨ï¼Œå¦‚ç»„ä»¶é—´åŠ  border çš„éœ€æ±‚ï¼Œæœ€ç»ˆåªèƒ½é€šè¿‡æ–°å¢ props ç»™å¼€å‘è€…è‡ªè¡Œæ§åˆ¶</li><li>æ— æ³•è‡ªå®šä¹‰ flex å¸ƒå±€ç»„ä»¶ï¼Œæœ€ç»ˆåªèƒ½æä¾›æ ·å¼ç»™å¼€å‘è€…è‡ªè¡Œä½¿ç”¨</li></ul></li><li><p>Component ç»„ä»¶å¯¹åº” wxss æ–‡ä»¶çš„æ ·å¼ï¼Œåªå¯¹ç»„ä»¶ wxml å†…çš„èŠ‚ç‚¹ç”Ÿæ•ˆã€‚ç»è¿‡ä¸æ–­æ¢ç´¢ï¼Œæ‰å‘ç° addGlobalClass è¿™ä¸€å±æ€§ï¼Œéœ€åœ¨è‡ªå®šä¹‰ç»„ä»¶å†…æ¿€æ´» addGlobalClass é€‰é¡¹ï¼Œæ‰èƒ½ä½¿è‡ªå®šä¹‰ç»„ä»¶è¢« app.wxss æˆ–é¡µé¢çš„ wxss ä¸­çš„æ‰€æœ‰çš„æ ·å¼å®šä¹‰å½±å“ã€‚ã€‚</p></li><li><p>åŸç”Ÿç»„ä»¶çš„ä½¿ç”¨é™åˆ¶ã€‚ç”±äºåŸç”Ÿç»„ä»¶è„±ç¦»åœ¨ WebView æ¸²æŸ“æµç¨‹å¤–ï¼ŒåŸç”Ÿç»„ä»¶çš„å±‚çº§æ˜¯æœ€é«˜çš„ï¼Œæ‰€ä»¥é¡µé¢ä¸­çš„å…¶ä»–ç»„ä»¶æ— è®ºè®¾ç½® z-index ä¸ºå¤šå°‘ï¼Œéƒ½æ— æ³•ç›–åœ¨åŸç”Ÿç»„ä»¶ä¸Šã€‚ç”±æ­¤å¯¼è‡´æ¨¡æ€æ¡†ç­‰ç»„ä»¶æ— æ³•é®æŒ¡ inputã€textareaç­‰åŸç”Ÿç»„ä»¶ï¼Œé€ æˆç©¿é€æ•ˆæœã€‚ å¯å–œçš„æ˜¯ï¼Œå¾®ä¿¡å®˜æ–¹å›¢é˜Ÿå·²ç»åœ¨æ”¹å–„è¯¥é—®é¢˜ï¼Œå¯¹å°ç¨‹åºåŸç”Ÿç»„ä»¶å¼•å…¥äº†åŒå±‚æ¸²æŸ“æ¨¡å¼ã€‚é€šè¿‡åŒå±‚æ¸²æŸ“ï¼Œå°ç¨‹åºåŸç”Ÿç»„ä»¶å¯ä¸å…¶ä»–å†…ç½®ç»„ä»¶å¤„äºç›¸åŒå±‚çº§ï¼Œä¸å†æœ‰ç‰¹æ®Šçš„ä½¿ç”¨é™åˆ¶ã€‚<a href="https://developers.weixin.qq.com/community/develop/doc/000aa28d030f60a3c4183eecb5d801?from=timeline" target="_blank" rel="noopener noreferrer">è¯¦è§</a>ã€‚</p></li><li><p>å°ç¨‹åºä¸æ”¯æŒ requestAnimationFrameï¼Œæ— æ³•å¾ˆå¥½åœ°å®ç° js åŠ¨ç”»ã€‚</p></li></ul><p>å…‹æœå®Œä¸Šè¿°å¾®ä¿¡å°ç¨‹åºçš„å›°éš¾åï¼Œæ”¯ä»˜å®å°ç¨‹åºå’Œç™¾åº¦å°ç¨‹åºçš„é€‚é…å·¥ä½œå¤§å¤šæ˜¯è§£å†³æ ·å¼å’ŒæŸäº›APIçš„å·®å¼‚ã€‚å¾—ç›Šäº Taro è‰¯å¥½çš„æ”¯æŒï¼ŒTaro UI çš„é€‚é…å·¥ä½œæš‚æ—¶å‘Šä¸€æ®µè½ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°å¢è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½">æ–°å¢è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½<a class="hash-link" href="#æ–°å¢è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½" title="Direct link to heading">â€‹</a></h2><p>Taro UI 1.0 å‘å¸ƒæ—¶åªæœ‰ä¸€å¥—é»˜è®¤çš„ä¸»é¢˜é…è‰²ï¼Œä¸ºæ»¡è¶³ä¸šåŠ¡å’Œå“ç‰Œä¸Šå¤šæ ·åŒ–çš„è§†è§‰éœ€æ±‚ï¼ŒUI åº“æ”¯æŒä¸€å®šç¨‹åº¦çš„æ ·å¼å®šåˆ¶ã€‚</p><p>Taro UI çš„ç»„ä»¶æ ·å¼æ˜¯ä½¿ç”¨ SCSS ç¼–å†™çš„ï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸­ä¹Ÿä½¿ç”¨äº† SCSSï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ä¸­æ”¹å˜ Taro UI çš„æ ·å¼å˜é‡ã€‚</p><p>æ–°å»ºä¸€ä¸ªä¸»é¢˜æ ·å¼æ–‡ä»¶ï¼ˆä¾‹å¦‚ custom-variables.scssï¼‰å¹¶è¦†ç›–<a href="https://github.com/NervJS/taro-ui/blob/dev/src/style/variables/default.scss" target="_blank" rel="noopener noreferrer">é»˜è®¤ä¸»é¢˜å˜é‡</a>ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">/* æ”¹å˜ä¸»é¢˜å˜é‡ï¼Œå…·ä½“å˜é‡åå¯æŸ¥çœ‹ taro-ui/dist/style/variables/default.scss æ–‡ä»¶ */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$color-brand: #6190E8;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/* å¼•å…¥ Taro UI é»˜è®¤æ ·å¼ */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@import "~taro-ui/dist/style/index.scss";</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä¹‹ååœ¨é¡¹ç›®çš„å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ä»¥ä¸Šçš„æ ·å¼æ–‡ä»¶å³å¯ï¼ˆæ— éœ€é‡å¤å¼•å…¥ç»„ä»¶çš„é»˜è®¤æ ·å¼ï¼‰ã€‚</p><p>ç›®å‰ï¼Œæˆ‘ä»¬é¢å¤–å®šåˆ¶äº†äº¬ä¸œä¸»é¢˜å’Œ 7Fresh ä¸»é¢˜è‰²ï¼Œå¯é€šè¿‡æ‰«æä»¥ä¸‹äºŒç»´ç æŸ¥çœ‹ã€‚</p><p><strong>äº¬ä¸œä¸»é¢˜ï¼š</strong></p><p><img loading="lazy" src="https://misc.aotu.io/jimczj/taro-ui-red.png" alt="image" class="img_ROth"></p><p><strong>7Fresh ä¸»é¢˜ï¼š</strong></p><p><img loading="lazy" src="https://misc.aotu.io/jimczj/taro-ui-purple.png" alt="image" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°å¢ä¸»é¢˜ç”Ÿæˆå™¨">æ–°å¢ä¸»é¢˜ç”Ÿæˆå™¨<a class="hash-link" href="#æ–°å¢ä¸»é¢˜ç”Ÿæˆå™¨" title="Direct link to heading">â€‹</a></h2><p>ä¸ºäº†è®©å¼€å‘è€…æ›´å¥½åœ°ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½ï¼Œæˆ‘ä»¬è¿˜æ–°å¢äº†ä¸»é¢˜ç”Ÿæˆå™¨ã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨è¯¥å·¥å…·æ–¹ä¾¿åœ°å®šåˆ¶ UI ä¸»é¢˜ã€‚</p><p><strong>ä¸»é¢˜ç”Ÿæˆå™¨åœ°å€ï¼š</strong> <a href="https://nervjs.github.io/taro-ui-theme-preview/" target="_blank" rel="noopener noreferrer">https://nervjs.github.io/taro-ui-theme-preview/</a></p><p><strong>æ•ˆæœé¢„è§ˆï¼š</strong></p><p><img loading="lazy" src="https://misc.aotu.io/jimczj/theme-preview.gif" alt="theme-preview" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°å¢-issue-helper">æ–°å¢ Issue Helper<a class="hash-link" href="#æ–°å¢-issue-helper" title="Direct link to heading">â€‹</a></h2><p>è™½ç„¶æˆ‘ä»¬é…ç½®äº† Issue Templateï¼Œä½†ä»æœ‰éƒ¨åˆ†å¼€å‘è€…æ²¡æœ‰æ ¹æ®è§„èŒƒå¡«å†™ Issueã€‚æˆ‘ä»¬æ’æŸ¥é—®é¢˜æ—¶ç»å¸¸éœ€è¦å†æ¬¡è¯¢é—®ç‰ˆæœ¬å·ä¿¡æ¯ã€å¤ç°ä»£ç ç­‰ç­‰ï¼Œè¿™ä¸ä»…æ¶ˆè€—æˆ‘ä»¬ç»´æŠ¤é¡¹ç›®çš„ç²¾åŠ›ï¼Œè¿˜é™ä½äº† Issue å¤„ç†æ•ˆç‡ã€‚å› æ­¤æˆ‘ä»¬å‚è€ƒäº† Ant å’Œ iView å›¢é˜Ÿçš„åšæ³•ï¼Œåˆ¶ä½œäº† Issue Helper é¡µé¢ï¼Œå¸®åŠ©å¼€å‘è€…æ›´è§„èŒƒåœ°å¡«å†™ Issueã€‚</p><p><strong>Taro UI Issue Helper åœ°å€ï¼š</strong> <a href="https://nervjs.github.io/taro-ui-issue-helper/" target="_blank" rel="noopener noreferrer">https://nervjs.github.io/taro-ui-issue-helper/</a></p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å‘ç°é‡å¤åˆ¶ä½œ Issue Helper é¡µé¢æ˜¯ä¸€ä»¶å¾ˆæµªè´¹åŠ³åŠ¨åŠ›çš„äº‹æƒ…ï¼Œäºæ˜¯å°† Issue Helper å°è£…æˆä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡ç®€å•é…ç½® <code>config.js</code>ï¼Œæ‰§è¡Œå‘½ä»¤ <code>issue-helper build</code> å°±å¯ä»¥ç”Ÿæˆæ‰€éœ€è¦çš„é¡µé¢ã€‚</p><p><strong>Issue Helper å·¥å…·ä»“åº“åœ°å€ï¼š</strong> <a href="https://github.com/jimczj/issue-helper" target="_blank" rel="noopener noreferrer">https://github.com/jimczj/issue-helper</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœªæ¥è®¡åˆ’">æœªæ¥è®¡åˆ’<a class="hash-link" href="#æœªæ¥è®¡åˆ’" title="Direct link to heading">â€‹</a></h2><ul><li>é€‚é…å­—èŠ‚è·³åŠ¨å°ç¨‹åº</li><li>å›½é™…åŒ– i18n</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è‡´è°¢">è‡´è°¢<a class="hash-link" href="#è‡´è°¢" title="Direct link to heading">â€‹</a></h2><p>æ„Ÿè°¢å¤§å®¶å¯¹ Taro UI çš„ä½¿ç”¨ä¸åé¦ˆï¼Œæˆ‘ä»¬ä¼šè‡´åŠ›äºå°† Taro UI æ‰“é€ æˆé«˜è´¨é‡ç»„ä»¶åº“ï¼Œä¸æ–­ä¸°å¯Œç»„ä»¶åŠŸèƒ½ä¸ç‰¹æ€§ï¼Œç´§è·Ÿ Taro çš„æ­¥ä¼é€‚é…æ›´å¤šå¹³å°ã€‚</p><p>æœ€åï¼Œæ¬¢è¿å…³æ³¨å¹¶ä½¿ç”¨æˆ‘ä»¬çš„ç»„ä»¶åº“ï¼š</p><p><a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-ui</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro 1.2ï¼šå°†å·²æœ‰å¾®ä¿¡å°ç¨‹åºè½¬æ¢ä¸ºå¤šç«¯åº”ç”¨]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-12-18-taro-1-2</link>
            <guid>2018-12-18-taro-1-2</guid>
            <pubDate>Tue, 18 Dec 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[åœ¨è·ç¦» Taro 1.1 å‘å¸ƒ ä¹‹åä¸€ä¸ªæœˆï¼Œç»å†äº† 500 å¤šæ¬¡æäº¤å’Œ 17 ä¸ªé¢„è§ˆç‰ˆæœ¬çš„è¿­ä»£ä¹‹åï¼Œæˆ‘ä»¬æœ‰ä¿¡å¿ƒåœ¨ä»Šå¤©å‘å¸ƒ Taro 1.2 æ­£å¼ç‰ˆã€‚]]></description>
            <content:encoded><![CDATA[<p>åœ¨è·ç¦» <a href="https://aotu.io/notes/2018/11/05/taro-1-1/" target="_blank" rel="noopener noreferrer">Taro 1.1 å‘å¸ƒ</a> ä¹‹åä¸€ä¸ªæœˆï¼Œç»å†äº† <strong>500</strong> å¤šæ¬¡æäº¤å’Œ <strong>17</strong> ä¸ªé¢„è§ˆç‰ˆæœ¬çš„è¿­ä»£ä¹‹åï¼Œæˆ‘ä»¬æœ‰ä¿¡å¿ƒåœ¨ä»Šå¤©å‘å¸ƒ Taro 1.2 æ­£å¼ç‰ˆã€‚</p><p>Taro 1.2 æ¯”èµ· Taro 1.1 å’Œå…¶å®ƒçš„å°ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œå¢åŠ äº†è®¸å¤šé¦–æ¬¡åœ¨å°ç¨‹åºæ¡†æ¶ä¸Šå®ç°çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½åŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li><a href="#taroize">å¾®ä¿¡å°ç¨‹åºè½¬å¤šç«¯åº”ç”¨</a></li><li><a href="#tt">å­—èŠ‚è·³åŠ¨ï¼ˆå¤´æ¡ï¼‰å°ç¨‹åºæ”¯æŒ</a></li><li><a href="#css">CSS Modules æ”¯æŒ</a></li><li><a href="#mobx">MobX æ”¯æŒ</a></li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taroize">å¾®ä¿¡å°ç¨‹åºè½¬å¤šç«¯åº”ç”¨<a class="hash-link" href="#taroize" title="Direct link to heading">â€‹</a></h2>å°±åƒåšå®¢å¤§æˆ˜æ—¶ä»£åšå®¢æœåŠ¡å•†æä¾›äº†ã€Œæ¬å®¶ã€å·¥å…·ä¸€æ ·ï¼ŒTaro ç°åœ¨ä¹Ÿæä¾›äº†ã€Œæ¬å®¶ã€å·¥å…·è®©ä½ æ–¹ä¾¿åœ°å…¥é©» Taro ç¤¾åŒºã€‚è½¬æ¢åŸæœ‰å¾®ä¿¡å°ç¨‹åºåº”ç”¨éå¸¸ç®€å•ï¼Œåªéœ€è¦å®‰è£… Taro å‘½ä»¤è¡Œå·¥å…·ï¼Œå®šä½åˆ°å¾…è½¬é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿è¡Œå‘½ä»¤ï¼š<div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ taro convert</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Taro å°±ä¼šæŠŠè½¬æ¢å¥½çš„ä»£ç ç”Ÿæˆåœ¨æ ¹ç›®å½•ä¸‹çš„ <code>taroConvert</code> æ–‡ä»¶å¤¹ã€‚è½¬æ¢åçš„ä»£ç æ˜¯é«˜å¯è¯»æ€§çš„ JSX ä»£ç ï¼Œæ²¡æœ‰é¢å¤–çš„åºå¤§ç»„ä»¶åº“å¼€é”€ã€‚ä½ å¯ä»¥è½»æ˜“åœ°è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæˆ–è€…ç›´æ¥å°†è¿™äº›ä»£ç é€šè¿‡ <code>taro build</code> å‘½ä»¤ç”Ÿæˆä»»æ„ Taro å·²ç»æ”¯æŒå¹³å°çš„åº”ç”¨ã€‚</p><p>æˆ‘ä»¬å·²ç»å°è¯•ä½¿ç”¨ <code>taro convert</code> æˆåŠŸè½¬æ¢äº†å››ä¸ª GitHub ä¸Šæœ€çƒ­é—¨çš„å¼€æºå¾®ä¿¡å°ç¨‹åºåº”ç”¨ï¼Œå®ƒä»¬è½¬æ¢ä¹‹åéƒ½è¡¨ç°è‰¯å¥½ï¼š</p><ul><li><p><a href="https://github.com/EastWorld/wechat-app-mall" target="_blank" rel="noopener noreferrer">EastWorld/wechat-app-mall â˜…5000+</a> - å¾®ä¿¡å°ç¨‹åºå•†åŸ</p></li><li><p><a href="https://github.com/tumobi/nideshop-mini-program" target="_blank" rel="noopener noreferrer">tumobi/nideshop-mini-program â˜…3000+</a> - åŸºäº Node.js + MySQL å¼€å‘çš„å¼€æºå¾®ä¿¡å°ç¨‹åºå•†åŸ</p></li><li><p><a href="https://github.com/RebeccaHanjw/weapp-wechat-zhihu" target="_blank" rel="noopener noreferrer">RebeccaHanjw/weapp-wechat-zhihu â˜…1000+</a> - ä»¿çŸ¥ä¹</p></li><li><p><a href="https://github.com/jectychen/wechat-v2ex" target="_blank" rel="noopener noreferrer">jectychen/wechat-v2ex â˜…400+</a> - V2EX</p><p><code>taro convert</code>  ä¸ä»…ä»…èƒ½æ”¯æŒè½¬æ¢å¾®ä¿¡å°ç¨‹åºåº”ç”¨ï¼Œå®ƒè¿˜èƒ½è½¬æ¢å¾®ä¿¡å°ç¨‹åºç¬¬ä¸‰æ–¹ç»„ä»¶ã€‚ä¾‹å¦‚ <a href="https://github.com/icindy/wxParse" target="_blank" rel="noopener noreferrer">wxParse</a> ç»è¿‡  <code>taro convert</code>  ç¼–è¯‘ä¹‹åè¿˜èƒ½çªç ´åŸæœ‰åªèƒ½è§£æ 11 å±‚ HTML åµŒå¥—çš„é™åˆ¶ï¼Œç†è®ºä¸Šå¯ä»¥è§£ææ— é™å±‚ HTML åµŒå¥—ã€‚</p></li></ul><p>æ›´å¤šè¯¦æƒ…å¯ä»¥è®¿é—® <a href="/taro-docs/docs/taroize">æ–‡æ¡£</a> äº†è§£æ›´å¤šã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="tt">å­—èŠ‚è·³åŠ¨ï¼ˆå¤´æ¡ï¼‰å°ç¨‹åºæ”¯æŒ<a class="hash-link" href="#tt" title="Direct link to heading">â€‹</a></h2>ä½œä¸ºä¸€ä¸ªã€Œå¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ã€ï¼ŒTaro å½“ç„¶ä¹Ÿä¸ä¼šæ”¾è¿‡å­—èŠ‚è·³åŠ¨å°ç¨‹åºã€‚åœ¨ Taro 1.2ï¼Œä½ å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå­—èŠ‚è·³åŠ¨å°ç¨‹åºç«¯çš„ç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…ï¼š<div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># npm script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev:tt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run build:tt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é™å…¨å±€å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type tt --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type tt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># npx ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type tt --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type tt</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é€‰æ‹©å­—èŠ‚è·³åŠ¨å°ç¨‹åºæ¨¡å¼ï¼Œä½ éœ€è¦ä¸‹è½½å¹¶æ‰“å¼€<a href="https://microapp.bytedance.com/docs/devtool/versionUpdate.html" target="_blank" rel="noopener noreferrer">å­—èŠ‚è·³åŠ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·</a>ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ dist ç›®å½•è¿›è¡Œé¢„è§ˆã€‚</p><p>ç›¸åº”åœ°ï¼ŒTaro çš„å¹³å°æ ‡è¯†ï¼ˆ<a href="/taro-docs/docs/envs#processenvtaro_env">process.env.TARO_ENV</a>ï¼‰ä¹Ÿå¢åŠ äº†æ–°æˆå‘˜<code>tt</code>ï¼Œä»£è¡¨å­—èŠ‚è·³åŠ¨å°ç¨‹åºã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="css">CSS Modules æ”¯æŒ<a class="hash-link" href="#css" title="Direct link to heading">â€‹</a></h2><p>åœ¨ Taro æœ€æ—©å¼€æºçš„æ—¶å€™æˆ‘ä»¬å°±æ”¯æŒäº† <code>SCSS</code> ã€ <code>LESS</code> å’Œ <code>Stylus</code>ï¼Œè€Œåœ¨ Taro 1.2 ä¸­æˆ‘ä»¬ç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥ï¼Œç»™ç¤¾åŒºå¸¦æ¥äº† JSX çš„å¥½ä¼™ä¼´ï¼šCSS Modulesã€‚</p><p>å¯¹äº Taro è€Œè¨€æ”¯æŒ CSS Modules æœ‰ç€é‡è¦çš„æ„ä¹‰ã€‚Taro åœ¨ 1.0 çš„æ—¶å€™å·²ç»æ”¯æŒç»„ä»¶çš„ <code>style</code> ä¼ å…¥ JavaScript å¯¹è±¡ï¼Œæ”¯æŒäº† CSS Modules ä¹‹åç»„ä»¶çš„ <code>className</code> ä¹Ÿèƒ½åšè¿™ç‚¹â€”â€”è¿™æ„å‘³ç€ Taro å®Œå…¨å¯ä»¥åšåˆ° JSX çš„ä¸€é¡¹ç‰¹æ€§ï¼šã€ŒEverything in JavaScriptã€ã€‚åŒæ—¶ï¼Œé€šè¿‡ç¼–è¾‘å™¨çš„è‡ªåŠ¨è¡¥å…¨å’Œæ ¡éªŒåŠŸèƒ½ï¼Œå¼€å‘è€…å†ä¹Ÿä¸ç”¨æ‹…å¿ƒ CSS ç±»è¯¯è¾“å…¥å’Œ CSS ç±»çš„å‘½åé—®é¢˜ã€‚</p><p>ä½ å¯ä»¥æŸ¥é˜…æ–‡æ¡£ <a href="/taro-docs/docs/css-modules">CSS Modules çš„ä½¿ç”¨</a> æ‰¾åˆ° CSS Modules çš„å¼€å¯æ–¹æ³•ã€‚</p><p>CSS Modules çš„æ”¯æŒä¸»è¦ç”± Taro ç¤¾åŒºçš„ä¸ªäººå¼€å‘è€… <a href="https://github.com/MrKou47" target="_blank" rel="noopener noreferrer">@MrKou47 (MrKou47) </a> å¼€å‘ï¼Œæ„Ÿè°¢ä»–çš„è´¡çŒ®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="mobx">MobX æ”¯æŒ<a class="hash-link" href="#mobx" title="Direct link to heading">â€‹</a></h2><p>åœ¨å°ç¨‹åºåº”ç”¨å˜å¾—æ—¥è¶‹å¤æ‚çš„ä»Šå¤©ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…é€‰æ‹©ä½¿ç”¨ç‹¬ç«‹çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚åœ¨ Taro 1.1 ä½ å¯ä»¥é€‰æ‹© Redux çš„ä½“ç³»çš„ <code>redux-thunk</code> ã€<code>dva-core</code>ã€<code>redux-saga</code> ç­‰å·¥å…·ã€‚åœ¨ Taro 1.2 æˆ‘ä»¬åˆå¸¦æ¥äº† <code>taro-mobx</code>ã€‚</p><p>åœ¨ Taro ä¸­ä½¿ç”¨ MobX éå¸¸ç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡ <code>taro init &lt;your app&gt;</code> å‘½ä»¤åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ MobX æ¨¡æ¿é¡¹ç›®ã€‚ä¹Ÿå¯ä»¥æŸ¥é˜… <a href="/taro-docs/docs/mobx">ä½¿ç”¨ MobX</a> æ–‡æ¡£å°† <code>taro-mobx</code>  æ¥å…¥å·²æœ‰é¡¹ç›®ã€‚</p><p>MobX çš„æ”¯æŒä¸»è¦ç”± Taro ç¤¾åŒºçš„ä¸ªäººå¼€å‘è€… <a href="https://github.com/nanjingboy" target="_blank" rel="noopener noreferrer">@nanjingboy (Tom Huang)</a> å¼€å‘ï¼Œæ„Ÿè°¢ä»–çš„è´¡çŒ®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´å¤šç‰¹æ€§">æ›´å¤šç‰¹æ€§<a class="hash-link" href="#æ›´å¤šç‰¹æ€§" title="Direct link to heading">â€‹</a></h2><p>é¢å¯¹ç¤¾åŒºé‡Œç»™åŠ›çš„ä¸ªäººè´¡çŒ®è€…ï¼ŒTaro å®˜æ–¹å›¢é˜Ÿä¹Ÿæ²¡æœ‰é—²ç€ã€‚åœ¨ Taro 1.2 å¼€å‘æœŸé—´é€šè¿‡ commit å…³é—­äº† 169 ä¸ª issue çš„åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜æŠ«æ˜Ÿæˆ´æœˆå¸¦æ¥äº†æ›´å¤šç‰¹æ€§ã€‚å…¶ä¸­å€¼å¾—ä¸€æçš„æ˜¯ï¼š</p><ul><li>H5 è·¯ç”±ç³»ç»Ÿå½»åº•é‡æ„</li><li>å°ç¨‹åºç»„ä»¶çš„ props æ”¯æŒä¼ å…¥ JSX å…ƒç´ </li><li>æ”¯æŒ JSX å…ƒç´ å†™åœ¨ <code>switch-case</code> ä¸­ï¼Œå¹¶æ”¯æŒ <code>if-else</code> å’Œ <code>switch-case</code> çš„å¤šé‡åµŒå¥—</li><li>æ”¯æŒå¼•ç”¨åˆ«åï¼ˆaliasï¼‰</li><li>ä¸ç™¾åº¦å°ç¨‹åºå’Œå­—èŠ‚è·³åŠ¨å°ç¨‹åºå®˜æ–¹é€šåŠ›åˆä½œï¼ŒæŠ¹å¹³äº†ä¸€å¤§æ³¢å’Œå¾®ä¿¡å°ç¨‹åºçš„å·®å¼‚</li></ul><p>ä½ å¯ä»¥é€šè¿‡ <a href="https://github.com/NervJS/taro/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">CHANGELOG</a> æŸ¥é˜…å®Œæ•´çš„åŠŸèƒ½è¿­ä»£çºªå½•ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å†™åœ¨æœ€å">å†™åœ¨æœ€å<a class="hash-link" href="#å†™åœ¨æœ€å" title="Direct link to heading">â€‹</a></h2><p>Taro 1.2 æœ€ä¸ºæ¿€åŠ¨äººå¿ƒçš„åŠŸèƒ½æ˜¾ç„¶æ˜¯ã€Œå¾®ä¿¡å°ç¨‹åºè½¬ Taroã€ åŠŸèƒ½ï¼Œé€šè¿‡è¿™ä¸ªåŠŸèƒ½å·²æœ‰çš„å¾®ä¿¡å°ç¨‹åºåº”ç”¨èƒ½è½¬åŒ–æ›´å¥½ç»´æŠ¤çš„ Taroï¼ˆç±» Reactï¼‰ ä»£ç ï¼Œä¹Ÿèƒ½æŠŠ Taro ä»£ç è½¬åŒ–ä¸ºå¤šç«¯åº”ç”¨ã€‚</p><p>ä½†æ›´é‡è¦çš„æ˜¯ï¼Œæœ¬æ¬¡ Taro 1.2 æ›´æ–°çš„ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ç‚¹å‡ç”±ä¸ªäººå¼€å‘è€…è´¡çŒ®â€”â€”è¿™å®Œå…¨ä½“ç°äº† Taro ç¤¾åŒºçš„æ´»è·ƒã€å¼ºå¤§å’Œå¼€æ”¾ã€‚æˆ‘ä»¬ä¹Ÿä¼šé•¿æœŸåœ°ç»´æŠ¤ä¸ç¤¾åŒºå¼€å‘è€…ä»¬çš„å…³ç³»ï¼Œä¸å¼€å‘è€…ä»¬ä¸€åŒæˆé•¿ï¼Œäº’åˆ©äº’èµ¢ã€‚è¿™ä¹Ÿæ˜¯ Taro é€‰æ‹©å¼€æºçš„æ„ä¹‰æ‰€åœ¨ã€‚</p><p>å¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•ï¼Œæˆ–è€…æ²¡æœ‰æƒ³æ³•ï¼ŒTaro éƒ½éå¸¸æ¬¢è¿ä½ æ¥åæ§½æˆ–è§‚å…‰ï¼š</p><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro</a></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro 1.1 å‘å¸ƒï¼Œå…¨é¢æ”¯æŒå¾®ä¿¡/ç™¾åº¦/æ”¯ä»˜å®å°ç¨‹åº]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-11-05-taro-1-1</link>
            <guid>2018-11-05-taro-1-1</guid>
            <pubDate>Mon, 05 Nov 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[åœ¨ 9 æœˆ 16 æ—¥çš„æ˜é‡‘å°ç¨‹åºå¤§ä¼šä¸Šï¼ŒTaro æ­£å¼å‘å¸ƒäº† 1.0 ç‰ˆæœ¬ã€‚]]></description>
            <content:encoded><![CDATA[<p>åœ¨ 9 æœˆ 16 æ—¥çš„æ˜é‡‘å°ç¨‹åºå¤§ä¼šä¸Šï¼ŒTaro æ­£å¼å‘å¸ƒäº† 1.0 ç‰ˆæœ¬ã€‚</p><p>ä½œä¸ºä¸€ä¸ªå¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ï¼ŒTaro 1.0 ç‰ˆæœ¬ä¸ºå¹¿å¤§å¼€å‘è€…å¸¦æ¥äº†è®¸å¤šæ¿€åŠ¨äººå¿ƒçš„ç‰¹æ€§ï¼Œå¸®åŠ©å¼€å‘è€…ä»¬æ›´æ–¹ä¾¿å¿«æ·åœ°å¼€å‘å¤šç«¯åº”ç”¨ã€‚</p><p>å‰è¿›çš„è„šæ­¥æ²¡æœ‰åœä¸‹ï¼Œå†æ—¶ä¸€ä¸ªå¤šæœˆï¼ŒTaro 1.1 ç‰ˆæœ¬æ­£å¼æ¥è¢­ï¼</p><p>ä» 1.0 åˆ° 1.1ï¼ŒæœŸé—´äº§ç”Ÿäº† <strong>500</strong> ä½™æ¬¡ Commitï¼Œå‘å¸ƒäº† <strong>23</strong> ä¸ª<a href="https://github.com/NervJS/taro/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">ç‰ˆæœ¬</a>ï¼ŒTaro ä¸€ç›´ä¿æŒé«˜é€Ÿçš„è¿­ä»£é¢‘ç‡ï¼Œåªä¸ºä¸æ–­æ‰“ç£¨ï¼Œä¸ºå®ƒæ³¨å…¥æ›´å¤šä¼˜ç§€çš„ç‰¹æ€§ï¼Œè®©æ›´å¤šå¼€å‘è€…å—ç›Šã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-11-æ­£å¼æ¥è¢­">Taro 1.1 æ­£å¼æ¥è¢­<a class="hash-link" href="#taro-11-æ­£å¼æ¥è¢­" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´ä¸°å¯Œçš„å¹³å°è½¬æ¢æ”¯æŒ">æ›´ä¸°å¯Œçš„å¹³å°è½¬æ¢æ”¯æŒ<a class="hash-link" href="#æ›´ä¸°å¯Œçš„å¹³å°è½¬æ¢æ”¯æŒ" title="Direct link to heading">â€‹</a></h3><p>è‡ªä»<strong>å¾®ä¿¡å°ç¨‹åº</strong>è¯ç”Ÿä»¥æ¥ï¼Œå°ç¨‹åºçš„ä¼˜åŠ¿å¤§å®¶æœ‰ç›®å…±ç¹ï¼Œå„å¤§äº’è”ç½‘å‚å•†å¼€å§‹æ‘©æ‹³æ“¦æŒï¼Œçº·çº·å¸ƒå±€å°ç¨‹åºé¢†åŸŸï¼Œå…¶ä¸­åŠ¿å¤´æœ€åŠ²çš„å½“å±<strong>ç™¾åº¦æ™ºèƒ½å°ç¨‹åº</strong>å’Œ<strong>æ”¯ä»˜å®å°ç¨‹åº</strong>ã€‚å¯¹äºå‰ç«¯è€Œè¨€ï¼Œæ—¢æ˜¯æœºé‡ï¼Œå› ä¸ºå¹³å°æ„ˆå¤šï¼Œå¸¦æ¥çš„æœºä¼šæ„ˆå¤šï¼›ä¹Ÿæ˜¯æŒ‘æˆ˜ï¼Œå› ä¸ºä¸åŒçš„å¹³å°æ€»ä¼šå„æœ‰å·®å¼‚ï¼Œä¸ºæ¯ä¸ªå¹³å°ç»´æŠ¤ä¸€ä»½ä»£ç ï¼Œæˆæœ¬æ˜¾ç„¶å¤ªé«˜ã€‚</p><p>ä¸ºäº†é™ä½å¤šç«¯åº”ç”¨çš„å¼€å‘æˆæœ¬ï¼Œåœ¨å·²å…¨é¢æ”¯æŒ <strong>å¾®ä¿¡å°ç¨‹åº</strong> çš„åŸºç¡€ä¸Šï¼ŒTaro åœ¨ 1.1 ç‰ˆæœ¬ä¸­åŠ å…¥äº†å¯¹ <strong>ç™¾åº¦æ™ºèƒ½å°ç¨‹åº</strong> å’Œ <strong>æ”¯ä»˜å®å°ç¨‹åº</strong> çš„æ”¯æŒã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒç™¾åº¦æ™ºèƒ½å°ç¨‹åº">æ”¯æŒç™¾åº¦æ™ºèƒ½å°ç¨‹åº<a class="hash-link" href="#æ”¯æŒç™¾åº¦æ™ºèƒ½å°ç¨‹åº" title="Direct link to heading">â€‹</a></h4><p>å‡çº§åˆ° 1.1 ç‰ˆæœ¬åï¼Œå³å¯è·å¾—å°†ç°æœ‰é¡¹ç›®è½¬æ¢æˆç™¾åº¦æ™ºèƒ½å°ç¨‹åºçš„èƒ½åŠ›ã€‚</p><p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç™¾åº¦æ™ºèƒ½å°ç¨‹åºç«¯ç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># npm script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev:swan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run build:swan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é™å…¨å±€å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type swan --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type swan</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># npx ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type swan --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type swan</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é€‰æ‹©ç™¾åº¦æ™ºèƒ½å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦ä½ ä¸‹è½½å¹¶æ‰“å¼€<a href="https://smartprogram.baidu.com/docs/develop/devtools/show_sur/" target="_blank" rel="noopener noreferrer">ç™¾åº¦å¼€å‘è€…å·¥å…·</a>ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ <code>dist</code> ç›®å½•è¿›è¡Œé¢„è§ˆã€‚</p><p>ç›®å‰å·²æœ‰ä½¿ç”¨ Taro å¼€å‘çš„é¦–æ¬¾ç™¾åº¦æ™ºèƒ½å°ç¨‹åº <strong>â€œäº¬ä¸œå¥½ç‰©è¡—â€</strong> æ­£å¼ä¸Šçº¿ï¼Œå¯ä»¥ä½¿ç”¨ç™¾åº¦ APPï¼Œæ‰«æä»¥ä¸‹äºŒç»´ç è¿›è¡Œä½“éªŒï¼š</p><p><img loading="lazy" src="https://img13.360buyimg.com/ling/jfs/t1/10931/36/2138/22454/5be02d3fE815a306d/0fc91ade32e59948.jpg" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒæ”¯ä»˜å®å°ç¨‹åº">æ”¯æŒæ”¯ä»˜å®å°ç¨‹åº<a class="hash-link" href="#æ”¯æŒæ”¯ä»˜å®å°ç¨‹åº" title="Direct link to heading">â€‹</a></h4><p>æ”¯ä»˜å®å°ç¨‹åºçš„è½¬æ¢æ–¹å¼ä¸ç™¾åº¦æ™ºèƒ½å°ç¨‹åºä¸€è‡´ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç™¾åº¦æ™ºèƒ½å°ç¨‹åºç«¯ç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…ï¼š</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># npm script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev:alipay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run build:alipay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é™å…¨å±€å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type alipay --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type alipay</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># npx ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type alipay --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type alipay</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>é€‰æ‹©æ”¯ä»˜å®å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦ä½ ä¸‹è½½å¹¶æ‰“å¼€<a href="https://docs.alipay.com/mini/developer/getting-started/" target="_blank" rel="noopener noreferrer">æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è€…å·¥å…·</a>ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ <code>dist</code> ç›®å½•è¿›è¡Œé¢„è§ˆã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ–°å¢å¹³å°æ ‡è¯†">æ–°å¢å¹³å°æ ‡è¯†<a class="hash-link" href="#æ–°å¢å¹³å°æ ‡è¯†" title="Direct link to heading">â€‹</a></h4><p>åœ¨åŠ å…¥ <strong>ç™¾åº¦æ™ºèƒ½å°ç¨‹åº</strong> å’Œ <strong>æ”¯ä»˜å®å°ç¨‹åº</strong> æ”¯æŒåï¼Œç›®å‰ Taro å·²ç»æä¾›äº†å¯¹ <strong>5</strong> ä¸ªå¹³å°çš„æ”¯æŒï¼Œåˆ†åˆ«æ˜¯ å¾®ä¿¡/ç™¾åº¦/æ”¯ä»˜å®/React Native/H5ï¼Œä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ä¹¦å†™å¹³å°å·®å¼‚åŒ–ä»£ç ï¼ŒTaro ä¸ºæ¯ä¸ªå¹³å°æä¾›äº†å¹³å°æ ‡è¯†ï¼Œå¹¶å¯ä»¥é€šè¿‡ <code>process.env.TARO_ENV</code> æ¥è·å¾—ï¼Œå…¶å–å€¼åˆ†åˆ«å¦‚ä¸‹</p><ul><li><code>weapp</code>ï¼Œä»£è¡¨å¾®ä¿¡å°ç¨‹åº</li><li><code>h5</code>ï¼Œä»£è¡¨ H5</li><li><code>rn</code>ï¼Œä»£è¡¨ React Native</li><li><code>swan</code>ï¼Œä»£è¡¨ç™¾åº¦æ™ºèƒ½å°ç¨‹åºï¼Œ<strong>1.1 ç‰ˆæœ¬æ–°å¢</strong></li><li><code>alipay</code>ï¼Œä»£è¡¨æ”¯ä»˜å®å°ç¨‹åºï¼Œ<strong>1.1 ç‰ˆæœ¬æ–°å¢</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€æ”¾å¤šç«¯-ui-åº“æ‰“åŒ…èƒ½åŠ›">å¼€æ”¾å¤šç«¯ UI åº“æ‰“åŒ…èƒ½åŠ›<a class="hash-link" href="#å¼€æ”¾å¤šç«¯-ui-åº“æ‰“åŒ…èƒ½åŠ›" title="Direct link to heading">â€‹</a></h3><p>åœ¨ 1.0 ç‰ˆæœ¬ä¸­ï¼ŒTaro çš„ <code>build</code> å‘½ä»¤æ–°å¢äº† <code>--ui</code> å‚æ•°ï¼Œæ¥å°†æŒ‰ç…§ä¸€å®šè§„åˆ™ç»„ç»‡çš„ä»£ç æ‰“åŒ…æˆå¯ä»¥åœ¨ Taro ä¸­ä½¿ç”¨çš„å¤šç«¯ UI åº“ã€‚ å¹¶ä¸”ï¼ŒåŸºäºè¿™ä¸€åŠŸèƒ½ï¼ŒTaro æ¨å‡ºäº†é¦–ä¸ªå¯ä»¥è·¨å¤šç«¯ä½¿ç”¨çš„å¤šç«¯ UI åº“ <a href="https://taro-ui.aotu.io/#/" target="_blank" rel="noopener noreferrer">Taro UI</a>ã€‚</p><p>ä¸ºäº†å®Œå–„ Taro ç”Ÿæ€ï¼Œæ‰©å±• Taro ç¤¾åŒºï¼Œåœ¨ 1.1 ç‰ˆæœ¬ä¸­å¼€æ”¾äº†å¤šç«¯ UI åº“çš„æ‰“åŒ…èƒ½åŠ›ï¼Œå¹¶æä¾›äº†è¯¦ç»†çš„<a href="/taro-docs/docs/ui-lib">å¼€å‘æŒ‡å—</a>ã€‚</p><p>åŒæ—¶ Taro ä¹Ÿæä¾›äº†å®˜æ–¹çš„å¤šç«¯ UI åº“<a href="https://github.com/NervJS/taro-ui-sample" target="_blank" rel="noopener noreferrer">ç¤ºä¾‹</a>ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´è§„èŒƒçš„ UI åº“å¼€å‘ä¾‹å­ï¼ŒåŒ…å«å¿…è¦çš„é¡¹ç›®æ”¹é€ ä»¥åŠæµ‹è¯•å¥—ä»¶ï¼ŒåŸºäºè¿™ä¸ªç¤ºä¾‹ï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿåœ°å¼€å‘ä¸€ä¸ªå¤šç«¯ UI åº“é¡¹ç›®ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è¿˜æœ‰æ›´å¤š">è¿˜æœ‰æ›´å¤š<a class="hash-link" href="#è¿˜æœ‰æ›´å¤š" title="Direct link to heading">â€‹</a></h3><p>åœ¨ 1.0 ç‰ˆæœ¬ä¸­ï¼ŒTaro æä¾›äº†å¯¹ <strong>å¾®ä¿¡å°ç¨‹åº</strong>ã€<strong>H5</strong> ä»¥åŠ <strong>React Native</strong> çš„æ”¯æŒï¼Œè€Œ 1.1 ç‰ˆæœ¬ï¼Œåœ¨åŸæœ‰æ”¯æŒçš„åŸºç¡€ä¹‹ä¸Šï¼Œå¯¹æ¯ä¸€ä¸ªå¹³å°è¿›è¡Œä¸æ–­å®Œå–„ï¼Œè®©å…¶æ›´åŠ ä¸°å¯Œå®Œæ•´ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¾®ä¿¡å°ç¨‹åº">å¾®ä¿¡å°ç¨‹åº<a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åº" title="Direct link to heading">â€‹</a></h4><ul><li><code>F</code> è°ƒç”¨ <code>this.setState</code> æ—¶ï¼ŒJSON Diff ç®—æ³• Bug ä¿®å¤</li><li><code>F</code> ä¿®å¤ <code>this.setState</code>  å›è°ƒé‡Œå†è°ƒç”¨ <code>this.setState</code> çš„ Bug</li><li><code>A</code> æ–°å¢ <code>componentWillPreload</code>  ç”Ÿå‘½å‘¨æœŸï¼Œç”¨äºæ•°æ®é¢„åŠ è½½</li><li><code>A</code> æ”¯æŒåœ¨åŒä¸€ä½œç”¨åŸŸå¯¹ JSX èµ‹å€¼</li><li><code>F</code> å¤šå±‚ Map å¾ªç¯åµŒå¥—åŒ…å«æ¡ä»¶åˆ¤æ–­æ—¶é—®é¢˜ä¿®å¤</li><li><code>F</code> ä¸­æ–‡å­—ç¬¦è¢«ç¼–è¯‘æˆ unicode ç é—®é¢˜ä¿®å¤</li><li><code>F</code> ä¸‰å…ƒè¡¨è¾¾å¼è§£æé—®é¢˜ä¿®å¤</li><li><code>A</code> æå‡å­—ç¬¦ä¸²æ¨¡æ¿çš„æ€§èƒ½</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="h5">H5<a class="hash-link" href="#h5" title="Direct link to heading">â€‹</a></h4><ul><li><code>A</code> H5 æ”¯æŒåˆ†åŒ…é…ç½®</li><li><code>F</code> ä¿®å¤ H5 åå°é¡µé¢ä¾ç„¶æ‰§è¡Œç”Ÿå‘½å‘¨æœŸçš„é—®é¢˜</li><li><code>F</code> ä¿®å¤ PUT ã€DELETE ç­‰è¯·æ±‚ body ä¸ºå¯¹è±¡æ—¶æ— æ³•å‘é€ body çš„é—®é¢˜ </li><li><code>A</code> å¢åŠ  <code>setTabBarStyle</code> ä¸ <code>setTabBarItem</code> API</li><li><code>A</code> å¢åŠ  <code>arrayBufferToBase64</code> ä¸ <code>base64ToArrayBuffer</code> API</li><li><code>A</code> ç¼–è¯‘æ‰“åŒ…æ”¯æŒå°†å…¬å…± npm åŒ…æŠ½ç¦»æˆ lib åº“</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="react-native">React Native<a class="hash-link" href="#react-native" title="Direct link to heading">â€‹</a></h4><ul><li><code>A</code> æ”¯æŒ TypeScript</li><li><code>F</code> ä¿®å¤é¡¹ç›®åˆå§‹åŒ–å less ç¼–è¯‘æŠ¥é”™</li><li><code>A</code> æ·»åŠ  config.window.navigationStyle é…ç½®</li><li><code>A</code> æ·»åŠ  <code>showNavigationBarLoading</code> ä¸ <code>hideNavigationBarLoading</code> API</li><li><code>A</code> å¢åŠ  <code>arrayBufferToBase64</code> ä¸ <code>base64ToArrayBuffer</code> API</li><li><code>F</code> ä¿®å¤æ ·å¼æ”¯æŒè­¦å‘Š</li><li><code>A</code> watch æ¨¡å¼æ—¶ä»£ç æŒ‰éœ€ç¼–è¯‘</li><li><code>F</code> ä¿®å¤åŒä¸€æ–‡ä»¶å¤¹ä¸‹å¤šä¸ªJSæ–‡ä»¶æ ·å¼å¼•ç”¨é”™è¯¯</li><li><code>F</code> app.json çš„ expo é…ç½®æ”¹ä¸ºå¯è¦†ç›–</li><li><code>A</code> æ”¯æŒ <code>Taro.pxTransform</code></li><li><code>F</code> iconPath å’Œ selectedPath çš„ä¸ºåŒä¸€ä¸ªè·¯å¾„å¯¼è‡´çš„é‡å¤å¼•ç”¨çš„æŠ¥é”™ </li><li><code>A</code> åœ¨ config ä¸­æ·»åŠ  rn çš„ expo é…ç½®</li><li><code>A</code> æ”¯æŒ deviceRatio è‡ªå®šä¹‰</li></ul><p>æ›´å®Œæ•´çš„åŠŸèƒ½è¿­ä»£è®°å½•è¯·å‚é˜… <a href="https://github.com/NervJS/taro/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">CHANGELOG</a></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœªæ¥è§„åˆ’">æœªæ¥è§„åˆ’<a class="hash-link" href="#æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h2><p>Taro å°†ä¼šç»§ç»­ä¿æŒé«˜æ•ˆè¿­ä»£ï¼Œä»¥æ»¡è¶³æ—¥ç›Šå¢é•¿çš„å¤šç«¯å¼€å‘éœ€æ±‚</p><p>ç›®å‰å·²ç»ç¡®è®¤çš„å¼€å‘è®¡åˆ’å¯ä»¥å‚è§ <a href="https://github.com/NervJS/taro/blob/master/PLANS.md" target="_blank" rel="noopener noreferrer">Taro ç‰ˆæœ¬å¼€å‘è®¡åˆ’</a>ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åºè½¬-taro-ä»£ç å¼€å¯å†…æµ‹">å°ç¨‹åºè½¬ Taro ä»£ç å¼€å¯å†…æµ‹<a class="hash-link" href="#å°ç¨‹åºè½¬-taro-ä»£ç å¼€å¯å†…æµ‹" title="Direct link to heading">â€‹</a></h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ¿€åŠ¨äººå¿ƒçš„å°ç¨‹åºè½¬ Taro ä»£ç åŠŸèƒ½å·²ç»å¼€å‘å®Œæˆï¼Œè¿›å…¥å†…æµ‹é˜¶æ®µï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…åˆ° <code>canary</code> ç‰ˆæœ¬ï¼Œè¿›è¡Œä½“éªŒ</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i -g @tarojs/cli@canary</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ¬¢è¿é’ˆå¯¹è¿™ä¸€åŠŸèƒ½ï¼Œæä¾›å®è´µæ„è§ï¼Œæ„è§å…¥å£<a href="https://github.com/NervJS/taro/issues/955" target="_blank" rel="noopener noreferrer">è¯·æˆ³</a> ğŸ‘ˆğŸ‘ˆğŸ‘ˆ</p><p>åŒæ—¶ï¼Œä¸ºäº†å¸®åŠ© Taro æ›´å¥½åœ°æˆé•¿ï¼Œè®© Taro æ›´å¥½åœ°å›é¦ˆæ‰€æœ‰å¼€å‘è€…ï¼Œæ¬¢è¿æ‚¨ç»™ Taro æä¾›<a href="https://github.com/NervJS/taro/issues" target="_blank" rel="noopener noreferrer">ä¼˜ç§€æƒ³æ³•</a>ï¼Œæˆ–è€…ç›´æ¥è´¡çŒ®<a href="https://github.com/NervJS/taro/pulls" target="_blank" rel="noopener noreferrer">ä»£ç </a>ã€‚</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ Taro 1.0 æ­£å¼å‘å¸ƒ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-09-18-taro-1-0-0</link>
            <guid>2018-09-18-taro-1-0-0</guid>
            <pubDate>Tue, 18 Sep 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[åœ¨ 2018.6.7 æˆ‘ä»¬å¯¹å¤–å¼€æºäº† å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶â€”â€”Taroã€‚]]></description>
            <content:encoded><![CDATA[<p>åœ¨ <code>2018.6.7</code> æˆ‘ä»¬å¯¹å¤–å¼€æºäº† <a href="https://aotu.io/notes/2018/06/07/Taro/" target="_blank" rel="noopener noreferrer"><code>å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶â€”â€”Taro</code></a>ã€‚</p><p>Taro æ˜¯ä¸€ä¸ªå¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ï¼Œå®ƒæ”¯æŒä½¿ç”¨ React çš„å¼€å‘æ–¹å¼æ¥ç¼–å†™å¯ä»¥åŒæ—¶åœ¨å¾®ä¿¡å°ç¨‹åºã€Web ã€React Native ç­‰å¤šä¸ªå¹³å°ä¸Šè¿è¡Œçš„åº”ç”¨ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å¼€å‘æ•ˆç‡ï¼Œæ”¹å–„å¼€å‘ä½“éªŒï¼Œé™ä½å¤šç«¯ç ”å‘æˆæœ¬ã€‚</p><p>è‡ªå¼€æºä»¥æ¥ï¼ŒTaro ä¸€ç›´å¹¿å—ä¸šç•Œå…³æ³¨ï¼Œå…¶åŸç†ä¸æ€æƒ³ä¹Ÿå¾—åˆ°äº†å¹¿æ³›å¼€å‘è€…çš„è®¤å¯ï¼Œè¿™å¯¹äºæˆ‘ä»¬æ¥è¯´æ— ç–‘æ˜¯ä¸€ä»¶ä»¤äººæŒ¯å¥‹çš„äº‹ã€‚ä½†æ˜¯ç”±äºåˆæœŸ Taro æµ‹è¯•ä¸å®ç°æ–¹å¼çš„ä¸è¶³ï¼Œå¯¼è‡´åœ¨å¼€æºæœŸé—´ Bug è¾ƒå¤šï¼Œå—åˆ°äº†ä¸€äº›è´¨ç–‘ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç—›å®šæ€ç—›ï¼Œç§¯ææ¥å—äº†å¼€æºç¤¾åŒºçš„æ„è§ä¸å¸®åŠ©ï¼Œå¹¶åŠªåŠ›æ¢ç´¢æå‡ Taro ç¨³å®šæ€§ä¸æ€§èƒ½çš„æ–¹å¼ã€‚ç»è¿‡ä¸æ–­åœ°è¿­ä»£å®Œå–„ï¼Œå·²ç»è®© Taro æµ´ç«é‡ç”Ÿã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="100-çœŸçš„æ¥äº†">1.0.0 çœŸçš„æ¥äº†<a class="hash-link" href="#100-çœŸçš„æ¥äº†" title="Direct link to heading">â€‹</a></h2><p>Taro å¼€æºåˆ°ç°åœ¨ 3 ä¸ªæœˆæ—¶é—´ï¼Œç´¯è®¡å‘å¸ƒ 70 ä½™æ—¥å¸¸ç‰ˆæœ¬åŠ 20 ä½™ Taro 1.0.0 çš„ <code>beta</code> ç‰ˆæœ¬ï¼Œç»è¿‡è¿‘ç™¾ä¸ªç‰ˆæœ¬çš„è¿­ä»£ä¼˜åŒ–ï¼Œæˆ‘ä»¬äº²èº«ä½“ä¼šåˆ° Taro çš„ BUG åé¦ˆè¶Šæ¥è¶Šå°‘ï¼ŒTaro è¶Šæ¥è¶Šå¥å£®ä¸”å®Œå–„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æœ‰ä¿¡å¿ƒæ¨å‡º 1.0.0 æ­£å¼ç‰ˆã€‚</p><p>Taro 1.0.0 æ­£å¼ç‰ˆåœ¨å»¶ç»­äº†ä¹‹å‰ç‰ˆæœ¬ä¼˜ç§€ç‰¹æ€§çš„åŒæ—¶ï¼Œå¢åŠ äº†æ›´åŠ ä¸°å¯Œçš„ç‰¹æ€§ä¸åŠŸèƒ½ï¼Œå¹¶è¿›è¡Œäº†å¤šé¡¹å°ç¨‹åºç«¯/H5ç«¯çš„è½¬æ¢ä¼˜åŒ–ï¼ŒåŒæ—¶å¸¦æ¥äº†å¯¹ React Native çš„è½¬æ¢æ”¯æŒã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å…¨æ–°çš„å°ç¨‹åºç»„ä»¶åŒ–">å…¨æ–°çš„å°ç¨‹åºç»„ä»¶åŒ–<a class="hash-link" href="#å…¨æ–°çš„å°ç¨‹åºç»„ä»¶åŒ–" title="Direct link to heading">â€‹</a></h4><p>å¼€æºä¹‹åˆï¼Œç”±äºç§ç§åŸå› ï¼ŒTaro çš„å¾®ä¿¡å°ç¨‹åºç«¯ç»„ä»¶åŒ–é‡‡ç”¨çš„æ˜¯å°ç¨‹åº <code>&lt;template /&gt;</code> æ ‡ç­¾æ¥å®ç°çš„ï¼Œåˆ©ç”¨å°ç¨‹åº <code>&lt;template /&gt;</code> æ ‡ç­¾çš„ç‰¹æ€§ï¼Œå°†ç»„ä»¶ JS æ–‡ä»¶ç¼–è¯‘æˆ JS + WXML æ¨¡æ¿ï¼Œåœ¨çˆ¶ç»„ä»¶ï¼ˆé¡µé¢ï¼‰çš„æ¨¡æ¿ä¸­é€šè¿‡ <code>&lt;template /&gt;</code> æ ‡ç­¾å¼•ç”¨å­ç»„ä»¶çš„ WXML æ¨¡æ¿æ¥è¿›è¡Œæ‹¼æ¥ï¼Œä»è€Œè¾¾åˆ°ç»„ä»¶åŒ–çš„ç›®çš„ã€‚</p><p>å®è·µè¯æ˜ï¼Œ<code>Template</code> æ¨¡æ¿æ–¹æ¡ˆæ˜¯ä¸€ä¸ªå¤±è´¥çš„ç»„ä»¶åŒ–æ–¹æ¡ˆï¼ŒTaro å¼€æºåˆæœŸçš„ Bug ä¸»è¦æ¥æºäºæ­¤ã€‚å› ä¸ºè¿™ä¸€æ–¹æ¡ˆå°† JS é€»è¾‘ä¸æ¨¡æ¿æ‹†åˆ†å¼€äº†ï¼Œéœ€è¦æ‰‹å·¥æ¥ä¿è¯ JS ä¸æ¨¡æ¿ä¸­æ•°æ®ä¸€è‡´ï¼Œè¿™æ ·åœ¨å¾ªç¯ç»„ä»¶æ¸²æŸ“ã€ç»„ä»¶å¤šé‡åµŒå¥—çš„æƒ…å†µä¸‹ï¼Œè¦ä¿è¯ç»„ä»¶æ­£ç¡®æ¸²æŸ“ä¸ <code>props</code> æ­£ç¡®ä¼ é€’çš„éš¾åº¦éå¸¸å¤§ï¼Œå®ç°çš„æˆæœ¬ä¹Ÿéå¸¸é«˜ã€‚è€Œä¸”ï¼Œå›¿äºå°ç¨‹åº <code>&lt;template /&gt;</code> æ ‡ç­¾çš„ç¼ºé™·ï¼Œä¸€äº›åŠŸèƒ½ï¼ˆä¾‹å¦‚è‡ªå®šä¹‰ç»„ä»¶åŒ…å«å­å…ƒç´ ï¼Œç­‰ï¼‰æ— æ³•å®ç°ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨ç»è¿‡è‰°è¾›çš„æ¢ç´¢ä¸å®è·µä¹‹åï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å°ç¨‹åºåŸç”Ÿç»„ä»¶åŒ–æ¥ä½œä¸º Taro çš„å°ç¨‹åºç«¯ç»„ä»¶åŒ–æ–¹æ¡ˆï¼Œå¹¶ä¸”é€šè¿‡ä¸€äº›å¤„ç†ï¼Œç»•å¼€äº†å°ç¨‹åºç»„ä»¶åŒ–çš„è¯¸å¤šé™åˆ¶ï¼Œä¸º Taro çš„ç¨³å®šæ€§æ‰“ä¸‹äº†åšå®åŸºç¡€ï¼Œå¹¶å¸¦æ¥äº†ä»¥ä¸‹å¥½å¤„ï¼š</p><ul><li>å°ç¨‹åºç«¯ç»„ä»¶åŒ–æ›´åŠ å¥å£®</li><li>å°½å¯èƒ½å‡å°‘ç”±äºæ¡†æ¶å¸¦æ¥çš„æ€§èƒ½é—®é¢˜</li><li>ä¾æ‰˜å®˜æ–¹ç»„ä»¶åŒ–ï¼Œæ–¹ä¾¿ä»¥åè§£é”æ›´å¤šå¯èƒ½</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å…¨é¢æ”¯æŒå°ç¨‹åºç”Ÿæ€">å…¨é¢æ”¯æŒå°ç¨‹åºç”Ÿæ€<a class="hash-link" href="#å…¨é¢æ”¯æŒå°ç¨‹åºç”Ÿæ€" title="Direct link to heading">â€‹</a></h4><p>ä¸ºäº†æ›´å¥½åœ°å¸®åŠ©å¼€å‘è€…ä½¿ç”¨ Taro å¼€å‘å°ç¨‹åºï¼Œåœ¨ <code>1.0.0</code> ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬åŠ å¼ºäº†å¯¹å°ç¨‹åºç”Ÿæ€çš„æ”¯æŒï¼Œä¸»è¦æç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒå¼•ç”¨å°ç¨‹åºç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶åº“">æ”¯æŒå¼•ç”¨å°ç¨‹åºç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶åº“<a class="hash-link" href="#æ”¯æŒå¼•ç”¨å°ç¨‹åºç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶åº“" title="Direct link to heading">â€‹</a></h5><p>å—ç›Šäºå°ç¨‹åºç»„ä»¶åŒ–é‡æ„ï¼Œæˆ‘ä»¬åœ¨ Taro ä¸­æ”¯æŒäº†ç›´æ¥å¼•ç”¨å°ç¨‹åºç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œè®© Taro å¯ä»¥èå…¥åˆ°å°ç¨‹åºç”Ÿæ€ä¸­ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´å¤šä¾¿åˆ©ã€‚</p><p>ç›®å‰å®æµ‹å·²ç»æ”¯æŒäº†å¦‚ä¸‹çŸ¥åç¬¬ä¸‰æ–¹ç»„ä»¶åº“</p><ul><li><a href="https://github.com/ecomfe/echarts-for-weixin" target="_blank" rel="noopener noreferrer">echarts-for-weixin</a>ï¼ŒECharts çš„å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬</li><li><a href="https://github.com/TalkingData/iview-weapp" target="_blank" rel="noopener noreferrer">iview-weapp</a>ï¼Œiview çš„å¾®ä¿¡å°ç¨‹åºç‰ˆæœ¬</li><li><a href="https://youzan.github.io/vant-weapp/#/" target="_blank" rel="noopener noreferrer">vant-weapp</a>ï¼Œè½»é‡ã€å¯é çš„å°ç¨‹åº UI ç»„ä»¶åº“</li><li><a href="https://github.com/icindy/wxParse" target="_blank" rel="noopener noreferrer">wxParse</a>ï¼Œå¾®ä¿¡å°ç¨‹åºå¯Œæ–‡æœ¬è§£æè‡ªå®šä¹‰ç»„ä»¶ï¼Œæ”¯æŒHTMLåŠmarkdownè§£æ</li></ul><p><img loading="lazy" src="https://img20.360buyimg.com/uba/jfs/t26989/167/305293473/64582/33fab1f9/5b8e82fdN4c7f85a1.png" class="img_ROth"></p><p>å½“ç„¶ï¼ŒTaro ä¸ä»…ä»…åªæ”¯æŒä¸Šè¿°ç»„ä»¶åº“ï¼Œåªè¦æ˜¯æŒ‰åŸç”Ÿå°ç¨‹åºè§„èŒƒç¼–å†™çš„ç»„ä»¶åº“éƒ½èƒ½åœ¨ Taro ä¸­æ­£å¸¸ä½¿ç”¨ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒ-taro-ä»£ç ä¸åŸç”Ÿå°ç¨‹åºä»£ç æ··å†™">æ”¯æŒ Taro ä»£ç ä¸åŸç”Ÿå°ç¨‹åºä»£ç æ··å†™<a class="hash-link" href="#æ”¯æŒ-taro-ä»£ç ä¸åŸç”Ÿå°ç¨‹åºä»£ç æ··å†™" title="Direct link to heading">â€‹</a></h5><p>ä¸æ­¤åŒæ—¶ï¼ŒTaro æ”¯æŒåŸç”Ÿå°ç¨‹åºä»£ç ä¸ Taro ä»£ç æ··å†™ï¼Œå› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ Taro æ„‰å¿«åœ°å°†æ—§çš„å°ç¨‹åºé¡¹ç›®æ…¢æ…¢åœ°æ”¹é€ æˆ Taro é¡¹ç›®äº†ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯æŒå°ç¨‹åºç«¯åˆ†åŒ…åŠ è½½ä»¥åŠæ’ä»¶å¼•ç”¨">æ”¯æŒå°ç¨‹åºç«¯åˆ†åŒ…åŠ è½½ä»¥åŠæ’ä»¶å¼•ç”¨<a class="hash-link" href="#æ”¯æŒå°ç¨‹åºç«¯åˆ†åŒ…åŠ è½½ä»¥åŠæ’ä»¶å¼•ç”¨" title="Direct link to heading">â€‹</a></h5><p>æˆ‘ä»¬åœ¨ Taro ä¸­ä¹ŸåŠ å…¥å¯¹åŸç”Ÿå°ç¨‹åºåˆ†åŒ…åŠ è½½åŠŸèƒ½çš„æ”¯æŒï¼Œé…ç½®çš„æ–¹å¼ä¸åŸç”Ÿå°ç¨‹åºåŸºæœ¬ä¸€è‡´ï¼Œåªéœ€è¦åœ¨ <code>app.js</code> å…¥å£æ–‡ä»¶ä¸­åŠ å…¥ <code>subPackage</code> å­—æ®µå³å¯ã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">pages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'pages/index'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">'pages/logs'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">subPackages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">root</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'moduleA'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">pages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">'pages/rabbit'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token string" style="color:#e3116c">'pages/squirrel'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åŒæ—¶ï¼ŒTaro ä¹Ÿæ”¯æŒäº†ä½¿ç”¨å°ç¨‹åºçš„æ’ä»¶åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ Taro ä¸­ç›´æ¥å¼•ç”¨ç¬¬ä¸‰æ–¹çš„æ’ä»¶</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">View</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/Components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">PageA</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">usingComponents</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string-property property" style="color:#36acaa">'hello-component'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'plugin://myPlugin/hello-component'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hello</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">component</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">hello</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">component</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å°ç¨‹åº-setstate-æ€§èƒ½ä¼˜åŒ–">å°ç¨‹åº setState æ€§èƒ½ä¼˜åŒ–<a class="hash-link" href="#å°ç¨‹åº-setstate-æ€§èƒ½ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h4><p>åœ¨æœ€åˆçš„å¼€æºç‰ˆæœ¬ä¸­ï¼Œå°ç¨‹åºç«¯ <code>setState</code> ä»…ä»…æ˜¯å¯¹å°ç¨‹åº <code>setData</code> åšäº†ä¸€æ¬¡å¼‚æ­¥å°è£…ï¼Œæœ€ç»ˆè°ƒç”¨ <code>setData</code> æ›´æ–°çš„æ—¶å€™è¿˜æ˜¯ä¼ å…¥äº†å®Œæ•´æ•°æ®ã€‚</p><p>ä½†ä¼—æ‰€å‘¨çŸ¥ï¼Œå°ç¨‹åºçš„è§†å›¾å±‚ç›®å‰ä½¿ç”¨ WebView ä½œä¸ºæ¸²æŸ“è½½ä½“ï¼Œè€Œé€»è¾‘å±‚æ˜¯ç”±ç‹¬ç«‹çš„ JavascriptCore ä½œä¸ºè¿è¡Œç¯å¢ƒï¼Œåœ¨æ¶æ„ä¸Šï¼ŒWebView å’Œ JavascriptCore éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œå¹¶ä¸å…·å¤‡æ•°æ®ç›´æ¥å…±äº«çš„é€šé“ã€‚åœ¨è°ƒç”¨  <code>setData</code>  ä¹‹åï¼Œä¼šå°†æ•°æ®ä½¿ç”¨ <code>JSON.stringify</code> è¿›è¡Œåºåˆ—åŒ–ï¼Œå†æ‹¼æ¥æˆè„šæœ¬ï¼Œç„¶åå†ä¼ ç»™è§†å›¾å±‚æ¸²æŸ“ï¼Œè¿™æ ·çš„è¯ï¼Œå½“æ•°æ®é‡éå¸¸å¤§çš„æ—¶å€™ï¼Œå°ç¨‹åºå°±ä¼šå˜å¾—å¼‚å¸¸å¡é¡¿ï¼Œæ€§èƒ½å¾ˆå·®ã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/img/jfs/t27457/22/362930291/23083/36eaf574/5b8f8ef1Nf68a4646.jpg" class="img_ROth"></p><p>Taro åœ¨æ¡†æ¶çº§åˆ«å¸®åŠ©å¼€å‘è€…è¿›è¡Œäº†ä¼˜åŒ–ï¼Œåœ¨ <code>setData</code> ä¹‹å‰è¿›è¡Œäº†ä¸€æ¬¡<strong>æ•°æ® Diff</strong>ï¼Œæ‰¾åˆ°æ•°æ®çš„æœ€å°æ›´æ–°è·¯å¾„ï¼Œç„¶åå†ä½¿ç”¨æ­¤è·¯å¾„æ¥è¿›è¡Œæ›´æ–°ã€‚ä¾‹å¦‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// åˆå§‹ state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// è°ƒç”¨ this.setState</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>åœ¨ä¼˜åŒ–ä¹‹å‰ï¼Œä¼šç›´æ¥å°† <code>this.setState</code> çš„æ•°æ®ä¼ ç»™ <code>setData</code>ï¼Œå³</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$scope</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">a</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">b</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œåœ¨ä¼˜åŒ–ä¹‹åçš„æ•°æ®æ›´æ–°åˆ™å˜æˆäº†</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$scope</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">'a[0]'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">'a[1]'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">'b.x.y'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™æ ·çš„ä¼˜åŒ–å¯¹äºå°ç¨‹åºæ¥è¯´æ„ä¹‰éå¸¸é‡å¤§ï¼Œå¯ä»¥é¿å…å› ä¸ºæ•°æ®æ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´åŠ ä¸°å¯Œçš„-jsx-è¯­æ³•æ”¯æŒ">æ›´åŠ ä¸°å¯Œçš„ JSX è¯­æ³•æ”¯æŒ<a class="hash-link" href="#æ›´åŠ ä¸°å¯Œçš„-jsx-è¯­æ³•æ”¯æŒ" title="Direct link to heading">â€‹</a></h4><p>å‰é¢å·²ç»æåˆ° Taro ä½¿ç”¨ React è¯­æ³•è§„èŒƒæ¥å¼€å‘å¤šç«¯åº”ç”¨ï¼Œè¿™æ ·å°±å¿…ç„¶æ˜¯é‡‡ç”¨ JSX æ¥ä½œä¸ºæ¨¡æ¿ï¼Œæ‰€ä»¥ Taro éœ€è¦å°† JSX ç¼–è¯‘æˆå„ä¸ªç«¯æ”¯æŒçš„æ¨¡æ¿ï¼Œå…¶ä¸­ä»¥å°ç¨‹åºç«¯æœ€ä¸ºå¤æ‚ï¼ŒTaro éœ€è¦å°† JSX ç¼–è¯‘æˆå°ç¨‹åºçš„ WXML æ¨¡æ¿ã€‚</p><p>åœ¨å¼€æºçš„è¿‡ç¨‹ä¸­ï¼ŒTaro æ”¯æŒçš„ JSX å†™æ³•ä¸€ç›´åœ¨ä¸æ–­å®Œå–„ï¼ŒåŠ›æ±‚è®©å¼€å‘ä½“éªŒæ›´åŠ æ¥è¿‘äº Reactï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹è¯­æ³•æ”¯æŒï¼š</p><ul><li>æ”¯æŒ Refï¼Œæä¾›äº†æ›´åŠ æ–¹ä¾¿çš„ç»„ä»¶å’Œå…ƒç´ å®šä½æ–¹å¼</li><li>æ”¯æŒ this.props.children å†™æ³•ï¼Œæ–¹ä¾¿è¿›è¡Œè‡ªå®šä¹‰ç»„ä»¶ä¼ å…¥å­å…ƒç´ </li><li>åœ¨å¾ªç¯ä½“å†…æ‰§è¡Œå‡½æ•°å’Œè¡¨è¾¾å¼</li><li>å®šä¹‰ JSX ä½œä¸ºå˜é‡ä½¿ç”¨</li><li>æ”¯æŒå¤æ‚çš„ if-else è¯­å¥</li><li>åœ¨ JSX å±æ€§ä¸­ä½¿ç”¨å¤æ‚è¡¨è¾¾å¼</li><li>åœ¨ style å±æ€§ä¸­ä½¿ç”¨å¯¹è±¡</li><li>åªæœ‰ä½¿ç”¨åˆ°çš„å˜é‡æ‰ä¼šä½œä¸º state åŠ å…¥åˆ°å°ç¨‹åº dataï¼Œä»è€Œç²¾ç®€å°ç¨‹åºæ•°æ®</li></ul><p>ç›®å‰ï¼Œé™¤äº† Taro å®˜æ–¹ ESLint æ’ä»¶ <a href="https://github.com/NervJS/taro/tree/master/packages/eslint-plugin-taro" target="_blank" rel="noopener noreferrer">eslint-plugin-taro</a> ä¸­é™åˆ¶çš„è¯­æ³•ä¹‹å¤–ï¼Œå…¶ä»– JSX è¯­æ³•åŸºæœ¬éƒ½æ”¯æŒï¼Œè€Œåœ¨åŸç”Ÿç»„ä»¶åŒ–çš„å¸®åŠ©ä¸‹ï¼Œæœªæ¥å°†ä¼šæŠŠ ESLint çš„é™åˆ¶ä¹Ÿé€æ¡å–æ¶ˆã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="react-native-ç«¯è½¬æ¢æ”¯æŒ">React Native ç«¯è½¬æ¢æ”¯æŒ<a class="hash-link" href="#react-native-ç«¯è½¬æ¢æ”¯æŒ" title="Direct link to heading">â€‹</a></h4><p>åœ¨ Taro 1.0.0 ä¸­ï¼Œæˆ‘ä»¬å°†æ­£å¼æ¨å‡º React Native ç«¯çš„è½¬æ¢æ”¯æŒï¼Œå¯ä»¥å°†ç°æœ‰ Taro é¡¹ç›®è½¬æ¢æˆ RN ç‰ˆæœ¬ï¼Œä½†éœ€è¦æ³¨æ„å¯¹æ ·å¼çš„å¤„ç†ï¼Œå› ä¸º RN æ”¯æŒçš„æ ·å¼éå¸¸æœ‰é™ï¼Œå®ƒæ˜¯å±äº CSS çš„å­é›†ï¼Œå…·ä½“è¯·ç§»æ­¥ <a href="/taro-docs/docs/1.x/before-dev-remind">RN ç«¯è½¬æ¢æ³¨æ„äº‹é¡¹</a>ã€‚</p><p>Taro çš„ RN ç«¯åŸºäº <a href="https://expo.io/" target="_blank" rel="noopener noreferrer">Expo</a> æ¥è¿›è¡Œç¼–è¯‘æ„å»º RN ç¨‹åºï¼Œå¼€å‘æ–¹å¼å’Œç¼–è¯‘å‘½ä»¤ä¸å…¶ä»–ç«¯ç±»ä¼¼ï¼Œä»£ç ç›®å½•ç»“æ„ä¸ç°æœ‰ Taro é¡¹ç›®ä¹ŸåŸºæœ¬ä¸€è‡´</p><p>RN ç¼–è¯‘é¢„è§ˆæ¨¡å¼</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># npm script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev:rn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é™å…¨å±€å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type rn --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># npxç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type rn --watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ‰§è¡Œå®Œå‘½ä»¤ä¹‹åï¼ŒTaro å°†ä¼šå¼€å§‹ç¼–è¯‘æ–‡ä»¶ï¼Œæœ€ç»ˆè·å¾— RN ç«¯çš„ç¼–è¯‘æŒ‡å¼•ï¼Œå¹¶ä¸”å¯åŠ¨ä½ çš„åº”ç”¨äº†</p><p><img loading="lazy" src="https://img14.360buyimg.com/uba/jfs/t27748/263/340701379/478755/c8b632f8/5b8e8539N35b82790.jpg" class="img_ROth"></p><p>React Native ç«¯å®Œæ•´å¼€å‘æµç¨‹è¯·ç§»æ­¥ <a href="/taro-docs/docs/react-native">React Native å¼€å‘æµç¨‹ä»‹ç»</a>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ›´åŠ å¥å…¨çš„-typescript-æ”¯æŒ">æ›´åŠ å¥å…¨çš„ TypeScript æ”¯æŒ<a class="hash-link" href="#æ›´åŠ å¥å…¨çš„-typescript-æ”¯æŒ" title="Direct link to heading">â€‹</a></h4><p><img loading="lazy" src="https://img14.360buyimg.com/img/jfs/t25927/210/1256109652/8732/ad4062ce/5b8f8ef1N50c24d7b.jpg" class="img_ROth"></p><p>éšç€å‰ç«¯é¡¹ç›®çš„å¤æ‚åº¦å’Œè§„æ¨¡çš„å¢åŠ ï¼Œè¿‘å¹´æ¥è¶Šæ¥è¶Šå¤šçš„é¡¹ç›®å¼€å§‹ä½¿ç”¨ TypeScript è¿›è¡Œå¼€å‘ã€‚Taro ä¹Ÿæ³¨æ„åˆ°äº†è¿™ä¸€è¶‹åŠ¿ï¼Œåœ¨å¼€æºä¹‹åˆå°±æä¾›äº†å¯¹ TypeScript çš„æ”¯æŒã€‚åœ¨ç¤¾åŒºçš„å¸®åŠ©ä¸‹ï¼ŒTaro å¯¹ TypeScript çš„æ”¯æŒä¹Ÿæ›´åŠ å¥å…¨å’Œå®Œå–„ï¼š</p><ul><li><code>@tarojs/cli</code> å¯ä»¥ç›´æ¥åˆ›å»º TypeScript é¡¹ç›®</li><li><code>@tarojs/components</code> åŒ…å«äº†æ‰€æœ‰ç»„ä»¶çš„ç±»å‹å®šä¹‰</li><li><code>@tarojs/taro</code> çš„æ‰€æœ‰ API ä¹Ÿéƒ½åŒ…å«äº†ç±»å‹å®šä¹‰</li><li><code>@tarojs/redux</code> å’Œ <code>taro-ui</code> ä¹Ÿéƒ½å…¨éƒ¨å†…ç½®äº†ç±»å‹å®šä¹‰</li><li>æ„å»ºç³»ç»Ÿçš„ç¼–è¯‘å™¨ä» Babel åˆ‡æ¢åˆ°åŸç”Ÿ TypeScript ç¼–è¯‘å™¨ï¼Œæ”¯æŒæ‰€æœ‰ TypeScript è¯­æ³•</li></ul><h4 class="anchor anchorWithStickyNavbar_IyCF" id="h5-ç«¯è½¬æ¢ä¼˜åŒ–">H5 ç«¯è½¬æ¢ä¼˜åŒ–<a class="hash-link" href="#h5-ç«¯è½¬æ¢ä¼˜åŒ–" title="Direct link to heading">â€‹</a></h4><p>åŒæ—¶ï¼ŒTaro åœ¨ H5 ç«¯çš„è½¬æ¢ä¸­ï¼Œä¹Ÿè¿›è¡Œè¯¸å¤šè½¬æ¢ä¼˜åŒ–ï¼Œä¿®å¤äº†ä¹‹å‰ç‰ˆæœ¬ H5 ä¸‹è¯¸å¤š Bugï¼Œè®© H5 ç«¯è·¯ç”±ç³»ç»Ÿæ›´åŠ å¥å£®ï¼ŒåŒæ—¶å¼€æ”¾äº† Webpack é…ç½®ï¼Œå¯ä»¥è®©å¼€å‘è€…è‡ªç”±åœ°è¿›è¡Œç›¸å…³é…ç½®ã€‚</p><p>æœ€åï¼Œé™„ä¸Š Taro å®Œæ•´çš„ <a href="https://github.com/NervJS/taro/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">è¿­ä»£å†ç¨‹</a>ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="é‡ç”Ÿä¹‹è·¯">é‡ç”Ÿä¹‹è·¯<a class="hash-link" href="#é‡ç”Ÿä¹‹è·¯" title="Direct link to heading">â€‹</a></h2><p>æ­£å¦‚ä¸Šæ–‡æåˆ°ï¼ŒTaro 1.0.0 å¸¦æ¥è®¸å¤šæ–°çš„ä¼˜ç§€ç‰¹æ€§ï¼Œè€ŒåŒæ—¶ï¼Œåœ¨ç¤¾åŒºå†…çš„ Bug åé¦ˆå·²ç»æ„ˆæ¥æ„ˆå°‘ï¼Œè¿™ä¹Ÿæ˜¯å¼€æºæœŸé—´ä¸æ–­åŠªåŠ›æ‰“ç£¨çš„ç»“æœã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/uba/jfs/t1/5087/4/5578/33760/5ba072d5E58ffa438/8c289d58d3f8527b.png" class="img_ROth"></p><p>ä» <code>6.7</code> åˆ°è¡Œæ–‡æˆªæ­¢ï¼ŒTaro ä¸€å…±ç»å†äº† <strong>1800</strong> ä½™æ¬¡æäº¤ï¼Œå¹³å‡æ¯å¤©è¿‘ <strong>20</strong> æ¬¡ï¼Œæœ€å¤šçš„ä¸€å¤©è¾¾ <strong>30</strong> æ¬¡ã€‚æ¯ä¸€æ¬¡æäº¤éƒ½æ˜¯è¿›æ­¥ï¼Œæ¯ä¸€æ¬¡æäº¤éƒ½è®© Taro æ›´åŠ å¼ºå¤§ã€‚ç»è¿‡è¿™ä¹ˆå¤šæ¬¡è¿­ä»£ä¹‹åï¼Œå·²ç»è®© Taro è·å¾—é‡ç”Ÿï¼Œå°¤å…¶æ˜¯å°ç¨‹åºç»„ä»¶åŒ–é‡æ„å®Œæˆä¹‹åï¼ŒTaro ä»æ—§ç‰ˆæ¶æ„çš„æ³¥æ½­ä¸­ä¸€è·ƒè€Œå‡ºï¼Œæˆä¸ºæ›´åŠ å¥å£®çš„å¼€å‘æ¡†æ¶ã€‚</p><p>åœ¨æˆ‘ä»¬è‡ªå·±ä¸æ–­åæ€ã€ä¼˜åŒ–çš„åŒæ—¶ï¼Œä¹Ÿç§¯æèå…¥å¼€æºç¤¾åŒºï¼Œä¾æ‰˜ç¤¾åŒºçš„åŠ›é‡å»å»ºè®¾ Taroã€‚</p><p>GitHub ISSUES æ˜¯æ£€éªŒä¸€ä¸ªå¼€æºé¡¹ç›®é è°±ç¨‹åº¦çš„æ ‡å‡†ä¹‹ä¸€ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€å…±æ”¶åˆ°äº† <strong>500</strong> ä½™ä¸ª ISSUESï¼Œå·²å…³é—­è¿‘ <strong>400</strong> ä¸ªï¼Œå…³é—­ç‡åœ¨ <strong>80%</strong> å·¦å³ï¼Œæœªå…³é—­çš„ä¹Ÿå¤§éƒ¨åˆ†æ˜¯ä¸€äº›åŠŸèƒ½çš„è¿­ä»£éœ€æ±‚ã€‚åœ¨ Taro å¼€å‘å›¢é˜Ÿå†…éƒ¨æ›´æ˜¯è¦æ±‚æ¯ä¸€ä¸ª ISSUE çš„å“åº”æ—¶é—´ä¸èƒ½è¶…è¿‡ <strong>24</strong> å°æ—¶ã€‚æ­£æ˜¯å› ä¸ºè¿™äº› ISSUES ï¼Œè®©æˆ‘ä»¬ä¸æ–­æ„è¯†åˆ° Taro çš„ä¸è¶³ï¼Œè®©æˆ‘ä»¬çŸ¥é“å¦‚ä½•å»è¿›è¡Œè¿­ä»£ã€‚</p><p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¸€ç›´é¼“åŠ±ç¤¾åŒºçš„å¼€å‘è€…ç§¯ææ PRï¼Œä¸€ä¸ªä¼˜ç§€çš„å¼€æºé¡¹ç›®éœ€è¦ä¾é æ•´ä¸ªç¤¾åŒºçš„åŠ›é‡æ‰èƒ½å®Œå–„èµ·æ¥ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€å…±æ”¶åˆ°äº† <strong>120</strong> ä½™ä¸ª PRï¼Œå·²å‡ è¿‘å…¨éƒ¨åˆå…¥ï¼Œè¿™äº› PR ä¸º Taro æ³¨å…¥äº†è®¸å¤šæ–°é²œè¡€æ¶²ï¼Œè®© Taro æ›´åŠ å¥å£®ï¼Œæˆ‘ä»¬ä¹ŸæœŸæœ›èƒ½æœ‰æ›´å¤šçš„å¼€å‘è€…å¯ä»¥åŠ å…¥è¿›æ¥ï¼Œä¸€èµ·æ¥è®© Taro æ›´åŠ ç¾å¥½ã€‚</p><p>åœ¨ GitHub ä¸Šäº¤æµä¹‹ä½™ï¼Œæˆ‘ä»¬ä¹Ÿä¸ºå¼€å‘è€…ä»¬å¼€é€šäº†<a href="https://github.com/NervJS/taro/issues/198" target="_blank" rel="noopener noreferrer">å®˜æ–¹å¾®ä¿¡ç¾¤</a>ä¾›å¤§å®¶ä¸€èµ·è®¨è®º Taro ä¸æŠ€æœ¯ï¼Œç›®å‰å·²æœ‰è¶…è¿‡ <strong>1700</strong> ä½å¼€å‘è€…åœ¨å…³æ³¨ã€ä½¿ç”¨ Taro ï¼ŒæœŸå¾…æ›´å¤šå¼€å‘è€…çš„åŠ å…¥ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘è€…ç”Ÿæ€å®Œå–„">å¼€å‘è€…ç”Ÿæ€å®Œå–„<a class="hash-link" href="#å¼€å‘è€…ç”Ÿæ€å®Œå–„" title="Direct link to heading">â€‹</a></h2><p>åœ¨å¼€æºä¹‹åˆï¼ŒTaro ä¸€ç›´å¤„äºå°é—­çš„çŠ¶æ€ï¼Œæ²¡æœ‰é€‚é…çš„ UI åº“ï¼Œä¹Ÿæ— æ³•ä½¿ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œè€Œè¿™äº›å¯¹å¼€å‘æ•ˆç‡çš„æ¡æ¢éå¸¸ä¸¥é‡ï¼Œç¤¾åŒºå†…å¯¹æ­¤åé¦ˆè¾ƒå¤šã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨ <code>1.0.0-beta</code> ç‰ˆæœ¬å¼€å‘æœŸé—´ï¼ŒTaro å›¢é˜Ÿå¼€å‘äº†å¤šç«¯ UI åº“æ‰“åŒ…åŠŸèƒ½ï¼Œæä¾›äº† <code>taro build --ui</code> å‘½ä»¤æ¥å°†æŒ‰ç…§ä¸€å®šè§„åˆ™ç»„ç»‡çš„ä»£ç æ‰“åŒ…æˆå¯ä»¥åœ¨ Taro ä¸­ä½¿ç”¨çš„å¤šç«¯ UI åº“ã€‚</p><p><img loading="lazy" src="https://img12.360buyimg.com/img/jfs/t25957/217/1263982871/58035/52bedb06/5b8f8ef2Nfde1c993.jpg" class="img_ROth"></p><p>å¹¶ä¸”ï¼ŒåŸºäºè¿™ä¸€åŠŸèƒ½ï¼Œæˆ‘ä»¬æ¨å‡ºäº†é¦–ä¸ªå¯ä»¥è·¨å¤šç«¯ä½¿ç”¨çš„å¤šç«¯ UI åº“ <a href="https://taro-ui.aotu.io/" target="_blank" rel="noopener noreferrer">Taro UI</a>ï¼Œç›®å‰å·²ç»æ”¯æŒäº†å¾®ä¿¡å°ç¨‹åºä¸ H5 ç«¯ï¼Œä¸ä¹…ä¹‹åå°†å®Œæˆ React Native ç«¯çš„é€‚é…ï¼Œå¯ä»¥åŒæ­¥æä¾›ç»™ React Native ç«¯ä½¿ç”¨ã€‚</p><p><img loading="lazy" src="https://img10.360buyimg.com/img/jfs/t1/3616/25/135/84031/5b8f8ef2Ebd101c2f/0ec4bd1dae310555.jpg" class="img_ROth"></p><p>ç›®å‰ï¼Œå¤šç«¯ UI åº“æ‰“åŒ…åŠŸèƒ½è¿˜å¤„äºå†…æµ‹é˜¶æ®µï¼Œåœ¨ Taro 1.0.0 å‘å¸ƒä¹‹åï¼Œè¿™ä¸€åŠŸèƒ½å°†åŒæ­¥å‘å¸ƒï¼Œè¿™æ ·æ›´å¤šå¼€å‘è€…å°±å¯ä»¥ä¸º Taro å¼€å‘æ›´ä¸°å¯Œçš„å¤šç«¯ç»„ä»¶åº“å’Œ UI åº“äº†ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœªæ¥è§„åˆ’">æœªæ¥è§„åˆ’<a class="hash-link" href="#æœªæ¥è§„åˆ’" title="Direct link to heading">â€‹</a></h2><p>Taro å°†ä¼šç»§ç»­ä¿æŒè¿­ä»£ï¼Œç›®å‰å·²ç»è§„åˆ’äº†å¦‚ä¸‹é‡è¦åŠŸèƒ½ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¾¿æ·æµ‹è¯•">ä¾¿æ·æµ‹è¯•<a class="hash-link" href="#ä¾¿æ·æµ‹è¯•" title="Direct link to heading">â€‹</a></h4><p>åœ¨ç¼–è¯‘æ—¶ä¸è¿è¡Œæ—¶æä¾›ä»£ç è¯Šæ–­çš„åŠŸèƒ½ï¼Œåˆ†æä»£ç ä¼˜åŠ£ï¼Œåˆ¤å®šä»£ç å†™æ³•æ˜¯å¦è§„èŒƒï¼Œä»¥ä¾¿å¸®åŠ©å¼€å‘è€…è§„é¿ä¸€äº›ç”±äºå†™æ³•å¸¦æ¥çš„é—®é¢˜ã€‚</p><p>åŒæ—¶å°†æä¾›ä¸€å¥—æµ‹è¯•æ–¹æ¡ˆï¼Œæ–¹ä¾¿å¼€å‘è€…ä¹¦å†™å¹¶è¿è¡Œç»„ä»¶æµ‹è¯•ç”¨ä¾‹ï¼Œæå‡ä»£ç è´¨é‡ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¤šç«¯åŒæ­¥è°ƒè¯•">å¤šç«¯åŒæ­¥è°ƒè¯•<a class="hash-link" href="#å¤šç«¯åŒæ­¥è°ƒè¯•" title="Direct link to heading">â€‹</a></h4><p>ç›®å‰ Taro åªèƒ½ä¸€æ¬¡è°ƒè¯•ä¸€ä¸ªç«¯ï¼Œè¿™å¯¹äºå¼€å‘å¤šç«¯åº”ç”¨æ¥è¯´æ•ˆç‡ç•¥ä½ï¼Œæ‰€ä»¥ï¼Œè®¡åˆ’æä¾›å¾®ä¿¡å°ç¨‹åº/ H5 / React Native ç«¯åŒæ—¶è°ƒè¯•çš„åŠŸèƒ½ï¼Œå¯ä»¥ä¸€é”®å¯åŠ¨å¤šç«¯åŒæ—¶ç¼–è¯‘ï¼Œä»è€Œè·å¾—å¤šç«¯åŒæ­¥é¢„è§ˆã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¾®ä¿¡å°ç¨‹åºh5-ä»£ç è½¬-taro-ä»£ç ">å¾®ä¿¡å°ç¨‹åº/H5 ä»£ç è½¬ Taro ä»£ç <a class="hash-link" href="#å¾®ä¿¡å°ç¨‹åºh5-ä»£ç è½¬-taro-ä»£ç " title="Direct link to heading">â€‹</a></h4><p>ç›®å‰å·²æ”¯æŒ Taro ä»£ç åˆ°å°ç¨‹åºä»£ç ã€ H5 ä»£ç çš„è½¬æ¢ï¼Œåœ¨æœªæ¥ï¼Œå°†æä¾›é€†å‘è½¬æ¢åŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…å°†åŸæœ¬å°±å­˜åœ¨çš„å°ç¨‹åº/H5 é¡¹ç›®ç›´æ¥è½¬æ¢æˆ Taro é¡¹ç›®ï¼Œä»è€Œè®©åŸæœ¬åªèƒ½è¿è¡Œåœ¨ä¸€ç«¯çš„é¡¹ç›®è·å¾—å¤šç«¯è¿è¡Œçš„èƒ½åŠ›ï¼Œé™ä½å¼€å‘è€…çš„é‡æ„æˆæœ¬ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸-react-æ–°ç‰¹æ€§ä¿æŒåŒæ­¥">ä¸ React æ–°ç‰¹æ€§ä¿æŒåŒæ­¥<a class="hash-link" href="#ä¸-react-æ–°ç‰¹æ€§ä¿æŒåŒæ­¥" title="Direct link to heading">â€‹</a></h4><p>Taro æ˜¯éµå¾ª React è¯­æ³•è§„èŒƒçš„ï¼Œä½†æ˜¯ React ä¸€ç›´åœ¨è¿­ä»£åœ¨å˜åŒ–ï¼ŒTaro ä½œä¸º React çš„è¿½éšè€…ä¹Ÿå°†ä¼šä¿æŒä¸ React æ–°ç‰¹æ€§åŒæ­¥ï¼Œè®© Taro æœ€å¤§ç¨‹åº¦æ¥è¿‘ React å¼€å‘ä½“éªŒã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¿«åº”ç”¨ç«¯æ”¯æŒ">å¿«åº”ç”¨ç«¯æ”¯æŒ<a class="hash-link" href="#å¿«åº”ç”¨ç«¯æ”¯æŒ" title="Direct link to heading">â€‹</a></h4><p>ç›®å‰ Taro å·²ç»å®Œæˆäº†å¿«åº”ç”¨ç«¯ç»„ä»¶åº“ä¸ API çš„é€‚é…ï¼Œå¿«åº”ç”¨ç«¯çš„æ–‡ä»¶è½¬æ¢ä¸æ¨¡æ¿è½¬æ¢ä¹Ÿæ­£åœ¨å¼€å‘ä¸­ï¼Œä¸ä¹…çš„å°†æ¥å°±ä¼šå‘å¸ƒæ”¯æŒå¿«åº”ç”¨ç«¯è½¬æ¢çš„ç‰ˆæœ¬ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="æ”¯ä»˜å®å°ç¨‹åºä¸ç™¾åº¦æ™ºèƒ½å°ç¨‹åºæ”¯æŒ">æ”¯ä»˜å®å°ç¨‹åºä¸ç™¾åº¦æ™ºèƒ½å°ç¨‹åºæ”¯æŒ<a class="hash-link" href="#æ”¯ä»˜å®å°ç¨‹åºä¸ç™¾åº¦æ™ºèƒ½å°ç¨‹åºæ”¯æŒ" title="Direct link to heading">â€‹</a></h4><p>å·²é¢„ç ”æ”¯ä»˜å®å°ç¨‹åºä¸ç™¾åº¦æ™ºèƒ½å°ç¨‹åºè½¬æ¢çš„å¯è¡Œæ€§ï¼Œå³å°†è¿›å…¥å¼€å‘ã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="å¤šç«¯å¯è§†åŒ–æ‹–æ‹½æ­å»º">å¤šç«¯å¯è§†åŒ–æ‹–æ‹½æ­å»º<a class="hash-link" href="#å¤šç«¯å¯è§†åŒ–æ‹–æ‹½æ­å»º" title="Direct link to heading">â€‹</a></h4><p>ç›®å‰ Taro æ˜¯ä¾é å¼€å‘è€…æ‰‹å·¥ç¼–å†™ä»£ç æ¥è·å¾—å¤šç«¯åº”ç”¨çš„ï¼ŒTaro æœªæ¥è®¡åˆ’æä¾›ä¸€ä¸ªå¤šç«¯å¯è§†åŒ–æ‹–æ‹½æ­å»ºçš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡æ‹–æ‹½ç»„ä»¶çš„æ–¹å¼æ¥ç”Ÿæˆå¤šç«¯åº”ç”¨ã€‚</p><p>åŒæ—¶ï¼ŒTaro å°†è”åˆå„å¤§å…¬å¸å°ç¨‹åºå¼€å‘å›¢é˜Ÿï¼Œæ¨å‡ºä¸°å¯Œçš„è¡Œä¸šæ¨¡æ¿ï¼Œä¸ºå„è¡Œä¸šåº”ç”¨å¯è§†åŒ–æ­å»ºæä¾›å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ä½¿ç”¨æ¡ˆä¾‹">ä½¿ç”¨æ¡ˆä¾‹<a class="hash-link" href="#ä½¿ç”¨æ¡ˆä¾‹" title="Direct link to heading">â€‹</a></h2><p>åœ¨å¼€æºæœŸé—´ï¼Œéšç€ Taro çš„é€æ­¥å®Œå–„ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…åŠ å…¥åˆ° Taro çš„ä½¿ç”¨ã€å¼€å‘ä¸­ï¼Œäº§ç”Ÿäº†æ›´å¤šæ›´ä¼˜ç§€çš„ä½¿ç”¨æ¡ˆä¾‹ã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/uba/jfs/t1/4426/11/5716/492741/5ba072ccE63cc3586/8dd883d27d6a40d1.png" alt="qrcode.png" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç‰¹åˆ«é¸£è°¢">ç‰¹åˆ«é¸£è°¢<a class="hash-link" href="#ç‰¹åˆ«é¸£è°¢" title="Direct link to heading">â€‹</a></h2><p>Taro çš„å‘å±•ç¦»ä¸å¼€å¹¿å¤§å¼€æºçˆ±å¥½è€…çš„å¸®åŠ©ï¼Œåœ¨æ­¤ç‰¹åˆ«é¸£è°¢å¹¿å¤§ Taro çš„ä½¿ç”¨è€…ä»¥åŠ Taro ä¸»è¦è´¡çŒ®è€…ï¼ˆæ’åä¸åˆ†å…ˆåï¼‰ã€‚</p><ul><li><a href="https://github.com/aijiacy" target="_blank" rel="noopener noreferrer">aijiacy</a></li><li><a href="https://github.com/AlexStacker" target="_blank" rel="noopener noreferrer">AlexStacker</a></li><li><a href="https://github.com/AsukaSong" target="_blank" rel="noopener noreferrer">AsukaSong</a></li><li><a href="https://github.com/atzcl" target="_blank" rel="noopener noreferrer">atzcl</a></li><li><a href="https://github.com/Boshen" target="_blank" rel="noopener noreferrer">Boshen</a></li><li><a href="https://github.com/Bless-L" target="_blank" rel="noopener noreferrer">Bless-L</a></li><li><a href="https://github.com/beidan" target="_blank" rel="noopener noreferrer">beidan</a></li><li><a href="https://github.com/Chen-jj" target="_blank" rel="noopener noreferrer">Chen-jj</a></li><li><a href="https://github.com/cuitianze" target="_blank" rel="noopener noreferrer">cuitianze</a></li><li><a href="https://github.com/dogbutcat" target="_blank" rel="noopener noreferrer">dogbutcat</a></li><li><a href="https://github.com/finian" target="_blank" rel="noopener noreferrer">finian</a></li><li><a href="https://github.com/frontlich" target="_blank" rel="noopener noreferrer">frontlich</a></li><li><a href="https://github.com/guotie" target="_blank" rel="noopener noreferrer">guotie</a></li><li><a href="https://github.com/icodytan" target="_blank" rel="noopener noreferrer">icodytan</a></li><li><a href="https://github.com/JerrySir" target="_blank" rel="noopener noreferrer">JerrySir</a></li><li><a href="https://github.com/js-newbee" target="_blank" rel="noopener noreferrer">js-newbee</a></li><li><a href="https://github.com/jas0ncn" target="_blank" rel="noopener noreferrer">jas0ncn</a></li><li><a href="https://github.com/jinjinjin0731" target="_blank" rel="noopener noreferrer">jinjinjin0731</a></li><li><a href="https://github.com/kdong007" target="_blank" rel="noopener noreferrer">kdong007</a></li><li><a href="https://github.com/kenberkeley" target="_blank" rel="noopener noreferrer">kenberkeley</a></li><li><a href="https://github.com/Lizhooh" target="_blank" rel="noopener noreferrer">Lizhooh</a></li><li><a href="https://github.com/Littly" target="_blank" rel="noopener noreferrer">Littly</a></li><li><a href="https://github.com/lolipop99" target="_blank" rel="noopener noreferrer">lolipop99</a></li><li><a href="https://github.com/lijinke666" target="_blank" rel="noopener noreferrer">lijinke666</a></li><li><a href="https://github.com/looch" target="_blank" rel="noopener noreferrer">looch</a></li><li><a href="https://github.com/ladjzero" target="_blank" rel="noopener noreferrer">ladjzero</a></li><li><a href="https://github.com/limichange" target="_blank" rel="noopener noreferrer">limichange</a></li><li><a href="https://github.com/leeenx" target="_blank" rel="noopener noreferrer">leeenx</a></li><li><a href="https://github.com/luckyadam" target="_blank" rel="noopener noreferrer">luckyadam</a></li><li><a href="https://github.com/ly525" target="_blank" rel="noopener noreferrer">ly525</a></li><li><a href="https://github.com/Manjiz" target="_blank" rel="noopener noreferrer">Manjiz</a></li><li><a href="https://github.com/mclockw" target="_blank" rel="noopener noreferrer">mclockw</a></li><li><a href="https://github.com/Mr-Prune" target="_blank" rel="noopener noreferrer">Mr-Prune</a></li><li><a href="https://github.com/missmimia" target="_blank" rel="noopener noreferrer">missmimia</a></li><li><a href="https://github.com/mushan0x0" target="_blank" rel="noopener noreferrer">mushan0x0</a></li><li><a href="https://github.com/Pines-Cheng" target="_blank" rel="noopener noreferrer">Pines-Cheng</a></li><li><a href="https://github.com/rojer95" target="_blank" rel="noopener noreferrer">rojer95</a></li><li><a href="https://github.com/ronffy" target="_blank" rel="noopener noreferrer">ronffy</a></li><li><a href="https://github.com/Songkeys" target="_blank" rel="noopener noreferrer">Songkeys</a></li><li><a href="https://github.com/Simbachen" target="_blank" rel="noopener noreferrer">Simbachen</a></li><li><a href="https://github.com/smoothdvd" target="_blank" rel="noopener noreferrer">smoothdvd</a></li><li><a href="https://github.com/soulhat" target="_blank" rel="noopener noreferrer">soulhat</a></li><li><a href="https://github.com/thewei" target="_blank" rel="noopener noreferrer">thewei</a></li><li><a href="https://github.com/wowlusitong" target="_blank" rel="noopener noreferrer">wowlusitong</a></li><li><a href="https://github.com/xunge0613" target="_blank" rel="noopener noreferrer">xunge0613</a></li><li><a href="https://github.com/YikaJ" target="_blank" rel="noopener noreferrer">YikaJ</a></li><li><a href="https://github.com/yuche" target="_blank" rel="noopener noreferrer">yuche</a></li><li><a href="https://github.com/zaaack" target="_blank" rel="noopener noreferrer">zaaack</a></li><li><a href="https://github.com/zacksleo" target="_blank" rel="noopener noreferrer">zacksleo</a></li><li><a href="https://github.com/ZodiacSyndicate" target="_blank" rel="noopener noreferrer">ZodiacSyndicate</a></li><li><a href="https://github.com/zuoge85" target="_blank" rel="noopener noreferrer">zuoge85</a></li><li><a href="https://github.com/zuorichongxian" target="_blank" rel="noopener noreferrer">zuorichongxian</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Taro åœ¨äº¬ä¸œè´­ç‰©å°ç¨‹åºä¸Šçš„å®è·µ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-09-11-taro-in-jd</link>
            <guid>2018-09-11-taro-in-jd</guid>
            <pubDate>Tue, 11 Sep 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[åœ¨ Taro å‘å¸ƒä¹‹åï¼Œäº¬ä¸œè´­ç‰©å°ç¨‹åºä¹Ÿå¼€å§‹äº†éƒ¨åˆ†é¡µé¢åŸºäº Taro çš„é‡æ„.]]></description>
            <content:encoded><![CDATA[<p>åœ¨ Taro å‘å¸ƒä¹‹åï¼Œäº¬ä¸œè´­ç‰©å°ç¨‹åºä¹Ÿå¼€å§‹äº†éƒ¨åˆ†é¡µé¢åŸºäº Taro çš„é‡æ„.</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ç®€ä»‹">Taro ç®€ä»‹<a class="hash-link" href="#taro-ç®€ä»‹" title="Direct link to heading">â€‹</a></h2><p><code>Taro</code> æ˜¯ä¸€ä¸ªåŸºäº <code>React</code> è¯­æ³•è§„èŒƒçš„å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡ <a href="https://taro.aotu.io/" target="_blank" rel="noopener noreferrer">taro.aotu.io</a> è¿›ä¸€æ­¥äº†è§£ã€‚è€Œå‰æ®µæ—¶é—´ Taro å‘å¸ƒåï¼Œäº¬ä¸œè´­ç‰©å°ç¨‹åºå°±å¼€å§‹äº†éƒ¨åˆ†é¡µé¢åŸºäº Taro çš„é‡æ„å·¥ä½œï¼Œæœ¬æ–‡ä¾¿æ˜¯å¯¹å•†å“åˆ†ç±»é¡µä½¿ç”¨ Taro è¿›è¡Œä»£ç é‡æ„çš„ä¸€äº›å®è·µåˆ†äº«ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ··åˆå¼€å‘æ¨¡å¼">æ··åˆå¼€å‘æ¨¡å¼<a class="hash-link" href="#æ··åˆå¼€å‘æ¨¡å¼" title="Direct link to heading">â€‹</a></h2><p>è¿‡å»çš„äº¬ä¸œè´­ç‰©å°ç¨‹åºæœªä½¿ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œè€Œæ˜¯åœ¨åŸç”Ÿå°ç¨‹åºæ¨¡å¼çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†é¡µé¢/ç»„ä»¶åŸºç±»ã€ç½‘ç»œè¯·æ±‚ã€æœ¬åœ°å­˜å‚¨ã€é¡µé¢è·³è½¬ç­‰æ¨¡å—çš„å°è£…ã€‚ç”±äºé¡¹ç›®åºå¤§ï¼ˆæ¶‰åŠ 100 å¤šä¸ªé¡µé¢ï¼‰ï¼ŒæŠŠæ•´ä¸ªé¡¹ç›®ç›´æ¥æ”¹é€ æˆ Taro çš„å¼€å‘æ–¹å¼è‚¯å®šæ˜¯ä¸å¯è¡Œçš„ï¼Œäºæ˜¯é‡‡ç”¨è¿™ä¹ˆä¸€ç§åŸç”Ÿå°ç¨‹åºä¸ Taro ç›¸æ··åˆçš„å¼€å‘æ¨¡å¼ï¼Œå°†éƒ¨åˆ†æ—§é¡µé¢ä½¿ç”¨ Taro é‡æ„ï¼Œéƒ¨åˆ†æ–°çš„é¡µé¢åˆ™ç›´æ¥ä½¿ç”¨ Taro è¿›è¡Œå¼€å‘ã€‚è¿™é‡Œä»¥å•†å“åˆ†ç±»é¡µä¸ºä¾‹ï¼Œå…ˆæ¥çœ‹ä¸‹åŸäº¬ä¸œè´­ç‰©å°ç¨‹åºé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ app.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ app.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ app.wxss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ assets/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ common/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ libs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”œâ”€â”€ cate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”‚   â”œâ”€â”€ components/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”‚   â”œâ”€â”€ index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”‚   â”œâ”€â”€ index.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”‚   â”œâ”€â”€ index.wxml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â”‚   â””â”€â”€ index.wxss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚       â””â”€â”€ index/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ gulpfile.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ node_modules/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="1-åˆå§‹åŒ–-taro">1. åˆå§‹åŒ– Taro<a class="hash-link" href="#1-åˆå§‹åŒ–-taro" title="Direct link to heading">â€‹</a></h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•å¤„è¿è¡Œå‘½ä»¤ <code>taro init jdwxa-taro</code> è¿›è¡Œåˆå§‹åŒ–ï¼Œå®Œæˆåä¼šæ–°å¢ä¸€ä¸ªåä¸º <code>jdwxa-taro</code> çš„ç›®å½•ï¼ŒTaro ç›¸å…³çš„æºä»£ç å°±å†™åœ¨è¯¥ç›®å½•ä¸­ï¼š</p><div class="codeBlockContainer_H5s7 theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-text codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ dist/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ jdwxa-taro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â”œâ”€â”€ dev.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â”œâ”€â”€ index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”‚   â””â”€â”€ prod.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ node_modules/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ package.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â”œâ”€â”€ project.config.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ app.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ app.scss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ index.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            â””â”€â”€ cate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â”œâ”€â”€ index.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                â””â”€â”€ index.scss</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="2-taro-é…ç½®">2. Taro é…ç½®<a class="hash-link" href="#2-taro-é…ç½®" title="Direct link to heading">â€‹</a></h3><p>ç‹¬ç«‹çš„ Taro é¡¹ç›®ä¼šå°†åŒ…æ‹¬ <code>app.js</code>ã€<code>app.json</code>ã€<code>app.wxss</code> åŠé¡µé¢æ–‡ä»¶å‡ç”Ÿæˆåœ¨ dist/ ç›®å½•ä¸­ï¼Œè€Œæ··åˆå¼€å‘æ¨¡å¼ä¸‹åªéœ€è¦ç”Ÿæˆå•ä¸ªé¡µé¢ï¼Œè¿™é‡Œéœ€è¦å¯¹ Taro è¿›è¡Œä¸€äº›é…ç½®ï¼Œæ‰“å¼€å¹¶ç¼–è¾‘ <code>config/index.js</code> æ–‡ä»¶ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">outputRoot</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../dist'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">weapp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">appOutput</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">npm</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">dir</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'../../dist/common'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¦‚ä»£ç æ‰€ç¤ºï¼Œ<code>outputRoot</code> å­—æ®µä¸ºç”Ÿæˆç›®æ ‡é¡µé¢çš„å­˜æ”¾è·¯å¾„ï¼Œè¿™é‡ŒæŠŠå®ƒæŒ‡å‘é¡¶å±‚ï¼ˆå³åŸé¡¹ç›®ï¼‰çš„ dist/ ç›®å½•ï¼›<code>weapp</code> éƒ¨åˆ†ï¼Œæˆ‘ä»¬æŠŠ <code>appOutput</code> è®¾ç½®æˆ false, è¿™æ ·å°±ä¸ä¼šç”Ÿæˆ app.jsã€app.jsonã€app.wxss ä¸‰ä¸ªæ–‡ä»¶äº†ï¼Œ<code>npm</code> å­—æ®µåˆ™è¡¨ç¤º Taro è¿è¡Œæ—¶æ¡†æ¶æ–‡ä»¶çš„å­˜æ”¾ç›®å½•ï¼Œè¿™é‡Œéµå¾ªåŸé¡¹ç›®çš„è§„èŒƒï¼ŒæŠŠå®ƒæŒ‡å®šä¸º common/ ç›®å½•ã€‚è¿™æ · Taro ç¼–è¯‘ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶å°±å®Œç¾åœ°èå…¥è¿›äº†åŸå°ç¨‹åºé¡¹ç›®ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="3-é¡µé¢å¼€å‘">3. é¡µé¢å¼€å‘<a class="hash-link" href="#3-é¡µé¢å¼€å‘" title="Direct link to heading">â€‹</a></h3><p>é¡µé¢å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè·ŸåŸç”Ÿå°ç¨‹åºæœ€å¤§çš„ä¸åŒå°±æ˜¯ <code>React</code> + <code>JSX</code> çš„ç¼–ç æ–¹å¼äº†ï¼Œä¹ æƒ¯äº†åŸç”Ÿå°ç¨‹åºçš„åŒå­¦å¯èƒ½è¦ä¸€äº›é€‚åº”è¿‡ç¨‹ï¼Œå…·ä½“çš„ç¼–ç å°±ä¸ç»†è¯´äº†ï¼Œè¿™é‡Œæå‡ ç‚¹æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>ä¸å°ç¨‹åºçš„ <code>setData</code> æ–¹æ³•ä¸åŒï¼ŒTaro ç”¨äºæ›´æ–°é¡µé¢æ•°æ®çš„ <code>setState</code> æ˜¯å¼‚æ­¥çš„ï¼Œç›¸å…³ä»£ç çš„æ‰§è¡Œæ—¶åºéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼›</li><li>ä¸ºäº†æ–¹ä¾¿ JSX æ¨¡æ¿çš„ä¹¦å†™ï¼ŒåŸå…ˆå¾ˆé•¿çš„ WXML å†…å®¹å»ºè®®æ‹†åˆ†æˆä¸€äº›å°çš„ç»„ä»¶ï¼›</li><li>å…³äºæ—§ç»„ä»¶çš„å¤ç”¨ï¼Œæ— è®ºæ˜¯å°ç¨‹åºåŸç”Ÿç»„ä»¶ã€æ™®é€š JS æ¨¡å—ã€æ ·å¼æ–‡ä»¶æˆ–æ˜¯ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œéƒ½èƒ½å¾ˆå¥½çš„è¿›è¡Œå¼•å…¥è°ƒç”¨ï¼Œè¿™ç‚¹æ— éœ€æ‹…å¿ƒï¼›</li><li>ç›®å‰å¯¹äº Taro ç¼–è¯‘ç”Ÿæˆçš„ç›®æ ‡ä»£ç ï¼Œè°ƒè¯•èµ·æ¥ä¼šæœ‰äº›å›°éš¾ï¼Œä½†å¯¹ <code>SourceMap</code> çš„æ”¯æŒæ­£åœ¨ç§¯æå¼€å‘ä¸­ã€‚</li></ul><h3 class="anchor anchorWithStickyNavbar_IyCF" id="4-æœ€ç»ˆæ•ˆæœ">4. æœ€ç»ˆæ•ˆæœ<a class="hash-link" href="#4-æœ€ç»ˆæ•ˆæœ" title="Direct link to heading">â€‹</a></h3><p>å¦‚ä»Šé‡æ„åçš„å•†å“åˆ†ç±»é¡µå·²ç»åœ¨çº¿ä¸Šç¨³å®šè¿è¡Œæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œå¯ä»¥æ‰«æä¸‹é¢çš„å°ç¨‹åºç è¿›è¡Œä½“éªŒï¼š</p><p><img loading="lazy" src="https://img10.360buyimg.com/img/s360x360_jfs/t1/2914/23/355/264599/5b912565Ecd448c81/fd0362f0724e06e7.jpg" alt="å°ç¨‹åºç  of äº¬ä¸œè´­ç‰©å°ç¨‹åº - å•†å“åˆ†ç±»é¡µ" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-å¸¦æ¥çš„æ”¶ç›Š">Taro å¸¦æ¥çš„æ”¶ç›Š<a class="hash-link" href="#taro-å¸¦æ¥çš„æ”¶ç›Š" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¤šç«¯è¿è¡Œ">å¤šç«¯è¿è¡Œ<a class="hash-link" href="#å¤šç«¯è¿è¡Œ" title="Direct link to heading">â€‹</a></h3><p>æœ€å¤§çš„æ”¶ç›Šä¾¿æ˜¯å¯ä»¥ç”Ÿæˆå¤šç«¯ç‰ˆæœ¬ï¼Œé¿å…é‡å¤å·¥ä½œã€èŠ‚çœå¼€å‘æˆæœ¬ã€‚ä»¥åˆ†ç±»é¡µä¸ºä¾‹ï¼Œåªéœ€è¿è¡Œ <code>npm run build:h5</code> ä¾¿å¯ç”Ÿæˆ H5 ç‰ˆæœ¬çš„åˆ†ç±»é¡µï¼Œè¿è¡Œæ•ˆæœå’Œå°ç¨‹åºä¸€è‡´ï¼Œå¤§å®¶å¯ä»¥æ‰«æä¸‹é¢çš„äºŒç»´ç è¿›è¡Œä½“éªŒï¼š</p><p><img loading="lazy" src="https://storage.360buyimg.com/mtd/home/cate-taro-h51536239496540.png" alt="Taro ç”Ÿæˆçš„ H5 ç‰ˆå•†å“åˆ†ç±»é¡µ" class="img_ROth"></p><p>æ³¨ï¼šä»¥ä¸Šä»…ä¸º Taro ç”Ÿæˆçš„ç¤ºä¾‹é¡µé¢ï¼Œç”±äºä¸€äº›ä¸šåŠ¡ç»„ä»¶å°šæœªå®Œå…¨é€‚é…ä¸¤ç«¯ï¼Œæ‰€ä»¥ H5 ç‰ˆæœ¬æš‚æ—¶æ²¡æœ‰æ­£å¼æŠ•å…¥ä½¿ç”¨ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="æ€§èƒ½æå‡">æ€§èƒ½æå‡<a class="hash-link" href="#æ€§èƒ½æå‡" title="Direct link to heading">â€‹</a></h3><p>å°ç¨‹åºé¡¹ç›®ä¸­é‡åˆ°çš„æ€§èƒ½é—®é¢˜ï¼Œå¤§å¤šæ˜¯é¢‘ç¹åœ°è°ƒç”¨ setData é€ æˆçš„ï¼Œè¿™æ˜¯ç”±äºæ¯è°ƒç”¨ä¸€æ¬¡ <code>setData</code>ï¼Œå°ç¨‹åºå†…éƒ¨éƒ½ä¼šå°†è¯¥éƒ¨åˆ†æ•°æ®åœ¨é€»è¾‘å±‚ï¼ˆè¿è¡Œç¯å¢ƒ <code>JSCore</code>ï¼‰è¿›è¡Œç±»ä¼¼åºåˆ—åŒ–çš„æ“ä½œï¼Œå°†æ•°æ®è½¬æ¢æˆå­—ç¬¦ä¸²å½¢å¼ä¼ é€’ç»™è§†å›¾å±‚ï¼ˆè¿è¡Œç¯å¢ƒ <code>WebView</code>ï¼‰ï¼Œè§†å›¾å±‚é€šè¿‡ååºåˆ—åŒ–æ‹¿åˆ°æ•°æ®åå†è¿›è¡Œé¡µé¢æ¸²æŸ“ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸‹æ¥æœ‰ä¸€å®šæ€§èƒ½å¼€é”€ã€‚</p><p>æ‰€ä»¥å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å»ºè®®å°½é‡å¯¹ <code>setData</code> è¿›è¡Œåˆå¹¶ï¼Œå‡å°‘è°ƒç”¨æ¬¡æ•°ï¼Œä¾‹å¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Strawberry'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Strawberry'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Fields'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">baz</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Forever'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä»¥ä¸Šä»£ç è°ƒç”¨äº† 3 æ¬¡ <code>setData</code>ï¼Œé€ æˆä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ï¼Œåº”å¯¹å…¶è¿›è¡Œåˆå¹¶ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Strawberry'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Fields'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">baz</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Forever'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œä½¿ç”¨ Taro ä¹‹åï¼Œæ›´æ–°æ•°æ®æ—¶è°ƒç”¨çš„ <code>setState</code> ä¸ºå¼‚æ­¥æ–¹æ³•ï¼Œå®ƒä¼šè‡ªåŠ¨åœ°å¯¹åŒä¸€äº‹ä»¶å¾ªç¯é‡Œçš„å¤šæ¬¡ <code>setState</code> è°ƒç”¨è¿›è¡Œåˆå¹¶å¤„ç†ï¼Œæ­¤å¤–è¿˜ä¼šè¿›è¡Œæ•°æ® <code>diff</code> ä¼˜åŒ–ï¼Œè‡ªåŠ¨å‰”é™¤é‚£äº›æœªå˜æ›´çš„æ•°æ®ï¼Œä»è€Œæœ‰æ•ˆé¿å…äº†æ­¤ç±»æ€§èƒ½é—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// åˆå§‹æ—¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'1967'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Strawberry'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Fields'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">baz</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Forever'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç¬¬ä¸€æ¬¡æ›´æ–°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Norwegian'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Fields'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">baz</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Forever'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ç´§æ¥ç€è¿›è¡Œç¬¬äºŒæ¬¡æ›´æ–°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'1967'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Norwegian'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">bar</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Wood'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">baz</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Forever'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä»¥ä¸Šä»£ç è™½ç„¶ç»è¿‡ä¸¤æ¬¡ <code>setState</code>ï¼Œä½†åªæœ‰ bar.foo å’Œ bar.bar çš„æ•°æ®æ›´æ–°äº†ï¼Œæ­¤æ—¶ Taro å†…éƒ¨ä¼šè‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œåˆå¹¶ã€å¹¶å‰”é™¤é‡å¤æ•°æ®ï¼Œæœ€ç»ˆæ‰§è¡Œä»£ç ä¸ºï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// this.$scope åœ¨å°ç¨‹åºç¯å¢ƒä¸­ä¸º page å®ä¾‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$scope</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">'bar.foo'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Norwegian'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">'bar.bar'</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'Wood'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å…¶ä»–æ”¶ç›Š">å…¶ä»–æ”¶ç›Š<a class="hash-link" href="#å…¶ä»–æ”¶ç›Š" title="Direct link to heading">â€‹</a></h3><p>æ¯”èµ·åŸç”Ÿå°ç¨‹åºå¼€å‘ï¼ŒTaro å¸¦æ¥äº†è®¸å¤šæ¿€åŠ¨äººå¿ƒçš„ç‰¹æ€§ï¼ˆå¦‚æ”¯æŒ TypeScriptã€NPMã€ä¸°å¯Œçš„ JSX è¯­æ³•ã€æ›´é«˜çº§çš„ ES ç‰¹æ€§ç­‰ç­‰ï¼‰ï¼Œä¸ä»…æå‡äº†å¼€å‘ä½“éªŒï¼Œå¯¹è‡ªåŠ¨åŒ–æµ‹è¯•ã€æŒç»­æ„å»ºç­‰ä¹Ÿä¼šæœ‰ä¸å°çš„å¸®åŠ©ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œäº¬ä¸œè´­ç‰©å°ç¨‹åºé‡Œå°è£…äº†ä¸€ä¸ª <code>getImg</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå›¾ç‰‡ url åŠå¯é€‰çš„å®½é«˜ä½œä¸ºå‚æ•°ï¼Œç„¶åæ ¹æ®è®¾å¤‡ç±»å‹å†³å®šæ˜¯å¦ä½¿ç”¨ webp æ ¼å¼ã€æ ¹æ®å½“å‰ç½‘ç»œç¯å¢ƒåº”ç”¨é€‚å½“çš„å›¾ç‰‡å‹ç¼©ç‡ã€è‡ªåŠ¨å¤„ç†åè®®å¤´å’ŒåŸŸåè½¬æ¢ï¼Œæœ€åç”Ÿæˆç¬¦åˆç›®æ ‡å¤§å°çš„å›¾ç‰‡ urlã€‚æˆ‘ä»¬è¦æ±‚æ‰€æœ‰çš„å›¾ç‰‡éƒ½å¿…é¡»ç»è¿‡ <code>getImg</code> æ–¹æ³•å¤„ç†åæ‰èƒ½è¿›è¡Œå±•ç¤ºï¼Œä½†ç”±äº JS æ–¹æ³•åªèƒ½åœ¨é€»è¾‘å±‚è¿›è¡Œè°ƒç”¨ï¼Œå¤„ç†å¥½åå†ä¼ é€’ç»™ <code>WXML</code> è¿›è¡Œå±•ç¤ºï¼Œä½¿å¾—å¾ˆéš¾åœ¨è‡ªåŠ¨åŒ–å·¥å…·ä¸­è¿›è¡Œæ£€æµ‹ï¼ŒåŠæ—¶å‘ç°æœªè°ƒç”¨ <code>getImg</code> è¾“å‡ºå›¾ç‰‡çš„æƒ…å†µã€‚</p><p>è€Œä½¿ç”¨ Taro ä¹‹åï¼Œå¯ä»¥ç›´æ¥åœ¨ <code>JSX</code> æ¨¡æ¿çš„ <code>Image</code> æ ‡ç­¾è¾“å‡ºæ—¶å¯¹ <code>src</code> è°ƒç”¨ <code>getImg</code> æ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œå°†æ­¤ç§å†™æ³•ä½œä¸ºè§„èŒƒæ˜ç¡®åï¼Œå°±å¾ˆå®¹æ˜“é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œæ£€æµ‹äº†ï¼š</p><div class="codeBlockContainer_H5s7 language-js theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Image</span><span class="token plain"> src</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">getImg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">750</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>So å¯¹äºç°æœ‰é¡¹ç›®æ¥è¯´ï¼Œä¸éœ€è¦è¿›è¡Œæ•´ä½“é‡æ„ï¼Œä¹Ÿèƒ½å¾ˆå¥½çš„å°† Taro é›†æˆè¿›å»ã€‚è¿˜ç­‰ä»€ä¹ˆï¼Œèµ¶ç´§è¯•è¯•å§~</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[é¦–ä¸ªå¤šç«¯ UI ç»„ä»¶åº“ - Taro UI å‘å¸ƒ]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-08-24-the-birth-of-taro-ui</link>
            <guid>2018-08-24-the-birth-of-taro-ui</guid>
            <pubDate>Fri, 24 Aug 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://misc.aotu.io/jimczj/2018-08-27taro-ui.jpg" alt="image" class="img_ROth"></p><p><a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">Taro</a> æ˜¯ç”±å‡¹å‡¸å®éªŒå®¤å€¾åŠ›æ‰“é€ çš„å¤šç«¯å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œæ—¨åœ¨è®©ä¸€å¥—ä»£ç åœ¨å¤šç«¯è¿è¡Œã€‚ä¸ºäº†è¿›ä¸€æ­¥ä¸°å¯Œ Taro çš„å¼€å‘ç”Ÿæ€ï¼Œè®©å¼€å‘è€…æœ‰æ›´å¥½çš„å¼€å‘ä½“éªŒå’Œæ›´å¿«çš„å¼€å‘é€Ÿåº¦ï¼Œå‡¹å‡¸å®éªŒå®¤è‡ªä¸»è®¾è®¡äº†ä¸€å¥— UI ç»„ä»¶åº“ï¼Œç»è¿‡ä¸¤ä¸ªå¤šæœˆçš„ç²¾é›•ç»†ç¢ï¼Œç»ˆäºè·Ÿéš Taro 1.0 ç‰ˆæœ¬æ­£å¼å‘å¸ƒã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-ui">Taro UI<a class="hash-link" href="#taro-ui" title="Direct link to heading">â€‹</a></h2><p>Taro UI æ˜¯ä¸€æ¬¾ç”±å‡¹å‡¸å®éªŒå®¤æ‰“é€ ã€åŸºäº Taro ç¼–å†™çš„å¤šç«¯ UI ç»„ä»¶åº“ã€‚é™¤äº†é«˜é¢œå€¼ï¼ŒTaro UI æœ€å¤§çš„äº®ç‚¹å°±æ˜¯æ”¯æŒå¤šç«¯è¿è¡Œã€‚Taro UI å€ŸåŠ© Taro æ”¯æŒå¤šç«¯è¿è¡Œçš„ç‰¹ç‚¹ï¼Œåªéœ€è§£å†³ä¸åŒå¹³å° CSS çš„è¡¨ç°å·®å¼‚é—®é¢˜ï¼Œå°±å¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åº/ H5 / ReactNative ç­‰å¤šç«¯é€‚é…è¿è¡Œã€‚</p><p><strong>Github</strong>ï¼š<a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro-ui</a></p><p><strong>æ–‡æ¡£</strong>ï¼š<a href="https://taro-ui.aotu.io/" target="_blank" rel="noopener noreferrer">https://taro-ui.aotu.io/</a></p><p><strong>H5 ç‰ˆæœ¬é¢„è§ˆ</strong>ï¼š</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/13499146/44632148-8a054080-a9a8-11e8-85a8-dfafd073dfdf.png" alt="image" class="img_ROth"></p><p><strong>å¾®ä¿¡å°ç¨‹åºé¢„è§ˆ</strong>ï¼š</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/13499146/44643836-8e5f4700-aa04-11e8-87bd-d930eb04e87c.png" alt="image" class="img_ROth"></p><p>ç¬¬ä¸€ç‰ˆç»„ä»¶å…±æœ‰å…­ä¸ªæ¨¡å—ã€ä¸‰åä¸‰ä¸ªç»„ä»¶ï¼Œæœªæ¥è¿˜å°†ç»§ç»­ä¸°å¯Œç»„ä»¶ï¼Œå¢åŠ ä¸€äº›å¸¸ç”¨ä¸šåŠ¡ç»„ä»¶ã€‚</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/13499146/44502719-6d75b980-a6c5-11e8-8491-b6b47d87ee3d.png" alt="image" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç‰¹æ€§">ç‰¹æ€§<a class="hash-link" href="#ç‰¹æ€§" title="Direct link to heading">â€‹</a></h2><ul><li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šæ”¯æŒ npm å®‰è£…ï¼Œè‡ªåŠ¨å¤„ç† npm èµ„æºä¹‹é—´çš„ä¾èµ–å…³ç³»</li><li><strong>æ¡†æ¶æ”¯æŒ</strong>ï¼šåŸºäº Taro å¼€å‘ç»„ä»¶ï¼Œä¸ Taro æ— ç¼è¡”æ¥</li><li><strong>å¤šç«¯é€‚é…</strong>ï¼šä¸€å¥—ç»„ä»¶å¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åº/ H5 / ReactNative ç­‰å¤šç«¯é€‚é…è¿è¡Œ</li><li><strong>æ ·å¼ç¾è§‚</strong>ï¼šå°æ˜å“¥(<a href="https://github.com/at-ui/at-ui" target="_blank" rel="noopener noreferrer">AT-UI</a> è®¾è®¡è€…ã€ä¸»ç¨‹)äº²è‡ªè®¾è®¡ï¼Œç»†èŠ‚æŠŠå…³ï¼Œç¬¦åˆç°ä»£æ‰å¹³åŒ–è®¾è®¡å®¡ç¾</li><li><strong>ç»„ä»¶ä¸°å¯Œ</strong>ï¼šæä¾›ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶ï¼Œè¦†ç›–å¤§éƒ¨åˆ†ä½¿ç”¨åœºæ™¯ï¼Œæ»¡è¶³å„ç§åŠŸèƒ½éœ€æ±‚</li><li><strong>æŒ‰éœ€å¼•ç”¨</strong>ï¼šå¯æŒ‰éœ€ä½¿ç”¨ç‹¬ç«‹çš„ç»„ä»¶ï¼Œä¸å¿…å¼•å…¥æ‰€æœ‰æ–‡ä»¶ï¼Œå¯æœ€å°åŒ–æ³¨å…¥åˆ°é¡¹ç›®ä¸­</li><li><strong>å¤šå¥—ä¸»é¢˜</strong>ï¼šå†…ç½®å¤šå¥—ä¸»é¢˜é¢œè‰²ï¼Œä»»å›é€‰æ‹©ï¼ˆå°†åœ¨ 1.1 ç‰ˆæœ¬å¼€æ”¾æ­¤ç‰¹æ€§ï¼‰</li></ul><h2 class="anchor anchorWithStickyNavbar_IyCF" id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹<a class="hash-link" href="#å¿«é€Ÿå¼€å§‹" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å®‰è£…-taro">å®‰è£… Taro<a class="hash-link" href="#å®‰è£…-taro" title="Direct link to heading">â€‹</a></h3><p>å®‰è£… Taro å¼€å‘å·¥å…· @tarojs/cli</p><p>ä½¿ç”¨ npm æˆ–è€… yarn å…¨å±€å®‰è£…ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ <a href="https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b" target="_blank" rel="noopener noreferrer">npx</a></p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g @tarojs/cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"> global </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> @tarojs/cli</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åˆå§‹åŒ–é¡¹ç›®">åˆå§‹åŒ–é¡¹ç›®<a class="hash-link" href="#åˆå§‹åŒ–é¡¹ç›®" title="Direct link to heading">â€‹</a></h3><p>ä½¿ç”¨å‘½ä»¤åˆ›å»ºæ¨¡æ¿é¡¹ç›®</p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ taro init myApp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å®‰è£…-taro-ui">å®‰è£… Taro UI<a class="hash-link" href="#å®‰è£…-taro-ui" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> myApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i taro-ui</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä½¿ç”¨">ä½¿ç”¨<a class="hash-link" href="#ä½¿ç”¨" title="Direct link to heading">â€‹</a></h3><p>åœ¨ä»£ç ä¸­ <code>import</code> ç»„ä»¶å¹¶æŒ‰ç…§æ–‡æ¡£è¯´æ˜è¿›è¡Œä½¿ç”¨</p><p><code>import { AtButton } from 'taro-ui'</code></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¤ºä¾‹">ç¤ºä¾‹<a class="hash-link" href="#ç¤ºä¾‹" title="Direct link to heading">â€‹</a></h3><p>åœ¨ <code>/myApp/src/pages/index/index.jsx</code> æ–‡ä»¶æ·»åŠ ä»¥ä¸‹ä»£ç </p><div class="codeBlockContainer_H5s7 language-jsx theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-jsx codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Taro</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Component</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Config </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> View </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> AtButton </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'taro-ui'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'./index.scss'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Index</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">navigationBarTitleText</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'é¦–é¡µ'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">index</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">         </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">AtButton</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag attr-value" style="color:#e3116c">primary</span><span class="token tag attr-value punctuation" style="color:#393A34">'</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">æŒ‰é’®æ–‡æ¡ˆ</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">AtButton</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">View</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¼–è¯‘å¹¶é¢„è§ˆ">ç¼–è¯‘å¹¶é¢„è§ˆ<a class="hash-link" href="#ç¼–è¯‘å¹¶é¢„è§ˆ" title="Direct link to heading">â€‹</a></h3><p>è¿›å…¥é¡¹ç›®ç›®å½•å¼€å§‹å¼€å‘ï¼Œå¯ä»¥é€‰æ‹©å°ç¨‹åºé¢„è§ˆæ¨¡å¼ï¼Œæˆ–è€… H5 é¢„è§ˆæ¨¡å¼ï¼Œè‹¥ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºé¢„è§ˆæ¨¡å¼ï¼Œåˆ™éœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©é¢„è§ˆé¡¹ç›®æ ¹ç›®å½•ã€‚</p><p><strong>å¾®ä¿¡å°ç¨‹åºç¼–è¯‘é¢„è§ˆæ¨¡å¼</strong></p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># npm script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev:weapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é™å…¨å±€å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type weapp --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># npxç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type weapp --watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>H5ç¼–è¯‘é¢„è§ˆæ¨¡å¼</strong></p><div class="codeBlockContainer_H5s7 language-bash theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># npm script</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev:h5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»…é™å…¨å±€å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ taro build --type h5 --watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># npxç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ npx taro build --type h5 --watch</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æ„è§åé¦ˆ">æ„è§åé¦ˆ<a class="hash-link" href="#æ„è§åé¦ˆ" title="Direct link to heading">â€‹</a></h2><p>å¦‚æœæœ‰ä»»ä½•çš„æ„è§æˆ–è€…å»ºè®®ï¼Œæ¬¢è¿åœ¨ <a href="https://github.com/NervJS/taro-ui" target="_blank" rel="noopener noreferrer">Github</a> åˆ›å»º issueï¼Œæ„Ÿè°¢ä½ çš„æ”¯æŒå’Œè´¡çŒ®ã€‚</p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[ä¸ºä½•æˆ‘ä»¬è¦ç”¨ React æ¥å†™å°ç¨‹åº - Taro è¯ç”Ÿè®°]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-06-25-the-birth-of-taro</link>
            <guid>2018-06-25-the-birth-of-taro</guid>
            <pubDate>Mon, 25 Jun 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[ä»å»å¹´å¾®ä¿¡å°ç¨‹åºçš„è¯ç”Ÿï¼Œåˆ°ä»Šå¹´çš„é€æ¸ç«çƒ­ï¼Œä»¥åŠå¼‚å†›çªèµ·çš„è½»åº”ç”¨ã€ç™¾åº¦å°ç¨‹åºç­‰çš„å‡ºç°ï¼Œå‰ç«¯å¯ä»¥å»¶ä¼¸çš„é¢†åŸŸå·²ç»è¶Šæ¥è¶Šå¹¿ï¼Œå½“ç„¶ä¹Ÿæ„å‘³ç€ä¸šåŠ¡åœ¨ä¸æ–­æ‰©å¤§ã€‚è¿™æ—¶å€™ï¼Œå¦‚ä½•é€šè¿‡æŠ€æœ¯æ‰‹æ®µæ¥æå‡å¼€å‘æ•ˆç‡ï¼Œåº”å¯¹ä¸æ–­å¢é•¿çš„ä¸šåŠ¡ï¼Œå°±æ˜¯ä¸€ä¸ªå€¼å¾—æ¢ç´¢çš„è¯é¢˜ã€‚æœ¬æ–‡å°†å¯¹ Taro è¯ç”Ÿçš„æ•…äº‹ï¼Œè¿›è¡Œæ·±å…¥æµ…å‡ºåœ°ä»‹ç»ï¼Œè®°å½•ä¸‹è¿™ä¸ªå¿™ç¢Œçš„æ˜¥å¤ä¹‹äº¤å‘ç”Ÿçš„æ•…äº‹ã€‚]]></description>
            <content:encoded><![CDATA[<p>ä»å»å¹´å¾®ä¿¡å°ç¨‹åºçš„è¯ç”Ÿï¼Œåˆ°ä»Šå¹´çš„é€æ¸ç«çƒ­ï¼Œä»¥åŠå¼‚å†›çªèµ·çš„è½»åº”ç”¨ã€ç™¾åº¦å°ç¨‹åºç­‰çš„å‡ºç°ï¼Œå‰ç«¯å¯ä»¥å»¶ä¼¸çš„é¢†åŸŸå·²ç»è¶Šæ¥è¶Šå¹¿ï¼Œå½“ç„¶ä¹Ÿæ„å‘³ç€ä¸šåŠ¡åœ¨ä¸æ–­æ‰©å¤§ã€‚è¿™æ—¶å€™ï¼Œå¦‚ä½•é€šè¿‡æŠ€æœ¯æ‰‹æ®µæ¥æå‡å¼€å‘æ•ˆç‡ï¼Œåº”å¯¹ä¸æ–­å¢é•¿çš„ä¸šåŠ¡ï¼Œå°±æ˜¯ä¸€ä¸ªå€¼å¾—æ¢ç´¢çš„è¯é¢˜ã€‚æœ¬æ–‡å°†å¯¹ Taro è¯ç”Ÿçš„æ•…äº‹ï¼Œè¿›è¡Œæ·±å…¥æµ…å‡ºåœ°ä»‹ç»ï¼Œè®°å½•ä¸‹è¿™ä¸ªå¿™ç¢Œçš„æ˜¥å¤ä¹‹äº¤å‘ç”Ÿçš„æ•…äº‹ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/uba/jfs/t22954/193/251445690/357583/7232c10b/5b2a15e2N23cf1e55.jpg" alt="image" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è®©äººåˆçˆ±åˆæ¨çš„å¾®ä¿¡å°ç¨‹åº">è®©äººåˆçˆ±åˆæ¨çš„å¾®ä¿¡å°ç¨‹åº<a class="hash-link" href="#è®©äººåˆçˆ±åˆæ¨çš„å¾®ä¿¡å°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>è‡ª <code>2017-1-9</code> å¾®ä¿¡å°ç¨‹åºï¼ˆä»¥ä¸‹ç®€ç§°å°ç¨‹åºï¼‰è¯ç”Ÿä»¥æ¥ï¼Œå°±ä¼´éšç€èµèª‰ä¸äº‰è®®ä¸æ–­ã€‚ä»å‘å¸ƒä¸Šçº¿æ—¶çš„ä¸è¢«å¤§å¤šæ•°äººçœ‹å¥½ï¼Œåˆ°å¦‚ä»Šçš„é€æ¸ç«çƒ­ï¼Œç”šè‡³è¯´æ˜¯å¦‚æ—¥ä¸­å¤©ä¹Ÿä¸ä¸ºè¿‡ï¼Œå°ç¨‹åºç”¨æ—¶é—´ä¸å®è·µè¯æ˜äº†è‡ªå·±çš„ä»·å€¼ã€‚åŒæ—¶äºå¼€å‘è€…æ¥è¯´ï¼Œå°ç¨‹åºçš„ç”Ÿæ€ä¸æ–­åœ¨å®Œå–„ï¼Œè®¸å¤šçš„å‘å·²è¢«è¸©å¹³ï¼Œè™½ç„¶è¿˜æ˜¯å­˜åœ¨ä¸€äº›ä»¤äººè¯Ÿç—…çš„é—®é¢˜ï¼Œä½†å·²ç»è¶³è§å¾®ä¿¡çš„è¯šæ„äº†ã€‚è¿™ä¸ªæ—¶å€™è¦æ˜¯è¿˜æ²¡æœ‰ä¸Šæ‰‹æŠŠç©è¿‡å°ç¨‹åºï¼Œå°±æ˜¾å¾—éå¸¸OUTäº†ã€‚</p><p>å°ç¨‹åºå¯¹äºå‰ç«¯ç¨‹åºå‘˜æ¥è¯´åº”è¯¥ç®—å¾—ä¸Šæ˜¯ç¦éŸ³äº†ï¼Œç”¨å‰ç«¯ç›¸å…³çš„æŠ€æœ¯ï¼Œè·å¾—ä¸èˆ¬é¡ºæ»‘çš„ <code>Native</code> ä½“éªŒï¼Œå‰ç«¯ä»¬åˆå¯ä»¥åœ¨äº§å“å°å§å§é¢å‰ç¡¬æ°”ä¸€æŠŠäº†ã€‚å¯ä»¥è¯´å°ç¨‹åºç»™å‰ç«¯ç¨‹åºå‘˜æ‰“å¼€äº†ä¸€æ‰‡æ–°çš„å¤§é—¨ï¼Œå¤§å®¶éƒ½åº”è¯¥æ„Ÿè°¢å¾®ä¿¡ï¼Œä½†æ˜¯ä»å¼€å‘çš„è§’åº¦æ¥è¯´ï¼Œå°ç¨‹åºçš„å¼€å‘ä½“éªŒå°±éå¸¸å€¼å¾—å•†æ¦·äº†ï¼Œä¸ä»…è¯­æ³•ä¸Šæ˜¾å¾—æœ‰äº›ä¸ä¼¦ä¸ç±»ï¼Œè€Œä¸”æœ‰äº›è«åå…¶å¦™çš„å‘ä¹Ÿç»å¸¸è®©äººä¸ç»æ„é—´æ„Ÿå¹ä¸€ä¸‹å’Œè°ç¤¾ä¼šï¼Œä»å¸‚é¢ä¸Šå±‚å‡ºä¸ç©·çš„å°ç¨‹åºå¼€å‘æ¡†æ¶å°±å¯è§ä¸€æ–‘ã€‚ä»¥ä¸‹å°±ç›˜ç‚¹éƒ¨åˆ†å°ç¨‹åºå¼€å‘çš„ç—›ç‚¹ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä»£ç ç»„ç»‡ä¸è¯­æ³•">ä»£ç ç»„ç»‡ä¸è¯­æ³•<a class="hash-link" href="#ä»£ç ç»„ç»‡ä¸è¯­æ³•" title="Direct link to heading">â€‹</a></h3><p>åœ¨å°ç¨‹åºä¸­ï¼Œä¸€ä¸ªé¡µé¢ <code>page</code> å¯èƒ½æ‹¥æœ‰ <code>page.js</code>ã€<code>page.wxss</code>ã€<code>page.wxml</code> ã€<code>page.json</code> å››ä¸ªæ–‡ä»¶</p><p><img loading="lazy" src="https://img13.360buyimg.com/img/jfs/t24499/361/448655041/15273/6552407d/5b307974Nfaccdf2d.jpg" class="img_ROth"></p><p>è¿™æ ·åœ¨å¼€å‘çš„æ—¶å€™å°±éœ€è¦æ¥å›è¿›è¡Œæ–‡ä»¶åˆ‡æ¢ï¼Œå°¤å…¶æ˜¯åœ¨åŒæ—¶å¼€å‘æ¨¡æ¿å’Œé€»è¾‘çš„æ—¶å€™ï¼Œåˆ‡æ¥åˆ‡å»ä¼šæ˜¾å¾—å°¤å…¶éº»çƒ¦ï¼Œå½±å“å¼€å‘æ•ˆç‡ï¼Œä½†å°ç¨‹åºåŸç”Ÿåªæ”¯æŒè¿™ä¹ˆå†™ï¼Œå°±æ˜¾å¾—æ¯”è¾ƒå°´å°¬äº†ã€‚</p><p>è€Œåœ¨è¯­æ³•ä¸Šï¼Œå°ç¨‹åºçš„è¯­æ³•å¯ä»¥è¯´æ—¢åƒ <code>React</code> ï¼Œåˆåƒ <code>Vue</code>ï¼Œä¸èƒ½è¯´æ˜¾å¾—æœ‰ç‚¹ä¸ä¼¦ä¸ç±»å§ï¼Œä½†åœ¨ä½¿ç”¨ä¸Šæ€»æ˜¯æ„Ÿè§‰æœ‰äº›åˆ«æ‰­ï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œç­‰äºåˆè¦å­¦ä¹ ä¸€å¥—æ–°çš„è¯­æ³•ï¼Œæå‡äº†å­¦ä¹ æˆæœ¬ã€‚è€Œä¸”ï¼Œå°ç¨‹åºçš„æ¨¡æ¿ç”±äºæ²¡æœ‰ç¼–è¾‘å™¨æ’ä»¶çš„æ”¯æŒï¼Œä¹¦å†™çš„æ—¶å€™ä¹Ÿæ²¡æœ‰æ™ºèƒ½æç¤ºä¸ lint æ£€æŸ¥ï¼Œä¹¦å†™èµ·æ¥æ˜¾å¾—æœ‰äº›éº»çƒ¦ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å‘½åè§„èŒƒ">å‘½åè§„èŒƒ<a class="hash-link" href="#å‘½åè§„èŒƒ" title="Direct link to heading">â€‹</a></h3><p>åœ¨å°ç¨‹åºä¸­åˆ°å¤„å¯è§è§„èŒƒä¸ç»Ÿä¸€çš„æƒ…å†µ</p><p>ä¾‹å¦‚ç»„ä»¶çš„å±æ€§ï¼Œä»¥æœ€ç®€å•çš„ <code>&lt;button /&gt;</code> ç»„ä»¶ä¸ºä¾‹ï¼Œåœ¨å°ç¨‹åºå®˜æ–¹æ–‡æ¡£ä¸­ï¼Œè¯¥ç»„ä»¶çš„å±æ€§éƒ¨åˆ†æˆªå›¾å¦‚ä¸‹ï¼Œå¤§å®¶å¯ä»¥æ„Ÿå—ä¸‹</p><p><img loading="lazy" src="https://img10.360buyimg.com/img/jfs/t23614/365/454746445/128330/71fef006/5b307975Ne1ae5de9.jpg" class="img_ROth"></p><p> <code>&lt;button /&gt;</code> ç»„ä»¶å±æ€§åæ—¢æœ‰ä»¥ä¸­åˆ’çº¿åˆ†å‰²å¤šä¸ªå•è¯çš„æƒ…å†µ <code>session-form</code>ï¼Œä¹Ÿæœ‰å¤šä¸ªå•è¯è¿å†™çš„æƒ…å†µ <code>bindgetphonenumber</code>ã€‚å½“ç„¶è¿™ä¹Ÿä¸æ˜¯æœ€ä¸¥é‡çš„ï¼Œä½ å¯ä»¥è¯´äº‹ä»¶ç»‘å®šçš„è§„èŒƒå°±æ˜¯ <code>bind + äº‹ä»¶å</code> ï¼Œè€Œå…¶ä»–å±æ€§çš„è§„èŒƒå°±æ˜¯ä¸­åˆ’çº¿åˆ†å‰²å•è¯ï¼Œæˆ‘ä¸€åº¦ä»¥ä¸ºå°ç¨‹åºå°±æ˜¯è¿™ä¸ªä½œä¸ºæ ‡å‡†ï¼Œç›´åˆ°æˆ‘çœ‹åˆ°äº† <code>&lt;progress /&gt;</code> ç»„ä»¶</p><p><img loading="lazy" src="https://img12.360buyimg.com/img/jfs/t23056/19/454899133/104795/d15cd017/5b307975Nd43ac751.jpg" class="img_ROth"></p><p>è¿™å’Œè¯´å¥½çš„ä¸ä¸€æ ·å•Šå–‚ï¼</p><p><img loading="lazy" src="https://img11.360buyimg.com/img/jfs/t23071/12/457583038/19273/4ae32c30/5b307974N88af3974.jpg" class="img_ROth"></p><p>åŒæ ·çš„æƒ…å†µä¹Ÿå‡ºç°åœ¨ <code>é¡µé¢</code> ä¸ <code>ç»„ä»¶</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­ï¼Œ<code>é¡µé¢</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰ <code>onLoad</code>ã€<code>onReady</code>ã€<code>onUnload</code> ç­‰ï¼Œä½†åˆ°äº† <code>ç»„ä»¶</code> ä¸­åˆ™æ˜¯ <code>created</code>ã€<code>attached</code> ã€<code>ready</code> ç­‰ï¼Œè¿™æ ·è§„èŒƒåˆä¸ç»Ÿä¸€äº†ï¼Œä¸ºå•¥ <code>é¡µé¢</code> çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ˜¯ <code>on+Xxx</code> çš„æ ¼å¼ï¼Œä½†åˆ°äº† <code>ç»„ä»¶</code> é‡Œç¼ºä¸ä¸€æ ·äº†å‘¢ï¼Œæœ‰ç‚¹è´¹è§£ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å¼€å‘æ–¹å¼">å¼€å‘æ–¹å¼<a class="hash-link" href="#å¼€å‘æ–¹å¼" title="Direct link to heading">â€‹</a></h3><p>å°ç¨‹åºå®˜æ–¹æä¾›äº† <code>å¾®ä¿¡å¼€å‘å·¥å…·</code> ä½œä¸ºå¼€å‘ç¼–è¯‘å·¥å…·ï¼Œè€Œå¯¹äºä»£ç æœ¬èº«æ²¡æœ‰æä¾›ä¸€ä¸ªç±»ä¼¼ <code>webpack</code> çš„å·¥ç¨‹åŒ–å¼€å‘å·¥å…·ï¼Œæ¥è§£å†³å¼€å‘ä¸­çš„ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥å°ç¨‹åºåŸç”Ÿçš„å¼€å‘æ–¹å¼æ˜¾å¾—ä¸é‚£ä¹ˆç°ä»£åŒ–ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šå°ç¨‹åºå¼€å‘æ¡†æ¶è‡´åŠ›äºè§£å†³çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œåœ¨å°ç¨‹åºå¼€å‘ä¸­</p><ul><li><strong>ä¸èƒ½ä½¿ç”¨ <code>npm</code> ç®¡ç†ä¾èµ–</strong>ï¼Œåœ¨å°ç¨‹åºä¸­éœ€è¦æ‰‹åŠ¨æŠŠç¬¬ä¸‰æ–¹ä»£ç æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œç„¶åå† <code>reuqire</code> è¿›è¡Œä½¿ç”¨ï¼Œæ˜¾å¾—ä¸é‚£ä¹ˆä¼˜é›…</li><li><strong>ä¸èƒ½ä½¿ç”¨ Sass ç­‰ CSS é¢„å¤„ç†å™¨</strong>ï¼Œç”±äºæ²¡æœ‰é¢„ç¼–è¯‘çš„æ¦‚å¿µï¼Œå°ç¨‹åºå¼€å‘ä¸­æ— æ³•ä½¿ç”¨å¸‚é¢ä¸Šæµè¡Œçš„  CSS é¢„å¤„ç†å™¨ï¼Œè¿™æ ·ä¼šä½¿å¾—æ ·å¼ä»£ç éš¾ä»¥ç®¡ç†</li><li><strong>ä¸å®Œæ•´çš„ ES Next è¯­æ³•æ”¯æŒ</strong>ï¼Œå°ç¨‹åºé»˜è®¤åªèƒ½æ”¯æŒæå°‘ä¸€éƒ¨åˆ† ES6 è§„èŒƒçš„è¯­æ³•ï¼Œè€Œ ES æ˜¯ä¸æ–­å¾€å‰å‘å±•çš„ï¼Œä¸€äº›éå¸¸ä¼˜ç§€çš„æ–°è¯­æ³•ç‰¹æ€§å°±ä¸èƒ½ä½¿ç”¨äº†</li><li><strong>æ‰‹åŠ¨çš„æ–‡ä»¶å¤„ç†</strong>ï¼Œåƒå›¾ç‰‡å‹ç¼©ã€ä»£ç å‹ç¼©ç­‰ç­‰çš„ä¸€äº›æ–‡ä»¶æ“ä½œï¼Œå¿…é¡»æ‰‹å·¥æ¥å¤„ç†ï¼Œæ˜¾å¾—æœ‰äº›ç¹ç</li></ul><p>ä»¥ä¸Šå°±æ˜¯ä»å¼€å‘è€…çš„è§’åº¦çœ‹åˆ°çš„ä¸€äº›å°ç¨‹åºçš„å¼€å‘é—®é¢˜ï¼Œä¸è¿‡çºµç„¶æœ‰åƒèˆ¬å›°éš¾ï¼Œæˆ‘ä»¬æ€»è¦é¢å¯¹ï¼Œä½œä¸ºæ–°æ—¶ä»£çš„å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬ä¸èƒ½ä¸€å‘³å¿å—é—®é¢˜ï¼Œè¦ä¿æŒæŠ€æœ¯çš„å¤´è„‘ï¼Œä»¥æŠ€æœ¯ä½œä¸ºæ­¦å™¨ï¼Œç”¨æŠ€æœ¯æ‰‹æ®µå»æå‡çš„æˆ‘ä»¬å¼€å‘ä½“éªŒã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="çªå‘å¥‡æƒ³æˆ‘èƒ½ä¸èƒ½ç”¨reactæ¥å†™å°ç¨‹åº">çªå‘å¥‡æƒ³ï¼šæˆ‘èƒ½ä¸èƒ½ç”¨Reactæ¥å†™å°ç¨‹åº<a class="hash-link" href="#çªå‘å¥‡æƒ³æˆ‘èƒ½ä¸èƒ½ç”¨reactæ¥å†™å°ç¨‹åº" title="Direct link to heading">â€‹</a></h2><p>ç›®å‰å‰ç«¯ç•Œè¨€åŠå‰ç«¯æ¡†æ¶ï¼Œå¿…ç¦»ä¸å¼€ä¾ç„¶ä¿æŒç€ç»Ÿæ²»åœ°ä½çš„ <code>React</code> ä¸ <code>Vue</code>ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„å‰ç«¯ UI æ¡†æ¶ï¼Œè€Œä¸”åœ¨ç½‘ä¸Šä¹Ÿç»å¸¸èƒ½çœ‹åˆ°ä¸¤ä¸ªæ¡†æ¶çš„ç²‰ä¸ä¹‹é—´çƒ­æƒ…äº¤æµï¼Œç¢°æ’å‡ºä¸€äº›æ€æƒ³ç«èŠ±ï¼Œæ˜¾å¾—ç¤¾åŒºå¼‚å¸¸æ´»è·ƒã€‚</p><p>è€Œæˆ‘ä»¬å›¢é˜Ÿä¹Ÿåœ¨å»å¹´å‹‡æ•¢åœ°æŠ›å¼ƒäº†å†å²åŒ…è¢±ï¼Œéå¸¸è£å¹¸åœ°å¼•å…¥äº† <code>React</code> å¼€å‘æ–¹å¼ï¼Œè®©æˆ‘ä»¬å›¢é˜Ÿä¸¢æ‰äº†ç…¤æ²¹ç¯ï¼Œå¼€å§‹é€šä¸Šäº†ç”µã€‚è€Œä¸”ä¹Ÿç ”å‘å‡ºäº†ä¸€æ¬¾ä¼˜ç§€çš„ç±» <code>React</code> æ¡†æ¶ <code>Nerv</code> ï¼Œè®©æˆ‘ä»¬å’Œ  <code>React</code> å¼€å‘æ€æƒ³ç»“åˆå¾—æ›´æ·±ã€‚</p><p>ä¸å°ç¨‹åºçš„å¼€å‘æ–¹å¼ç›¸æ¯”ï¼Œ<code>React</code> æ˜æ˜¾æ˜¾å¾—æ›´åŠ ç°ä»£åŒ–ã€è§„èŒƒåŒ–ï¼Œè€Œä¸” <code>React</code> å¤©ç”Ÿç»„ä»¶åŒ–æ›´é€‚åˆæˆ‘ä»¬çš„ä¸šåŠ¡å¼€å‘ï¼Œ<code>JSX</code> ä¹Ÿæ¯”å­—ç¬¦ä¸²æ¨¡æ¿æœ‰æ›´å¼ºçš„è¡¨ç°åŠ›ã€‚é‚£ä¹ˆè¿™æ—¶å€™æˆ‘ä»¬å°±åœ¨æ€è€ƒï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½ç”¨ 	<code>React</code> æ¥å†™å°ç¨‹åºï¼Ÿ</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç†æ€§åœ°æ¢ç´¢">ç†æ€§åœ°æ¢ç´¢<a class="hash-link" href="#ç†æ€§åœ°æ¢ç´¢" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç±»æ¯”">ç±»æ¯”<a class="hash-link" href="#ç±»æ¯”" title="Direct link to heading">â€‹</a></h4><p>é€šè¿‡å¯¹æ¯”ä½“éªŒ å°ç¨‹åºå’Œ <code>React</code> ï¼Œæˆ‘ä»¬è¿˜æ˜¯èƒ½å‘ç°ä¸¤è€…ä¹‹é—´ç›¸ä¼¼çš„åœ°æ–¹</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ<a class="hash-link" href="#ç”Ÿå‘½å‘¨æœŸ" title="Direct link to heading">â€‹</a></h5><p>å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå’Œ <code>React</code> çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬ç”šè‡³èƒ½æ‰¾åˆ°ä»–ä»¬ä¹‹é—´çš„å¯¹åº”å…³ç³»</p><p>app åŠé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ</p><table><thead><tr><th>å°ç¨‹åº</th><th align="center">React</th></tr></thead><tbody><tr><td>onLaunch</td><td align="center">componentWillMount</td></tr><tr><td>onLoad</td><td align="center">componentWillMount</td></tr><tr><td>onReady</td><td align="center">componentDidMount</td></tr><tr><td>onShow</td><td align="center">ä¸æ”¯æŒï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</td></tr><tr><td>onHide</td><td align="center">ä¸æ”¯æŒï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</td></tr><tr><td>onUnload</td><td align="center">componentWillUnmount</td></tr></tbody></table><p>å¯ä»¥çœ‹å‡ºï¼Œå¯¹äº <code>app</code> åŠ <code>é¡µé¢</code> æ¥è¯´ï¼Œé™¤äº† <code>onShow</code> ä¸ <code>onHide</code> ä¸¤ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•éƒ½èƒ½åœ¨ <code>React</code> ä¸­æ‰¾åˆ°å¯¹åº”ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="æ•°æ®æ›´æ–°æ–¹å¼">æ•°æ®æ›´æ–°æ–¹å¼<a class="hash-link" href="#æ•°æ®æ›´æ–°æ–¹å¼" title="Direct link to heading">â€‹</a></h5><p>åœ¨ <code>React</code> ä¸­ï¼Œç»„ä»¶çš„å†…éƒ¨æ•°æ®æ˜¯ç”¨ <code>state</code> æ¥è¿›è¡Œç®¡ç†çš„ï¼Œè€Œåœ¨å°ç¨‹åºä¸­ç»„ä»¶çš„å†…éƒ¨æ•°æ®éƒ½æ˜¯ç”¨ <code>data</code> æ¥è¿›è¡Œç®¡ç†ï¼Œä¸¤è€…å…·æœ‰ä¸€å®šç›¸ä¼¼æ€§ã€‚è€ŒåŒæ—¶åœ¨ <code>React</code> ä¸­ï¼Œæˆ‘ä»¬æ›´æ–°æ•°æ®ä½¿ç”¨çš„æ˜¯ <code>setState</code> æ–¹æ³•ï¼Œä¼ å…¥æ–°çš„æ•°æ®æˆ–è€…ç”Ÿæˆæ–°æ•°æ®çš„å‡½æ•°ï¼Œä»è€Œæ›´æ–°ç›¸åº”è§†å›¾ã€‚åœ¨å°ç¨‹åºä¸­ï¼Œåˆ™å¯¹åº”çš„æœ‰ <code>setData</code> æ–¹æ³•ï¼Œä¼ å…¥æ–°çš„æ•°æ®ï¼Œä»è€Œæ›´æ–°è§†å›¾ã€‚</p><p>ä¸¤è€…éƒ½æ˜¯ä»¥æ•°æ®é©±åŠ¨è§†å›¾çš„æ–¹å¼è¿›è¡Œæ›´æ–°ï¼Œè€Œä¸” <code>api</code> ç¥ä¼¼ã€‚</p><h5 class="anchor anchorWithStickyNavbar_IyCF" id="äº‹ä»¶ç»‘å®š">äº‹ä»¶ç»‘å®š<a class="hash-link" href="#äº‹ä»¶ç»‘å®š" title="Direct link to heading">â€‹</a></h5><p>å°ç¨‹åºä¸­ç»‘å®šäº‹ä»¶ä½¿ç”¨çš„æ˜¯ <code>bind + äº‹ä»¶å</code> çš„æ–¹å¼ï¼Œä¾‹å¦‚ç‚¹å‡»äº‹ä»¶ï¼Œå°ç¨‹åºä¸­æ˜¯ <code>bindtap</code></p><div class="codeBlockContainer_H5s7 language-handlebars theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-handlebars codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">handlClick</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è€Œåœ¨ <code>React</code> é‡Œï¼Œåˆ™æ˜¯ <code>on + äº‹ä»¶å</code> çš„æ–¹å¼ï¼Œä¾‹å¦‚ç‚¹å‡»äº‹ä»¶ï¼Œ <code>React</code> web ä¸­æ˜¯ <code>onClick</code></p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">handlClick</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è™½ç„¶çœ‹ä¸Šå»ä¸ä¸€æ ·ï¼Œä½†å…¶å®æ˜¯å¯ä»¥ç±»æ¯”çš„ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç¼–è¯‘æ—¶å°† <code>on + äº‹ä»¶å</code> çš„å½¢å¼ç¼–è¯‘æˆ <code>bind + äº‹ä»¶å</code> çš„å½¢å¼å°±å¯ä»¥äº†ã€‚</p><blockquote><p>å¦‚æ­¤çœ‹æ¥ï¼Œä¸¤è€…ä¹‹é—´æœ‰äº›ç›¸ä¼¼ï¼Œç”¨ <code>React</code> æ¥å†™å°ç¨‹åºè²Œä¼¼æ˜¯å¯è¡Œçš„ï¼Œä½†æ¥ä¸‹æ¥æˆ‘ä»¬å°±å‘ç°äº†å·¨å¤§çš„å·®å¼‚ã€‚</p></blockquote><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å·¨å¤§çš„å·®å¼‚">å·¨å¤§çš„å·®å¼‚<a class="hash-link" href="#å·¨å¤§çš„å·®å¼‚" title="Direct link to heading">â€‹</a></h3><p><code>React</code> ä¸å°ç¨‹åºä¹‹é—´æœ€å¤§çš„å·®å¼‚å°±æ˜¯ä»–ä»¬çš„æ¨¡æ¿äº†ï¼Œåœ¨ <code>React</code> ä¸­ï¼Œæ˜¯ä½¿ç”¨ <code>JSX</code> æ¥ä½œä¸ºç»„ä»¶çš„æ¨¡æ¿çš„ï¼Œè€Œå°ç¨‹åºåˆ™ä¸ <code>Vue</code> ä¸€æ ·ï¼Œæ˜¯ä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿çš„ã€‚è¿™æ ·ä¸¤è€…ä¹‹é—´å°±æœ‰ç€å·¨å¤§çš„å·®å¼‚äº†ã€‚</p><p>JSX</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'index'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> idx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> key</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">idx</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">goto</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">èµ°ä½ </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å°ç¨‹åºæ¨¡æ¿</p><div class="codeBlockContainer_H5s7 language-htmlbars theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-htmlbars codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;view class="index"&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;view wx:key={idx} wx:for="{{list}}" wx:for-item="item" wx:for-index="idx"&gt;{{item}}&lt;/view&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;view bindtap="goto"&gt;èµ°ä½ &lt;/view&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;/view&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œ<code>JSX</code> å…¶å®æœ¬è´¨ä¸Šå°±æ˜¯ <code>JS</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é‡Œé¢å†™ä»»æ„çš„é€»è¾‘ä»£ç ï¼Œè¿™æ ·ä¸€æ¥å°±æ¯”å­—ç¬¦ä¸²æ¨¡æ¿çš„è¡¨ç°åŠ›ä¸æ“ä½œæ€§è¦å¼ºå¤šäº†ï¼Œå†µä¸”ï¼Œå°ç¨‹åºçš„å­—ç¬¦ä¸²æ¨¡æ¿åŠŸèƒ½æ¯”è¾ƒç¾¸å¼±ï¼Œåªæœ‰ä¸€äº›æ¯”è¾ƒåŸºæœ¬çš„åŠŸèƒ½ã€‚é‚£è¿™æ ·çš„è¯ï¼Œè¦å¦‚ä½•æ¥å®ç°ç”¨ <code>JSX</code> æ¥å†™å°ç¨‹åºæ¨¡æ¿å‘¢ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç¼–è¯‘åŸç†çš„åŠ›é‡">ç¼–è¯‘åŸç†çš„åŠ›é‡<a class="hash-link" href="#ç¼–è¯‘åŸç†çš„åŠ›é‡" title="Direct link to heading">â€‹</a></h3><p>æˆ‘ä»¬å¯ä»¥ä»”ç»†æ¥åˆ†ææˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬æœŸæœ›ä½¿ç”¨ <code>JSX</code> æ¥ä¹¦å†™å°ç¨‹åºæ¨¡æ¿ï¼Œä½†å°ç¨‹åºæ˜¾ç„¶æ˜¯ä¸æ”¯æŒæ‰§è¡Œ <code>JSX</code> ä»£ç çš„ï¼ˆè¦æ˜¯æ”¯æŒçš„è¯ï¼ŒTaro åº”è¯¥ä¹Ÿå°±ä¸å­˜åœ¨äº†å§ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½æœŸæœ›å¾®ä¿¡èƒ½ç»™æˆ‘ä»¬å¼€ä¸ªåé—¨æ¥è·‘ <code>JSX</code>ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±æƒ³ï¼Œæˆ‘ä»¬è¦æ˜¯èƒ½å¤Ÿå°† <code>JSX</code> ç¼–è¯‘æˆå°ç¨‹åºæ¨¡æ¿å°±å¥½äº†ã€‚</p><p>äº‹å®ä¸Šåœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘ä¸­ï¼Œè¿™ç§ç¼–è¯‘çš„æ“ä½œåˆ°å¤„å¯è§ï¼Œ<code>babel</code> å°±æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„ <code>JS ä»£ç ç¼–è¯‘å™¨</code>ï¼Œä¸€èˆ¬æµè§ˆå™¨æ˜¯ä¸èƒ½æ”¯æŒä¸€äº›éå¸¸æ–°çš„è¯­æ³•ç‰¹æ€§çš„ï¼Œä½†æˆ‘ä»¬åˆæƒ³ä½¿ç”¨å®ƒä»¬ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å€ŸåŠ© <code>babel</code> æ¥å°†æˆ‘ä»¬çš„é«˜ç‰ˆæœ¬çš„ ES ä»£ç ï¼Œç¼–è¯‘æˆæµè§ˆå™¨å¯ä»¥è¿è¡Œçš„ ES ä»£ç ã€‚è€Œæˆ‘ä»¬åƒè¦å°† <code>JSX</code>ç¼–è¯‘æˆå°ç¨‹åºæ¨¡æ¿ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚æˆ‘ä»¬é¦–å…ˆæ¥äº†è§£ä¸€ä¸‹ <code>Babel</code> çš„è¿è¡Œæœºåˆ¶ã€‚</p><p><code>Babel</code> ä½œä¸ºä¸€ä¸ª <code>ä»£ç ç¼–è¯‘å™¨</code> ï¼Œèƒ½å¤Ÿå°† ES6/7/8 çš„ä»£ç ç¼–è¯‘æˆ ES5 çš„ä»£ç ï¼Œå…¶æ ¸å¿ƒåˆ©ç”¨çš„å°±æ˜¯è®¡ç®—ä¸­éå¸¸åŸºç¡€çš„ç¼–è¯‘åŸç†çŸ¥è¯†ï¼Œå°†è¾“å…¥è¯­è¨€ä»£ç ï¼Œé€šè¿‡ç¼–è¯‘å™¨æ‰§è¡Œï¼Œè¾“å‡ºç›®æ ‡è¯­è¨€çš„ä»£ç ã€‚ç¼–è¯‘åŸç†çš„ä¸€èˆ¬è¿‡ç¨‹å°±æ˜¯ï¼Œè¾“å…¥æºç¨‹åºï¼Œç»è¿‡è¯æ³•åˆ†æã€è¯­æ³•åˆ†æï¼Œæ„é€ å‡ºè¯­æ³•æ ‘ï¼Œå†ç»è¿‡è¯­ä¹‰åˆ†æï¼Œç†è§£ç¨‹åºæ­£ç¡®ä¸å¦ï¼Œå†å¯¹è¯­æ³•æ ‘åšå‡ºéœ€è¦çš„æ“ä½œä¸ä¼˜åŒ–ï¼Œæœ€ç»ˆç”Ÿæˆç›®æ ‡ä»£ç ã€‚</p><p><img loading="lazy" src="https://m.360buyimg.com/img/jfs/t23551/19/471755927/52473/e349bf6c/5b307975N60463097.jpg" class="img_ROth"></p><p><code>Babel</code> çš„ç¼–è¯‘è¿‡ç¨‹äº¦æ˜¯å¦‚æ­¤ï¼Œä¸»è¦åŒ…å«ä¸‰ä¸ªé˜¶æ®µ</p><ul><li>è§£æè¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿›è¡Œè¯æ³•ã€è¯­æ³•åˆ†æï¼Œä»¥åŠè¯­ä¹‰åˆ†æï¼Œç”Ÿæˆç¬¦åˆ <a href="https://github.com/estree/estree" target="_blank" rel="noopener noreferrer">ESTree æ ‡å‡†</a> è™šæ‹Ÿè¯­æ³•æ ‘(AST)</li><li>è½¬æ¢è¿‡ç¨‹ï¼Œé’ˆå¯¹ AST åšå‡ºå·²å®šä¹‰å¥½çš„æ“ä½œï¼Œ<code>babel</code> çš„é…ç½®æ–‡ä»¶ <code>.babelrc</code> ä¸­å®šä¹‰çš„ <code>preset</code> ã€ <code>plugin</code> å°±æ˜¯åœ¨è¿™ä¸€æ­¥ä¸­æ‰§è¡Œå¹¶æ”¹å˜ AST çš„</li><li>ç”Ÿæˆè¿‡ç¨‹ï¼Œå°†å‰ä¸€æ­¥è½¬æ¢å¥½çš„ AST ç”Ÿæˆç›®æ ‡ä»£ç çš„å­—ç¬¦ä¸²</li></ul><p>ä¸ºäº†æ›´å¥½åœ°ç†è§£è¿™äº›è¿‡ç¨‹ï¼Œå¤§å®¶å¯ä»¥åˆ©ç”¨ <a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">Ast Explorer</a> è¿™ä¸ªç½‘ç«™æ¥ä¸€ä¸‹è‡ªå·±çš„ä»£ç ï¼Œæ„Ÿå—ä¸€ä¸‹æ¯ä¸€éƒ¨åˆ†ä»£ç æ‰€å¯¹åº”çš„ AST ç»“æ„ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/img/jfs/t22843/37/455454462/106864/1d96f394/5b307975Nf78e5829.jpg" class="img_ROth"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä»½æºç ç»è¿‡ç¼–è¯‘å™¨è§£æåï¼Œä¼šå˜æˆç±»ä¼¼å¦‚ä¸‹çš„ç»“æ„</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Program"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">start</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">end</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">78</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">loc</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> end </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">sourceType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"module"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"VariableDeclaration"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"VariableDeclaration"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"FunctionDeclaration"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ExpressionStatement"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å…¶ä¸­ï¼Œ<code>body</code> é‡ŒåŒ…å«çš„å°±æ˜¯æˆ‘ä»¬ç¤ºä¾‹ä»£ç çš„è¯­æ³•æ ‘ç»“æ„ï¼Œç¬¬ä¸€ä¸ª <code>VariableDeclaration</code> å¯¹åº”çš„æ˜¯ <code>const a = 1</code>ï¼Œç¬¬ä¸‰ä¸ª <code>FunctionDeclaration</code> å¯¹åº”çš„åˆ™æ˜¯ <code>function sum (a, b) { }</code>ï¼Œåˆ†åˆ«å°±æ˜¯ JS ä¸­çš„å˜é‡å®šä¹‰ä¸å‡½æ•°å®šä¹‰ï¼Œæ¯ä¸€ä¸ªæ ‘èŠ‚ç‚¹é‡Œéƒ½ä¼šåŒ…å«è®¸å¤šå­èŠ‚ç‚¹ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œæ›´å¤šçš„èŠ‚ç‚¹ç±»å‹ï¼Œè¯·å‚è€ƒ <a href="https://github.com/babel/babel/tree/master/packages/babel-types" target="_blank" rel="noopener noreferrer">babel types</a>ã€‚</p><p>å½“ç„¶æˆ‘ä»¬åœ¨è¿™å„¿åªæ˜¯ç®€å•ä»‹ç»ä¸‹ç¼–è¯‘åŸç†ä¸ <code>babel</code>ï¼Œç¼–è¯‘åŸç†æ˜¯ä¸€é—¨éå¸¸æ·±å¥¥çš„è¯¾ç¨‹ï¼Œ <code>babel</code> ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„å·¥å…·ï¼Œå¸Œæœ›åœ¨åç»­çš„æ–‡ç« ä¸­èƒ½å’Œå¤§å®¶å†è¯¦ç»†æ¢è®¨è¿™ä¸€éƒ¨åˆ†å†…å®¹ã€‚</p><p>å†æ¬¡å›åˆ°æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå°† <code>JSX</code> ç¼–è¯‘æˆå°ç¨‹åºæ¨¡æ¿ï¼Œéå¸¸å¹¸è¿çš„æ˜¯ <code>babel</code> çš„æ ¸å¿ƒç¼–è¯‘å™¨ <code>babylon</code> æ˜¯æ”¯æŒå¯¹ <code>JSX</code> è¯­æ³•çš„è§£æçš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨å®ƒæ¥å¸®æˆ‘ä»¬æ„é€  ASTï¼Œè€Œæˆ‘ä»¬éœ€è¦ä¸“æ³¨çš„æ ¸å¿ƒå°±æ˜¯å¦‚ä½•å¯¹ AST è¿›è¡Œè½¬æ¢æ“ä½œï¼Œå¾—å‡ºæˆ‘ä»¬éœ€è¦çš„æ–° ASTï¼Œå†å°†æ–° AST è¿›è¡Œé€’å½’éå†ï¼Œç”Ÿæˆå°ç¨‹åºçš„æ¨¡æ¿ã€‚</p><p><code>JSX</code> ä»£ç </p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'index'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'add_btn'</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">add</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'dec_btn'</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">dec</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'dec_btn'</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">asyncAdd</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">async</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">counter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">num</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token constant" style="color:#36acaa">A</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">goto</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">èµ°ä½ </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Image</span><span class="token plain"> src</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">sd</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ç¼–è¯‘ç”Ÿæˆå°ç¨‹åºæ¨¡æ¿</p><div class="codeBlockContainer_H5s7 language-handlebars theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-handlebars codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">import</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">../../components/A/A.wxml</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">block</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">index</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">add_btn</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">add</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">+</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">dec_btn</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">dec</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">-</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">dec_btn</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">asyncAdd</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">async</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token handlebars language-handlebars delimiter punctuation" style="color:#393A34">{{</span><span class="token handlebars language-handlebars variable" style="color:#36acaa">counter</span><span class="token handlebars language-handlebars punctuation" style="color:#393A34">.</span><span class="token handlebars language-handlebars variable" style="color:#36acaa">num</span><span class="token handlebars language-handlebars delimiter punctuation" style="color:#393A34">}}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">template</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">is</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">A</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value handlebars language-handlebars delimiter punctuation" style="color:#393A34">{{</span><span class="token tag attr-value handlebars language-handlebars punctuation" style="color:#393A34">.</span><span class="token tag attr-value handlebars language-handlebars punctuation" style="color:#393A34">.</span><span class="token tag attr-value handlebars language-handlebars punctuation" style="color:#393A34">.</span><span class="token tag attr-value handlebars language-handlebars variable" style="color:#36acaa">$$A</span><span class="token tag attr-value handlebars language-handlebars delimiter punctuation" style="color:#393A34">}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">template</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">bindtap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">goto</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">èµ°ä½ </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">image</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value handlebars language-handlebars delimiter punctuation" style="color:#393A34">{{</span><span class="token tag attr-value handlebars language-handlebars variable" style="color:#36acaa">sd</span><span class="token tag attr-value handlebars language-handlebars delimiter punctuation" style="color:#393A34">}}</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">view</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">block</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™æ—¶å€™ï¼Œèªæ˜çš„ä½ åº”è¯¥å°±èƒ½å‘ç°é—®é¢˜çš„éš¾ç‚¹æ‰€åœ¨äº†ï¼Œè¦çŸ¥é“å°ç¨‹åºçš„æ¨¡æ¿åªæ˜¯å­—ç¬¦ä¸²ï¼Œè€Œ <code>JSX</code> åˆ™æ˜¯çœŸæ­£çš„ JS ä»£ç æ‰©å±•ï¼Œå…¶è¯­æ³•ä¹‹ä¸°å¯Œï¼Œæ˜¾ç„¶ä¸æ˜¯å­—ç¬¦ä¸²æ¨¡æ¿æ‰€èƒ½æ¯”ï¼Œåœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬è¦åšçš„æ“ä½œï¼ŒåŒ…æ‹¬ä½†ä¸ä»…é™äºå¦‚ä¸‹</p><ul><li>ç†è§£ä¸‰ç›®è¿ç®—ç¬¦ä¸é€»è¾‘è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ä¸‰ç›®è¿ç®—ç¬¦ <code>abc ? : &lt;View&gt;1&lt;/View&gt; : &lt;View&gt;2&lt;/View&gt;</code> éœ€è¦ç¼–è¯‘æˆ <code>&lt;view wx:if="{{abc}}"&gt;1&lt;/view&gt;&lt;view wx:else&gt;2&lt;/view&gt;</code></li><li>ç†è§£æ•°ç»„ <code>map</code> è¯­æ³•ï¼Œä¾‹å¦‚ <code>map</code> çš„ä½¿ç”¨ <code>abc.map(item =&gt; &lt;View&gt;item&lt;/View&gt;)</code> éœ€è¦ç¼–è¯‘æˆ <code>&lt;view wx:for="{{abc}}" wx:for-item="item"&gt;item&lt;/view&gt;</code></li><li>ç­‰ç­‰</li></ul><p>ä»¥ä¸Šä»…ä»…æ˜¯æˆ‘ä»¬è½¬æ¢è§„åˆ™çš„å†°å±±ä¸€è§’ï¼Œ<code>JSX</code> çš„å†™æ³•æå…¶çµæ´»å¤šå˜ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ç©·ä¸¾çš„æ–¹å¼ï¼Œå°†å¸¸ç”¨çš„ã€React å®˜æ–¹æ¨èçš„å†™æ³•ä½œä¸ºè½¬æ¢è§„åˆ™åŠ ä»¥æ”¯æŒï¼Œè€Œä¸€äº›æ¯”è¾ƒç”Ÿåƒ»çš„ï¼Œæˆ–è€…æ˜¯ä¸é‚£ä¹ˆæ¨èçš„å†™çš„å†™æ³•åˆ™ä¸åšæ”¯æŒï¼Œè½¬è€Œä»¥ <code>eslint</code> æ’ä»¶çš„æ–¹å¼ï¼Œæç¤ºç”¨æˆ·è¿›è¡Œä¿®æ”¹ã€‚ç›®å‰æˆ‘ä»¬æ”¯æŒçš„ <code>JSX</code> è½¬æ¢è§„åˆ™ï¼Œå¤§è‡´èƒ½è¦†ç›–åˆ° <code>JSX</code>  80% çš„å†™æ³•æ“ä½œã€‚</p><p>å…³äº JSX è½¬å°ç¨‹åºæ¨¡æ¿è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†åœ¨åç»­çš„æŠ€æœ¯åŸç†åˆ†æç³»åˆ—æ–‡ç« ä¸­ï¼Œè¯¦ç»†ä¸ºå¤§å®¶ä»‹ç»ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="è¿˜èƒ½ä¸èƒ½å¹²ç‚¹åˆ«çš„">è¿˜èƒ½ä¸èƒ½å¹²ç‚¹åˆ«çš„<a class="hash-link" href="#è¿˜èƒ½ä¸èƒ½å¹²ç‚¹åˆ«çš„" title="Direct link to heading">â€‹</a></h2><p>ç»è¿‡æˆ‘ä»¬ä¸€æ¬¡æ¬¡çš„æ¢ç´¢ï¼Œä»¥åŠä¸€æ³¢æ³¢çŒ›å¦‚è™çš„æ“ä½œï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å°†ç±» React ä»£ç è½¬æˆå°ç¨‹åºå¯ä»¥è·‘çš„ä»£ç äº†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å·²ç»å¯ä»¥æ­£å¼ä»¥ React çš„æ–¹å¼æ¥å†™å°ç¨‹åºçš„ä»£ç äº†ã€‚å–œå¤§æ™®å¥”ï¼ä½†æ˜¯æˆ‘ä»¬æ¿€åŠ¨ä¹‹ä½™ï¼Œå†·é™ä¸‹æ¥ç»§ç»­æ€è€ƒï¼Œæˆ‘ä»¬è¿˜èƒ½ä¸èƒ½å¹²ç‚¹åˆ«çš„æœ‰æ„æ€çš„äº‹æƒ…å‘¢ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="åˆ†æä¸€ä¸‹éœ€æ±‚">åˆ†æä¸€ä¸‹éœ€æ±‚<a class="hash-link" href="#åˆ†æä¸€ä¸‹éœ€æ±‚" title="Direct link to heading">â€‹</a></h3><p>æˆ‘ä»¬å‘ç°ï¼Œåœ¨å¹³å¸¸çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ä¸šåŠ¡é€šå¸¸æœ‰ä¸€äº›å¤šç«¯çš„éœ€æ±‚ï¼Œå°±æ˜¯è¦æ±‚å°ç¨‹åºè¦æœ‰ï¼ŒH5 è¦æœ‰ï¼Œç”šè‡³ RN ä¹Ÿèƒ½æœ‰å°±æœ€å¥½äº†ï¼Œæˆ‘çŒœäº§å“ç»ç†è¿˜çœ‹ä¸ä¸Šå¿«åº”ç”¨ï¼Œä¸ç„¶è‚¯å®šè¦æ±‚æˆ‘ä»¬å¿«åº”ç”¨ä¹Ÿä¸Šä¸€å¥—å§ï¼Œåæ­£ä½ ä»¬ä¸æ˜¯ç»å¸¸å·ç§°ä»£ç ä¼˜ç§€ã€é«˜åº¦å¯å¤ç”¨ä¹ˆã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ å°±ä¼šå‘ç°ï¼Œå·®ä¸å¤šçš„ç•Œé¢å’Œé€»è¾‘ï¼Œä½ å¯èƒ½éœ€è¦é‡å¤å†™ä¸Šå¥½å‡ è½®ï¼Œè¿™æ—¶å€™è¦æ˜¯æœ‰ä¸ªå¤šç«¯ä»£ç ç”Ÿæˆå·¥å…·å°±å¥½äº†ï¼Œåªå†™ä¸€ä»½ä»£ç ï¼Œå¯ä»¥å¤šç«¯è¿è¡Œã€‚Write once, run anywhereï¼Œç›¸ä¿¡æ˜¯æ‰€æœ‰å·¥ç¨‹å¸ˆçš„æ¢¦æƒ³ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä¾ç„¶ç¼–è¯‘åŸç†çš„åŠ›é‡">ä¾ç„¶ç¼–è¯‘åŸç†çš„åŠ›é‡<a class="hash-link" href="#ä¾ç„¶ç¼–è¯‘åŸç†çš„åŠ›é‡" title="Direct link to heading">â€‹</a></h3><p>è¿™æ—¶å€™æˆ‘ä»¬å›å¿†ä¸€ä¸‹å‰æ–‡çš„å†…å®¹ï¼Œå°†ä¸€ä»½ä»£ç ç¼–è¯‘æˆå¤šç«¯ä»£ç ï¼Œè¿™ä¸æ­£æ˜¯ç¼–è¯‘åŸç†å¹²çš„äº‹ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ä¸€ä»½æºä»£ç ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯è®¾å®šå¥½å¯¹åº”çš„è½¬æ¢è§„åˆ™ï¼Œå†ä¸€é”®è½¬æ¢å‡ºå¯¹åº”ç«¯çš„ä»£ç ã€‚è€Œä¸”ç”±äºæˆ‘ä»¬å·²ç»éµå¾ª React è¯­æ³•äº†ï¼Œé‚£æˆ‘ä»¬å†è½¬æˆ H5 ç«¯ï¼ˆä½¿ç”¨ Nervï¼‰ä¸ RN ç«¯ï¼ˆä½¿ç”¨ Reactï¼‰ä¹Ÿå°±æœ‰äº†å¤©ç„¶çš„ä¼˜åŠ¿ã€‚</p><p><img loading="lazy" src="https://img11.360buyimg.com/img/jfs/t23863/65/477773801/39493/d1292897/5b307974Na1febb30.jpg" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è®¾è®¡æ€è·¯è¡¥å®Œ">è®¾è®¡æ€è·¯è¡¥å®Œ<a class="hash-link" href="#è®¾è®¡æ€è·¯è¡¥å®Œ" title="Direct link to heading">â€‹</a></h3><p>ä½†æ˜¯ä»”ç»†æ€è€ƒæˆ‘ä»¬åˆä¼šå‘ç°ï¼Œä»…ä»…å°†ä»£ç æŒ‰ç…§å¯¹åº”è¯­æ³•è§„åˆ™è½¬æ¢è¿‡å»åï¼Œè¿˜è¿œè¿œä¸å¤Ÿï¼Œå› ä¸ºä¸åŒç«¯ä¼šæœ‰è‡ªå·±çš„åŸç”Ÿç»„ä»¶ï¼Œç«¯èƒ½åŠ› API ç­‰ç­‰ï¼Œä»£ç ç›´æ¥è½¬æ¢è¿‡å»åï¼Œå¯èƒ½ä¸èƒ½ç›´æ¥æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œå°ç¨‹åºä¸­æ™®é€šçš„å®¹å™¨ç»„ä»¶ç”¨çš„æ˜¯ <code>&lt;view /&gt;</code>ï¼Œè€Œåœ¨ H5 ä¸­åˆ™æ˜¯ <code>&lt;div /&gt;</code>ï¼›å°ç¨‹åºä¸­æä¾›äº†ä¸°å¯Œçš„ç«¯èƒ½åŠ› APIï¼Œä¾‹å¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶ä¸‹è½½ã€æ•°æ®ç¼“å­˜ç­‰ï¼Œè€Œåœ¨ H5 ä¸­å¯¹åº”åŠŸèƒ½çš„ API åˆ™ä¸ä¸€è‡´ã€‚</p><p>æ‰€ä»¥ï¼Œä¸ºäº†å¼¥è¡¥ä¸åŒç«¯çš„å·®å¼‚ï¼Œæˆ‘ä»¬éœ€è¦è®¢åˆ¶å¥½ä¸€ä¸ªç»Ÿä¸€çš„ç»„ä»¶åº“æ ‡å‡†ï¼Œä»¥åŠç»Ÿä¸€çš„ API æ ‡å‡†ï¼Œåœ¨ä¸åŒçš„ç«¯ä¾é å®ƒä»¬çš„è¯­æ³•ä¸èƒ½åŠ›å»å®ç°è¿™ä¸ªç»„ä»¶åº“ä¸ APIï¼ŒåŒæ—¶è¿˜è¦ä¸ºä¸åŒçš„ç«¯ç¼–å†™ç›¸åº”çš„è¿è¡Œæ—¶æ¡†æ¶ï¼Œè´Ÿè´£åˆå§‹åŒ–ç­‰ç­‰æ“ä½œã€‚é€šè¿‡ä»¥ä¸Šè¿™äº›æ“ä½œï¼Œæˆ‘ä»¬å°±èƒ½å®ç°ä¸€ä»½ä¸€é”®ç”Ÿæˆå¤šç«¯çš„éœ€æ±‚äº†ã€‚åœ¨ Taro æœ€åˆçš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ç»„ä»¶åº“ä¸ API çš„æ ‡å‡†å°±æ˜¯æºè‡ªå°ç¨‹åºçš„ï¼Œå› ä¸ºæˆ‘ä»¬è§‰å¾—æ—¢ç„¶å·²ç»æœ‰å®šä¹‰å¥½çš„ç»„ä»¶åº“ä¸ API æ ‡å‡†ï¼Œé‚£ä¸ºå•¥ä¸ç›´æ¥æ‹¿æ¥ä½¿ç”¨å‘¢ï¼Œè¿™æ ·ä¸ä»…çœå»äº†å®šåˆ¶æ ‡å‡†çš„å†¥æ€è‹¦æƒ³ï¼ŒåŒæ—¶ä¹Ÿçœå»äº†ä¸ºå°ç¨‹åºå¼€å‘ç»„ä»¶åº“ä¸ API çš„éº»çƒ¦ï¼Œåªéœ€è¦è®©å…¶ä»–ç«¯æ¥å‘å°ç¨‹åºé é½å°±å¥½ã€‚</p><p>å¯èƒ½æœ‰äº›äººä¼šæœ‰ç–‘é—®ï¼Œæ—¢ç„¶æ˜¯ä¸ºä¸åŒçš„ç«¯å®ç°äº†å¯¹åº”çš„ç»„ä»¶åº“ä¸ç«¯èƒ½åŠ› API ï¼ˆå°ç¨‹åºé™¤å¤–ï¼Œå› ä¸ºç»„ä»¶åº“å’Œ API çš„æ ‡å‡†éƒ½æ˜¯æºè‡ªå°ç¨‹åºï¼‰ï¼Œé‚£ä¹ˆæ˜¯æ€ä¹ˆèƒ½å¤Ÿåªå†™ä¸€ä»½ä»£ç å°±å¤Ÿäº†å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬æœ‰ç¼–è¯‘çš„æ“ä½œï¼Œåœ¨ä¹¦å†™ä»£ç çš„æ—¶å€™ï¼Œåªéœ€è¦å¼•å…¥æ ‡å‡†ç»„ä»¶åº“ <code>@tarojs/components</code> ä¸è¿è¡Œæ—¶æ¡†æ¶ <code>@tarojs/taro</code> ï¼Œä»£ç ç»è¿‡ç¼–è¯‘ä¹‹åï¼Œä¼šå˜æˆå¯¹åº”ç«¯æ‰€éœ€è¦çš„åº“ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/img/jfs/t21535/241/1645070830/74027/775c8a15/5b307976Nce466138.jpg" class="img_ROth"></p><p>æ—¢ç„¶ç»„ä»¶åº“ä»¥åŠç«¯èƒ½åŠ›éƒ½æ˜¯ä¾é ä¸åŒçš„ç«¯åšä¸åŒå®ç°æ¥æŠ¹å¹³å·®å¼‚ï¼Œé‚£ä¹ˆåŒæ ·çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¸º Taro å¼•å…¥æ›´å¤šçš„åŠŸèƒ½æ”¯æŒçš„è¯ï¼Œæœ‰æ—¶å€™ä¹Ÿéœ€è¦æŒ‰ç…§è¿™ä¸ªå¥—è·¯æ¥ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†æå‡å¼€å‘ä¾¿åˆ©æ€§ï¼Œæˆ‘ä»¬ä¸º Taro åŠ å…¥äº† <code>Redux</code> æ”¯æŒï¼Œæˆ‘ä»¬çš„åšæ³•å°±æ˜¯ï¼Œåœ¨å°ç¨‹åºç«¯ï¼Œæˆ‘ä»¬å®ç°äº† <code>@tarojs/redux</code> è¿™ä¸ªåº“æ¥ä½œä¸ºå°ç¨‹åºçš„ <code>Redux</code> è¾…åŠ©åº“ï¼Œå¹¶ä¸”ä»¥ä»–ä½œä¸ºåŸºå‡†åº“ï¼Œå®ƒå…·æœ‰å’Œ <code>react-redux</code> ä¸€è‡´çš„ APIï¼Œåœ¨ä¹¦å†™ä»£ç çš„æ—¶å€™ï¼Œå¼•ç”¨çš„éƒ½æ˜¯  <code>@tarojs/redux</code> ï¼Œç»è¿‡ç¼–è¯‘åï¼Œåœ¨ H5 ç«¯ä¼šæ›¿æ¢æˆ <code>nerv-redux</code>ï¼ˆ<code>Nerv</code>çš„ <code>Redux</code> è¾…åŠ©åº“ï¼‰ï¼Œåœ¨ RN ç«¯ä¼šæ›¿æ¢æˆ <code>react-redux</code>ã€‚è¿™æ ·å°±å®ç°äº† <code>Redux</code> åœ¨ Taro ä¸­çš„å¤šç«¯æ”¯æŒã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/uba/jfs/t22360/120/839096197/151922/229ceba4/5b1a6fcdNed7d4039.jpg" class="img_ROth"></p><p>ä»¥ä¸Šå°±æ˜¯ Taro çš„æ•´ä½“è®¾è®¡æ€è·¯ï¼Œé‡Œé¢è¿˜æœ‰å¾ˆå¤šç»†èŠ‚æ²¡æœ‰å±•å¼€å»é˜è¿°ï¼Œå¯èƒ½å¤§å®¶ä¼šè§‰å¾—æœ‰äº›æ„çŠ¹æœªå°½ï¼Œåç»­æˆ‘ä»¬å°†ä¼šäº§å‡ºä¸€ç³»åˆ—çš„æ–‡ç« æ¥é˜è¿° Taro çš„æŠ€æœ¯ç»†èŠ‚ï¼Œä¾‹å¦‚ ã€ŠTaro å¼€å‘å·¥å…·åŸç†åˆ†æã€‹ã€ã€ŠTaro ä»£ç ç¼–è¯‘çš„èƒŒåã€‹ã€ã€Šæ·±å…¥æµ…å‡º JSX è½¬å°ç¨‹åºæ¨¡æ¿ã€‹ç­‰ç­‰ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æœ€åçš„æœ€å">æœ€åçš„æœ€å<a class="hash-link" href="#æœ€åçš„æœ€å" title="Direct link to heading">â€‹</a></h2><p>Taro ä»ç«‹é¡¹ä¹‹åˆåˆ°ç°åœ¨å·²ç»å·®ä¸å¤šæœ‰äº†ä¸‰ä¸ªæœˆå·¦å³çš„æ—¶é—´ï¼Œä»æœ€åˆçš„æ¿€çƒˆè®¨è®ºæ–¹æ¡ˆï¼Œå„ç§æ€æƒ³çš„ç¢°æ’ï¼Œåˆ°æ–¹æ¡ˆé€æ¸æˆå‹ï¼Œè¿›å…¥ç«çƒ­çš„å¼€å‘è¿­ä»£ï¼Œå†åˆ°ç°åœ¨çš„å°ç¨‹åºç«¯å’Œ H5 ç«¯é¡ºåˆ©æ”¯æŒï¼Œä»è€Œå†³å®šèµ°å‘å¼€æºã€‚è¿™ä¸€è·¯èµ°æ¥ï¼Œæ”¶è·é¢‡ä¸°ï¼Œæ—¢æœ‰è·Ÿå›¢é˜Ÿå°ä¼™ä¼´ä¸€èµ·åˆ›é€ çš„æ¿€åŠ¨ï¼Œä¹Ÿæœ‰æ— æ•°ä¸ªæ—¥å¤œåŠ ç­çš„è‹¦æ€ã€‚Taro æ˜¯å‡¹å‡¸å®éªŒå®¤çš„è¯šæ„ä¹‹ä½œï¼Œæˆ‘ä»¬ä¹Ÿå°†ä¼šä¸€ç›´ç»´æŠ¤ä¸‹å»ï¼Œå¸Œæœ› Taro èƒ½è¶Šæ¥è¶Šå¥½ï¼Œå¸®åŠ©æ›´å¤šäººåˆ›é€ æ›´å¤šä»·å€¼ã€‚</p><p>é¡¹ç›®å®˜ç½‘ï¼š<a href="https://taro.jd.com/" target="_blank" rel="noopener noreferrer">https://taro.jd.com/</a></p><p>é¡¹ç›® GitHubï¼š<a href="https://github.com/NervJS/taro" target="_blank" rel="noopener noreferrer">https://github.com/NervJS/taro</a></p><p><strong>åŒæ—¶ï¼Œæœ‰ä»»ä½•å…³äº Taro å¸Œæœ›æ²Ÿé€šäº¤æµçš„ï¼Œæ¬¢è¿~</strong></p><p><img loading="lazy" src="https://img20.360buyimg.com/uba/jfs/t20197/283/1687168874/136042/2b4d811f/5b30a65cN9d1f03f1.png" class="img_ROth"></p>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ - Taro]]></title>
            <link>https://nervjs.github.io/taro-docs/blog/2018-06-07-Taro</link>
            <guid>2018-06-07-Taro</guid>
            <pubDate>Thu, 07 Jun 2018 00:00:00 GMT</pubDate>
            <description><![CDATA[image]]></description>
            <content:encoded><![CDATA[<p><img loading="lazy" src="https://img11.360buyimg.com/uba/jfs/t21205/91/853520716/145629/b03d7fa7/5b19f383N6a30536b.jpg" alt="image" class="img_ROth"></p><p>ä½¿ç”¨ Taroï¼Œæˆ‘ä»¬å¯ä»¥åªä¹¦å†™ä¸€å¥—ä»£ç ï¼Œå†é€šè¿‡ Taro çš„ç¼–è¯‘å·¥å…·ï¼Œå°†æºä»£ç åˆ†åˆ«ç¼–è¯‘å‡ºå¯ä»¥åœ¨ä¸åŒç«¯ï¼ˆå¾®ä¿¡å°ç¨‹åºã€H5ã€App ç«¯ç­‰ï¼‰è¿è¡Œçš„ä»£ç ã€‚åŒæ—¶ Taro è¿˜æä¾›å¼€ç®±å³ç”¨çš„è¯­æ³•æ£€æµ‹å’Œè‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæœ‰æ•ˆåœ°æå‡äº†å¼€å‘ä½“éªŒå’Œå¼€å‘æ•ˆç‡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-æ˜¯ä»€ä¹ˆ">Taro æ˜¯ä»€ä¹ˆï¼Ÿ<a class="hash-link" href="#taro-æ˜¯ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><p>Taro æ˜¯ç”±å‡¹å‡¸å®éªŒå®¤æ‰“é€ çš„ä¸€å¥—éµå¾ª React è¯­æ³•è§„èŒƒçš„å¤šç«¯ç»Ÿä¸€å¼€å‘æ¡†æ¶ã€‚</p><p>ç°å¦‚ä»Šå¸‚é¢ä¸Šç«¯çš„å½¢æ€å¤šç§å¤šæ ·ï¼ŒWebã€App ç«¯(React Native)ã€å¾®ä¿¡å°ç¨‹åºç­‰å„ç§ç«¯å¤§è¡Œå…¶é“ï¼Œå½“ä¸šåŠ¡è¦æ±‚åŒæ—¶åœ¨ä¸åŒçš„ç«¯éƒ½è¦æ±‚æœ‰æ‰€è¡¨ç°çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸åŒçš„ç«¯å»ç¼–å†™å¤šå¥—ä»£ç çš„æˆæœ¬æ˜¾ç„¶éå¸¸é«˜ï¼Œè¿™æ—¶å€™åªç¼–å†™ä¸€å¥—ä»£ç å°±èƒ½å¤Ÿé€‚é…åˆ°å¤šç«¯çš„èƒ½åŠ›å°±æ˜¾å¾—æä¸ºéœ€è¦ã€‚</p><p>ä½¿ç”¨ Taroï¼Œæˆ‘ä»¬å¯ä»¥åªä¹¦å†™ä¸€å¥—ä»£ç ï¼Œå†é€šè¿‡ Taro çš„ç¼–è¯‘å·¥å…·ï¼Œå°†æºä»£ç åˆ†åˆ«ç¼–è¯‘å‡ºå¯ä»¥åœ¨ä¸åŒç«¯ï¼ˆå¾®ä¿¡å°ç¨‹åºã€H5ã€App ç«¯ç­‰ï¼‰è¿è¡Œçš„ä»£ç ã€‚åŒæ—¶ Taro è¿˜æä¾›å¼€ç®±å³ç”¨çš„è¯­æ³•æ£€æµ‹å’Œè‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæœ‰æ•ˆåœ°æå‡äº†å¼€å‘ä½“éªŒå’Œå¼€å‘æ•ˆç‡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-èƒ½æä¾›ä»€ä¹ˆ">Taro èƒ½æä¾›ä»€ä¹ˆï¼Ÿ<a class="hash-link" href="#taro-èƒ½æä¾›ä»€ä¹ˆ" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ä¸€æ¬¡ç¼–å†™å¤šç«¯è¿è¡Œ">ä¸€æ¬¡ç¼–å†™ï¼Œå¤šç«¯è¿è¡Œ<a class="hash-link" href="#ä¸€æ¬¡ç¼–å†™å¤šç«¯è¿è¡Œ" title="Direct link to heading">â€‹</a></h3><p>æ—¢ç„¶æ˜¯ä¸€ä¸ªå¤šç«¯è§£å†³æ–¹æ¡ˆï¼ŒTaro æœ€é‡è¦çš„èƒ½åŠ›å½“ç„¶æ˜¯å†™ä¸€å¥—ä»£ç è¾“å‡ºå¤šç«¯çš†å¯è¿è¡Œçš„ä»£ç ã€‚ç›®å‰ Taro å·²ç»æ”¯æŒä¸€å¥—ä»£ç åŒæ—¶ç”Ÿæˆ H5 å’Œå°ç¨‹åºï¼ŒAppç«¯(React Native)ç«¯ä¹Ÿå³å°†æ”¯æŒï¼ŒåŒæ—¶è¯¸å¦‚å¿«åº”ç”¨ç­‰ç«¯ä¹Ÿå°†å¾—åˆ°æ”¯æŒã€‚</p><p>åŒæ—¶ Taro ä¹Ÿå·²ç»æŠ•å…¥åˆ°äº†ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œç›®å‰å·²ç»æ”¯æ’‘äº†ä¸€ä¸ª 3 ä¸‡è¡Œä»£ç å°ç¨‹åº <a href="https://www.toplife.com/" target="_blank" rel="noopener noreferrer">TOPLIFE</a> çš„å¼€å‘å¹¶ä¸Šçº¿ã€‚äº¬ä¸œè´­ç‰© å°ç¨‹åºå’Œ ä¸€èµ·æœ‰å±€ å°ç¨‹åºä¹Ÿåœ¨ä½¿ç”¨ Taro éƒ¨åˆ†é‡æ„ä¸­ï¼Œå³å°†ä¸Šçº¿ã€‚æœªæ¥ä¹Ÿå°†æ¥å…¥æ›´å¤šä¸šåŠ¡ã€‚</p><p><img loading="lazy" src="https://img14.360buyimg.com/uba/jfs/t21817/73/625556299/346228/96240192/5b14a81eN8e6a43db.png" alt="qrcode.png" class="img_ROth"></p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="ç°ä»£å‰ç«¯å¼€å‘æµç¨‹">ç°ä»£å‰ç«¯å¼€å‘æµç¨‹<a class="hash-link" href="#ç°ä»£å‰ç«¯å¼€å‘æµç¨‹" title="Direct link to heading">â€‹</a></h3><p>å’Œå¾®ä¿¡è‡ªå¸¦çš„å°ç¨‹åºæ¡†æ¶ä¸ä¸€æ ·ï¼ŒTaro ç§¯ææ‹¥æŠ±ç¤¾åŒºç°æœ‰çš„ç°ä»£å¼€å‘æµç¨‹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p><ul><li>NPM åŒ…ç®¡ç†ç³»ç»Ÿ</li><li>ES6+ è¯­æ³•</li><li>è‡ªç”±çš„èµ„æºå¼•ç”¨</li><li>CSS é¢„å¤„ç†å™¨å’Œåå¤„ç†å™¨ï¼ˆSCSSã€Lessã€PostCSSï¼‰</li></ul><p>å¯¹äºå¾®ä¿¡å°ç¨‹åºçš„ç¼–è¯‘æµç¨‹ï¼Œæˆ‘ä»¬ä» <a href="https://parceljs.org/" target="_blank" rel="noopener noreferrer">Parcel</a> å¾—åˆ°çµæ„Ÿï¼Œè‡ªç ”äº†ä¸€å¥—æ‰“åŒ…æœºåˆ¶å°† AST ä¸æ–­ä¼ é€’ï¼Œå› æ­¤ä»£ç åˆ†æçš„é€Ÿåº¦å¾—åˆ°äº†å¾ˆå¤§çš„æé«˜ã€‚ä¸€å° 2015 å¹´ çš„ 15å¯¸ RMBP åœ¨ç¼–è¯‘ä¸Šç™¾ä¸ªç»„ä»¶æ—¶ä»…éœ€è¦å¤§çº¦ 15 ç§’å·¦å³ã€‚</p><h3 class="anchor anchorWithStickyNavbar_IyCF" id="å’Œ-react-å®Œå…¨ä¸€è‡´çš„-api-å’Œç»„ä»¶åŒ–ç³»ç»Ÿ">å’Œ React å®Œå…¨ä¸€è‡´çš„ API å’Œç»„ä»¶åŒ–ç³»ç»Ÿ<a class="hash-link" href="#å’Œ-react-å®Œå…¨ä¸€è‡´çš„-api-å’Œç»„ä»¶åŒ–ç³»ç»Ÿ" title="Direct link to heading">â€‹</a></h3><p>åœ¨ Taro ä¸­ï¼Œä½ ä¸ç”¨åƒå°ç¨‹åºä¸€æ ·åŒºåˆ†ä»€ä¹ˆæ˜¯ <code>App</code> ç»„ä»¶ï¼Œä»€ä¹ˆæ˜¯ <code>Page</code> ç»„ä»¶ï¼Œä»€ä¹ˆæ˜¯ <code>Component</code> ç»„ä»¶ï¼ŒTaro å…¨éƒ½æ˜¯ <code>Component</code> ç»„ä»¶ï¼Œå¹¶ä¸”å’Œ React çš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨ä¸€è‡´ã€‚å¯ä»¥è¯´ï¼Œä¸€æ—¦ä½ æŒæ¡äº† Reactï¼Œé‚£å°±å‡ ä¹æŒæ¡äº† Taroã€‚è€Œå­¦ä¹  React çš„èµ„æºä¹Ÿå‡ ä¹æ˜¯æ±—ç‰›å……æ ‹ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒå­¦ä¸ä¼šã€‚</p><p>Taro å’Œ React ä¸€æ ·ï¼ŒåŒæ ·ä½¿ç”¨å£°æ˜å¼çš„ JSX è¯­æ³•ã€‚ç›¸æ¯”èµ·å­—ç¬¦ä¸²çš„æ¨¡æ¿è¯­æ³•ï¼ŒJSX åœ¨å¤„ç†ç²¾ç»†å¤æ‚éœ€æ±‚çš„æ—¶å€™ä¼šæ›´å¾—å¿ƒåº”æ‰‹ã€‚</p><div class="codeBlockContainer_H5s7 language-javascript theme-code-block"><div class="codeBlockContent_KGHw" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-javascript codeBlock_zbQ6 thin-scrollbar"><code class="codeBlockLines_Wq8H"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ä¸€ä¸ªå…¸å‹çš„ Taro ç»„ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Taro</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/taro'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">View</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">Button</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@tarojs/components'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Home</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'é¦–é¡µ'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">list</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentWillMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidMount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentWillUpdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">nextProps</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> nextState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">componentDidUpdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">prevProps</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> prevState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">shouldComponentUpdate</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">nextProps</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> nextState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// dosth</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> list</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> title </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'index'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'title'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'content'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">list</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">View</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'item'</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Button</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'add'</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">add</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">æ·»åŠ </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">View</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_VUV2 clean-btn"><span class="copyButtonIcons_pjC7" aria-hidden="true"><svg class="copyButtonIcon_AoZ3" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_k9MA" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_IyCF" id="è‰¯å¥½çš„å¼€å‘æ•ˆç‡å’Œä½“éªŒ">è‰¯å¥½çš„å¼€å‘æ•ˆç‡å’Œä½“éªŒ<a class="hash-link" href="#è‰¯å¥½çš„å¼€å‘æ•ˆç‡å’Œä½“éªŒ" title="Direct link to heading">â€‹</a></h3><p>é‰´äº Taro çš„è¯­æ³•å’Œ React å®Œå…¨ä¸€æ ·ï¼Œå› æ­¤ç¼–è¾‘å™¨/IDE èƒ½å¤Ÿå¯¹ Taro çš„æ”¯æŒå’Œ React æ˜¯å‡ ä¹ä¸€æ ·çš„ã€‚ç°ä»£çš„ç¼–è¾‘å™¨é»˜è®¤éƒ½å¯¹ JSX è¿›è¡Œäº†æ”¯æŒï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ‰¾ä¸€ä¸ªæ’ä»¶ä¹Ÿæ˜¯éå¸¸å®¹æ˜“çš„äº‹æƒ…ã€‚ä½†æ¯•ç«Ÿæˆ‘ä»¬åš Taro å°±æ˜¯ä¸ºäº†æå‡å¼€å‘æ•ˆç‡å’Œå¼€å‘ä½“éªŒï¼Œè€ŒçœŸæ­£ä½¿ç”¨ Taro çš„äººå°±æ˜¯æˆ‘ä»¬è‡ªå·±æˆ–æ­£ååœ¨æˆ‘ä»¬æ—è¾¹çš„åŒäº‹ã€‚å› æ­¤åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åˆå¯¹ Taro å¼€å‘ä½“éªŒè¿›è¡Œäº†è¿›ä¸€æ­¥åŠ å¼ºã€‚</p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="è‡ªå®šä¹‰-eslint-è§„åˆ™">è‡ªå®šä¹‰ ESLint è§„åˆ™<a class="hash-link" href="#è‡ªå®šä¹‰-eslint-è§„åˆ™" title="Direct link to heading">â€‹</a></h4><p>æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ï¼Œå½“å­¦ä¼šäº† Reactï¼Œå…¶å®ä¹Ÿå·®ä¸å¤šä¼š Taro äº†ã€‚å…¶ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªåŸå› å°±æ˜¯æˆ‘ä»¬å¯¹ Taro ä¸æ”¯æŒçš„è¯­æ³•å’Œç‰¹æ€§å•ç‹¬å†™äº† ESLint è§„åˆ™ï¼šå¼€å‘è€…åªç®¡å†™ä»£ç ï¼Œå†™åˆ°ä¸æ”¯æŒçš„è¯­æ³•/ç‰¹æ€§ç¼–è¾‘å™¨ä¼šæŠ¥é”™ï¼Œå¹¶ç»™å‡ºæŠ¥é”™ä¿¡æ¯å’Œä¸€ä¸ªæ–‡æ¡£åœ°å€æè¿°ã€‚</p><p><img loading="lazy" src="https://img11.360buyimg.com/uba/jfs/t22168/93/735088023/931233/8689f95e/5b176e0cN26618692.gif" alt="Taro eslint" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="ç±»å‹å®‰å…¨å’Œè¿è¡Œæ—¶æ£€æµ‹">ç±»å‹å®‰å…¨å’Œè¿è¡Œæ—¶æ£€æµ‹<a class="hash-link" href="#ç±»å‹å®‰å…¨å’Œè¿è¡Œæ—¶æ£€æµ‹" title="Direct link to heading">â€‹</a></h4><p>JSX çš„æœ¬è´¨å°±æ˜¯ JavaScript çš„è¯­æ³•å¢å¼ºï¼Œæ‰€ä»¥ä¾‹å¦‚æ²¡æœ‰ <code>import</code> ç»„ä»¶ç­‰è¯­æ³•é”™è¯¯åœ¨ç¼–è¯‘æœŸå°±èƒ½å‘ç°ã€‚å¼€å‘è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>TypeScript</code> æˆ– <code>Flow</code> æ¥å¯¹ä»£ç çš„å¯é æ€§è¿›ä¸€æ­¥å¢å¼ºï¼Œæˆ–ä½¿ç”¨ <code>PropsType</code> åœ¨è¿è¡Œæ—¶è¿›ä¸€æ­¥ä¿éšœä»£ç çš„é²æ£’æ€§ã€‚</p><p><img loading="lazy" src="https://img12.360buyimg.com/uba/jfs/t20401/15/759531786/1118417/1b827131/5b176e0cN7b17f4ec.gif" alt="typings.gif" class="img_ROth"></p><h4 class="anchor anchorWithStickyNavbar_IyCF" id="é«˜æ•ˆçš„è‡ªåŠ¨è¡¥å…¨å’Œ-es6-è¯­æ³•">é«˜æ•ˆçš„è‡ªåŠ¨è¡¥å…¨å’Œ ES6+ è¯­æ³•<a class="hash-link" href="#é«˜æ•ˆçš„è‡ªåŠ¨è¡¥å…¨å’Œ-es6-è¯­æ³•" title="Direct link to heading">â€‹</a></h4><p>Taro çš„æ‰€æœ‰ APIï¼ˆåŒ…æ‹¬å¾®ä¿¡å°ç¨‹åºç­‰ç«¯èƒ½åŠ›æ¥å£ï¼‰éƒ½æœ‰æ™ºèƒ½çš„æé†’å’Œè‡ªåŠ¨è¡¥å…¨ï¼ŒåŒ…æ‹¬æ¥å£çš„å‚æ•°å’Œè¿”å›å€¼ã€‚</p><p><img loading="lazy" src="https://img20.360buyimg.com/uba/jfs/t20455/36/730770188/1715215/573ff07e/5b176e15Nd65937f7.gif" alt="Taro è‡ªåŠ¨è¡¥å…¨" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="taro-çš„è®¾è®¡æ€è·¯">Taro çš„è®¾è®¡æ€è·¯<a class="hash-link" href="#taro-çš„è®¾è®¡æ€è·¯" title="Direct link to heading">â€‹</a></h2><p>æˆ‘ä»¬çš„åˆå¿ƒå°±æ˜¯åšä¸€æ¬¾èƒ½å¤Ÿé€‚é…å¤šç«¯çš„è§£å†³æ–¹æ¡ˆï¼Œç»“åˆä¸šåŠ¡åœºæ™¯ã€æŠ€æœ¯é€‰å‹å’Œå‰ç«¯å†å²å‘å±•è¿›ç¨‹ï¼Œæˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆå¿…é¡»æ»¡è¶³ä¸‹è¿°è¦æ±‚ï¼š</p><ul><li>ä»£ç å¤šç«¯å¤ç”¨ï¼Œä¸ä»…èƒ½è¿è¡Œåœ¨æ—¶ä¸‹æœ€çƒ­é—¨çš„ H5ã€å¾®ä¿¡å°ç¨‹åºã€React Nativeï¼Œå¯¹å…¶ä»–å¯èƒ½ä¼šæµè¡Œçš„ç«¯ä¹Ÿç•™æœ‰ä½™åœ°å’Œå¯èƒ½æ€§ã€‚</li><li>å®Œå–„å’Œå¼ºå¤§çš„ç»„ä»¶åŒ–æœºåˆ¶ï¼Œè¿™æ˜¯å¼€å‘å¤æ‚åº”ç”¨çš„åŸºçŸ³ã€‚</li><li>ä¸ç›®å‰å›¢é˜ŸæŠ€æœ¯æ ˆæœ‰æœºç»“åˆï¼Œæœ‰æ•ˆæé«˜æ•ˆç‡ã€‚</li><li>å­¦ä¹ æˆæœ¬è¶³å¤Ÿä½</li><li>èƒŒåçš„ç”Ÿæ€å¼ºå¤§</li></ul><p>åŒæ—¶æ»¡è¶³è¿™å‡ ä¸ªéœ€æ±‚å¹¶ä¸å®¹æ˜“ï¼Œåœ¨æˆ‘ä»¬ç»è¿‡å……åˆ†åœ°è°ƒç ”å’Œæ€è€ƒä¹‹åå‘ç°åªæœ‰ React ä½“ç³»èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚è€Œå¯¹äºå¾®ä¿¡å°ç¨‹åºè€Œè¨€ï¼Œä½¿ç”¨ React å®Œå…¨æ²¡æœ‰åŠæ³•è¿›è¡Œå¼€å‘â€”â€”ç›´åˆ°æˆ‘ä»¬ä» <a href="https://github.com/facebook/codemod" target="_blank" rel="noopener noreferrer">codemod</a> å¾—åˆ°çµæ„Ÿï¼š</p><blockquote><p>åœ¨ä¸€ä¸ªä¼˜ç§€ä¸”ä¸¥æ ¼çš„è§„èŒƒé™åˆ¶ä¸‹ï¼Œä»æ›´é«˜æŠ½è±¡çš„è§†è§’ï¼ˆè¯­æ³•æ ‘ï¼‰æ¥çœ‹ï¼Œæ¯ä¸ªäººå†™çš„ä»£ç éƒ½å·®ä¸å¤šã€‚</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå¾®ä¿¡å°ç¨‹åºè¿™æ ·ä¸å¼€æ”¾ä¸å¼€æºçš„ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠ React ä»£ç åˆ†ææˆä¸€é¢—æŠ½è±¡è¯­æ³•æ ‘ï¼Œæ ¹æ®è¿™é¢—æ ‘ç”Ÿæˆå°ç¨‹åºæ”¯æŒçš„æ¨¡æ¿ä»£ç ï¼Œå†åšä¸€ä¸ªå°ç¨‹åºè¿è¡Œæ—¶æ¡†æ¶å¤„ç†äº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸä¸å°ç¨‹åºæ¡†æ¶å…¼å®¹ï¼Œç„¶åæŠŠä¸šåŠ¡ä»£ç è·‘åœ¨è¿è¡Œæ—¶æ¡†æ¶å°±å®Œæˆäº†å°ç¨‹åºç«¯çš„é€‚é…ã€‚</p><p>å¯¹äº React å·²ç»æ”¯æŒçš„ç«¯ï¼Œä¾‹å¦‚ Webã€React Native ç”šè‡³æœªæ¥çš„ React VRï¼Œæˆ‘ä»¬åªè¦åŒ…ä¸€å±‚ç»„ä»¶åº“å†åšäº›è®¸æ ·å¼æ”¯æŒå³å¯ã€‚é‰´äºæ—¶ä¸‹å°ç¨‹åºçš„çƒ­åº¦å’Œæˆ‘ä»¬å›¢é˜Ÿæœ¬èº«çš„ä¸šåŠ¡ä¾§é‡ç¨‹åº¦ï¼Œç»„ä»¶åº“çš„ API æ˜¯ä»¥å°ç¨‹åºä¸ºæ ‡å‡†ï¼Œå…¶ä»–ç«¯çš„ç»„ä»¶åº“çš„ API éƒ½ä¼šå’Œå°ç¨‹åºç«¯çš„ç»„ä»¶ä¿æŒä¸€è‡´ã€‚</p><p><img loading="lazy" src="https://img30.360buyimg.com/uba/jfs/t22360/120/839096197/151922/229ceba4/5b1a6fcdNed7d4039.jpg" alt="TaroåŸç†" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="æŠ€æœ¯é€‰å‹ä¸æƒè¡¡">æŠ€æœ¯é€‰å‹ä¸æƒè¡¡<a class="hash-link" href="#æŠ€æœ¯é€‰å‹ä¸æƒè¡¡" title="Direct link to heading">â€‹</a></h2><p>åœ¨æˆ‘ä»¬å‰é¢ç¤¾åŒºå·²ç»æœ‰å¤šä¸ªä¼˜ç§€çš„æ¡†æ¶ä»¥å°ç¨‹åºä¸ºæ ¸å¿ƒå¯¹å¤šç«¯é€‚é…è¿›è¡Œäº†æ¢ç´¢ï¼Œæˆ‘ä»¬å°†å„ä¸ªå¼€å‘æ¡†æ¶çš„ä¸»è¦ç‰¹ç‚¹å’Œç‰¹æ€§è¿›è¡Œäº†å¯¹æ¯”å¹¶åˆ¶æˆå›¾è¡¨ã€‚å¤§å®¶å¯ä»¥ç»“åˆå›¢é˜ŸæŠ€æœ¯æ ˆã€æŠ€æœ¯éœ€æ±‚ä»¥åŠæ¡†æ¶ç‰¹ç‚¹ã€ç‰¹æ€§è¿›è¡Œé€‰å‹å’Œæƒè¡¡ã€‚</p><p><img loading="lazy" src="https://img13.360buyimg.com/uba/jfs/t22033/293/837111837/251330/3f89b58d/5b18f6edNa2311261.png" alt="Taro å¯¹æ¯”" class="img_ROth"></p><h2 class="anchor anchorWithStickyNavbar_IyCF" id="ç»“è¯­">ç»“è¯­<a class="hash-link" href="#ç»“è¯­" title="Direct link to heading">â€‹</a></h2><p>ç»è¿‡æ•°ä¸ªæœˆçš„å¼€å‘ï¼ŒTaro ä»ç¬¬ä¸€æ¬¡ commit åˆ°å‘å±•æˆåŒ…æ‹¬ 16 ä¸ªåŒ…ï¼Œåå¤šä½åŒå­¦å…±åŒå‚ä¸çš„å¤§å‹é¡¹ç›®ã€‚ä¸æ­¤åŒæ—¶ï¼ŒTaro ä¹Ÿåœ¨ç”Ÿäº§ç¯å¢ƒæ”¯æ’‘äº†æ•°ä¸ªå¤æ‚ä¸šåŠ¡çº¿ä¸Šé¡¹ç›®çš„å¼€å‘ï¼Œå°†æ¥ä¹Ÿä¼šæ”¯æ’‘æ›´å¤šä¸šåŠ¡ã€‚</p><p>Taro çš„æŠ€æœ¯æ–¹æ¡ˆå’Œå®ç°ä¹Ÿæ ¹æ¤äºç¤¾åŒºï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›ä¸ºæŠ€æœ¯ç¤¾åŒºçš„å‘å±•å£®å¤§è´¡çŒ®ä¸€ä»½è‡ªå·±çš„åŠ›é‡ã€‚ç§‰æŒç€å‡¹å‡¸å®éªŒå®¤é•¿ä¹…ä»¥æ¥å¼€æºã€å¼€æ”¾ã€å…±äº«çš„ä¼˜è‰¯ä¼ ç»Ÿï¼Œæˆ‘ä»¬ä»Šå¤©å°† Taro å…¨éƒ¨ä»£ç å¼€æºï¼Œä¸ºå¹¿å¤§å¼€å‘è€…å¿«é€Ÿå¼€å‘å¤šç«¯é¡¹ç›®æä¾›ä¸€æ•´å¥—æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚æœªæ¥ï¼Œæˆ‘ä»¬ä¹Ÿå°†ç»§ç»­æ‹“å±• Taro ç°æœ‰èƒ½åŠ›ï¼Œæ”¯æŒæ›´å¤šç«¯èƒ½åŠ›ï¼Œç»§ç»­å®Œå–„å¼€å‘è€…ä½“éªŒï¼Œæé«˜å¼€å‘è€…æ•ˆç‡ï¼Œå¸®åŠ©æ›´å¤šå¼€å‘è€…ï¼ŒåŒæ—¶ä¹Ÿä»ç¤¾åŒºä¸­æ±²å–å…»åˆ†ï¼Œè®© Taro å˜å¾—æ›´åŠ å¼ºå¤§ã€‚</p><p>å®˜ç½‘ï¼š<a href="https://taro.jd.com/" target="_blank" rel="noopener noreferrer">https://taro.jd.com/</a></p><p>GitHub:  <a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer">https://github.com/nervjs/taro</a></p><p>å¦‚æœä½ è¿˜æ²¡å¬è¿‡ Nervï¼Œå¯ä»¥æ¥è¿™é‡Œçœ‹çœ‹ï¼š<a href="https://nerv.aotu.io/" target="_blank" rel="noopener noreferrer">https://nerv.aotu.io/</a></p>]]></content:encoded>
        </item>
    </channel>
</rss>