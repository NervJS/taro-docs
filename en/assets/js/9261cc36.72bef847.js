"use strict";(self.webpackChunktaro_docs=self.webpackChunktaro_docs||[]).push([[83916],{58860:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>d});var r=n(37953);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},g=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},s=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,c=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),u=p(n),s=o,d=u["".concat(c,".").concat(s)]||u[s]||y[s]||l;return n?r.createElement(d,a(a({ref:t},g),{},{components:n})):r.createElement(d,a({ref:t},g))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,a=new Array(l);a[0]=s;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:o,a[1]=i;for(var p=2;p<l;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}s.displayName="MDXCreateElement"},64255:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>p,toc:()=>u});n(37953);var r=n(58860);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const i={title:"OfficialAccount",sidebar_label:"OfficialAccount"},c=void 0,p={unversionedId:"components/open/official-account",id:"components/open/official-account",title:"OfficialAccount",description:"The Official Account following component. You can add this component to a Mini Program, to help a user conveniently follow an Official Account after the user opens the Mini Program by scanning the Mini Program code. This component can be nested into a native component.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/components/open/official-account.md",sourceDirName:"components/open",slug:"/components/open/official-account",permalink:"/taro-docs/en/docs/components/open/official-account",draft:!1,editUrl:"https://github.com/nervjs/taro-docs/edit/master/docs/components/open/official-account.md",tags:[],version:"current",frontMatter:{title:"OfficialAccount",sidebar_label:"OfficialAccount"},sidebar:"components",previous:{title:"Login",permalink:"/taro-docs/en/docs/components/open/login"},next:{title:"OpenData",permalink:"/taro-docs/en/docs/components/open/open-data"}},g={},u=[{value:"Type",id:"type",level:2},{value:"OfficialAccountProps",id:"officialaccountprops",level:2},{value:"Property Support",id:"property-support",level:3},{value:"detail",id:"detail",level:3},{value:"status",id:"status",level:3},{value:"API Support",id:"api-support",level:2}],y={toc:u},s="wrapper";function d(e){var{components:t}=e,n=a(e,["components"]);return(0,r.yg)(s,l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},y,n),{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"The Official Account following component. You can add this component to a Mini Program, to help a user conveniently follow an Official Account after the user opens the ",(0,r.yg)("strong",{parentName:"p"},"Mini Program")," by scanning the Mini Program code. This component can be nested into a native component."),(0,r.yg)("p",null,"Tips"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Before using this component, you need to go to Mini Program Console, and choose ",(0,r.yg)("strong",{parentName:"p"},"Settings > API Settings > Official Account Following Component")," to set the Official Account to be displayed. ",(0,r.yg)("strong",{parentName:"p"},"Note: The Official Account and the Mini Program must belong to the same entity."))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"During the lifecycle of a Mini Program, the capability of displaying the Official Account following component is available only when the Mini Program is opened in any of the following scenarios:"))),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"The Mini Program is opened by scanning the Mini Program code (scene value 1047).")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"When the Mini Program is opened from ",(0,r.yg)("strong",{parentName:"p"},"Recently Used")," at the top of the Chats screen (scene value 1089), if the Mini Program is not destroyed, the component remains in the same state as that when the Mini Program was last opened.")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"When returning to the Mini Program from another Mini Program (scene value 1038), if the Mini Program is not destroyed, the component remains in the same state as when the Mini Program was opened last time."))),(0,r.yg)("ol",{start:3},(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"The minimum width of the component is limited to 300 px and the height is fixed at 84 px.")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},"Each page can include only one Official Account following component."))),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/en/dev/component/official-account.html"},"Reference"))),(0,r.yg)("h2",{id:"type"},"Type"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"ComponentType<OfficialAccountProps>\n")),(0,r.yg)("h2",{id:"officialaccountprops"},"OfficialAccountProps"),(0,r.yg)("table",null,(0,r.yg)("thead",null,(0,r.yg)("tr",null,(0,r.yg)("th",null,"Property"),(0,r.yg)("th",null,"Type"),(0,r.yg)("th",{style:{textAlign:"center"}},"Required"),(0,r.yg)("th",null,"Description"))),(0,r.yg)("tbody",null,(0,r.yg)("tr",null,(0,r.yg)("td",null,"onLoad"),(0,r.yg)("td",null,(0,r.yg)("code",null,"BaseEventOrigFunction<detail>")),(0,r.yg)("td",{style:{textAlign:"center"}},"No"),(0,r.yg)("td",null,"Triggered when the component is loaded successfully.")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"onError"),(0,r.yg)("td",null,(0,r.yg)("code",null,"BaseEventOrigFunction<detail>")),(0,r.yg)("td",{style:{textAlign:"center"}},"No"),(0,r.yg)("td",null,"Triggered when the component fails to be loaded.")))),(0,r.yg)("h3",{id:"property-support"},"Property Support"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"center"},"Property"),(0,r.yg)("th",{parentName:"tr",align:"center"},"WeChat Mini-Program"),(0,r.yg)("th",{parentName:"tr",align:"center"},"H5"),(0,r.yg)("th",{parentName:"tr",align:"center"},"React Native"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"OfficialAccountProps.onLoad"),(0,r.yg)("td",{parentName:"tr",align:"center"},"\u2714\ufe0f"),(0,r.yg)("td",{parentName:"tr",align:"center"}),(0,r.yg)("td",{parentName:"tr",align:"center"})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"OfficialAccountProps.onError"),(0,r.yg)("td",{parentName:"tr",align:"center"},"\u2714\ufe0f"),(0,r.yg)("td",{parentName:"tr",align:"center"}),(0,r.yg)("td",{parentName:"tr",align:"center"})))),(0,r.yg)("h3",{id:"detail"},"detail"),(0,r.yg)("p",null,"detail object"),(0,r.yg)("table",null,(0,r.yg)("thead",null,(0,r.yg)("tr",null,(0,r.yg)("th",null,"Property"),(0,r.yg)("th",null,"Type"),(0,r.yg)("th",null,"Description"))),(0,r.yg)("tbody",null,(0,r.yg)("tr",null,(0,r.yg)("td",null,"status"),(0,r.yg)("td",null,(0,r.yg)("code",null,"number")),(0,r.yg)("td",null,"Status code")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"errMsg"),(0,r.yg)("td",null,(0,r.yg)("code",null,"string")),(0,r.yg)("td",null,"Error message")))),(0,r.yg)("h3",{id:"status"},"status"),(0,r.yg)("p",null,"Valid values of status"),(0,r.yg)("table",null,(0,r.yg)("thead",null,(0,r.yg)("tr",null,(0,r.yg)("th",null,"Value"),(0,r.yg)("th",null,"Description"))),(0,r.yg)("tbody",null,(0,r.yg)("tr",null,(0,r.yg)("td",null,"-2"),(0,r.yg)("td",null,"Network error")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"-1"),(0,r.yg)("td",null,"Data parsing error")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"0"),(0,r.yg)("td",null,"Loading succeeded")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"1"),(0,r.yg)("td",null,"The Official Account following feature in the Mini Program is suspended")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"2"),(0,r.yg)("td",null,"Linked Official Account is suspended")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"3"),(0,r.yg)("td",null,"The Official Account is unlinked or not selected")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"4"),(0,r.yg)("td",null,"The Official Account following feature is disabled")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"5"),(0,r.yg)("td",null,"Scene value error")),(0,r.yg)("tr",null,(0,r.yg)("td",null,"6"),(0,r.yg)("td",null,"Repeated creation")))),(0,r.yg)("h2",{id:"api-support"},"API Support"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"center"},"API"),(0,r.yg)("th",{parentName:"tr",align:"center"},"WeChat Mini-Program"),(0,r.yg)("th",{parentName:"tr",align:"center"},"H5"),(0,r.yg)("th",{parentName:"tr",align:"center"},"React Native"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"OfficialAccount"),(0,r.yg)("td",{parentName:"tr",align:"center"},"\u2714\ufe0f"),(0,r.yg)("td",{parentName:"tr",align:"center"}),(0,r.yg)("td",{parentName:"tr",align:"center"})))))}d.isMDXComponent=!0}}]);