"use strict";(self.webpackChunktaro_docs=self.webpackChunktaro_docs||[]).push([[58535],{58860:(e,t,l)=>{l.d(t,{xA:()=>i,yg:()=>p});var n=l(37953);function r(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function o(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function u(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?o(Object(l),!0).forEach((function(t){r(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):o(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function a(e,t){if(null==e)return{};var l,n,r=function(e,t){if(null==e)return{};var l,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)l=o[n],t.indexOf(l)>=0||(r[l]=e[l]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)l=o[n],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}var y=n.createContext({}),g=function(e){var t=n.useContext(y),l=t;return e&&(l="function"==typeof e?e(t):u(u({},t),e)),l},i=function(e){var t=g(e.components);return n.createElement(y.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var l=e.components,r=e.mdxType,o=e.originalType,y=e.parentName,i=a(e,["components","mdxType","originalType","parentName"]),c=g(l),s=r,p=c["".concat(y,".").concat(s)]||c[s]||d[s]||o;return l?n.createElement(p,u(u({ref:t},i),{},{components:l})):n.createElement(p,u({ref:t},i))}));function p(e,t){var l=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=l.length,u=new Array(o);u[0]=s;var a={};for(var y in t)hasOwnProperty.call(t,y)&&(a[y]=t[y]);a.originalType=e,a[c]="string"==typeof e?e:r,u[1]=a;for(var g=2;g<o;g++)u[g]=l[g];return n.createElement.apply(null,u)}return n.createElement.apply(null,l)}s.displayName="MDXCreateElement"},60896:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>i,contentTitle:()=>y,default:()=>p,frontMatter:()=>a,metadata:()=>g,toc:()=>c});l(37953);var n=l(58860);function r(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))})),e}function u(e,t){if(null==e)return{};var l,n,r=function(e,t){if(null==e)return{};var l,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)l=o[n],t.indexOf(l)>=0||(r[l]=e[l]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)l=o[n],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(r[l]=e[l])}return r}const a={title:"IntersectionObserver",sidebar_label:"IntersectionObserver"},y=void 0,g={unversionedId:"apis/wxml/IntersectionObserver",id:"apis/wxml/IntersectionObserver",title:"IntersectionObserver",description:"An IntersectionObserver object that infers whether and how likely certain nodes are visible to users.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/apis/wxml/IntersectionObserver.md",sourceDirName:"apis/wxml",slug:"/apis/wxml/IntersectionObserver",permalink:"/taro-docs/en/docs/apis/wxml/IntersectionObserver",draft:!1,editUrl:"https://github.com/nervjs/taro-docs/edit/master/docs/apis/wxml/IntersectionObserver.md",tags:[],version:"current",frontMatter:{title:"IntersectionObserver",sidebar_label:"IntersectionObserver"},sidebar:"API",previous:{title:"createMediaQueryObserver",permalink:"/taro-docs/en/docs/apis/wxml/createMediaQueryObserver"},next:{title:"MediaQueryObserver",permalink:"/taro-docs/en/docs/apis/wxml/MediaQueryObserver"}},i={},c=[{value:"Methods",id:"methods",level:2},{value:"disconnect",id:"disconnect",level:3},{value:"observe",id:"observe",level:3},{value:"relativeTo",id:"relativeto",level:3},{value:"relativeToViewport",id:"relativetoviewport",level:3},{value:"Sample Code",id:"sample-code",level:4},{value:"Parameters",id:"parameters",level:2},{value:"ObserveCallback",id:"observecallback",level:3},{value:"ObserveCallbackResult",id:"observecallbackresult",level:3},{value:"RelativeRectResult",id:"relativerectresult",level:3},{value:"IntersectionRectResult",id:"intersectionrectresult",level:3},{value:"BoundingClientRectResult",id:"boundingclientrectresult",level:3},{value:"RelativeToMargins",id:"relativetomargins",level:3},{value:"RelativeToViewportMargins",id:"relativetoviewportmargins",level:3}],d={toc:c},s="wrapper";function p(e){var{components:t}=e,l=u(e,["components"]);return(0,n.yg)(s,o(function(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{},n=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(l).filter((function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable})))),n.forEach((function(t){r(e,t,l[t])}))}return e}({},d,l),{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"An ",(0,n.yg)("inlineCode",{parentName:"p"},"IntersectionObserver")," object that infers whether and how likely certain nodes are visible to users."),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},(0,n.yg)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/en/dev/api/wxml/IntersectionObserver.html"},"Reference"))),(0,n.yg)("h2",{id:"methods"},"Methods"),(0,n.yg)("h3",{id:"disconnect"},"disconnect"),(0,n.yg)("p",null,"Stops listening, and the callback function will no longer be triggered."),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},(0,n.yg)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/en/dev/api/wxml/IntersectionObserver.disconnect.html"},"Reference"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-tsx"},"() => void\n")),(0,n.yg)("h3",{id:"observe"},"observe"),(0,n.yg)("p",null,"Specifies the target node and starts listening on changes in the intersection status."),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},(0,n.yg)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/en/dev/api/wxml/IntersectionObserver.observe.html"},"Reference"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-tsx"},"(targetSelector: string, callback: ObserveCallback) => void\n")),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"targetSelector"),(0,n.yg)("td",null,(0,n.yg)("code",null,"string")),(0,n.yg)("td",null,"Selector")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"callback"),(0,n.yg)("td",null,(0,n.yg)("code",null,"ObserveCallback")),(0,n.yg)("td",null,"The callback function for listening on intersection status changes.")))),(0,n.yg)("h3",{id:"relativeto"},"relativeTo"),(0,n.yg)("p",null,"Uses a selector to specify a node as one of the reference areas."),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},(0,n.yg)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/en/dev/api/wxml/IntersectionObserver.relativeTo.html"},"Reference"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-tsx"},"(selector: string, margins?: RelativeToMargins) => IntersectionObserver\n")),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"selector"),(0,n.yg)("td",null,(0,n.yg)("code",null,"string")),(0,n.yg)("td",null,"Selector")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"margins"),(0,n.yg)("td",null,(0,n.yg)("code",null,"RelativeToMargins")),(0,n.yg)("td",null,"Expands/Contracts the border of the layout area of the reference node.")))),(0,n.yg)("h3",{id:"relativetoviewport"},"relativeToViewport"),(0,n.yg)("p",null,"Specifies the page display area as one of the reference areas."),(0,n.yg)("blockquote",null,(0,n.yg)("p",{parentName:"blockquote"},(0,n.yg)("a",{parentName:"p",href:"https://developers.weixin.qq.com/miniprogram/en/dev/api/wxml/IntersectionObserver.relativeToViewport.html"},"Reference"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-tsx"},"(margins?: RelativeToViewportMargins) => IntersectionObserver\n")),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"margins"),(0,n.yg)("td",null,(0,n.yg)("code",null,"RelativeToViewportMargins")),(0,n.yg)("td",null,"Expands/Contracts the border of the layout area of the reference node.")))),(0,n.yg)("h4",{id:"sample-code"},"Sample Code"),(0,n.yg)("p",null,"In the code sample below, the callback function is triggered if the target node (specified by the selector .target-class) enters the area 100 px below the display area."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-tsx"},"Taro.createIntersectionObserver().relativeToViewport({bottom: 100}).observe('.target-class', (res) => {\n  res.intersectionRatio // The percentage of the intersection area in the layout area of the target node\n  res.intersectionRect // Intersection area\n  res.intersectionRect.left // Left boundary coordinates of the intersection area\n  res.intersectionRect.top // Upper boundary coordinates of the intersection area\n  res.intersectionRect.width // Width of the intersection area\n  res.intersectionRect.height // Height of the intersection area\n})\n")),(0,n.yg)("h2",{id:"parameters"},"Parameters"),(0,n.yg)("h3",{id:"observecallback"},"ObserveCallback"),(0,n.yg)("p",null,"The callback function for listening on intersection status changes."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-tsx"},"(result: ObserveCallbackResult) => void\n")),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"result"),(0,n.yg)("td",null,(0,n.yg)("code",null,"ObserveCallbackResult"))))),(0,n.yg)("h3",{id:"observecallbackresult"},"ObserveCallbackResult"),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"boundingClientRect"),(0,n.yg)("td",null,(0,n.yg)("code",null,"BoundingClientRectResult")),(0,n.yg)("td",null,"The target border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"intersectionRatio"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Intersection ratio")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"intersectionRect"),(0,n.yg)("td",null,(0,n.yg)("code",null,"IntersectionRectResult")),(0,n.yg)("td",null,"The border of the intersection area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"relativeRect"),(0,n.yg)("td",null,(0,n.yg)("code",null,"RelativeRectResult")),(0,n.yg)("td",null,"The border of the reference area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"time"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"The timestamp for intersection detection")))),(0,n.yg)("h3",{id:"relativerectresult"},"RelativeRectResult"),(0,n.yg)("p",null,"\u53c2\u7167\u533a\u57df\u7684\u8fb9\u754c"),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"bottom"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Lower border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"left"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Left border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"right"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Right border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"top"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Upper border of the node layout area")))),(0,n.yg)("h3",{id:"intersectionrectresult"},"IntersectionRectResult"),(0,n.yg)("p",null,"\u76f8\u4ea4\u533a\u57df\u7684\u8fb9\u754c"),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"bottom"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Lower border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"left"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Left border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"right"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Right border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"top"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Upper border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"height"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Height")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"width"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Width")))),(0,n.yg)("h3",{id:"boundingclientrectresult"},"BoundingClientRectResult"),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"bottom"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Lower border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"left"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Left border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"right"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Right border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"top"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Upper border")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"height"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Height")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"width"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",null,"Width")))),(0,n.yg)("h3",{id:"relativetomargins"},"RelativeToMargins"),(0,n.yg)("p",null,"Expands/Contracts the border of the layout area of the reference node."),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",{style:{textAlign:"center"}},"Required"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"bottom"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Lower border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"left"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Left border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"right"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Right border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"top"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Upper border of the node layout area")))),(0,n.yg)("h3",{id:"relativetoviewportmargins"},"RelativeToViewportMargins"),(0,n.yg)("p",null,"Expands/Contracts the border of the layout area of the reference node."),(0,n.yg)("table",null,(0,n.yg)("thead",null,(0,n.yg)("tr",null,(0,n.yg)("th",null,"Property"),(0,n.yg)("th",null,"Type"),(0,n.yg)("th",{style:{textAlign:"center"}},"Required"),(0,n.yg)("th",null,"Description"))),(0,n.yg)("tbody",null,(0,n.yg)("tr",null,(0,n.yg)("td",null,"bottom"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Lower border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"left"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Left border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"right"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Right border of the node layout area")),(0,n.yg)("tr",null,(0,n.yg)("td",null,"top"),(0,n.yg)("td",null,(0,n.yg)("code",null,"number")),(0,n.yg)("td",{style:{textAlign:"center"}},"No"),(0,n.yg)("td",null,"Upper border of the node layout area")))))}p.isMDXComponent=!0}}]);